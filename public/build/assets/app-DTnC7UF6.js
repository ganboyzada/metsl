var fX=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dq(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")?x.default:x}var mX={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */(function(x){(function(h,v){x.exports=h.document?v(h,!0):function(w){if(!w.document)throw new Error("jQuery requires a window with a document");return v(w)}})(typeof window<"u"?window:fX,function(h,v){var w=[],E=Object.getPrototypeOf,R=w.slice,I=w.flat?function(g){return w.flat.call(g)}:function(g){return w.concat.apply([],g)},j=w.push,J=w.indexOf,Q={},oe=Q.toString,re=Q.hasOwnProperty,Ce=re.toString,Le=Ce.call(Object),ie={},ae=function(C){return typeof C=="function"&&typeof C.nodeType!="number"&&typeof C.item!="function"},Pe=function(C){return C!=null&&C===C.window},Ae=h.document,Qe={type:!0,src:!0,nonce:!0,noModule:!0};function te(g,C,k){k=k||Ae;var P,H,U=k.createElement("script");if(U.text=g,C)for(P in Qe)H=C[P]||C.getAttribute&&C.getAttribute(P),H&&U.setAttribute(P,H);k.head.appendChild(U).parentNode.removeChild(U)}function It(g){return g==null?g+"":typeof g=="object"||typeof g=="function"?Q[oe.call(g)]||"object":typeof g}var An="3.7.1",Zt=/HTML$/i,_=function(g,C){return new _.fn.init(g,C)};_.fn=_.prototype={jquery:An,constructor:_,length:0,toArray:function(){return R.call(this)},get:function(g){return g==null?R.call(this):g<0?this[g+this.length]:this[g]},pushStack:function(g){var C=_.merge(this.constructor(),g);return C.prevObject=this,C},each:function(g){return _.each(this,g)},map:function(g){return this.pushStack(_.map(this,function(C,k){return g.call(C,k,C)}))},slice:function(){return this.pushStack(R.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(_.grep(this,function(g,C){return(C+1)%2}))},odd:function(){return this.pushStack(_.grep(this,function(g,C){return C%2}))},eq:function(g){var C=this.length,k=+g+(g<0?C:0);return this.pushStack(k>=0&&k<C?[this[k]]:[])},end:function(){return this.prevObject||this.constructor()},push:j,sort:w.sort,splice:w.splice},_.extend=_.fn.extend=function(){var g,C,k,P,H,U,V=arguments[0]||{},me=1,ce=arguments.length,ye=!1;for(typeof V=="boolean"&&(ye=V,V=arguments[me]||{},me++),typeof V!="object"&&!ae(V)&&(V={}),me===ce&&(V=this,me--);me<ce;me++)if((g=arguments[me])!=null)for(C in g)P=g[C],!(C==="__proto__"||V===P)&&(ye&&P&&(_.isPlainObject(P)||(H=Array.isArray(P)))?(k=V[C],H&&!Array.isArray(k)?U=[]:!H&&!_.isPlainObject(k)?U={}:U=k,H=!1,V[C]=_.extend(ye,U,P)):P!==void 0&&(V[C]=P));return V},_.extend({expando:"jQuery"+(An+Math.random()).replace(/\D/g,""),isReady:!0,error:function(g){throw new Error(g)},noop:function(){},isPlainObject:function(g){var C,k;return!g||oe.call(g)!=="[object Object]"?!1:(C=E(g),C?(k=re.call(C,"constructor")&&C.constructor,typeof k=="function"&&Ce.call(k)===Le):!0)},isEmptyObject:function(g){var C;for(C in g)return!1;return!0},globalEval:function(g,C,k){te(g,{nonce:C&&C.nonce},k)},each:function(g,C){var k,P=0;if(At(g))for(k=g.length;P<k&&C.call(g[P],P,g[P])!==!1;P++);else for(P in g)if(C.call(g[P],P,g[P])===!1)break;return g},text:function(g){var C,k="",P=0,H=g.nodeType;if(!H)for(;C=g[P++];)k+=_.text(C);return H===1||H===11?g.textContent:H===9?g.documentElement.textContent:H===3||H===4?g.nodeValue:k},makeArray:function(g,C){var k=C||[];return g!=null&&(At(Object(g))?_.merge(k,typeof g=="string"?[g]:g):j.call(k,g)),k},inArray:function(g,C,k){return C==null?-1:J.call(C,g,k)},isXMLDoc:function(g){var C=g&&g.namespaceURI,k=g&&(g.ownerDocument||g).documentElement;return!Zt.test(C||k&&k.nodeName||"HTML")},merge:function(g,C){for(var k=+C.length,P=0,H=g.length;P<k;P++)g[H++]=C[P];return g.length=H,g},grep:function(g,C,k){for(var P,H=[],U=0,V=g.length,me=!k;U<V;U++)P=!C(g[U],U),P!==me&&H.push(g[U]);return H},map:function(g,C,k){var P,H,U=0,V=[];if(At(g))for(P=g.length;U<P;U++)H=C(g[U],U,k),H!=null&&V.push(H);else for(U in g)H=C(g[U],U,k),H!=null&&V.push(H);return I(V)},guid:1,support:ie}),typeof Symbol=="function"&&(_.fn[Symbol.iterator]=w[Symbol.iterator]),_.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(g,C){Q["[object "+C+"]"]=C.toLowerCase()});function At(g){var C=!!g&&"length"in g&&g.length,k=It(g);return ae(g)||Pe(g)?!1:k==="array"||C===0||typeof C=="number"&&C>0&&C-1 in g}function nn(g,C){return g.nodeName&&g.nodeName.toLowerCase()===C.toLowerCase()}var Qn=w.pop,Je=w.sort,Rn=w.splice,$n="[\\x20\\t\\r\\n\\f]",ln=new RegExp("^"+$n+"+|((?:^|[^\\\\])(?:\\\\.)*)"+$n+"+$","g");_.contains=function(g,C){var k=C&&C.parentNode;return g===k||!!(k&&k.nodeType===1&&(g.contains?g.contains(k):g.compareDocumentPosition&&g.compareDocumentPosition(k)&16))};var Ot=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function D(g,C){return C?g==="\0"?"ï¿½":g.slice(0,-1)+"\\"+g.charCodeAt(g.length-1).toString(16)+" ":"\\"+g}_.escapeSelector=function(g){return(g+"").replace(Ot,D)};var cs=Ae,it=j;(function(){var g,C,k,P,H,U=it,V,me,ce,ye,Be,Xe=_.expando,je=0,Ct=0,Ht=$u(),go=$u(),Un=$u(),Do=$u(),vs=function(ne,be){return ne===be&&(H=!0),0},ci="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",li="(?:\\\\[\\da-fA-F]{1,6}"+$n+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Tn="\\["+$n+"*("+li+")(?:"+$n+"*([*^$|!~]?=)"+$n+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+li+"))|)"+$n+"*\\]",gn=":("+li+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Tn+")*)|.*)\\)|)",bo=new RegExp($n+"+","g"),Ao=new RegExp("^"+$n+"*,"+$n+"*"),tf=new RegExp("^"+$n+"*([>+~]|"+$n+")"+$n+"*"),Lu=new RegExp($n+"|>"),xs=new RegExp(gn),zs=new RegExp("^"+li+"$"),Ta={ID:new RegExp("^#("+li+")"),CLASS:new RegExp("^\\.("+li+")"),TAG:new RegExp("^("+li+"|[*])"),ATTR:new RegExp("^"+Tn),PSEUDO:new RegExp("^"+gn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+$n+"*(even|odd|(([+-]|)(\\d*)n|)"+$n+"*(?:([+-]|)"+$n+"*(\\d+)|))"+$n+"*\\)|)","i"),bool:new RegExp("^(?:"+ci+")$","i"),needsContext:new RegExp("^"+$n+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+$n+"*((?:-\\d)?\\d*)"+$n+"*\\)|)(?=[^-]|$)","i")},ic=/^(?:input|select|textarea|button)$/i,Kr=/^h\d$/i,ki=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_s=/[+~]/,kr=new RegExp("\\\\[\\da-fA-F]{1,6}"+$n+"?|\\\\([^\\r\\n\\f])","g"),As=function(ne,be){var Fe="0x"+ne.slice(1)-65536;return be||(Fe<0?String.fromCharCode(Fe+65536):String.fromCharCode(Fe>>10|55296,Fe&1023|56320))},_a=function(){Lc()},Oi=nf(function(ne){return ne.disabled===!0&&nn(ne,"fieldset")},{dir:"parentNode",next:"legend"});function sr(){try{return V.activeElement}catch{}}try{U.apply(w=R.call(cs.childNodes),cs.childNodes),w[cs.childNodes.length].nodeType}catch{U={apply:function(be,Fe){it.apply(be,R.call(Fe))},call:function(be){it.apply(be,R.call(arguments,1))}}}function Uo(ne,be,Fe,Ue){var Ne,wt,Vt,tn,Kt,Xn,dn,Nn=be&&be.ownerDocument,Wn=be?be.nodeType:9;if(Fe=Fe||[],typeof ne!="string"||!ne||Wn!==1&&Wn!==9&&Wn!==11)return Fe;if(!Ue&&(Lc(be),be=be||V,ce)){if(Wn!==11&&(Kt=ki.exec(ne)))if(Ne=Kt[1]){if(Wn===9)if(Vt=be.getElementById(Ne)){if(Vt.id===Ne)return U.call(Fe,Vt),Fe}else return Fe;else if(Nn&&(Vt=Nn.getElementById(Ne))&&Uo.contains(be,Vt)&&Vt.id===Ne)return U.call(Fe,Vt),Fe}else{if(Kt[2])return U.apply(Fe,be.getElementsByTagName(ne)),Fe;if((Ne=Kt[3])&&be.getElementsByClassName)return U.apply(Fe,be.getElementsByClassName(Ne)),Fe}if(!Do[ne+" "]&&(!ye||!ye.test(ne))){if(dn=ne,Nn=be,Wn===1&&(Lu.test(ne)||tf.test(ne))){for(Nn=_s.test(ne)&&ep(be.parentNode)||be,(Nn!=be||!ie.scope)&&((tn=be.getAttribute("id"))?tn=_.escapeSelector(tn):be.setAttribute("id",tn=Xe)),Xn=ou(ne),wt=Xn.length;wt--;)Xn[wt]=(tn?"#"+tn:":scope")+" "+$c(Xn[wt]);dn=Xn.join(",")}try{return U.apply(Fe,Nn.querySelectorAll(dn)),Fe}catch{Do(ne,!0)}finally{tn===Xe&&be.removeAttribute("id")}}}return np(ne.replace(ln,"$1"),be,Fe,Ue)}function $u(){var ne=[];function be(Fe,Ue){return ne.push(Fe+" ")>C.cacheLength&&delete be[ne.shift()],be[Fe+" "]=Ue}return be}function ui(ne){return ne[Xe]=!0,ne}function nu(ne){var be=V.createElement("fieldset");try{return!!ne(be)}catch{return!1}finally{be.parentNode&&be.parentNode.removeChild(be),be=null}}function Yy(ne){return function(be){return nn(be,"input")&&be.type===ne}}function ju(ne){return function(be){return(nn(be,"input")||nn(be,"button"))&&be.type===ne}}function Qm(ne){return function(be){return"form"in be?be.parentNode&&be.disabled===!1?"label"in be?"label"in be.parentNode?be.parentNode.disabled===ne:be.disabled===ne:be.isDisabled===ne||be.isDisabled!==!ne&&Oi(be)===ne:be.disabled===ne:"label"in be?be.disabled===ne:!1}}function Fc(ne){return ui(function(be){return be=+be,ui(function(Fe,Ue){for(var Ne,wt=ne([],Fe.length,be),Vt=wt.length;Vt--;)Fe[Ne=wt[Vt]]&&(Fe[Ne]=!(Ue[Ne]=Fe[Ne]))})})}function ep(ne){return ne&&typeof ne.getElementsByTagName<"u"&&ne}function Lc(ne){var be,Fe=ne?ne.ownerDocument||ne:cs;return Fe==V||Fe.nodeType!==9||!Fe.documentElement||(V=Fe,me=V.documentElement,ce=!_.isXMLDoc(V),Be=me.matches||me.webkitMatchesSelector||me.msMatchesSelector,me.msMatchesSelector&&cs!=V&&(be=V.defaultView)&&be.top!==be&&be.addEventListener("unload",_a),ie.getById=nu(function(Ue){return me.appendChild(Ue).id=_.expando,!V.getElementsByName||!V.getElementsByName(_.expando).length}),ie.disconnectedMatch=nu(function(Ue){return Be.call(Ue,"*")}),ie.scope=nu(function(){return V.querySelectorAll(":scope")}),ie.cssHas=nu(function(){try{return V.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),ie.getById?(C.filter.ID=function(Ue){var Ne=Ue.replace(kr,As);return function(wt){return wt.getAttribute("id")===Ne}},C.find.ID=function(Ue,Ne){if(typeof Ne.getElementById<"u"&&ce){var wt=Ne.getElementById(Ue);return wt?[wt]:[]}}):(C.filter.ID=function(Ue){var Ne=Ue.replace(kr,As);return function(wt){var Vt=typeof wt.getAttributeNode<"u"&&wt.getAttributeNode("id");return Vt&&Vt.value===Ne}},C.find.ID=function(Ue,Ne){if(typeof Ne.getElementById<"u"&&ce){var wt,Vt,tn,Kt=Ne.getElementById(Ue);if(Kt){if(wt=Kt.getAttributeNode("id"),wt&&wt.value===Ue)return[Kt];for(tn=Ne.getElementsByName(Ue),Vt=0;Kt=tn[Vt++];)if(wt=Kt.getAttributeNode("id"),wt&&wt.value===Ue)return[Kt]}return[]}}),C.find.TAG=function(Ue,Ne){return typeof Ne.getElementsByTagName<"u"?Ne.getElementsByTagName(Ue):Ne.querySelectorAll(Ue)},C.find.CLASS=function(Ue,Ne){if(typeof Ne.getElementsByClassName<"u"&&ce)return Ne.getElementsByClassName(Ue)},ye=[],nu(function(Ue){var Ne;me.appendChild(Ue).innerHTML="<a id='"+Xe+"' href='' disabled='disabled'></a><select id='"+Xe+"-\r\\' disabled='disabled'><option selected=''></option></select>",Ue.querySelectorAll("[selected]").length||ye.push("\\["+$n+"*(?:value|"+ci+")"),Ue.querySelectorAll("[id~="+Xe+"-]").length||ye.push("~="),Ue.querySelectorAll("a#"+Xe+"+*").length||ye.push(".#.+[+~]"),Ue.querySelectorAll(":checked").length||ye.push(":checked"),Ne=V.createElement("input"),Ne.setAttribute("type","hidden"),Ue.appendChild(Ne).setAttribute("name","D"),me.appendChild(Ue).disabled=!0,Ue.querySelectorAll(":disabled").length!==2&&ye.push(":enabled",":disabled"),Ne=V.createElement("input"),Ne.setAttribute("name",""),Ue.appendChild(Ne),Ue.querySelectorAll("[name='']").length||ye.push("\\["+$n+"*name"+$n+"*="+$n+`*(?:''|"")`)}),ie.cssHas||ye.push(":has"),ye=ye.length&&new RegExp(ye.join("|")),vs=function(Ue,Ne){if(Ue===Ne)return H=!0,0;var wt=!Ue.compareDocumentPosition-!Ne.compareDocumentPosition;return wt||(wt=(Ue.ownerDocument||Ue)==(Ne.ownerDocument||Ne)?Ue.compareDocumentPosition(Ne):1,wt&1||!ie.sortDetached&&Ne.compareDocumentPosition(Ue)===wt?Ue===V||Ue.ownerDocument==cs&&Uo.contains(cs,Ue)?-1:Ne===V||Ne.ownerDocument==cs&&Uo.contains(cs,Ne)?1:P?J.call(P,Ue)-J.call(P,Ne):0:wt&4?-1:1)}),V}Uo.matches=function(ne,be){return Uo(ne,null,null,be)},Uo.matchesSelector=function(ne,be){if(Lc(ne),ce&&!Do[be+" "]&&(!ye||!ye.test(be)))try{var Fe=Be.call(ne,be);if(Fe||ie.disconnectedMatch||ne.document&&ne.document.nodeType!==11)return Fe}catch{Do(be,!0)}return Uo(be,V,null,[ne]).length>0},Uo.contains=function(ne,be){return(ne.ownerDocument||ne)!=V&&Lc(ne),_.contains(ne,be)},Uo.attr=function(ne,be){(ne.ownerDocument||ne)!=V&&Lc(ne);var Fe=C.attrHandle[be.toLowerCase()],Ue=Fe&&re.call(C.attrHandle,be.toLowerCase())?Fe(ne,be,!ce):void 0;return Ue!==void 0?Ue:ne.getAttribute(be)},Uo.error=function(ne){throw new Error("Syntax error, unrecognized expression: "+ne)},_.uniqueSort=function(ne){var be,Fe=[],Ue=0,Ne=0;if(H=!ie.sortStable,P=!ie.sortStable&&R.call(ne,0),Je.call(ne,vs),H){for(;be=ne[Ne++];)be===ne[Ne]&&(Ue=Fe.push(Ne));for(;Ue--;)Rn.call(ne,Fe[Ue],1)}return P=null,ne},_.fn.uniqueSort=function(){return this.pushStack(_.uniqueSort(R.apply(this)))},C=_.expr={cacheLength:50,createPseudo:ui,match:Ta,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ne){return ne[1]=ne[1].replace(kr,As),ne[3]=(ne[3]||ne[4]||ne[5]||"").replace(kr,As),ne[2]==="~="&&(ne[3]=" "+ne[3]+" "),ne.slice(0,4)},CHILD:function(ne){return ne[1]=ne[1].toLowerCase(),ne[1].slice(0,3)==="nth"?(ne[3]||Uo.error(ne[0]),ne[4]=+(ne[4]?ne[5]+(ne[6]||1):2*(ne[3]==="even"||ne[3]==="odd")),ne[5]=+(ne[7]+ne[8]||ne[3]==="odd")):ne[3]&&Uo.error(ne[0]),ne},PSEUDO:function(ne){var be,Fe=!ne[6]&&ne[2];return Ta.CHILD.test(ne[0])?null:(ne[3]?ne[2]=ne[4]||ne[5]||"":Fe&&xs.test(Fe)&&(be=ou(Fe,!0))&&(be=Fe.indexOf(")",Fe.length-be)-Fe.length)&&(ne[0]=ne[0].slice(0,be),ne[2]=Fe.slice(0,be)),ne.slice(0,3))}},filter:{TAG:function(ne){var be=ne.replace(kr,As).toLowerCase();return ne==="*"?function(){return!0}:function(Fe){return nn(Fe,be)}},CLASS:function(ne){var be=Ht[ne+" "];return be||(be=new RegExp("(^|"+$n+")"+ne+"("+$n+"|$)"))&&Ht(ne,function(Fe){return be.test(typeof Fe.className=="string"&&Fe.className||typeof Fe.getAttribute<"u"&&Fe.getAttribute("class")||"")})},ATTR:function(ne,be,Fe){return function(Ue){var Ne=Uo.attr(Ue,ne);return Ne==null?be==="!=":be?(Ne+="",be==="="?Ne===Fe:be==="!="?Ne!==Fe:be==="^="?Fe&&Ne.indexOf(Fe)===0:be==="*="?Fe&&Ne.indexOf(Fe)>-1:be==="$="?Fe&&Ne.slice(-Fe.length)===Fe:be==="~="?(" "+Ne.replace(bo," ")+" ").indexOf(Fe)>-1:be==="|="?Ne===Fe||Ne.slice(0,Fe.length+1)===Fe+"-":!1):!0}},CHILD:function(ne,be,Fe,Ue,Ne){var wt=ne.slice(0,3)!=="nth",Vt=ne.slice(-4)!=="last",tn=be==="of-type";return Ue===1&&Ne===0?function(Kt){return!!Kt.parentNode}:function(Kt,Xn,dn){var Nn,Wn,wn,Co,zo,Or=wt!==Vt?"nextSibling":"previousSibling",di=Kt.parentNode,Vo=tn&&Kt.nodeName.toLowerCase(),rr=!dn&&!tn,Po=!1;if(di){if(wt){for(;Or;){for(wn=Kt;wn=wn[Or];)if(tn?nn(wn,Vo):wn.nodeType===1)return!1;zo=Or=ne==="only"&&!zo&&"nextSibling"}return!0}if(zo=[Vt?di.firstChild:di.lastChild],Vt&&rr){for(Wn=di[Xe]||(di[Xe]={}),Nn=Wn[ne]||[],Co=Nn[0]===je&&Nn[1],Po=Co&&Nn[2],wn=Co&&di.childNodes[Co];wn=++Co&&wn&&wn[Or]||(Po=Co=0)||zo.pop();)if(wn.nodeType===1&&++Po&&wn===Kt){Wn[ne]=[je,Co,Po];break}}else if(rr&&(Wn=Kt[Xe]||(Kt[Xe]={}),Nn=Wn[ne]||[],Co=Nn[0]===je&&Nn[1],Po=Co),Po===!1)for(;(wn=++Co&&wn&&wn[Or]||(Po=Co=0)||zo.pop())&&!((tn?nn(wn,Vo):wn.nodeType===1)&&++Po&&(rr&&(Wn=wn[Xe]||(wn[Xe]={}),Wn[ne]=[je,Po]),wn===Kt)););return Po-=Ne,Po===Ue||Po%Ue===0&&Po/Ue>=0}}},PSEUDO:function(ne,be){var Fe,Ue=C.pseudos[ne]||C.setFilters[ne.toLowerCase()]||Uo.error("unsupported pseudo: "+ne);return Ue[Xe]?Ue(be):Ue.length>1?(Fe=[ne,ne,"",be],C.setFilters.hasOwnProperty(ne.toLowerCase())?ui(function(Ne,wt){for(var Vt,tn=Ue(Ne,be),Kt=tn.length;Kt--;)Vt=J.call(Ne,tn[Kt]),Ne[Vt]=!(wt[Vt]=tn[Kt])}):function(Ne){return Ue(Ne,0,Fe)}):Ue}},pseudos:{not:ui(function(ne){var be=[],Fe=[],Ue=ee(ne.replace(ln,"$1"));return Ue[Xe]?ui(function(Ne,wt,Vt,tn){for(var Kt,Xn=Ue(Ne,null,tn,[]),dn=Ne.length;dn--;)(Kt=Xn[dn])&&(Ne[dn]=!(wt[dn]=Kt))}):function(Ne,wt,Vt){return be[0]=Ne,Ue(be,null,Vt,Fe),be[0]=null,!Fe.pop()}}),has:ui(function(ne){return function(be){return Uo(ne,be).length>0}}),contains:ui(function(ne){return ne=ne.replace(kr,As),function(be){return(be.textContent||_.text(be)).indexOf(ne)>-1}}),lang:ui(function(ne){return zs.test(ne||"")||Uo.error("unsupported lang: "+ne),ne=ne.replace(kr,As).toLowerCase(),function(be){var Fe;do if(Fe=ce?be.lang:be.getAttribute("xml:lang")||be.getAttribute("lang"))return Fe=Fe.toLowerCase(),Fe===ne||Fe.indexOf(ne+"-")===0;while((be=be.parentNode)&&be.nodeType===1);return!1}}),target:function(ne){var be=h.location&&h.location.hash;return be&&be.slice(1)===ne.id},root:function(ne){return ne===me},focus:function(ne){return ne===sr()&&V.hasFocus()&&!!(ne.type||ne.href||~ne.tabIndex)},enabled:Qm(!1),disabled:Qm(!0),checked:function(ne){return nn(ne,"input")&&!!ne.checked||nn(ne,"option")&&!!ne.selected},selected:function(ne){return ne.parentNode&&ne.parentNode.selectedIndex,ne.selected===!0},empty:function(ne){for(ne=ne.firstChild;ne;ne=ne.nextSibling)if(ne.nodeType<6)return!1;return!0},parent:function(ne){return!C.pseudos.empty(ne)},header:function(ne){return Kr.test(ne.nodeName)},input:function(ne){return ic.test(ne.nodeName)},button:function(ne){return nn(ne,"input")&&ne.type==="button"||nn(ne,"button")},text:function(ne){var be;return nn(ne,"input")&&ne.type==="text"&&((be=ne.getAttribute("type"))==null||be.toLowerCase()==="text")},first:Fc(function(){return[0]}),last:Fc(function(ne,be){return[be-1]}),eq:Fc(function(ne,be,Fe){return[Fe<0?Fe+be:Fe]}),even:Fc(function(ne,be){for(var Fe=0;Fe<be;Fe+=2)ne.push(Fe);return ne}),odd:Fc(function(ne,be){for(var Fe=1;Fe<be;Fe+=2)ne.push(Fe);return ne}),lt:Fc(function(ne,be,Fe){var Ue;for(Fe<0?Ue=Fe+be:Fe>be?Ue=be:Ue=Fe;--Ue>=0;)ne.push(Ue);return ne}),gt:Fc(function(ne,be,Fe){for(var Ue=Fe<0?Fe+be:Fe;++Ue<be;)ne.push(Ue);return ne})}},C.pseudos.nth=C.pseudos.eq;for(g in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[g]=Yy(g);for(g in{submit:!0,reset:!0})C.pseudos[g]=ju(g);function yl(){}yl.prototype=C.filters=C.pseudos,C.setFilters=new yl;function ou(ne,be){var Fe,Ue,Ne,wt,Vt,tn,Kt,Xn=go[ne+" "];if(Xn)return be?0:Xn.slice(0);for(Vt=ne,tn=[],Kt=C.preFilter;Vt;){(!Fe||(Ue=Ao.exec(Vt)))&&(Ue&&(Vt=Vt.slice(Ue[0].length)||Vt),tn.push(Ne=[])),Fe=!1,(Ue=tf.exec(Vt))&&(Fe=Ue.shift(),Ne.push({value:Fe,type:Ue[0].replace(ln," ")}),Vt=Vt.slice(Fe.length));for(wt in C.filter)(Ue=Ta[wt].exec(Vt))&&(!Kt[wt]||(Ue=Kt[wt](Ue)))&&(Fe=Ue.shift(),Ne.push({value:Fe,type:wt,matches:Ue}),Vt=Vt.slice(Fe.length));if(!Fe)break}return be?Vt.length:Vt?Uo.error(ne):go(ne,tn).slice(0)}function $c(ne){for(var be=0,Fe=ne.length,Ue="";be<Fe;be++)Ue+=ne[be].value;return Ue}function nf(ne,be,Fe){var Ue=be.dir,Ne=be.next,wt=Ne||Ue,Vt=Fe&&wt==="parentNode",tn=Ct++;return be.first?function(Kt,Xn,dn){for(;Kt=Kt[Ue];)if(Kt.nodeType===1||Vt)return ne(Kt,Xn,dn);return!1}:function(Kt,Xn,dn){var Nn,Wn,wn=[je,tn];if(dn){for(;Kt=Kt[Ue];)if((Kt.nodeType===1||Vt)&&ne(Kt,Xn,dn))return!0}else for(;Kt=Kt[Ue];)if(Kt.nodeType===1||Vt)if(Wn=Kt[Xe]||(Kt[Xe]={}),Ne&&nn(Kt,Ne))Kt=Kt[Ue]||Kt;else{if((Nn=Wn[wt])&&Nn[0]===je&&Nn[1]===tn)return wn[2]=Nn[2];if(Wn[wt]=wn,wn[2]=ne(Kt,Xn,dn))return!0}return!1}}function Hu(ne){return ne.length>1?function(be,Fe,Ue){for(var Ne=ne.length;Ne--;)if(!ne[Ne](be,Fe,Ue))return!1;return!0}:ne[0]}function Xy(ne,be,Fe){for(var Ue=0,Ne=be.length;Ue<Ne;Ue++)Uo(ne,be[Ue],Fe);return Fe}function of(ne,be,Fe,Ue,Ne){for(var wt,Vt=[],tn=0,Kt=ne.length,Xn=be!=null;tn<Kt;tn++)(wt=ne[tn])&&(!Fe||Fe(wt,Ue,Ne))&&(Vt.push(wt),Xn&&be.push(tn));return Vt}function tp(ne,be,Fe,Ue,Ne,wt){return Ue&&!Ue[Xe]&&(Ue=tp(Ue)),Ne&&!Ne[Xe]&&(Ne=tp(Ne,wt)),ui(function(Vt,tn,Kt,Xn){var dn,Nn,Wn,wn,Co=[],zo=[],Or=tn.length,di=Vt||Xy(be||"*",Kt.nodeType?[Kt]:Kt,[]),Vo=ne&&(Vt||!be)?of(di,Co,ne,Kt,Xn):di;if(Fe?(wn=Ne||(Vt?ne:Or||Ue)?[]:tn,Fe(Vo,wn,Kt,Xn)):wn=Vo,Ue)for(dn=of(wn,zo),Ue(dn,[],Kt,Xn),Nn=dn.length;Nn--;)(Wn=dn[Nn])&&(wn[zo[Nn]]=!(Vo[zo[Nn]]=Wn));if(Vt){if(Ne||ne){if(Ne){for(dn=[],Nn=wn.length;Nn--;)(Wn=wn[Nn])&&dn.push(Vo[Nn]=Wn);Ne(null,wn=[],dn,Xn)}for(Nn=wn.length;Nn--;)(Wn=wn[Nn])&&(dn=Ne?J.call(Vt,Wn):Co[Nn])>-1&&(Vt[dn]=!(tn[dn]=Wn))}}else wn=of(wn===tn?wn.splice(Or,wn.length):wn),Ne?Ne(null,tn,wn,Xn):U.apply(tn,wn)})}function vl(ne){for(var be,Fe,Ue,Ne=ne.length,wt=C.relative[ne[0].type],Vt=wt||C.relative[" "],tn=wt?1:0,Kt=nf(function(Nn){return Nn===be},Vt,!0),Xn=nf(function(Nn){return J.call(be,Nn)>-1},Vt,!0),dn=[function(Nn,Wn,wn){var Co=!wt&&(wn||Wn!=k)||((be=Wn).nodeType?Kt(Nn,Wn,wn):Xn(Nn,Wn,wn));return be=null,Co}];tn<Ne;tn++)if(Fe=C.relative[ne[tn].type])dn=[nf(Hu(dn),Fe)];else{if(Fe=C.filter[ne[tn].type].apply(null,ne[tn].matches),Fe[Xe]){for(Ue=++tn;Ue<Ne&&!C.relative[ne[Ue].type];Ue++);return tp(tn>1&&Hu(dn),tn>1&&$c(ne.slice(0,tn-1).concat({value:ne[tn-2].type===" "?"*":""})).replace(ln,"$1"),Fe,tn<Ue&&vl(ne.slice(tn,Ue)),Ue<Ne&&vl(ne=ne.slice(Ue)),Ue<Ne&&$c(ne))}dn.push(Fe)}return Hu(dn)}function tk(ne,be){var Fe=be.length>0,Ue=ne.length>0,Ne=function(wt,Vt,tn,Kt,Xn){var dn,Nn,Wn,wn=0,Co="0",zo=wt&&[],Or=[],di=k,Vo=wt||Ue&&C.find.TAG("*",Xn),rr=je+=di==null?1:Math.random()||.1,Po=Vo.length;for(Xn&&(k=Vt==V||Vt||Xn);Co!==Po&&(dn=Vo[Co])!=null;Co++){if(Ue&&dn){for(Nn=0,!Vt&&dn.ownerDocument!=V&&(Lc(dn),tn=!ce);Wn=ne[Nn++];)if(Wn(dn,Vt||V,tn)){U.call(Kt,dn);break}Xn&&(je=rr)}Fe&&((dn=!Wn&&dn)&&wn--,wt&&zo.push(dn))}if(wn+=Co,Fe&&Co!==wn){for(Nn=0;Wn=be[Nn++];)Wn(zo,Or,Vt,tn);if(wt){if(wn>0)for(;Co--;)zo[Co]||Or[Co]||(Or[Co]=Qn.call(Kt));Or=of(Or)}U.apply(Kt,Or),Xn&&!wt&&Or.length>0&&wn+be.length>1&&_.uniqueSort(Kt)}return Xn&&(je=rr,k=di),zo};return Fe?ui(Ne):Ne}function ee(ne,be){var Fe,Ue=[],Ne=[],wt=Un[ne+" "];if(!wt){for(be||(be=ou(ne)),Fe=be.length;Fe--;)wt=vl(be[Fe]),wt[Xe]?Ue.push(wt):Ne.push(wt);wt=Un(ne,tk(Ne,Ue)),wt.selector=ne}return wt}function np(ne,be,Fe,Ue){var Ne,wt,Vt,tn,Kt,Xn=typeof ne=="function"&&ne,dn=!Ue&&ou(ne=Xn.selector||ne);if(Fe=Fe||[],dn.length===1){if(wt=dn[0]=dn[0].slice(0),wt.length>2&&(Vt=wt[0]).type==="ID"&&be.nodeType===9&&ce&&C.relative[wt[1].type]){if(be=(C.find.ID(Vt.matches[0].replace(kr,As),be)||[])[0],be)Xn&&(be=be.parentNode);else return Fe;ne=ne.slice(wt.shift().value.length)}for(Ne=Ta.needsContext.test(ne)?0:wt.length;Ne--&&(Vt=wt[Ne],!C.relative[tn=Vt.type]);)if((Kt=C.find[tn])&&(Ue=Kt(Vt.matches[0].replace(kr,As),_s.test(wt[0].type)&&ep(be.parentNode)||be))){if(wt.splice(Ne,1),ne=Ue.length&&$c(wt),!ne)return U.apply(Fe,Ue),Fe;break}}return(Xn||ee(ne,dn))(Ue,be,!ce,Fe,!be||_s.test(ne)&&ep(be.parentNode)||be),Fe}ie.sortStable=Xe.split("").sort(vs).join("")===Xe,Lc(),ie.sortDetached=nu(function(ne){return ne.compareDocumentPosition(V.createElement("fieldset"))&1}),_.find=Uo,_.expr[":"]=_.expr.pseudos,_.unique=_.uniqueSort,Uo.compile=ee,Uo.select=np,Uo.setDocument=Lc,Uo.tokenize=ou,Uo.escape=_.escapeSelector,Uo.getText=_.text,Uo.isXML=_.isXMLDoc,Uo.selectors=_.expr,Uo.support=_.support,Uo.uniqueSort=_.uniqueSort})();var jo=function(g,C,k){for(var P=[],H=k!==void 0;(g=g[C])&&g.nodeType!==9;)if(g.nodeType===1){if(H&&_(g).is(k))break;P.push(g)}return P},Kl=function(g,C){for(var k=[];g;g=g.nextSibling)g.nodeType===1&&g!==C&&k.push(g);return k},bt=_.expr.match.needsContext,uo=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Ms(g,C,k){return ae(C)?_.grep(g,function(P,H){return!!C.call(P,H,P)!==k}):C.nodeType?_.grep(g,function(P){return P===C!==k}):typeof C!="string"?_.grep(g,function(P){return J.call(C,P)>-1!==k}):_.filter(C,g,k)}_.filter=function(g,C,k){var P=C[0];return k&&(g=":not("+g+")"),C.length===1&&P.nodeType===1?_.find.matchesSelector(P,g)?[P]:[]:_.find.matches(g,_.grep(C,function(H){return H.nodeType===1}))},_.fn.extend({find:function(g){var C,k,P=this.length,H=this;if(typeof g!="string")return this.pushStack(_(g).filter(function(){for(C=0;C<P;C++)if(_.contains(H[C],this))return!0}));for(k=this.pushStack([]),C=0;C<P;C++)_.find(g,H[C],k);return P>1?_.uniqueSort(k):k},filter:function(g){return this.pushStack(Ms(this,g||[],!1))},not:function(g){return this.pushStack(Ms(this,g||[],!0))},is:function(g){return!!Ms(this,typeof g=="string"&&bt.test(g)?_(g):g||[],!1).length}});var Gr,Ic=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,We=_.fn.init=function(g,C,k){var P,H;if(!g)return this;if(k=k||Gr,typeof g=="string")if(g[0]==="<"&&g[g.length-1]===">"&&g.length>=3?P=[null,g,null]:P=Ic.exec(g),P&&(P[1]||!C))if(P[1]){if(C=C instanceof _?C[0]:C,_.merge(this,_.parseHTML(P[1],C&&C.nodeType?C.ownerDocument||C:Ae,!0)),uo.test(P[1])&&_.isPlainObject(C))for(P in C)ae(this[P])?this[P](C[P]):this.attr(P,C[P]);return this}else return H=Ae.getElementById(P[2]),H&&(this[0]=H,this.length=1),this;else return!C||C.jquery?(C||k).find(g):this.constructor(C).find(g);else{if(g.nodeType)return this[0]=g,this.length=1,this;if(ae(g))return k.ready!==void 0?k.ready(g):g(_)}return _.makeArray(g,this)};We.prototype=_.fn,Gr=_(Ae);var ht=/^(?:parents|prev(?:Until|All))/,$={children:!0,contents:!0,next:!0,prev:!0};_.fn.extend({has:function(g){var C=_(g,this),k=C.length;return this.filter(function(){for(var P=0;P<k;P++)if(_.contains(this,C[P]))return!0})},closest:function(g,C){var k,P=0,H=this.length,U=[],V=typeof g!="string"&&_(g);if(!bt.test(g)){for(;P<H;P++)for(k=this[P];k&&k!==C;k=k.parentNode)if(k.nodeType<11&&(V?V.index(k)>-1:k.nodeType===1&&_.find.matchesSelector(k,g))){U.push(k);break}}return this.pushStack(U.length>1?_.uniqueSort(U):U)},index:function(g){return g?typeof g=="string"?J.call(_(g),this[0]):J.call(this,g.jquery?g[0]:g):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(g,C){return this.pushStack(_.uniqueSort(_.merge(this.get(),_(g,C))))},addBack:function(g){return this.add(g==null?this.prevObject:this.prevObject.filter(g))}});function Kd(g,C){for(;(g=g[C])&&g.nodeType!==1;);return g}_.each({parent:function(g){var C=g.parentNode;return C&&C.nodeType!==11?C:null},parents:function(g){return jo(g,"parentNode")},parentsUntil:function(g,C,k){return jo(g,"parentNode",k)},next:function(g){return Kd(g,"nextSibling")},prev:function(g){return Kd(g,"previousSibling")},nextAll:function(g){return jo(g,"nextSibling")},prevAll:function(g){return jo(g,"previousSibling")},nextUntil:function(g,C,k){return jo(g,"nextSibling",k)},prevUntil:function(g,C,k){return jo(g,"previousSibling",k)},siblings:function(g){return Kl((g.parentNode||{}).firstChild,g)},children:function(g){return Kl(g.firstChild)},contents:function(g){return g.contentDocument!=null&&E(g.contentDocument)?g.contentDocument:(nn(g,"template")&&(g=g.content||g),_.merge([],g.childNodes))}},function(g,C){_.fn[g]=function(k,P){var H=_.map(this,C,k);return g.slice(-5)!=="Until"&&(P=k),P&&typeof P=="string"&&(H=_.filter(P,H)),this.length>1&&($[g]||_.uniqueSort(H),ht.test(g)&&H.reverse()),this.pushStack(H)}});var eo=/[^\x20\t\r\n\f]+/g;function Ou(g){var C={};return _.each(g.match(eo)||[],function(k,P){C[P]=!0}),C}_.Callbacks=function(g){g=typeof g=="string"?Ou(g):_.extend({},g);var C,k,P,H,U=[],V=[],me=-1,ce=function(){for(H=H||g.once,P=C=!0;V.length;me=-1)for(k=V.shift();++me<U.length;)U[me].apply(k[0],k[1])===!1&&g.stopOnFalse&&(me=U.length,k=!1);g.memory||(k=!1),C=!1,H&&(k?U=[]:U="")},ye={add:function(){return U&&(k&&!C&&(me=U.length-1,V.push(k)),function Be(Xe){_.each(Xe,function(je,Ct){ae(Ct)?(!g.unique||!ye.has(Ct))&&U.push(Ct):Ct&&Ct.length&&It(Ct)!=="string"&&Be(Ct)})}(arguments),k&&!C&&ce()),this},remove:function(){return _.each(arguments,function(Be,Xe){for(var je;(je=_.inArray(Xe,U,je))>-1;)U.splice(je,1),je<=me&&me--}),this},has:function(Be){return Be?_.inArray(Be,U)>-1:U.length>0},empty:function(){return U&&(U=[]),this},disable:function(){return H=V=[],U=k="",this},disabled:function(){return!U},lock:function(){return H=V=[],!k&&!C&&(U=k=""),this},locked:function(){return!!H},fireWith:function(Be,Xe){return H||(Xe=Xe||[],Xe=[Be,Xe.slice?Xe.slice():Xe],V.push(Xe),C||ce()),this},fire:function(){return ye.fireWith(this,arguments),this},fired:function(){return!!P}};return ye};function rs(g){return g}function jm(g){throw g}function en(g,C,k,P){var H;try{g&&ae(H=g.promise)?H.call(g).done(C).fail(k):g&&ae(H=g.then)?H.call(g,C,k):C.apply(void 0,[g].slice(P))}catch(U){k.apply(void 0,[U])}}_.extend({Deferred:function(g){var C=[["notify","progress",_.Callbacks("memory"),_.Callbacks("memory"),2],["resolve","done",_.Callbacks("once memory"),_.Callbacks("once memory"),0,"resolved"],["reject","fail",_.Callbacks("once memory"),_.Callbacks("once memory"),1,"rejected"]],k="pending",P={state:function(){return k},always:function(){return H.done(arguments).fail(arguments),this},catch:function(U){return P.then(null,U)},pipe:function(){var U=arguments;return _.Deferred(function(V){_.each(C,function(me,ce){var ye=ae(U[ce[4]])&&U[ce[4]];H[ce[1]](function(){var Be=ye&&ye.apply(this,arguments);Be&&ae(Be.promise)?Be.promise().progress(V.notify).done(V.resolve).fail(V.reject):V[ce[0]+"With"](this,ye?[Be]:arguments)})}),U=null}).promise()},then:function(U,V,me){var ce=0;function ye(Be,Xe,je,Ct){return function(){var Ht=this,go=arguments,Un=function(){var vs,ci;if(!(Be<ce)){if(vs=je.apply(Ht,go),vs===Xe.promise())throw new TypeError("Thenable self-resolution");ci=vs&&(typeof vs=="object"||typeof vs=="function")&&vs.then,ae(ci)?Ct?ci.call(vs,ye(ce,Xe,rs,Ct),ye(ce,Xe,jm,Ct)):(ce++,ci.call(vs,ye(ce,Xe,rs,Ct),ye(ce,Xe,jm,Ct),ye(ce,Xe,rs,Xe.notifyWith))):(je!==rs&&(Ht=void 0,go=[vs]),(Ct||Xe.resolveWith)(Ht,go))}},Do=Ct?Un:function(){try{Un()}catch(vs){_.Deferred.exceptionHook&&_.Deferred.exceptionHook(vs,Do.error),Be+1>=ce&&(je!==jm&&(Ht=void 0,go=[vs]),Xe.rejectWith(Ht,go))}};Be?Do():(_.Deferred.getErrorHook?Do.error=_.Deferred.getErrorHook():_.Deferred.getStackHook&&(Do.error=_.Deferred.getStackHook()),h.setTimeout(Do))}}return _.Deferred(function(Be){C[0][3].add(ye(0,Be,ae(me)?me:rs,Be.notifyWith)),C[1][3].add(ye(0,Be,ae(U)?U:rs)),C[2][3].add(ye(0,Be,ae(V)?V:jm))}).promise()},promise:function(U){return U!=null?_.extend(U,P):P}},H={};return _.each(C,function(U,V){var me=V[2],ce=V[5];P[V[1]]=me.add,ce&&me.add(function(){k=ce},C[3-U][2].disable,C[3-U][3].disable,C[0][2].lock,C[0][3].lock),me.add(V[3].fire),H[V[0]]=function(){return H[V[0]+"With"](this===H?void 0:this,arguments),this},H[V[0]+"With"]=me.fireWith}),P.promise(H),g&&g.call(H,H),H},when:function(g){var C=arguments.length,k=C,P=Array(k),H=R.call(arguments),U=_.Deferred(),V=function(me){return function(ce){P[me]=this,H[me]=arguments.length>1?R.call(arguments):ce,--C||U.resolveWith(P,H)}};if(C<=1&&(en(g,U.done(V(k)).resolve,U.reject,!C),U.state()==="pending"||ae(H[k]&&H[k].then)))return U.then();for(;k--;)en(H[k],V(k),U.reject);return U.promise()}});var vo=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_.Deferred.exceptionHook=function(g,C){h.console&&h.console.warn&&g&&vo.test(g.name)&&h.console.warn("jQuery.Deferred exception: "+g.message,g.stack,C)},_.readyException=function(g){h.setTimeout(function(){throw g})};var on=_.Deferred();_.fn.ready=function(g){return on.then(g).catch(function(C){_.readyException(C)}),this},_.extend({isReady:!1,readyWait:1,ready:function(g){(g===!0?--_.readyWait:_.isReady)||(_.isReady=!0,!(g!==!0&&--_.readyWait>0)&&on.resolveWith(Ae,[_]))}}),_.ready.then=on.then;function De(){Ae.removeEventListener("DOMContentLoaded",De),h.removeEventListener("load",De),_.ready()}Ae.readyState==="complete"||Ae.readyState!=="loading"&&!Ae.documentElement.doScroll?h.setTimeout(_.ready):(Ae.addEventListener("DOMContentLoaded",De),h.addEventListener("load",De));var qr=function(g,C,k,P,H,U,V){var me=0,ce=g.length,ye=k==null;if(It(k)==="object"){H=!0;for(me in k)qr(g,C,me,k[me],!0,U,V)}else if(P!==void 0&&(H=!0,ae(P)||(V=!0),ye&&(V?(C.call(g,P),C=null):(ye=C,C=function(Be,Xe,je){return ye.call(_(Be),je)})),C))for(;me<ce;me++)C(g[me],k,V?P:P.call(g[me],me,C(g[me],k)));return H?g:ye?C.call(g):ce?C(g[0],k):U},tc=/^-ms-/,qt=/-([a-z])/g;function Du(g,C){return C.toUpperCase()}function ls(g){return g.replace(tc,"ms-").replace(qt,Du)}var Yl=function(g){return g.nodeType===1||g.nodeType===9||!+g.nodeType};function Ho(){this.expando=_.expando+Ho.uid++}Ho.uid=1,Ho.prototype={cache:function(g){var C=g[this.expando];return C||(C={},Yl(g)&&(g.nodeType?g[this.expando]=C:Object.defineProperty(g,this.expando,{value:C,configurable:!0}))),C},set:function(g,C,k){var P,H=this.cache(g);if(typeof C=="string")H[ls(C)]=k;else for(P in C)H[ls(P)]=C[P];return H},get:function(g,C){return C===void 0?this.cache(g):g[this.expando]&&g[this.expando][ls(C)]},access:function(g,C,k){return C===void 0||C&&typeof C=="string"&&k===void 0?this.get(g,C):(this.set(g,C,k),k!==void 0?k:C)},remove:function(g,C){var k,P=g[this.expando];if(P!==void 0){if(C!==void 0)for(Array.isArray(C)?C=C.map(ls):(C=ls(C),C=C in P?[C]:C.match(eo)||[]),k=C.length;k--;)delete P[C[k]];(C===void 0||_.isEmptyObject(P))&&(g.nodeType?g[this.expando]=void 0:delete g[this.expando])}},hasData:function(g){var C=g[this.expando];return C!==void 0&&!_.isEmptyObject(C)}};var Yt=new Ho,Ar=new Ho,Ei=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,or=/[A-Z]/g;function Jo(g){return g==="true"?!0:g==="false"?!1:g==="null"?null:g===+g+""?+g:Ei.test(g)?JSON.parse(g):g}function Yd(g,C,k){var P;if(k===void 0&&g.nodeType===1)if(P="data-"+C.replace(or,"-$&").toLowerCase(),k=g.getAttribute(P),typeof k=="string"){try{k=Jo(k)}catch{}Ar.set(g,C,k)}else k=void 0;return k}_.extend({hasData:function(g){return Ar.hasData(g)||Yt.hasData(g)},data:function(g,C,k){return Ar.access(g,C,k)},removeData:function(g,C){Ar.remove(g,C)},_data:function(g,C,k){return Yt.access(g,C,k)},_removeData:function(g,C){Yt.remove(g,C)}}),_.fn.extend({data:function(g,C){var k,P,H,U=this[0],V=U&&U.attributes;if(g===void 0){if(this.length&&(H=Ar.get(U),U.nodeType===1&&!Yt.get(U,"hasDataAttrs"))){for(k=V.length;k--;)V[k]&&(P=V[k].name,P.indexOf("data-")===0&&(P=ls(P.slice(5)),Yd(U,P,H[P])));Yt.set(U,"hasDataAttrs",!0)}return H}return typeof g=="object"?this.each(function(){Ar.set(this,g)}):qr(this,function(me){var ce;if(U&&me===void 0)return ce=Ar.get(U,g),ce!==void 0||(ce=Yd(U,g),ce!==void 0)?ce:void 0;this.each(function(){Ar.set(this,g,me)})},null,C,arguments.length>1,null,!0)},removeData:function(g){return this.each(function(){Ar.remove(this,g)})}}),_.extend({queue:function(g,C,k){var P;if(g)return C=(C||"fx")+"queue",P=Yt.get(g,C),k&&(!P||Array.isArray(k)?P=Yt.access(g,C,_.makeArray(k)):P.push(k)),P||[]},dequeue:function(g,C){C=C||"fx";var k=_.queue(g,C),P=k.length,H=k.shift(),U=_._queueHooks(g,C),V=function(){_.dequeue(g,C)};H==="inprogress"&&(H=k.shift(),P--),H&&(C==="fx"&&k.unshift("inprogress"),delete U.stop,H.call(g,V,U)),!P&&U&&U.empty.fire()},_queueHooks:function(g,C){var k=C+"queueHooks";return Yt.get(g,k)||Yt.access(g,k,{empty:_.Callbacks("once memory").add(function(){Yt.remove(g,[C+"queue",k])})})}}),_.fn.extend({queue:function(g,C){var k=2;return typeof g!="string"&&(C=g,g="fx",k--),arguments.length<k?_.queue(this[0],g):C===void 0?this:this.each(function(){var P=_.queue(this,g,C);_._queueHooks(this,g),g==="fx"&&P[0]!=="inprogress"&&_.dequeue(this,g)})},dequeue:function(g){return this.each(function(){_.dequeue(this,g)})},clearQueue:function(g){return this.queue(g||"fx",[])},promise:function(g,C){var k,P=1,H=_.Deferred(),U=this,V=this.length,me=function(){--P||H.resolveWith(U,[U])};for(typeof g!="string"&&(C=g,g=void 0),g=g||"fx";V--;)k=Yt.get(U[V],g+"queueHooks"),k&&k.empty&&(P++,k.empty.add(me));return me(),H.promise(C)}});var Is=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,To=new RegExp("^(?:([+-])=|)("+Is+")([a-z%]*)$","i"),ni=["Top","Right","Bottom","Left"],us=Ae.documentElement,oi=function(g){return _.contains(g.ownerDocument,g)},si={composed:!0};us.getRootNode&&(oi=function(g){return _.contains(g.ownerDocument,g)||g.getRootNode(si)===g.ownerDocument});var nc=function(g,C){return g=C||g,g.style.display==="none"||g.style.display===""&&oi(g)&&_.css(g,"display")==="none"};function Ru(g,C,k,P){var H,U,V=20,me=P?function(){return P.cur()}:function(){return _.css(g,C,"")},ce=me(),ye=k&&k[3]||(_.cssNumber[C]?"":"px"),Be=g.nodeType&&(_.cssNumber[C]||ye!=="px"&&+ce)&&To.exec(_.css(g,C));if(Be&&Be[3]!==ye){for(ce=ce/2,ye=ye||Be[3],Be=+ce||1;V--;)_.style(g,C,Be+ye),(1-U)*(1-(U=me()/ce||.5))<=0&&(V=0),Be=Be/U;Be=Be*2,_.style(g,C,Be+ye),k=k||[]}return k&&(Be=+Be||+ce||0,H=k[1]?Be+(k[1]+1)*k[2]:+k[2],P&&(P.unit=ye,P.start=Be,P.end=H)),H}var hr={};function Wh(g){var C,k=g.ownerDocument,P=g.nodeName,H=hr[P];return H||(C=k.body.appendChild(k.createElement(P)),H=_.css(C,"display"),C.parentNode.removeChild(C),H==="none"&&(H="block"),hr[P]=H,H)}function at(g,C){for(var k,P,H=[],U=0,V=g.length;U<V;U++)P=g[U],P.style&&(k=P.style.display,C?(k==="none"&&(H[U]=Yt.get(P,"display")||null,H[U]||(P.style.display="")),P.style.display===""&&nc(P)&&(H[U]=Wh(P))):k!=="none"&&(H[U]="none",Yt.set(P,"display",k)));for(U=0;U<V;U++)H[U]!=null&&(g[U].style.display=H[U]);return g}_.fn.extend({show:function(){return at(this,!0)},hide:function(){return at(this)},toggle:function(g){return typeof g=="boolean"?g?this.show():this.hide():this.each(function(){nc(this)?_(this).show():_(this).hide()})}});var jn=/^(?:checkbox|radio)$/i,Ti=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ri=/^$|^module$|\/(?:java|ecma)script/i;(function(){var g=Ae.createDocumentFragment(),C=g.appendChild(Ae.createElement("div")),k=Ae.createElement("input");k.setAttribute("type","radio"),k.setAttribute("checked","checked"),k.setAttribute("name","t"),C.appendChild(k),ie.checkClone=C.cloneNode(!0).cloneNode(!0).lastChild.checked,C.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!C.cloneNode(!0).lastChild.defaultValue,C.innerHTML="<option></option>",ie.option=!!C.lastChild})();var _i={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};_i.tbody=_i.tfoot=_i.colgroup=_i.caption=_i.thead,_i.th=_i.td,ie.option||(_i.optgroup=_i.option=[1,"<select multiple='multiple'>","</select>"]);function js(g,C){var k;return typeof g.getElementsByTagName<"u"?k=g.getElementsByTagName(C||"*"):typeof g.querySelectorAll<"u"?k=g.querySelectorAll(C||"*"):k=[],C===void 0||C&&nn(g,C)?_.merge([g],k):k}function Xl(g,C){for(var k=0,P=g.length;k<P;k++)Yt.set(g[k],"globalEval",!C||Yt.get(C[k],"globalEval"))}var Jl=/<|&#?\w+;/;function Hm(g,C,k,P,H){for(var U,V,me,ce,ye,Be,Xe=C.createDocumentFragment(),je=[],Ct=0,Ht=g.length;Ct<Ht;Ct++)if(U=g[Ct],U||U===0)if(It(U)==="object")_.merge(je,U.nodeType?[U]:U);else if(!Jl.test(U))je.push(C.createTextNode(U));else{for(V=V||Xe.appendChild(C.createElement("div")),me=(Ti.exec(U)||["",""])[1].toLowerCase(),ce=_i[me]||_i._default,V.innerHTML=ce[1]+_.htmlPrefilter(U)+ce[2],Be=ce[0];Be--;)V=V.lastChild;_.merge(je,V.childNodes),V=Xe.firstChild,V.textContent=""}for(Xe.textContent="",Ct=0;U=je[Ct++];){if(P&&_.inArray(U,P)>-1){H&&H.push(U);continue}if(ye=oi(U),V=js(Xe.appendChild(U),"script"),ye&&Xl(V),k)for(Be=0;U=V[Be++];)ri.test(U.type||"")&&k.push(U)}return Xe}var xo=/^([^.]*)(?:\.(.+)|)/;function Lt(){return!0}function ya(){return!1}function Gh(g,C,k,P,H,U){var V,me;if(typeof C=="object"){typeof k!="string"&&(P=P||k,k=void 0);for(me in C)Gh(g,me,k,P,C[me],U);return g}if(P==null&&H==null?(H=k,P=k=void 0):H==null&&(typeof k=="string"?(H=P,P=void 0):(H=P,P=k,k=void 0)),H===!1)H=ya;else if(!H)return g;return U===1&&(V=H,H=function(ce){return _().off(ce),V.apply(this,arguments)},H.guid=V.guid||(V.guid=_.guid++)),g.each(function(){_.event.add(this,C,H,P,k)})}_.event={global:{},add:function(g,C,k,P,H){var U,V,me,ce,ye,Be,Xe,je,Ct,Ht,go,Un=Yt.get(g);if(Yl(g))for(k.handler&&(U=k,k=U.handler,H=U.selector),H&&_.find.matchesSelector(us,H),k.guid||(k.guid=_.guid++),(ce=Un.events)||(ce=Un.events=Object.create(null)),(V=Un.handle)||(V=Un.handle=function(Do){return typeof _<"u"&&_.event.triggered!==Do.type?_.event.dispatch.apply(g,arguments):void 0}),C=(C||"").match(eo)||[""],ye=C.length;ye--;)me=xo.exec(C[ye])||[],Ct=go=me[1],Ht=(me[2]||"").split(".").sort(),Ct&&(Xe=_.event.special[Ct]||{},Ct=(H?Xe.delegateType:Xe.bindType)||Ct,Xe=_.event.special[Ct]||{},Be=_.extend({type:Ct,origType:go,data:P,handler:k,guid:k.guid,selector:H,needsContext:H&&_.expr.match.needsContext.test(H),namespace:Ht.join(".")},U),(je=ce[Ct])||(je=ce[Ct]=[],je.delegateCount=0,(!Xe.setup||Xe.setup.call(g,P,Ht,V)===!1)&&g.addEventListener&&g.addEventListener(Ct,V)),Xe.add&&(Xe.add.call(g,Be),Be.handler.guid||(Be.handler.guid=k.guid)),H?je.splice(je.delegateCount++,0,Be):je.push(Be),_.event.global[Ct]=!0)},remove:function(g,C,k,P,H){var U,V,me,ce,ye,Be,Xe,je,Ct,Ht,go,Un=Yt.hasData(g)&&Yt.get(g);if(!(!Un||!(ce=Un.events))){for(C=(C||"").match(eo)||[""],ye=C.length;ye--;){if(me=xo.exec(C[ye])||[],Ct=go=me[1],Ht=(me[2]||"").split(".").sort(),!Ct){for(Ct in ce)_.event.remove(g,Ct+C[ye],k,P,!0);continue}for(Xe=_.event.special[Ct]||{},Ct=(P?Xe.delegateType:Xe.bindType)||Ct,je=ce[Ct]||[],me=me[2]&&new RegExp("(^|\\.)"+Ht.join("\\.(?:.*\\.|)")+"(\\.|$)"),V=U=je.length;U--;)Be=je[U],(H||go===Be.origType)&&(!k||k.guid===Be.guid)&&(!me||me.test(Be.namespace))&&(!P||P===Be.selector||P==="**"&&Be.selector)&&(je.splice(U,1),Be.selector&&je.delegateCount--,Xe.remove&&Xe.remove.call(g,Be));V&&!je.length&&((!Xe.teardown||Xe.teardown.call(g,Ht,Un.handle)===!1)&&_.removeEvent(g,Ct,Un.handle),delete ce[Ct])}_.isEmptyObject(ce)&&Yt.remove(g,"handle events")}},dispatch:function(g){var C,k,P,H,U,V,me=new Array(arguments.length),ce=_.event.fix(g),ye=(Yt.get(this,"events")||Object.create(null))[ce.type]||[],Be=_.event.special[ce.type]||{};for(me[0]=ce,C=1;C<arguments.length;C++)me[C]=arguments[C];if(ce.delegateTarget=this,!(Be.preDispatch&&Be.preDispatch.call(this,ce)===!1)){for(V=_.event.handlers.call(this,ce,ye),C=0;(H=V[C++])&&!ce.isPropagationStopped();)for(ce.currentTarget=H.elem,k=0;(U=H.handlers[k++])&&!ce.isImmediatePropagationStopped();)(!ce.rnamespace||U.namespace===!1||ce.rnamespace.test(U.namespace))&&(ce.handleObj=U,ce.data=U.data,P=((_.event.special[U.origType]||{}).handle||U.handler).apply(H.elem,me),P!==void 0&&(ce.result=P)===!1&&(ce.preventDefault(),ce.stopPropagation()));return Be.postDispatch&&Be.postDispatch.call(this,ce),ce.result}},handlers:function(g,C){var k,P,H,U,V,me=[],ce=C.delegateCount,ye=g.target;if(ce&&ye.nodeType&&!(g.type==="click"&&g.button>=1)){for(;ye!==this;ye=ye.parentNode||this)if(ye.nodeType===1&&!(g.type==="click"&&ye.disabled===!0)){for(U=[],V={},k=0;k<ce;k++)P=C[k],H=P.selector+" ",V[H]===void 0&&(V[H]=P.needsContext?_(H,this).index(ye)>-1:_.find(H,this,null,[ye]).length),V[H]&&U.push(P);U.length&&me.push({elem:ye,handlers:U})}}return ye=this,ce<C.length&&me.push({elem:ye,handlers:C.slice(ce)}),me},addProp:function(g,C){Object.defineProperty(_.Event.prototype,g,{enumerable:!0,configurable:!0,get:ae(C)?function(){if(this.originalEvent)return C(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[g]},set:function(k){Object.defineProperty(this,g,{enumerable:!0,configurable:!0,writable:!0,value:k})}})},fix:function(g){return g[_.expando]?g:new _.Event(g)},special:{load:{noBubble:!0},click:{setup:function(g){var C=this||g;return jn.test(C.type)&&C.click&&nn(C,"input")&&Nu(C,"click",!0),!1},trigger:function(g){var C=this||g;return jn.test(C.type)&&C.click&&nn(C,"input")&&Nu(C,"click"),!0},_default:function(g){var C=g.target;return jn.test(C.type)&&C.click&&nn(C,"input")&&Yt.get(C,"click")||nn(C,"a")}},beforeunload:{postDispatch:function(g){g.result!==void 0&&g.originalEvent&&(g.originalEvent.returnValue=g.result)}}}};function Nu(g,C,k){if(!k){Yt.get(g,C)===void 0&&_.event.add(g,C,Lt);return}Yt.set(g,C,!1),_.event.add(g,C,{namespace:!1,handler:function(P){var H,U=Yt.get(this,C);if(P.isTrigger&1&&this[C]){if(U)(_.event.special[C]||{}).delegateType&&P.stopPropagation();else if(U=R.call(arguments),Yt.set(this,C,U),this[C](),H=Yt.get(this,C),Yt.set(this,C,!1),U!==H)return P.stopImmediatePropagation(),P.preventDefault(),H}else U&&(Yt.set(this,C,_.event.trigger(U[0],U.slice(1),this)),P.stopPropagation(),P.isImmediatePropagationStopped=Lt)}})}_.removeEvent=function(g,C,k){g.removeEventListener&&g.removeEventListener(C,k)},_.Event=function(g,C){if(!(this instanceof _.Event))return new _.Event(g,C);g&&g.type?(this.originalEvent=g,this.type=g.type,this.isDefaultPrevented=g.defaultPrevented||g.defaultPrevented===void 0&&g.returnValue===!1?Lt:ya,this.target=g.target&&g.target.nodeType===3?g.target.parentNode:g.target,this.currentTarget=g.currentTarget,this.relatedTarget=g.relatedTarget):this.type=g,C&&_.extend(this,C),this.timeStamp=g&&g.timeStamp||Date.now(),this[_.expando]=!0},_.Event.prototype={constructor:_.Event,isDefaultPrevented:ya,isPropagationStopped:ya,isImmediatePropagationStopped:ya,isSimulated:!1,preventDefault:function(){var g=this.originalEvent;this.isDefaultPrevented=Lt,g&&!this.isSimulated&&g.preventDefault()},stopPropagation:function(){var g=this.originalEvent;this.isPropagationStopped=Lt,g&&!this.isSimulated&&g.stopPropagation()},stopImmediatePropagation:function(){var g=this.originalEvent;this.isImmediatePropagationStopped=Lt,g&&!this.isSimulated&&g.stopImmediatePropagation(),this.stopPropagation()}},_.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},_.event.addProp),_.each({focus:"focusin",blur:"focusout"},function(g,C){function k(P){if(Ae.documentMode){var H=Yt.get(this,"handle"),U=_.event.fix(P);U.type=P.type==="focusin"?"focus":"blur",U.isSimulated=!0,H(P),U.target===U.currentTarget&&H(U)}else _.event.simulate(C,P.target,_.event.fix(P))}_.event.special[g]={setup:function(){var P;if(Nu(this,g,!0),Ae.documentMode)P=Yt.get(this,C),P||this.addEventListener(C,k),Yt.set(this,C,(P||0)+1);else return!1},trigger:function(){return Nu(this,g),!0},teardown:function(){var P;if(Ae.documentMode)P=Yt.get(this,C)-1,P?Yt.set(this,C,P):(this.removeEventListener(C,k),Yt.remove(this,C));else return!1},_default:function(P){return Yt.get(P.target,g)},delegateType:C},_.event.special[C]={setup:function(){var P=this.ownerDocument||this.document||this,H=Ae.documentMode?this:P,U=Yt.get(H,C);U||(Ae.documentMode?this.addEventListener(C,k):P.addEventListener(g,k,!0)),Yt.set(H,C,(U||0)+1)},teardown:function(){var P=this.ownerDocument||this.document||this,H=Ae.documentMode?this:P,U=Yt.get(H,C)-1;U?Yt.set(H,C,U):(Ae.documentMode?this.removeEventListener(C,k):P.removeEventListener(g,k,!0),Yt.remove(H,C))}}}),_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(g,C){_.event.special[g]={delegateType:C,bindType:C,handle:function(k){var P,H=this,U=k.relatedTarget,V=k.handleObj;return(!U||U!==H&&!_.contains(H,U))&&(k.type=V.origType,P=V.handler.apply(this,arguments),k.type=C),P}}}),_.fn.extend({on:function(g,C,k,P){return Gh(this,g,C,k,P)},one:function(g,C,k,P){return Gh(this,g,C,k,P,1)},off:function(g,C,k){var P,H;if(g&&g.preventDefault&&g.handleObj)return P=g.handleObj,_(g.delegateTarget).off(P.namespace?P.origType+"."+P.namespace:P.origType,P.selector,P.handler),this;if(typeof g=="object"){for(H in g)this.off(H,C,g[H]);return this}return(C===!1||typeof C=="function")&&(k=C,C=void 0),k===!1&&(k=ya),this.each(function(){_.event.remove(this,g,k,C)})}});var qh=/<script|<style|<link/i,Kh=/checked\s*(?:[^=]|=\s*.checked.)/i,Br=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Xd(g,C){return nn(g,"table")&&nn(C.nodeType!==11?C:C.firstChild,"tr")&&_(g).children("tbody")[0]||g}function Pu(g){return g.type=(g.getAttribute("type")!==null)+"/"+g.type,g}function Um(g){return(g.type||"").slice(0,5)==="true/"?g.type=g.type.slice(5):g.removeAttribute("type"),g}function zm(g,C){var k,P,H,U,V,me,ce;if(C.nodeType===1){if(Yt.hasData(g)&&(U=Yt.get(g),ce=U.events,ce)){Yt.remove(C,"handle events");for(H in ce)for(k=0,P=ce[H].length;k<P;k++)_.event.add(C,H,ce[H][k])}Ar.hasData(g)&&(V=Ar.access(g),me=_.extend({},V),Ar.set(C,me))}}function Zl(g,C){var k=C.nodeName.toLowerCase();k==="input"&&jn.test(g.type)?C.checked=g.checked:(k==="input"||k==="textarea")&&(C.defaultValue=g.defaultValue)}function oc(g,C,k,P){C=I(C);var H,U,V,me,ce,ye,Be=0,Xe=g.length,je=Xe-1,Ct=C[0],Ht=ae(Ct);if(Ht||Xe>1&&typeof Ct=="string"&&!ie.checkClone&&Kh.test(Ct))return g.each(function(go){var Un=g.eq(go);Ht&&(C[0]=Ct.call(this,go,Un.html())),oc(Un,C,k,P)});if(Xe&&(H=Hm(C,g[0].ownerDocument,!1,g,P),U=H.firstChild,H.childNodes.length===1&&(H=U),U||P)){for(V=_.map(js(H,"script"),Pu),me=V.length;Be<Xe;Be++)ce=H,Be!==je&&(ce=_.clone(ce,!0,!0),me&&_.merge(V,js(ce,"script"))),k.call(g[Be],ce,Be);if(me)for(ye=V[V.length-1].ownerDocument,_.map(V,Um),Be=0;Be<me;Be++)ce=V[Be],ri.test(ce.type||"")&&!Yt.access(ce,"globalEval")&&_.contains(ye,ce)&&(ce.src&&(ce.type||"").toLowerCase()!=="module"?_._evalUrl&&!ce.noModule&&_._evalUrl(ce.src,{nonce:ce.nonce||ce.getAttribute("nonce")},ye):te(ce.textContent.replace(Br,""),ce,ye))}return g}function zi(g,C,k){for(var P,H=C?_.filter(C,g):g,U=0;(P=H[U])!=null;U++)!k&&P.nodeType===1&&_.cleanData(js(P)),P.parentNode&&(k&&oi(P)&&Xl(js(P,"script")),P.parentNode.removeChild(P));return g}_.extend({htmlPrefilter:function(g){return g},clone:function(g,C,k){var P,H,U,V,me=g.cloneNode(!0),ce=oi(g);if(!ie.noCloneChecked&&(g.nodeType===1||g.nodeType===11)&&!_.isXMLDoc(g))for(V=js(me),U=js(g),P=0,H=U.length;P<H;P++)Zl(U[P],V[P]);if(C)if(k)for(U=U||js(g),V=V||js(me),P=0,H=U.length;P<H;P++)zm(U[P],V[P]);else zm(g,me);return V=js(me,"script"),V.length>0&&Xl(V,!ce&&js(g,"script")),me},cleanData:function(g){for(var C,k,P,H=_.event.special,U=0;(k=g[U])!==void 0;U++)if(Yl(k)){if(C=k[Yt.expando]){if(C.events)for(P in C.events)H[P]?_.event.remove(k,P):_.removeEvent(k,P,C.handle);k[Yt.expando]=void 0}k[Ar.expando]&&(k[Ar.expando]=void 0)}}}),_.fn.extend({detach:function(g){return zi(this,g,!0)},remove:function(g){return zi(this,g)},text:function(g){return qr(this,function(C){return C===void 0?_.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=C)})},null,g,arguments.length)},append:function(){return oc(this,arguments,function(g){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var C=Xd(this,g);C.appendChild(g)}})},prepend:function(){return oc(this,arguments,function(g){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var C=Xd(this,g);C.insertBefore(g,C.firstChild)}})},before:function(){return oc(this,arguments,function(g){this.parentNode&&this.parentNode.insertBefore(g,this)})},after:function(){return oc(this,arguments,function(g){this.parentNode&&this.parentNode.insertBefore(g,this.nextSibling)})},empty:function(){for(var g,C=0;(g=this[C])!=null;C++)g.nodeType===1&&(_.cleanData(js(g,!1)),g.textContent="");return this},clone:function(g,C){return g=g??!1,C=C??g,this.map(function(){return _.clone(this,g,C)})},html:function(g){return qr(this,function(C){var k=this[0]||{},P=0,H=this.length;if(C===void 0&&k.nodeType===1)return k.innerHTML;if(typeof C=="string"&&!qh.test(C)&&!_i[(Ti.exec(C)||["",""])[1].toLowerCase()]){C=_.htmlPrefilter(C);try{for(;P<H;P++)k=this[P]||{},k.nodeType===1&&(_.cleanData(js(k,!1)),k.innerHTML=C);k=0}catch{}}k&&this.empty().append(C)},null,g,arguments.length)},replaceWith:function(){var g=[];return oc(this,arguments,function(C){var k=this.parentNode;_.inArray(this,g)<0&&(_.cleanData(js(this)),k&&k.replaceChild(C,this))},g)}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(g,C){_.fn[g]=function(k){for(var P,H=[],U=_(k),V=U.length-1,me=0;me<=V;me++)P=me===V?this:this.clone(!0),_(U[me])[C](P),j.apply(H,P.get());return this.pushStack(H)}});var Vi=new RegExp("^("+Is+")(?!px)[a-z%]+$","i"),Yh=/^--/,Vm=function(g){var C=g.ownerDocument.defaultView;return(!C||!C.opener)&&(C=h),C.getComputedStyle(g)},Mu=function(g,C,k){var P,H,U={};for(H in C)U[H]=g.style[H],g.style[H]=C[H];P=k.call(g);for(H in C)g.style[H]=U[H];return P},QA=new RegExp(ni.join("|"),"i");(function(){function g(){if(ye){ce.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",ye.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",us.appendChild(ce).appendChild(ye);var Be=h.getComputedStyle(ye);k=Be.top!=="1%",me=C(Be.marginLeft)===12,ye.style.right="60%",U=C(Be.right)===36,P=C(Be.width)===36,ye.style.position="absolute",H=C(ye.offsetWidth/3)===12,us.removeChild(ce),ye=null}}function C(Be){return Math.round(parseFloat(Be))}var k,P,H,U,V,me,ce=Ae.createElement("div"),ye=Ae.createElement("div");ye.style&&(ye.style.backgroundClip="content-box",ye.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle=ye.style.backgroundClip==="content-box",_.extend(ie,{boxSizingReliable:function(){return g(),P},pixelBoxStyles:function(){return g(),U},pixelPosition:function(){return g(),k},reliableMarginLeft:function(){return g(),me},scrollboxSize:function(){return g(),H},reliableTrDimensions:function(){var Be,Xe,je,Ct;return V==null&&(Be=Ae.createElement("table"),Xe=Ae.createElement("tr"),je=Ae.createElement("div"),Be.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Xe.style.cssText="box-sizing:content-box;border:1px solid",Xe.style.height="1px",je.style.height="9px",je.style.display="block",us.appendChild(Be).appendChild(Xe).appendChild(je),Ct=h.getComputedStyle(Xe),V=parseInt(Ct.height,10)+parseInt(Ct.borderTopWidth,10)+parseInt(Ct.borderBottomWidth,10)===Xe.offsetHeight,us.removeChild(Be)),V}}))})();function nt(g,C,k){var P,H,U,V,me=Yh.test(C),ce=g.style;return k=k||Vm(g),k&&(V=k.getPropertyValue(C)||k[C],me&&V&&(V=V.replace(ln,"$1")||void 0),V===""&&!oi(g)&&(V=_.style(g,C)),!ie.pixelBoxStyles()&&Vi.test(V)&&QA.test(C)&&(P=ce.width,H=ce.minWidth,U=ce.maxWidth,ce.minWidth=ce.maxWidth=ce.width=V,V=k.width,ce.width=P,ce.minWidth=H,ce.maxWidth=U)),V!==void 0?V+"":V}function Wm(g,C){return{get:function(){if(g()){delete this.get;return}return(this.get=C).apply(this,arguments)}}}var Iu=["Webkit","Moz","ms"],Xh=Ae.createElement("div").style,Jh={};function kC(g){for(var C=g[0].toUpperCase()+g.slice(1),k=Iu.length;k--;)if(g=Iu[k]+C,g in Xh)return g}function Zh(g){var C=_.cssProps[g]||Jh[g];return C||(g in Xh?g:Jh[g]=kC(g)||g)}var OC=/^(none|table(?!-c[ea]).+)/,zy={position:"absolute",visibility:"hidden",display:"block"},Gm={letterSpacing:"0",fontWeight:"400"};function Hs(g,C,k){var P=To.exec(C);return P?Math.max(0,P[2]-(k||0))+(P[3]||"px"):C}function ns(g,C,k,P,H,U){var V=C==="width"?1:0,me=0,ce=0,ye=0;if(k===(P?"border":"content"))return 0;for(;V<4;V+=2)k==="margin"&&(ye+=_.css(g,k+ni[V],!0,H)),P?(k==="content"&&(ce-=_.css(g,"padding"+ni[V],!0,H)),k!=="margin"&&(ce-=_.css(g,"border"+ni[V]+"Width",!0,H))):(ce+=_.css(g,"padding"+ni[V],!0,H),k!=="padding"?ce+=_.css(g,"border"+ni[V]+"Width",!0,H):me+=_.css(g,"border"+ni[V]+"Width",!0,H));return!P&&U>=0&&(ce+=Math.max(0,Math.ceil(g["offset"+C[0].toUpperCase()+C.slice(1)]-U-ce-me-.5))||0),ce+ye}function qm(g,C,k){var P=Vm(g),H=!ie.boxSizingReliable()||k,U=H&&_.css(g,"boxSizing",!1,P)==="border-box",V=U,me=nt(g,C,P),ce="offset"+C[0].toUpperCase()+C.slice(1);if(Vi.test(me)){if(!k)return me;me="auto"}return(!ie.boxSizingReliable()&&U||!ie.reliableTrDimensions()&&nn(g,"tr")||me==="auto"||!parseFloat(me)&&_.css(g,"display",!1,P)==="inline")&&g.getClientRects().length&&(U=_.css(g,"boxSizing",!1,P)==="border-box",V=ce in g,V&&(me=g[ce])),me=parseFloat(me)||0,me+ns(g,C,k||(U?"border":"content"),V,P,me)+"px"}_.extend({cssHooks:{opacity:{get:function(g,C){if(C){var k=nt(g,"opacity");return k===""?"1":k}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(g,C,k,P){if(!(!g||g.nodeType===3||g.nodeType===8||!g.style)){var H,U,V,me=ls(C),ce=Yh.test(C),ye=g.style;if(ce||(C=Zh(me)),V=_.cssHooks[C]||_.cssHooks[me],k!==void 0){if(U=typeof k,U==="string"&&(H=To.exec(k))&&H[1]&&(k=Ru(g,C,H),U="number"),k==null||k!==k)return;U==="number"&&!ce&&(k+=H&&H[3]||(_.cssNumber[me]?"":"px")),!ie.clearCloneStyle&&k===""&&C.indexOf("background")===0&&(ye[C]="inherit"),(!V||!("set"in V)||(k=V.set(g,k,P))!==void 0)&&(ce?ye.setProperty(C,k):ye[C]=k)}else return V&&"get"in V&&(H=V.get(g,!1,P))!==void 0?H:ye[C]}},css:function(g,C,k,P){var H,U,V,me=ls(C),ce=Yh.test(C);return ce||(C=Zh(me)),V=_.cssHooks[C]||_.cssHooks[me],V&&"get"in V&&(H=V.get(g,!0,k)),H===void 0&&(H=nt(g,C,P)),H==="normal"&&C in Gm&&(H=Gm[C]),k===""||k?(U=parseFloat(H),k===!0||isFinite(U)?U||0:H):H}}),_.each(["height","width"],function(g,C){_.cssHooks[C]={get:function(k,P,H){if(P)return OC.test(_.css(k,"display"))&&(!k.getClientRects().length||!k.getBoundingClientRect().width)?Mu(k,zy,function(){return qm(k,C,H)}):qm(k,C,H)},set:function(k,P,H){var U,V=Vm(k),me=!ie.scrollboxSize()&&V.position==="absolute",ce=me||H,ye=ce&&_.css(k,"boxSizing",!1,V)==="border-box",Be=H?ns(k,C,H,ye,V):0;return ye&&me&&(Be-=Math.ceil(k["offset"+C[0].toUpperCase()+C.slice(1)]-parseFloat(V[C])-ns(k,C,"border",!1,V)-.5)),Be&&(U=To.exec(P))&&(U[3]||"px")!=="px"&&(k.style[C]=P,P=_.css(k,C)),Hs(k,P,Be)}}}),_.cssHooks.marginLeft=Wm(ie.reliableMarginLeft,function(g,C){if(C)return(parseFloat(nt(g,"marginLeft"))||g.getBoundingClientRect().left-Mu(g,{marginLeft:0},function(){return g.getBoundingClientRect().left}))+"px"}),_.each({margin:"",padding:"",border:"Width"},function(g,C){_.cssHooks[g+C]={expand:function(k){for(var P=0,H={},U=typeof k=="string"?k.split(" "):[k];P<4;P++)H[g+ni[P]+C]=U[P]||U[P-2]||U[0];return H}},g!=="margin"&&(_.cssHooks[g+C].set=Hs)}),_.fn.extend({css:function(g,C){return qr(this,function(k,P,H){var U,V,me={},ce=0;if(Array.isArray(P)){for(U=Vm(k),V=P.length;ce<V;ce++)me[P[ce]]=_.css(k,P[ce],!1,U);return me}return H!==void 0?_.style(k,P,H):_.css(k,P)},g,C,arguments.length>1)}});function ds(g,C,k,P,H){return new ds.prototype.init(g,C,k,P,H)}_.Tween=ds,ds.prototype={constructor:ds,init:function(g,C,k,P,H,U){this.elem=g,this.prop=k,this.easing=H||_.easing._default,this.options=C,this.start=this.now=this.cur(),this.end=P,this.unit=U||(_.cssNumber[k]?"":"px")},cur:function(){var g=ds.propHooks[this.prop];return g&&g.get?g.get(this):ds.propHooks._default.get(this)},run:function(g){var C,k=ds.propHooks[this.prop];return this.options.duration?this.pos=C=_.easing[this.easing](g,this.options.duration*g,0,1,this.options.duration):this.pos=C=g,this.now=(this.end-this.start)*C+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),k&&k.set?k.set(this):ds.propHooks._default.set(this),this}},ds.prototype.init.prototype=ds.prototype,ds.propHooks={_default:{get:function(g){var C;return g.elem.nodeType!==1||g.elem[g.prop]!=null&&g.elem.style[g.prop]==null?g.elem[g.prop]:(C=_.css(g.elem,g.prop,""),!C||C==="auto"?0:C)},set:function(g){_.fx.step[g.prop]?_.fx.step[g.prop](g):g.elem.nodeType===1&&(_.cssHooks[g.prop]||g.elem.style[Zh(g.prop)]!=null)?_.style(g.elem,g.prop,g.now+g.unit):g.elem[g.prop]=g.now}}},ds.propHooks.scrollTop=ds.propHooks.scrollLeft={set:function(g){g.elem.nodeType&&g.elem.parentNode&&(g.elem[g.prop]=g.now)}},_.easing={linear:function(g){return g},swing:function(g){return .5-Math.cos(g*Math.PI)/2},_default:"swing"},_.fx=ds.prototype.init,_.fx.step={};var va,Ql,Qh=/^(?:toggle|show|hide)$/,ys=/queueHooks$/;function Ai(){Ql&&(Ae.hidden===!1&&h.requestAnimationFrame?h.requestAnimationFrame(Ai):h.setTimeout(Ai,_.fx.interval),_.fx.tick())}function Vy(){return h.setTimeout(function(){va=void 0}),va=Date.now()}function eu(g,C){var k,P=0,H={height:g};for(C=C?1:0;P<4;P+=2-C)k=ni[P],H["margin"+k]=H["padding"+k]=g;return C&&(H.opacity=H.width=g),H}function Jd(g,C,k){for(var P,H=(xa.tweeners[C]||[]).concat(xa.tweeners["*"]),U=0,V=H.length;U<V;U++)if(P=H[U].call(k,C,g))return P}function ii(g,C,k){var P,H,U,V,me,ce,ye,Be,Xe="width"in C||"height"in C,je=this,Ct={},Ht=g.style,go=g.nodeType&&nc(g),Un=Yt.get(g,"fxshow");k.queue||(V=_._queueHooks(g,"fx"),V.unqueued==null&&(V.unqueued=0,me=V.empty.fire,V.empty.fire=function(){V.unqueued||me()}),V.unqueued++,je.always(function(){je.always(function(){V.unqueued--,_.queue(g,"fx").length||V.empty.fire()})}));for(P in C)if(H=C[P],Qh.test(H)){if(delete C[P],U=U||H==="toggle",H===(go?"hide":"show"))if(H==="show"&&Un&&Un[P]!==void 0)go=!0;else continue;Ct[P]=Un&&Un[P]||_.style(g,P)}if(ce=!_.isEmptyObject(C),!(!ce&&_.isEmptyObject(Ct))){Xe&&g.nodeType===1&&(k.overflow=[Ht.overflow,Ht.overflowX,Ht.overflowY],ye=Un&&Un.display,ye==null&&(ye=Yt.get(g,"display")),Be=_.css(g,"display"),Be==="none"&&(ye?Be=ye:(at([g],!0),ye=g.style.display||ye,Be=_.css(g,"display"),at([g]))),(Be==="inline"||Be==="inline-block"&&ye!=null)&&_.css(g,"float")==="none"&&(ce||(je.done(function(){Ht.display=ye}),ye==null&&(Be=Ht.display,ye=Be==="none"?"":Be)),Ht.display="inline-block")),k.overflow&&(Ht.overflow="hidden",je.always(function(){Ht.overflow=k.overflow[0],Ht.overflowX=k.overflow[1],Ht.overflowY=k.overflow[2]})),ce=!1;for(P in Ct)ce||(Un?"hidden"in Un&&(go=Un.hidden):Un=Yt.access(g,"fxshow",{display:ye}),U&&(Un.hidden=!go),go&&at([g],!0),je.done(function(){go||at([g]),Yt.remove(g,"fxshow");for(P in Ct)_.style(g,P,Ct[P])})),ce=Jd(go?Un[P]:0,P,je),P in Un||(Un[P]=ce.start,go&&(ce.end=ce.start,ce.start=0))}}function Wy(g,C){var k,P,H,U,V;for(k in g)if(P=ls(k),H=C[P],U=g[k],Array.isArray(U)&&(H=U[1],U=g[k]=U[0]),k!==P&&(g[P]=U,delete g[k]),V=_.cssHooks[P],V&&"expand"in V){U=V.expand(U),delete g[P];for(k in U)k in g||(g[k]=U[k],C[k]=H)}else C[P]=H}function xa(g,C,k){var P,H,U=0,V=xa.prefilters.length,me=_.Deferred().always(function(){delete ce.elem}),ce=function(){if(H)return!1;for(var Xe=va||Vy(),je=Math.max(0,ye.startTime+ye.duration-Xe),Ct=je/ye.duration||0,Ht=1-Ct,go=0,Un=ye.tweens.length;go<Un;go++)ye.tweens[go].run(Ht);return me.notifyWith(g,[ye,Ht,je]),Ht<1&&Un?je:(Un||me.notifyWith(g,[ye,1,0]),me.resolveWith(g,[ye]),!1)},ye=me.promise({elem:g,props:_.extend({},C),opts:_.extend(!0,{specialEasing:{},easing:_.easing._default},k),originalProperties:C,originalOptions:k,startTime:va||Vy(),duration:k.duration,tweens:[],createTween:function(Xe,je){var Ct=_.Tween(g,ye.opts,Xe,je,ye.opts.specialEasing[Xe]||ye.opts.easing);return ye.tweens.push(Ct),Ct},stop:function(Xe){var je=0,Ct=Xe?ye.tweens.length:0;if(H)return this;for(H=!0;je<Ct;je++)ye.tweens[je].run(1);return Xe?(me.notifyWith(g,[ye,1,0]),me.resolveWith(g,[ye,Xe])):me.rejectWith(g,[ye,Xe]),this}}),Be=ye.props;for(Wy(Be,ye.opts.specialEasing);U<V;U++)if(P=xa.prefilters[U].call(ye,g,Be,ye.opts),P)return ae(P.stop)&&(_._queueHooks(ye.elem,ye.opts.queue).stop=P.stop.bind(P)),P;return _.map(Be,Jd,ye),ae(ye.opts.start)&&ye.opts.start.call(g,ye),ye.progress(ye.opts.progress).done(ye.opts.done,ye.opts.complete).fail(ye.opts.fail).always(ye.opts.always),_.fx.timer(_.extend(ce,{elem:g,anim:ye,queue:ye.opts.queue})),ye}_.Animation=_.extend(xa,{tweeners:{"*":[function(g,C){var k=this.createTween(g,C);return Ru(k.elem,g,To.exec(C),k),k}]},tweener:function(g,C){ae(g)?(C=g,g=["*"]):g=g.match(eo);for(var k,P=0,H=g.length;P<H;P++)k=g[P],xa.tweeners[k]=xa.tweeners[k]||[],xa.tweeners[k].unshift(C)},prefilters:[ii],prefilter:function(g,C){C?xa.prefilters.unshift(g):xa.prefilters.push(g)}}),_.speed=function(g,C,k){var P=g&&typeof g=="object"?_.extend({},g):{complete:k||!k&&C||ae(g)&&g,duration:g,easing:k&&C||C&&!ae(C)&&C};return _.fx.off?P.duration=0:typeof P.duration!="number"&&(P.duration in _.fx.speeds?P.duration=_.fx.speeds[P.duration]:P.duration=_.fx.speeds._default),(P.queue==null||P.queue===!0)&&(P.queue="fx"),P.old=P.complete,P.complete=function(){ae(P.old)&&P.old.call(this),P.queue&&_.dequeue(this,P.queue)},P},_.fn.extend({fadeTo:function(g,C,k,P){return this.filter(nc).css("opacity",0).show().end().animate({opacity:C},g,k,P)},animate:function(g,C,k,P){var H=_.isEmptyObject(g),U=_.speed(C,k,P),V=function(){var me=xa(this,_.extend({},g),U);(H||Yt.get(this,"finish"))&&me.stop(!0)};return V.finish=V,H||U.queue===!1?this.each(V):this.queue(U.queue,V)},stop:function(g,C,k){var P=function(H){var U=H.stop;delete H.stop,U(k)};return typeof g!="string"&&(k=C,C=g,g=void 0),C&&this.queue(g||"fx",[]),this.each(function(){var H=!0,U=g!=null&&g+"queueHooks",V=_.timers,me=Yt.get(this);if(U)me[U]&&me[U].stop&&P(me[U]);else for(U in me)me[U]&&me[U].stop&&ys.test(U)&&P(me[U]);for(U=V.length;U--;)V[U].elem===this&&(g==null||V[U].queue===g)&&(V[U].anim.stop(k),H=!1,V.splice(U,1));(H||!k)&&_.dequeue(this,g)})},finish:function(g){return g!==!1&&(g=g||"fx"),this.each(function(){var C,k=Yt.get(this),P=k[g+"queue"],H=k[g+"queueHooks"],U=_.timers,V=P?P.length:0;for(k.finish=!0,_.queue(this,g,[]),H&&H.stop&&H.stop.call(this,!0),C=U.length;C--;)U[C].elem===this&&U[C].queue===g&&(U[C].anim.stop(!0),U.splice(C,1));for(C=0;C<V;C++)P[C]&&P[C].finish&&P[C].finish.call(this);delete k.finish})}}),_.each(["toggle","show","hide"],function(g,C){var k=_.fn[C];_.fn[C]=function(P,H,U){return P==null||typeof P=="boolean"?k.apply(this,arguments):this.animate(eu(C,!0),P,H,U)}}),_.each({slideDown:eu("show"),slideUp:eu("hide"),slideToggle:eu("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(g,C){_.fn[g]=function(k,P,H){return this.animate(C,k,P,H)}}),_.timers=[],_.fx.tick=function(){var g,C=0,k=_.timers;for(va=Date.now();C<k.length;C++)g=k[C],!g()&&k[C]===g&&k.splice(C--,1);k.length||_.fx.stop(),va=void 0},_.fx.timer=function(g){_.timers.push(g),_.fx.start()},_.fx.interval=13,_.fx.start=function(){Ql||(Ql=!0,Ai())},_.fx.stop=function(){Ql=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(g,C){return g=_.fx&&_.fx.speeds[g]||g,C=C||"fx",this.queue(C,function(k,P){var H=h.setTimeout(k,g);P.stop=function(){h.clearTimeout(H)}})},function(){var g=Ae.createElement("input"),C=Ae.createElement("select"),k=C.appendChild(Ae.createElement("option"));g.type="checkbox",ie.checkOn=g.value!=="",ie.optSelected=k.selected,g=Ae.createElement("input"),g.value="t",g.type="radio",ie.radioValue=g.value==="t"}();var Km,Yn=_.expr.attrHandle;_.fn.extend({attr:function(g,C){return qr(this,_.attr,g,C,arguments.length>1)},removeAttr:function(g){return this.each(function(){_.removeAttr(this,g)})}}),_.extend({attr:function(g,C,k){var P,H,U=g.nodeType;if(!(U===3||U===8||U===2)){if(typeof g.getAttribute>"u")return _.prop(g,C,k);if((U!==1||!_.isXMLDoc(g))&&(H=_.attrHooks[C.toLowerCase()]||(_.expr.match.bool.test(C)?Km:void 0)),k!==void 0){if(k===null){_.removeAttr(g,C);return}return H&&"set"in H&&(P=H.set(g,k,C))!==void 0?P:(g.setAttribute(C,k+""),k)}return H&&"get"in H&&(P=H.get(g,C))!==null?P:(P=_.find.attr(g,C),P??void 0)}},attrHooks:{type:{set:function(g,C){if(!ie.radioValue&&C==="radio"&&nn(g,"input")){var k=g.value;return g.setAttribute("type",C),k&&(g.value=k),C}}}},removeAttr:function(g,C){var k,P=0,H=C&&C.match(eo);if(H&&g.nodeType===1)for(;k=H[P++];)g.removeAttribute(k)}}),Km={set:function(g,C,k){return C===!1?_.removeAttr(g,k):g.setAttribute(k,k),k}},_.each(_.expr.match.bool.source.match(/\w+/g),function(g,C){var k=Yn[C]||_.find.attr;Yn[C]=function(P,H,U){var V,me,ce=H.toLowerCase();return U||(me=Yn[ce],Yn[ce]=V,V=k(P,H,U)!=null?ce:null,Yn[ce]=me),V}});var Zd=/^(?:input|select|textarea|button)$/i,Wi=/^(?:a|area)$/i;_.fn.extend({prop:function(g,C){return qr(this,_.prop,g,C,arguments.length>1)},removeProp:function(g){return this.each(function(){delete this[_.propFix[g]||g]})}}),_.extend({prop:function(g,C,k){var P,H,U=g.nodeType;if(!(U===3||U===8||U===2))return(U!==1||!_.isXMLDoc(g))&&(C=_.propFix[C]||C,H=_.propHooks[C]),k!==void 0?H&&"set"in H&&(P=H.set(g,k,C))!==void 0?P:g[C]=k:H&&"get"in H&&(P=H.get(g,C))!==null?P:g[C]},propHooks:{tabIndex:{get:function(g){var C=_.find.attr(g,"tabindex");return C?parseInt(C,10):Zd.test(g.nodeName)||Wi.test(g.nodeName)&&g.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ie.optSelected||(_.propHooks.selected={get:function(g){var C=g.parentNode;return C&&C.parentNode&&C.parentNode.selectedIndex,null},set:function(g){var C=g.parentNode;C&&(C.selectedIndex,C.parentNode&&C.parentNode.selectedIndex)}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this});function sc(g){var C=g.match(eo)||[];return C.join(" ")}function rc(g){return g.getAttribute&&g.getAttribute("class")||""}function bl(g){return Array.isArray(g)?g:typeof g=="string"?g.match(eo)||[]:[]}_.fn.extend({addClass:function(g){var C,k,P,H,U,V;return ae(g)?this.each(function(me){_(this).addClass(g.call(this,me,rc(this)))}):(C=bl(g),C.length?this.each(function(){if(P=rc(this),k=this.nodeType===1&&" "+sc(P)+" ",k){for(U=0;U<C.length;U++)H=C[U],k.indexOf(" "+H+" ")<0&&(k+=H+" ");V=sc(k),P!==V&&this.setAttribute("class",V)}}):this)},removeClass:function(g){var C,k,P,H,U,V;return ae(g)?this.each(function(me){_(this).removeClass(g.call(this,me,rc(this)))}):arguments.length?(C=bl(g),C.length?this.each(function(){if(P=rc(this),k=this.nodeType===1&&" "+sc(P)+" ",k){for(U=0;U<C.length;U++)for(H=C[U];k.indexOf(" "+H+" ")>-1;)k=k.replace(" "+H+" "," ");V=sc(k),P!==V&&this.setAttribute("class",V)}}):this):this.attr("class","")},toggleClass:function(g,C){var k,P,H,U,V=typeof g,me=V==="string"||Array.isArray(g);return ae(g)?this.each(function(ce){_(this).toggleClass(g.call(this,ce,rc(this),C),C)}):typeof C=="boolean"&&me?C?this.addClass(g):this.removeClass(g):(k=bl(g),this.each(function(){if(me)for(U=_(this),H=0;H<k.length;H++)P=k[H],U.hasClass(P)?U.removeClass(P):U.addClass(P);else(g===void 0||V==="boolean")&&(P=rc(this),P&&Yt.set(this,"__className__",P),this.setAttribute&&this.setAttribute("class",P||g===!1?"":Yt.get(this,"__className__")||""))}))},hasClass:function(g){var C,k,P=0;for(C=" "+g+" ";k=this[P++];)if(k.nodeType===1&&(" "+sc(rc(k))+" ").indexOf(C)>-1)return!0;return!1}});var Ca=/\r/g;_.fn.extend({val:function(g){var C,k,P,H=this[0];return arguments.length?(P=ae(g),this.each(function(U){var V;this.nodeType===1&&(P?V=g.call(this,U,_(this).val()):V=g,V==null?V="":typeof V=="number"?V+="":Array.isArray(V)&&(V=_.map(V,function(me){return me==null?"":me+""})),C=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()],(!C||!("set"in C)||C.set(this,V,"value")===void 0)&&(this.value=V))})):H?(C=_.valHooks[H.type]||_.valHooks[H.nodeName.toLowerCase()],C&&"get"in C&&(k=C.get(H,"value"))!==void 0?k:(k=H.value,typeof k=="string"?k.replace(Ca,""):k??"")):void 0}}),_.extend({valHooks:{option:{get:function(g){var C=_.find.attr(g,"value");return C??sc(_.text(g))}},select:{get:function(g){var C,k,P,H=g.options,U=g.selectedIndex,V=g.type==="select-one",me=V?null:[],ce=V?U+1:H.length;for(U<0?P=ce:P=V?U:0;P<ce;P++)if(k=H[P],(k.selected||P===U)&&!k.disabled&&(!k.parentNode.disabled||!nn(k.parentNode,"optgroup"))){if(C=_(k).val(),V)return C;me.push(C)}return me},set:function(g,C){for(var k,P,H=g.options,U=_.makeArray(C),V=H.length;V--;)P=H[V],(P.selected=_.inArray(_.valHooks.option.get(P),U)>-1)&&(k=!0);return k||(g.selectedIndex=-1),U}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(g,C){if(Array.isArray(C))return g.checked=_.inArray(_(g).val(),C)>-1}},ie.checkOn||(_.valHooks[this].get=function(g){return g.getAttribute("value")===null?"on":g.value})});var Bu=h.location,Sa={guid:Date.now()},Ym=/\?/;_.parseXML=function(g){var C,k;if(!g||typeof g!="string")return null;try{C=new h.DOMParser().parseFromString(g,"text/xml")}catch{}return k=C&&C.getElementsByTagName("parsererror")[0],(!C||k)&&_.error("Invalid XML: "+(k?_.map(k.childNodes,function(P){return P.textContent}).join(`
`):g)),C};var Xm=/^(?:focusinfocus|focusoutblur)$/,eg=function(g){g.stopPropagation()};_.extend(_.event,{trigger:function(g,C,k,P){var H,U,V,me,ce,ye,Be,Xe,je=[k||Ae],Ct=re.call(g,"type")?g.type:g,Ht=re.call(g,"namespace")?g.namespace.split("."):[];if(U=Xe=V=k=k||Ae,!(k.nodeType===3||k.nodeType===8)&&!Xm.test(Ct+_.event.triggered)&&(Ct.indexOf(".")>-1&&(Ht=Ct.split("."),Ct=Ht.shift(),Ht.sort()),ce=Ct.indexOf(":")<0&&"on"+Ct,g=g[_.expando]?g:new _.Event(Ct,typeof g=="object"&&g),g.isTrigger=P?2:3,g.namespace=Ht.join("."),g.rnamespace=g.namespace?new RegExp("(^|\\.)"+Ht.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,g.result=void 0,g.target||(g.target=k),C=C==null?[g]:_.makeArray(C,[g]),Be=_.event.special[Ct]||{},!(!P&&Be.trigger&&Be.trigger.apply(k,C)===!1))){if(!P&&!Be.noBubble&&!Pe(k)){for(me=Be.delegateType||Ct,Xm.test(me+Ct)||(U=U.parentNode);U;U=U.parentNode)je.push(U),V=U;V===(k.ownerDocument||Ae)&&je.push(V.defaultView||V.parentWindow||h)}for(H=0;(U=je[H++])&&!g.isPropagationStopped();)Xe=U,g.type=H>1?me:Be.bindType||Ct,ye=(Yt.get(U,"events")||Object.create(null))[g.type]&&Yt.get(U,"handle"),ye&&ye.apply(U,C),ye=ce&&U[ce],ye&&ye.apply&&Yl(U)&&(g.result=ye.apply(U,C),g.result===!1&&g.preventDefault());return g.type=Ct,!P&&!g.isDefaultPrevented()&&(!Be._default||Be._default.apply(je.pop(),C)===!1)&&Yl(k)&&ce&&ae(k[Ct])&&!Pe(k)&&(V=k[ce],V&&(k[ce]=null),_.event.triggered=Ct,g.isPropagationStopped()&&Xe.addEventListener(Ct,eg),k[Ct](),g.isPropagationStopped()&&Xe.removeEventListener(Ct,eg),_.event.triggered=void 0,V&&(k[ce]=V)),g.result}},simulate:function(g,C,k){var P=_.extend(new _.Event,k,{type:g,isSimulated:!0});_.event.trigger(P,null,C)}}),_.fn.extend({trigger:function(g,C){return this.each(function(){_.event.trigger(g,C,this)})},triggerHandler:function(g,C){var k=this[0];if(k)return _.event.trigger(g,C,k,!0)}});var Gi=/\[\]$/,Bc=/\r?\n/g,Jm=/^(?:submit|button|image|reset|file)$/i,tg=/^(?:input|select|textarea|keygen)/i;function Qd(g,C,k,P){var H;if(Array.isArray(C))_.each(C,function(U,V){k||Gi.test(g)?P(g,V):Qd(g+"["+(typeof V=="object"&&V!=null?U:"")+"]",V,k,P)});else if(!k&&It(C)==="object")for(H in C)Qd(g+"["+H+"]",C[H],k,P);else P(g,C)}_.param=function(g,C){var k,P=[],H=function(U,V){var me=ae(V)?V():V;P[P.length]=encodeURIComponent(U)+"="+encodeURIComponent(me??"")};if(g==null)return"";if(Array.isArray(g)||g.jquery&&!_.isPlainObject(g))_.each(g,function(){H(this.name,this.value)});else for(k in g)Qd(k,g[k],C,H);return P.join("&")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var g=_.prop(this,"elements");return g?_.makeArray(g):this}).filter(function(){var g=this.type;return this.name&&!_(this).is(":disabled")&&tg.test(this.nodeName)&&!Jm.test(g)&&(this.checked||!jn.test(g))}).map(function(g,C){var k=_(this).val();return k==null?null:Array.isArray(k)?_.map(k,function(P){return{name:C.name,value:P.replace(Bc,`\r
`)}}):{name:C.name,value:k.replace(Bc,`\r
`)}}).get()}});var ng=/%20/g,gr=/#.*$/,tu=/([?&])_=[^&]*/,ek=/^(.*?):[ \t]*([^\r\n]*)$/mg,og=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Gy=/^(?:GET|HEAD)$/,DC=/^\/\//,wa={},ai={},Ea="*/".concat("*"),qi=Ae.createElement("a");qi.href=Bu.href;function Ki(g){return function(C,k){typeof C!="string"&&(k=C,C="*");var P,H=0,U=C.toLowerCase().match(eo)||[];if(ae(k))for(;P=U[H++];)P[0]==="+"?(P=P.slice(1)||"*",(g[P]=g[P]||[]).unshift(k)):(g[P]=g[P]||[]).push(k)}}function $t(g,C,k,P){var H={},U=g===ai;function V(me){var ce;return H[me]=!0,_.each(g[me]||[],function(ye,Be){var Xe=Be(C,k,P);if(typeof Xe=="string"&&!U&&!H[Xe])return C.dataTypes.unshift(Xe),V(Xe),!1;if(U)return!(ce=Xe)}),ce}return V(C.dataTypes[0])||!H["*"]&&V("*")}function Zm(g,C){var k,P,H=_.ajaxSettings.flatOptions||{};for(k in C)C[k]!==void 0&&((H[k]?g:P||(P={}))[k]=C[k]);return P&&_.extend(!0,g,P),g}function an(g,C,k){for(var P,H,U,V,me=g.contents,ce=g.dataTypes;ce[0]==="*";)ce.shift(),P===void 0&&(P=g.mimeType||C.getResponseHeader("Content-Type"));if(P){for(H in me)if(me[H]&&me[H].test(P)){ce.unshift(H);break}}if(ce[0]in k)U=ce[0];else{for(H in k){if(!ce[0]||g.converters[H+" "+ce[0]]){U=H;break}V||(V=H)}U=U||V}if(U)return U!==ce[0]&&ce.unshift(U),k[U]}function Us(g,C,k,P){var H,U,V,me,ce,ye={},Be=g.dataTypes.slice();if(Be[1])for(V in g.converters)ye[V.toLowerCase()]=g.converters[V];for(U=Be.shift();U;)if(g.responseFields[U]&&(k[g.responseFields[U]]=C),!ce&&P&&g.dataFilter&&(C=g.dataFilter(C,g.dataType)),ce=U,U=Be.shift(),U){if(U==="*")U=ce;else if(ce!=="*"&&ce!==U){if(V=ye[ce+" "+U]||ye["* "+U],!V){for(H in ye)if(me=H.split(" "),me[1]===U&&(V=ye[ce+" "+me[0]]||ye["* "+me[0]],V)){V===!0?V=ye[H]:ye[H]!==!0&&(U=me[0],Be.unshift(me[1]));break}}if(V!==!0)if(V&&g.throws)C=V(C);else try{C=V(C)}catch(Xe){return{state:"parsererror",error:V?Xe:"No conversion from "+ce+" to "+U}}}}return{state:"success",data:C}}_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Bu.href,type:"GET",isLocal:og.test(Bu.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ea,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(g,C){return C?Zm(Zm(g,_.ajaxSettings),C):Zm(_.ajaxSettings,g)},ajaxPrefilter:Ki(wa),ajaxTransport:Ki(ai),ajax:function(g,C){typeof g=="object"&&(C=g,g=void 0),C=C||{};var k,P,H,U,V,me,ce,ye,Be,Xe,je=_.ajaxSetup({},C),Ct=je.context||je,Ht=je.context&&(Ct.nodeType||Ct.jquery)?_(Ct):_.event,go=_.Deferred(),Un=_.Callbacks("once memory"),Do=je.statusCode||{},vs={},ci={},li="canceled",Tn={readyState:0,getResponseHeader:function(bo){var Ao;if(ce){if(!U)for(U={};Ao=ek.exec(H);)U[Ao[1].toLowerCase()+" "]=(U[Ao[1].toLowerCase()+" "]||[]).concat(Ao[2]);Ao=U[bo.toLowerCase()+" "]}return Ao==null?null:Ao.join(", ")},getAllResponseHeaders:function(){return ce?H:null},setRequestHeader:function(bo,Ao){return ce==null&&(bo=ci[bo.toLowerCase()]=ci[bo.toLowerCase()]||bo,vs[bo]=Ao),this},overrideMimeType:function(bo){return ce==null&&(je.mimeType=bo),this},statusCode:function(bo){var Ao;if(bo)if(ce)Tn.always(bo[Tn.status]);else for(Ao in bo)Do[Ao]=[Do[Ao],bo[Ao]];return this},abort:function(bo){var Ao=bo||li;return k&&k.abort(Ao),gn(0,Ao),this}};if(go.promise(Tn),je.url=((g||je.url||Bu.href)+"").replace(DC,Bu.protocol+"//"),je.type=C.method||C.type||je.method||je.type,je.dataTypes=(je.dataType||"*").toLowerCase().match(eo)||[""],je.crossDomain==null){me=Ae.createElement("a");try{me.href=je.url,me.href=me.href,je.crossDomain=qi.protocol+"//"+qi.host!=me.protocol+"//"+me.host}catch{je.crossDomain=!0}}if(je.data&&je.processData&&typeof je.data!="string"&&(je.data=_.param(je.data,je.traditional)),$t(wa,je,C,Tn),ce)return Tn;ye=_.event&&je.global,ye&&_.active++===0&&_.event.trigger("ajaxStart"),je.type=je.type.toUpperCase(),je.hasContent=!Gy.test(je.type),P=je.url.replace(gr,""),je.hasContent?je.data&&je.processData&&(je.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(je.data=je.data.replace(ng,"+")):(Xe=je.url.slice(P.length),je.data&&(je.processData||typeof je.data=="string")&&(P+=(Ym.test(P)?"&":"?")+je.data,delete je.data),je.cache===!1&&(P=P.replace(tu,"$1"),Xe=(Ym.test(P)?"&":"?")+"_="+Sa.guid+++Xe),je.url=P+Xe),je.ifModified&&(_.lastModified[P]&&Tn.setRequestHeader("If-Modified-Since",_.lastModified[P]),_.etag[P]&&Tn.setRequestHeader("If-None-Match",_.etag[P])),(je.data&&je.hasContent&&je.contentType!==!1||C.contentType)&&Tn.setRequestHeader("Content-Type",je.contentType),Tn.setRequestHeader("Accept",je.dataTypes[0]&&je.accepts[je.dataTypes[0]]?je.accepts[je.dataTypes[0]]+(je.dataTypes[0]!=="*"?", "+Ea+"; q=0.01":""):je.accepts["*"]);for(Be in je.headers)Tn.setRequestHeader(Be,je.headers[Be]);if(je.beforeSend&&(je.beforeSend.call(Ct,Tn,je)===!1||ce))return Tn.abort();if(li="abort",Un.add(je.complete),Tn.done(je.success),Tn.fail(je.error),k=$t(ai,je,C,Tn),!k)gn(-1,"No Transport");else{if(Tn.readyState=1,ye&&Ht.trigger("ajaxSend",[Tn,je]),ce)return Tn;je.async&&je.timeout>0&&(V=h.setTimeout(function(){Tn.abort("timeout")},je.timeout));try{ce=!1,k.send(vs,gn)}catch(bo){if(ce)throw bo;gn(-1,bo)}}function gn(bo,Ao,tf,Lu){var xs,zs,Ta,ic,Kr,ki=Ao;ce||(ce=!0,V&&h.clearTimeout(V),k=void 0,H=Lu||"",Tn.readyState=bo>0?4:0,xs=bo>=200&&bo<300||bo===304,tf&&(ic=an(je,Tn,tf)),!xs&&_.inArray("script",je.dataTypes)>-1&&_.inArray("json",je.dataTypes)<0&&(je.converters["text script"]=function(){}),ic=Us(je,ic,Tn,xs),xs?(je.ifModified&&(Kr=Tn.getResponseHeader("Last-Modified"),Kr&&(_.lastModified[P]=Kr),Kr=Tn.getResponseHeader("etag"),Kr&&(_.etag[P]=Kr)),bo===204||je.type==="HEAD"?ki="nocontent":bo===304?ki="notmodified":(ki=ic.state,zs=ic.data,Ta=ic.error,xs=!Ta)):(Ta=ki,(bo||!ki)&&(ki="error",bo<0&&(bo=0))),Tn.status=bo,Tn.statusText=(Ao||ki)+"",xs?go.resolveWith(Ct,[zs,ki,Tn]):go.rejectWith(Ct,[Tn,ki,Ta]),Tn.statusCode(Do),Do=void 0,ye&&Ht.trigger(xs?"ajaxSuccess":"ajaxError",[Tn,je,xs?zs:Ta]),Un.fireWith(Ct,[Tn,ki]),ye&&(Ht.trigger("ajaxComplete",[Tn,je]),--_.active||_.event.trigger("ajaxStop")))}return Tn},getJSON:function(g,C,k){return _.get(g,C,k,"json")},getScript:function(g,C){return _.get(g,void 0,C,"script")}}),_.each(["get","post"],function(g,C){_[C]=function(k,P,H,U){return ae(P)&&(U=U||H,H=P,P=void 0),_.ajax(_.extend({url:k,type:C,dataType:U,data:P,success:H},_.isPlainObject(k)&&k))}}),_.ajaxPrefilter(function(g){var C;for(C in g.headers)C.toLowerCase()==="content-type"&&(g.contentType=g.headers[C]||"")}),_._evalUrl=function(g,C,k){return _.ajax({url:g,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(P){_.globalEval(P,C,k)}})},_.fn.extend({wrapAll:function(g){var C;return this[0]&&(ae(g)&&(g=g.call(this[0])),C=_(g,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&C.insertBefore(this[0]),C.map(function(){for(var k=this;k.firstElementChild;)k=k.firstElementChild;return k}).append(this)),this},wrapInner:function(g){return ae(g)?this.each(function(C){_(this).wrapInner(g.call(this,C))}):this.each(function(){var C=_(this),k=C.contents();k.length?k.wrapAll(g):C.append(g)})},wrap:function(g){var C=ae(g);return this.each(function(k){_(this).wrapAll(C?g.call(this,k):g)})},unwrap:function(g){return this.parent(g).not("body").each(function(){_(this).replaceWith(this.childNodes)}),this}}),_.expr.pseudos.hidden=function(g){return!_.expr.pseudos.visible(g)},_.expr.pseudos.visible=function(g){return!!(g.offsetWidth||g.offsetHeight||g.getClientRects().length)},_.ajaxSettings.xhr=function(){try{return new h.XMLHttpRequest}catch{}};var sg={0:200,1223:204},_o=_.ajaxSettings.xhr();ie.cors=!!_o&&"withCredentials"in _o,ie.ajax=_o=!!_o,_.ajaxTransport(function(g){var C,k;if(ie.cors||_o&&!g.crossDomain)return{send:function(P,H){var U,V=g.xhr();if(V.open(g.type,g.url,g.async,g.username,g.password),g.xhrFields)for(U in g.xhrFields)V[U]=g.xhrFields[U];g.mimeType&&V.overrideMimeType&&V.overrideMimeType(g.mimeType),!g.crossDomain&&!P["X-Requested-With"]&&(P["X-Requested-With"]="XMLHttpRequest");for(U in P)V.setRequestHeader(U,P[U]);C=function(me){return function(){C&&(C=k=V.onload=V.onerror=V.onabort=V.ontimeout=V.onreadystatechange=null,me==="abort"?V.abort():me==="error"?typeof V.status!="number"?H(0,"error"):H(V.status,V.statusText):H(sg[V.status]||V.status,V.statusText,(V.responseType||"text")!=="text"||typeof V.responseText!="string"?{binary:V.response}:{text:V.responseText},V.getAllResponseHeaders()))}},V.onload=C(),k=V.onerror=V.ontimeout=C("error"),V.onabort!==void 0?V.onabort=k:V.onreadystatechange=function(){V.readyState===4&&h.setTimeout(function(){C&&k()})},C=C("abort");try{V.send(g.hasContent&&g.data||null)}catch(me){if(C)throw me}},abort:function(){C&&C()}}}),_.ajaxPrefilter(function(g){g.crossDomain&&(g.contents.script=!1)}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(g){return _.globalEval(g),g}}}),_.ajaxPrefilter("script",function(g){g.cache===void 0&&(g.cache=!1),g.crossDomain&&(g.type="GET")}),_.ajaxTransport("script",function(g){if(g.crossDomain||g.scriptAttrs){var C,k;return{send:function(P,H){C=_("<script>").attr(g.scriptAttrs||{}).prop({charset:g.scriptCharset,src:g.url}).on("load error",k=function(U){C.remove(),k=null,U&&H(U.type==="error"?404:200,U.type)}),Ae.head.appendChild(C[0])},abort:function(){k&&k()}}}});var qy=[],ef=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var g=qy.pop()||_.expando+"_"+Sa.guid++;return this[g]=!0,g}}),_.ajaxPrefilter("json jsonp",function(g,C,k){var P,H,U,V=g.jsonp!==!1&&(ef.test(g.url)?"url":typeof g.data=="string"&&(g.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&ef.test(g.data)&&"data");if(V||g.dataTypes[0]==="jsonp")return P=g.jsonpCallback=ae(g.jsonpCallback)?g.jsonpCallback():g.jsonpCallback,V?g[V]=g[V].replace(ef,"$1"+P):g.jsonp!==!1&&(g.url+=(Ym.test(g.url)?"&":"?")+g.jsonp+"="+P),g.converters["script json"]=function(){return U||_.error(P+" was not called"),U[0]},g.dataTypes[0]="json",H=h[P],h[P]=function(){U=arguments},k.always(function(){H===void 0?_(h).removeProp(P):h[P]=H,g[P]&&(g.jsonpCallback=C.jsonpCallback,qy.push(P)),U&&ae(H)&&H(U[0]),U=H=void 0}),"script"}),ie.createHTMLDocument=function(){var g=Ae.implementation.createHTMLDocument("").body;return g.innerHTML="<form></form><form></form>",g.childNodes.length===2}(),_.parseHTML=function(g,C,k){if(typeof g!="string")return[];typeof C=="boolean"&&(k=C,C=!1);var P,H,U;return C||(ie.createHTMLDocument?(C=Ae.implementation.createHTMLDocument(""),P=C.createElement("base"),P.href=Ae.location.href,C.head.appendChild(P)):C=Ae),H=uo.exec(g),U=!k&&[],H?[C.createElement(H[1])]:(H=Hm([g],C,U),U&&U.length&&_(U).remove(),_.merge([],H.childNodes))},_.fn.load=function(g,C,k){var P,H,U,V=this,me=g.indexOf(" ");return me>-1&&(P=sc(g.slice(me)),g=g.slice(0,me)),ae(C)?(k=C,C=void 0):C&&typeof C=="object"&&(H="POST"),V.length>0&&_.ajax({url:g,type:H||"GET",dataType:"html",data:C}).done(function(ce){U=arguments,V.html(P?_("<div>").append(_.parseHTML(ce)).find(P):ce)}).always(k&&function(ce,ye){V.each(function(){k.apply(this,U||[ce.responseText,ye,ce])})}),this},_.expr.pseudos.animated=function(g){return _.grep(_.timers,function(C){return g===C.elem}).length},_.offset={setOffset:function(g,C,k){var P,H,U,V,me,ce,ye,Be=_.css(g,"position"),Xe=_(g),je={};Be==="static"&&(g.style.position="relative"),me=Xe.offset(),U=_.css(g,"top"),ce=_.css(g,"left"),ye=(Be==="absolute"||Be==="fixed")&&(U+ce).indexOf("auto")>-1,ye?(P=Xe.position(),V=P.top,H=P.left):(V=parseFloat(U)||0,H=parseFloat(ce)||0),ae(C)&&(C=C.call(g,k,_.extend({},me))),C.top!=null&&(je.top=C.top-me.top+V),C.left!=null&&(je.left=C.left-me.left+H),"using"in C?C.using.call(g,je):Xe.css(je)}},_.fn.extend({offset:function(g){if(arguments.length)return g===void 0?this:this.each(function(H){_.offset.setOffset(this,g,H)});var C,k,P=this[0];if(P)return P.getClientRects().length?(C=P.getBoundingClientRect(),k=P.ownerDocument.defaultView,{top:C.top+k.pageYOffset,left:C.left+k.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var g,C,k,P=this[0],H={top:0,left:0};if(_.css(P,"position")==="fixed")C=P.getBoundingClientRect();else{for(C=this.offset(),k=P.ownerDocument,g=P.offsetParent||k.documentElement;g&&(g===k.body||g===k.documentElement)&&_.css(g,"position")==="static";)g=g.parentNode;g&&g!==P&&g.nodeType===1&&(H=_(g).offset(),H.top+=_.css(g,"borderTopWidth",!0),H.left+=_.css(g,"borderLeftWidth",!0))}return{top:C.top-H.top-_.css(P,"marginTop",!0),left:C.left-H.left-_.css(P,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var g=this.offsetParent;g&&_.css(g,"position")==="static";)g=g.offsetParent;return g||us})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(g,C){var k=C==="pageYOffset";_.fn[g]=function(P){return qr(this,function(H,U,V){var me;if(Pe(H)?me=H:H.nodeType===9&&(me=H.defaultView),V===void 0)return me?me[C]:H[U];me?me.scrollTo(k?me.pageXOffset:V,k?V:me.pageYOffset):H[U]=V},g,P,arguments.length)}}),_.each(["top","left"],function(g,C){_.cssHooks[C]=Wm(ie.pixelPosition,function(k,P){if(P)return P=nt(k,C),Vi.test(P)?_(k).position()[C]+"px":P})}),_.each({Height:"height",Width:"width"},function(g,C){_.each({padding:"inner"+g,content:C,"":"outer"+g},function(k,P){_.fn[P]=function(H,U){var V=arguments.length&&(k||typeof H!="boolean"),me=k||(H===!0||U===!0?"margin":"border");return qr(this,function(ce,ye,Be){var Xe;return Pe(ce)?P.indexOf("outer")===0?ce["inner"+g]:ce.document.documentElement["client"+g]:ce.nodeType===9?(Xe=ce.documentElement,Math.max(ce.body["scroll"+g],Xe["scroll"+g],ce.body["offset"+g],Xe["offset"+g],Xe["client"+g])):Be===void 0?_.css(ce,ye,me):_.style(ce,ye,Be,me)},C,V?H:void 0,V)}})}),_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(g,C){_.fn[C]=function(k){return this.on(C,k)}}),_.fn.extend({bind:function(g,C,k){return this.on(g,null,C,k)},unbind:function(g,C){return this.off(g,null,C)},delegate:function(g,C,k,P){return this.on(C,g,k,P)},undelegate:function(g,C,k){return arguments.length===1?this.off(g,"**"):this.off(C,g||"**",k)},hover:function(g,C){return this.on("mouseenter",g).on("mouseleave",C||g)}}),_.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(g,C){_.fn[C]=function(k,P){return arguments.length>0?this.on(C,null,k,P):this.trigger(C)}});var Ky=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;_.proxy=function(g,C){var k,P,H;if(typeof C=="string"&&(k=g[C],C=g,g=k),!!ae(g))return P=R.call(arguments,2),H=function(){return g.apply(C||this,P.concat(R.call(arguments)))},H.guid=g.guid=g.guid||_.guid++,H},_.holdReady=function(g){g?_.readyWait++:_.ready(!0)},_.isArray=Array.isArray,_.parseJSON=JSON.parse,_.nodeName=nn,_.isFunction=ae,_.isWindow=Pe,_.camelCase=ls,_.type=It,_.now=Date.now,_.isNumeric=function(g){var C=_.type(g);return(C==="number"||C==="string")&&!isNaN(g-parseFloat(g))},_.trim=function(g){return g==null?"":(g+"").replace(Ky,"$1")};var rn=h.jQuery,Fu=h.$;return _.noConflict=function(g){return h.$===_&&(h.$=Fu),g&&h.jQuery===_&&(h.jQuery=rn),_},typeof v>"u"&&(h.jQuery=h.$=_),_})})(mX);var pJ=mX.exports;const oo=Dq(pJ);function pX(x,h){return function(){return x.apply(h,arguments)}}const{toString:hJ}=Object.prototype,{getPrototypeOf:Rq}=Object,z$=(x=>h=>{const v=hJ.call(h);return x[v]||(x[v]=v.slice(8,-1).toLowerCase())})(Object.create(null)),ku=x=>(x=x.toLowerCase(),h=>z$(h)===x),V$=x=>h=>typeof h===x,{isArray:TC}=Array,XA=V$("undefined");function gJ(x){return x!==null&&!XA(x)&&x.constructor!==null&&!XA(x.constructor)&&gl(x.constructor.isBuffer)&&x.constructor.isBuffer(x)}const hX=ku("ArrayBuffer");function bJ(x){let h;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?h=ArrayBuffer.isView(x):h=x&&x.buffer&&hX(x.buffer),h}const yJ=V$("string"),gl=V$("function"),gX=V$("number"),W$=x=>x!==null&&typeof x=="object",vJ=x=>x===!0||x===!1,B$=x=>{if(z$(x)!=="object")return!1;const h=Rq(x);return(h===null||h===Object.prototype||Object.getPrototypeOf(h)===null)&&!(Symbol.toStringTag in x)&&!(Symbol.iterator in x)},xJ=ku("Date"),CJ=ku("File"),SJ=ku("Blob"),wJ=ku("FileList"),EJ=x=>W$(x)&&gl(x.pipe),TJ=x=>{let h;return x&&(typeof FormData=="function"&&x instanceof FormData||gl(x.append)&&((h=z$(x))==="formdata"||h==="object"&&gl(x.toString)&&x.toString()==="[object FormData]"))},_J=ku("URLSearchParams"),[AJ,kJ,OJ,DJ]=["ReadableStream","Request","Response","Headers"].map(ku),RJ=x=>x.trim?x.trim():x.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function JA(x,h,{allOwnKeys:v=!1}={}){if(x===null||typeof x>"u")return;let w,E;if(typeof x!="object"&&(x=[x]),TC(x))for(w=0,E=x.length;w<E;w++)h.call(null,x[w],w,x);else{const R=v?Object.getOwnPropertyNames(x):Object.keys(x),I=R.length;let j;for(w=0;w<I;w++)j=R[w],h.call(null,x[j],j,x)}}function bX(x,h){h=h.toLowerCase();const v=Object.keys(x);let w=v.length,E;for(;w-- >0;)if(E=v[w],h===E.toLowerCase())return E;return null}const Ly=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yX=x=>!XA(x)&&x!==Ly;function hq(){const{caseless:x}=yX(this)&&this||{},h={},v=(w,E)=>{const R=x&&bX(h,E)||E;B$(h[R])&&B$(w)?h[R]=hq(h[R],w):B$(w)?h[R]=hq({},w):TC(w)?h[R]=w.slice():h[R]=w};for(let w=0,E=arguments.length;w<E;w++)arguments[w]&&JA(arguments[w],v);return h}const NJ=(x,h,v,{allOwnKeys:w}={})=>(JA(h,(E,R)=>{v&&gl(E)?x[R]=pX(E,v):x[R]=E},{allOwnKeys:w}),x),PJ=x=>(x.charCodeAt(0)===65279&&(x=x.slice(1)),x),MJ=(x,h,v,w)=>{x.prototype=Object.create(h.prototype,w),x.prototype.constructor=x,Object.defineProperty(x,"super",{value:h.prototype}),v&&Object.assign(x.prototype,v)},IJ=(x,h,v,w)=>{let E,R,I;const j={};if(h=h||{},x==null)return h;do{for(E=Object.getOwnPropertyNames(x),R=E.length;R-- >0;)I=E[R],(!w||w(I,x,h))&&!j[I]&&(h[I]=x[I],j[I]=!0);x=v!==!1&&Rq(x)}while(x&&(!v||v(x,h))&&x!==Object.prototype);return h},BJ=(x,h,v)=>{x=String(x),(v===void 0||v>x.length)&&(v=x.length),v-=h.length;const w=x.indexOf(h,v);return w!==-1&&w===v},FJ=x=>{if(!x)return null;if(TC(x))return x;let h=x.length;if(!gX(h))return null;const v=new Array(h);for(;h-- >0;)v[h]=x[h];return v},LJ=(x=>h=>x&&h instanceof x)(typeof Uint8Array<"u"&&Rq(Uint8Array)),$J=(x,h)=>{const w=(x&&x[Symbol.iterator]).call(x);let E;for(;(E=w.next())&&!E.done;){const R=E.value;h.call(x,R[0],R[1])}},jJ=(x,h)=>{let v;const w=[];for(;(v=x.exec(h))!==null;)w.push(v);return w},HJ=ku("HTMLFormElement"),UJ=x=>x.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(v,w,E){return w.toUpperCase()+E}),IY=(({hasOwnProperty:x})=>(h,v)=>x.call(h,v))(Object.prototype),zJ=ku("RegExp"),vX=(x,h)=>{const v=Object.getOwnPropertyDescriptors(x),w={};JA(v,(E,R)=>{let I;(I=h(E,R,x))!==!1&&(w[R]=I||E)}),Object.defineProperties(x,w)},VJ=x=>{vX(x,(h,v)=>{if(gl(x)&&["arguments","caller","callee"].indexOf(v)!==-1)return!1;const w=x[v];if(gl(w)){if(h.enumerable=!1,"writable"in h){h.writable=!1;return}h.set||(h.set=()=>{throw Error("Can not rewrite read-only method '"+v+"'")})}})},WJ=(x,h)=>{const v={},w=E=>{E.forEach(R=>{v[R]=!0})};return TC(x)?w(x):w(String(x).split(h)),v},GJ=()=>{},qJ=(x,h)=>x!=null&&Number.isFinite(x=+x)?x:h,cq="abcdefghijklmnopqrstuvwxyz",BY="0123456789",xX={DIGIT:BY,ALPHA:cq,ALPHA_DIGIT:cq+cq.toUpperCase()+BY},KJ=(x=16,h=xX.ALPHA_DIGIT)=>{let v="";const{length:w}=h;for(;x--;)v+=h[Math.random()*w|0];return v};function YJ(x){return!!(x&&gl(x.append)&&x[Symbol.toStringTag]==="FormData"&&x[Symbol.iterator])}const XJ=x=>{const h=new Array(10),v=(w,E)=>{if(W$(w)){if(h.indexOf(w)>=0)return;if(!("toJSON"in w)){h[E]=w;const R=TC(w)?[]:{};return JA(w,(I,j)=>{const J=v(I,E+1);!XA(J)&&(R[j]=J)}),h[E]=void 0,R}}return w};return v(x,0)},JJ=ku("AsyncFunction"),ZJ=x=>x&&(W$(x)||gl(x))&&gl(x.then)&&gl(x.catch),CX=((x,h)=>x?setImmediate:h?((v,w)=>(Ly.addEventListener("message",({source:E,data:R})=>{E===Ly&&R===v&&w.length&&w.shift()()},!1),E=>{w.push(E),Ly.postMessage(v,"*")}))(`axios@${Math.random()}`,[]):v=>setTimeout(v))(typeof setImmediate=="function",gl(Ly.postMessage)),QJ=typeof queueMicrotask<"u"?queueMicrotask.bind(Ly):typeof process<"u"&&process.nextTick||CX,Ye={isArray:TC,isArrayBuffer:hX,isBuffer:gJ,isFormData:TJ,isArrayBufferView:bJ,isString:yJ,isNumber:gX,isBoolean:vJ,isObject:W$,isPlainObject:B$,isReadableStream:AJ,isRequest:kJ,isResponse:OJ,isHeaders:DJ,isUndefined:XA,isDate:xJ,isFile:CJ,isBlob:SJ,isRegExp:zJ,isFunction:gl,isStream:EJ,isURLSearchParams:_J,isTypedArray:LJ,isFileList:wJ,forEach:JA,merge:hq,extend:NJ,trim:RJ,stripBOM:PJ,inherits:MJ,toFlatObject:IJ,kindOf:z$,kindOfTest:ku,endsWith:BJ,toArray:FJ,forEachEntry:$J,matchAll:jJ,isHTMLForm:HJ,hasOwnProperty:IY,hasOwnProp:IY,reduceDescriptors:vX,freezeMethods:VJ,toObjectSet:WJ,toCamelCase:UJ,noop:GJ,toFiniteNumber:qJ,findKey:bX,global:Ly,isContextDefined:yX,ALPHABET:xX,generateString:KJ,isSpecCompliantForm:YJ,toJSONObject:XJ,isAsyncFn:JJ,isThenable:ZJ,setImmediate:CX,asap:QJ};function io(x,h,v,w,E){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=x,this.name="AxiosError",h&&(this.code=h),v&&(this.config=v),w&&(this.request=w),E&&(this.response=E,this.status=E.status?E.status:null)}Ye.inherits(io,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ye.toJSONObject(this.config),code:this.code,status:this.status}}});const SX=io.prototype,wX={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(x=>{wX[x]={value:x}});Object.defineProperties(io,wX);Object.defineProperty(SX,"isAxiosError",{value:!0});io.from=(x,h,v,w,E,R)=>{const I=Object.create(SX);return Ye.toFlatObject(x,I,function(J){return J!==Error.prototype},j=>j!=="isAxiosError"),io.call(I,x.message,h,v,w,E),I.cause=x,I.name=x.name,R&&Object.assign(I,R),I};const eZ=null;function gq(x){return Ye.isPlainObject(x)||Ye.isArray(x)}function EX(x){return Ye.endsWith(x,"[]")?x.slice(0,-2):x}function FY(x,h,v){return x?x.concat(h).map(function(E,R){return E=EX(E),!v&&R?"["+E+"]":E}).join(v?".":""):h}function tZ(x){return Ye.isArray(x)&&!x.some(gq)}const nZ=Ye.toFlatObject(Ye,{},null,function(h){return/^is[A-Z]/.test(h)});function G$(x,h,v){if(!Ye.isObject(x))throw new TypeError("target must be an object");h=h||new FormData,v=Ye.toFlatObject(v,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ae,Pe){return!Ye.isUndefined(Pe[ae])});const w=v.metaTokens,E=v.visitor||oe,R=v.dots,I=v.indexes,J=(v.Blob||typeof Blob<"u"&&Blob)&&Ye.isSpecCompliantForm(h);if(!Ye.isFunction(E))throw new TypeError("visitor must be a function");function Q(ie){if(ie===null)return"";if(Ye.isDate(ie))return ie.toISOString();if(!J&&Ye.isBlob(ie))throw new io("Blob is not supported. Use a Buffer instead.");return Ye.isArrayBuffer(ie)||Ye.isTypedArray(ie)?J&&typeof Blob=="function"?new Blob([ie]):Buffer.from(ie):ie}function oe(ie,ae,Pe){let Ae=ie;if(ie&&!Pe&&typeof ie=="object"){if(Ye.endsWith(ae,"{}"))ae=w?ae:ae.slice(0,-2),ie=JSON.stringify(ie);else if(Ye.isArray(ie)&&tZ(ie)||(Ye.isFileList(ie)||Ye.endsWith(ae,"[]"))&&(Ae=Ye.toArray(ie)))return ae=EX(ae),Ae.forEach(function(te,It){!(Ye.isUndefined(te)||te===null)&&h.append(I===!0?FY([ae],It,R):I===null?ae:ae+"[]",Q(te))}),!1}return gq(ie)?!0:(h.append(FY(Pe,ae,R),Q(ie)),!1)}const re=[],Ce=Object.assign(nZ,{defaultVisitor:oe,convertValue:Q,isVisitable:gq});function Le(ie,ae){if(!Ye.isUndefined(ie)){if(re.indexOf(ie)!==-1)throw Error("Circular reference detected in "+ae.join("."));re.push(ie),Ye.forEach(ie,function(Ae,Qe){(!(Ye.isUndefined(Ae)||Ae===null)&&E.call(h,Ae,Ye.isString(Qe)?Qe.trim():Qe,ae,Ce))===!0&&Le(Ae,ae?ae.concat(Qe):[Qe])}),re.pop()}}if(!Ye.isObject(x))throw new TypeError("data must be an object");return Le(x),h}function LY(x){const h={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(x).replace(/[!'()~]|%20|%00/g,function(w){return h[w]})}function Nq(x,h){this._pairs=[],x&&G$(x,this,h)}const TX=Nq.prototype;TX.append=function(h,v){this._pairs.push([h,v])};TX.toString=function(h){const v=h?function(w){return h.call(this,w,LY)}:LY;return this._pairs.map(function(E){return v(E[0])+"="+v(E[1])},"").join("&")};function oZ(x){return encodeURIComponent(x).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _X(x,h,v){if(!h)return x;const w=v&&v.encode||oZ,E=v&&v.serialize;let R;if(E?R=E(h,v):R=Ye.isURLSearchParams(h)?h.toString():new Nq(h,v).toString(w),R){const I=x.indexOf("#");I!==-1&&(x=x.slice(0,I)),x+=(x.indexOf("?")===-1?"?":"&")+R}return x}class $Y{constructor(){this.handlers=[]}use(h,v,w){return this.handlers.push({fulfilled:h,rejected:v,synchronous:w?w.synchronous:!1,runWhen:w?w.runWhen:null}),this.handlers.length-1}eject(h){this.handlers[h]&&(this.handlers[h]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(h){Ye.forEach(this.handlers,function(w){w!==null&&h(w)})}}const AX={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sZ=typeof URLSearchParams<"u"?URLSearchParams:Nq,rZ=typeof FormData<"u"?FormData:null,iZ=typeof Blob<"u"?Blob:null,aZ={isBrowser:!0,classes:{URLSearchParams:sZ,FormData:rZ,Blob:iZ},protocols:["http","https","file","blob","url","data"]},Pq=typeof window<"u"&&typeof document<"u",bq=typeof navigator=="object"&&navigator||void 0,cZ=Pq&&(!bq||["ReactNative","NativeScript","NS"].indexOf(bq.product)<0),lZ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",uZ=Pq&&window.location.href||"http://localhost",dZ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pq,hasStandardBrowserEnv:cZ,hasStandardBrowserWebWorkerEnv:lZ,navigator:bq,origin:uZ},Symbol.toStringTag,{value:"Module"})),Pc={...dZ,...aZ};function fZ(x,h){return G$(x,new Pc.classes.URLSearchParams,Object.assign({visitor:function(v,w,E,R){return Pc.isNode&&Ye.isBuffer(v)?(this.append(w,v.toString("base64")),!1):R.defaultVisitor.apply(this,arguments)}},h))}function mZ(x){return Ye.matchAll(/\w+|\[(\w*)]/g,x).map(h=>h[0]==="[]"?"":h[1]||h[0])}function pZ(x){const h={},v=Object.keys(x);let w;const E=v.length;let R;for(w=0;w<E;w++)R=v[w],h[R]=x[R];return h}function kX(x){function h(v,w,E,R){let I=v[R++];if(I==="__proto__")return!0;const j=Number.isFinite(+I),J=R>=v.length;return I=!I&&Ye.isArray(E)?E.length:I,J?(Ye.hasOwnProp(E,I)?E[I]=[E[I],w]:E[I]=w,!j):((!E[I]||!Ye.isObject(E[I]))&&(E[I]=[]),h(v,w,E[I],R)&&Ye.isArray(E[I])&&(E[I]=pZ(E[I])),!j)}if(Ye.isFormData(x)&&Ye.isFunction(x.entries)){const v={};return Ye.forEachEntry(x,(w,E)=>{h(mZ(w),E,v,0)}),v}return null}function hZ(x,h,v){if(Ye.isString(x))try{return(h||JSON.parse)(x),Ye.trim(x)}catch(w){if(w.name!=="SyntaxError")throw w}return(0,JSON.stringify)(x)}const ZA={transitional:AX,adapter:["xhr","http","fetch"],transformRequest:[function(h,v){const w=v.getContentType()||"",E=w.indexOf("application/json")>-1,R=Ye.isObject(h);if(R&&Ye.isHTMLForm(h)&&(h=new FormData(h)),Ye.isFormData(h))return E?JSON.stringify(kX(h)):h;if(Ye.isArrayBuffer(h)||Ye.isBuffer(h)||Ye.isStream(h)||Ye.isFile(h)||Ye.isBlob(h)||Ye.isReadableStream(h))return h;if(Ye.isArrayBufferView(h))return h.buffer;if(Ye.isURLSearchParams(h))return v.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),h.toString();let j;if(R){if(w.indexOf("application/x-www-form-urlencoded")>-1)return fZ(h,this.formSerializer).toString();if((j=Ye.isFileList(h))||w.indexOf("multipart/form-data")>-1){const J=this.env&&this.env.FormData;return G$(j?{"files[]":h}:h,J&&new J,this.formSerializer)}}return R||E?(v.setContentType("application/json",!1),hZ(h)):h}],transformResponse:[function(h){const v=this.transitional||ZA.transitional,w=v&&v.forcedJSONParsing,E=this.responseType==="json";if(Ye.isResponse(h)||Ye.isReadableStream(h))return h;if(h&&Ye.isString(h)&&(w&&!this.responseType||E)){const I=!(v&&v.silentJSONParsing)&&E;try{return JSON.parse(h)}catch(j){if(I)throw j.name==="SyntaxError"?io.from(j,io.ERR_BAD_RESPONSE,this,null,this.response):j}}return h}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pc.classes.FormData,Blob:Pc.classes.Blob},validateStatus:function(h){return h>=200&&h<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ye.forEach(["delete","get","head","post","put","patch"],x=>{ZA.headers[x]={}});const gZ=Ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bZ=x=>{const h={};let v,w,E;return x&&x.split(`
`).forEach(function(I){E=I.indexOf(":"),v=I.substring(0,E).trim().toLowerCase(),w=I.substring(E+1).trim(),!(!v||h[v]&&gZ[v])&&(v==="set-cookie"?h[v]?h[v].push(w):h[v]=[w]:h[v]=h[v]?h[v]+", "+w:w)}),h},jY=Symbol("internals");function WA(x){return x&&String(x).trim().toLowerCase()}function F$(x){return x===!1||x==null?x:Ye.isArray(x)?x.map(F$):String(x)}function yZ(x){const h=Object.create(null),v=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let w;for(;w=v.exec(x);)h[w[1]]=w[2];return h}const vZ=x=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(x.trim());function lq(x,h,v,w,E){if(Ye.isFunction(w))return w.call(this,h,v);if(E&&(h=v),!!Ye.isString(h)){if(Ye.isString(w))return h.indexOf(w)!==-1;if(Ye.isRegExp(w))return w.test(h)}}function xZ(x){return x.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(h,v,w)=>v.toUpperCase()+w)}function CZ(x,h){const v=Ye.toCamelCase(" "+h);["get","set","has"].forEach(w=>{Object.defineProperty(x,w+v,{value:function(E,R,I){return this[w].call(this,h,E,R,I)},configurable:!0})})}class Mc{constructor(h){h&&this.set(h)}set(h,v,w){const E=this;function R(j,J,Q){const oe=WA(J);if(!oe)throw new Error("header name must be a non-empty string");const re=Ye.findKey(E,oe);(!re||E[re]===void 0||Q===!0||Q===void 0&&E[re]!==!1)&&(E[re||J]=F$(j))}const I=(j,J)=>Ye.forEach(j,(Q,oe)=>R(Q,oe,J));if(Ye.isPlainObject(h)||h instanceof this.constructor)I(h,v);else if(Ye.isString(h)&&(h=h.trim())&&!vZ(h))I(bZ(h),v);else if(Ye.isHeaders(h))for(const[j,J]of h.entries())R(J,j,w);else h!=null&&R(v,h,w);return this}get(h,v){if(h=WA(h),h){const w=Ye.findKey(this,h);if(w){const E=this[w];if(!v)return E;if(v===!0)return yZ(E);if(Ye.isFunction(v))return v.call(this,E,w);if(Ye.isRegExp(v))return v.exec(E);throw new TypeError("parser must be boolean|regexp|function")}}}has(h,v){if(h=WA(h),h){const w=Ye.findKey(this,h);return!!(w&&this[w]!==void 0&&(!v||lq(this,this[w],w,v)))}return!1}delete(h,v){const w=this;let E=!1;function R(I){if(I=WA(I),I){const j=Ye.findKey(w,I);j&&(!v||lq(w,w[j],j,v))&&(delete w[j],E=!0)}}return Ye.isArray(h)?h.forEach(R):R(h),E}clear(h){const v=Object.keys(this);let w=v.length,E=!1;for(;w--;){const R=v[w];(!h||lq(this,this[R],R,h,!0))&&(delete this[R],E=!0)}return E}normalize(h){const v=this,w={};return Ye.forEach(this,(E,R)=>{const I=Ye.findKey(w,R);if(I){v[I]=F$(E),delete v[R];return}const j=h?xZ(R):String(R).trim();j!==R&&delete v[R],v[j]=F$(E),w[j]=!0}),this}concat(...h){return this.constructor.concat(this,...h)}toJSON(h){const v=Object.create(null);return Ye.forEach(this,(w,E)=>{w!=null&&w!==!1&&(v[E]=h&&Ye.isArray(w)?w.join(", "):w)}),v}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([h,v])=>h+": "+v).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(h){return h instanceof this?h:new this(h)}static concat(h,...v){const w=new this(h);return v.forEach(E=>w.set(E)),w}static accessor(h){const w=(this[jY]=this[jY]={accessors:{}}).accessors,E=this.prototype;function R(I){const j=WA(I);w[j]||(CZ(E,I),w[j]=!0)}return Ye.isArray(h)?h.forEach(R):R(h),this}}Mc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ye.reduceDescriptors(Mc.prototype,({value:x},h)=>{let v=h[0].toUpperCase()+h.slice(1);return{get:()=>x,set(w){this[v]=w}}});Ye.freezeMethods(Mc);function uq(x,h){const v=this||ZA,w=h||v,E=Mc.from(w.headers);let R=w.data;return Ye.forEach(x,function(j){R=j.call(v,R,E.normalize(),h?h.status:void 0)}),E.normalize(),R}function OX(x){return!!(x&&x.__CANCEL__)}function _C(x,h,v){io.call(this,x??"canceled",io.ERR_CANCELED,h,v),this.name="CanceledError"}Ye.inherits(_C,io,{__CANCEL__:!0});function DX(x,h,v){const w=v.config.validateStatus;!v.status||!w||w(v.status)?x(v):h(new io("Request failed with status code "+v.status,[io.ERR_BAD_REQUEST,io.ERR_BAD_RESPONSE][Math.floor(v.status/100)-4],v.config,v.request,v))}function SZ(x){const h=/^([-+\w]{1,25})(:?\/\/|:)/.exec(x);return h&&h[1]||""}function wZ(x,h){x=x||10;const v=new Array(x),w=new Array(x);let E=0,R=0,I;return h=h!==void 0?h:1e3,function(J){const Q=Date.now(),oe=w[R];I||(I=Q),v[E]=J,w[E]=Q;let re=R,Ce=0;for(;re!==E;)Ce+=v[re++],re=re%x;if(E=(E+1)%x,E===R&&(R=(R+1)%x),Q-I<h)return;const Le=oe&&Q-oe;return Le?Math.round(Ce*1e3/Le):void 0}}function EZ(x,h){let v=0,w=1e3/h,E,R;const I=(Q,oe=Date.now())=>{v=oe,E=null,R&&(clearTimeout(R),R=null),x.apply(null,Q)};return[(...Q)=>{const oe=Date.now(),re=oe-v;re>=w?I(Q,oe):(E=Q,R||(R=setTimeout(()=>{R=null,I(E)},w-re)))},()=>E&&I(E)]}const $$=(x,h,v=3)=>{let w=0;const E=wZ(50,250);return EZ(R=>{const I=R.loaded,j=R.lengthComputable?R.total:void 0,J=I-w,Q=E(J),oe=I<=j;w=I;const re={loaded:I,total:j,progress:j?I/j:void 0,bytes:J,rate:Q||void 0,estimated:Q&&j&&oe?(j-I)/Q:void 0,event:R,lengthComputable:j!=null,[h?"download":"upload"]:!0};x(re)},v)},HY=(x,h)=>{const v=x!=null;return[w=>h[0]({lengthComputable:v,total:x,loaded:w}),h[1]]},UY=x=>(...h)=>Ye.asap(()=>x(...h)),TZ=Pc.hasStandardBrowserEnv?function(){const h=Pc.navigator&&/(msie|trident)/i.test(Pc.navigator.userAgent),v=document.createElement("a");let w;function E(R){let I=R;return h&&(v.setAttribute("href",I),I=v.href),v.setAttribute("href",I),{href:v.href,protocol:v.protocol?v.protocol.replace(/:$/,""):"",host:v.host,search:v.search?v.search.replace(/^\?/,""):"",hash:v.hash?v.hash.replace(/^#/,""):"",hostname:v.hostname,port:v.port,pathname:v.pathname.charAt(0)==="/"?v.pathname:"/"+v.pathname}}return w=E(window.location.href),function(I){const j=Ye.isString(I)?E(I):I;return j.protocol===w.protocol&&j.host===w.host}}():function(){return function(){return!0}}(),_Z=Pc.hasStandardBrowserEnv?{write(x,h,v,w,E,R){const I=[x+"="+encodeURIComponent(h)];Ye.isNumber(v)&&I.push("expires="+new Date(v).toGMTString()),Ye.isString(w)&&I.push("path="+w),Ye.isString(E)&&I.push("domain="+E),R===!0&&I.push("secure"),document.cookie=I.join("; ")},read(x){const h=document.cookie.match(new RegExp("(^|;\\s*)("+x+")=([^;]*)"));return h?decodeURIComponent(h[3]):null},remove(x){this.write(x,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function AZ(x){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(x)}function kZ(x,h){return h?x.replace(/\/?\/$/,"")+"/"+h.replace(/^\/+/,""):x}function RX(x,h){return x&&!AZ(h)?kZ(x,h):h}const zY=x=>x instanceof Mc?{...x}:x;function Hy(x,h){h=h||{};const v={};function w(Q,oe,re){return Ye.isPlainObject(Q)&&Ye.isPlainObject(oe)?Ye.merge.call({caseless:re},Q,oe):Ye.isPlainObject(oe)?Ye.merge({},oe):Ye.isArray(oe)?oe.slice():oe}function E(Q,oe,re){if(Ye.isUndefined(oe)){if(!Ye.isUndefined(Q))return w(void 0,Q,re)}else return w(Q,oe,re)}function R(Q,oe){if(!Ye.isUndefined(oe))return w(void 0,oe)}function I(Q,oe){if(Ye.isUndefined(oe)){if(!Ye.isUndefined(Q))return w(void 0,Q)}else return w(void 0,oe)}function j(Q,oe,re){if(re in h)return w(Q,oe);if(re in x)return w(void 0,Q)}const J={url:R,method:R,data:R,baseURL:I,transformRequest:I,transformResponse:I,paramsSerializer:I,timeout:I,timeoutMessage:I,withCredentials:I,withXSRFToken:I,adapter:I,responseType:I,xsrfCookieName:I,xsrfHeaderName:I,onUploadProgress:I,onDownloadProgress:I,decompress:I,maxContentLength:I,maxBodyLength:I,beforeRedirect:I,transport:I,httpAgent:I,httpsAgent:I,cancelToken:I,socketPath:I,responseEncoding:I,validateStatus:j,headers:(Q,oe)=>E(zY(Q),zY(oe),!0)};return Ye.forEach(Object.keys(Object.assign({},x,h)),function(oe){const re=J[oe]||E,Ce=re(x[oe],h[oe],oe);Ye.isUndefined(Ce)&&re!==j||(v[oe]=Ce)}),v}const NX=x=>{const h=Hy({},x);let{data:v,withXSRFToken:w,xsrfHeaderName:E,xsrfCookieName:R,headers:I,auth:j}=h;h.headers=I=Mc.from(I),h.url=_X(RX(h.baseURL,h.url),x.params,x.paramsSerializer),j&&I.set("Authorization","Basic "+btoa((j.username||"")+":"+(j.password?unescape(encodeURIComponent(j.password)):"")));let J;if(Ye.isFormData(v)){if(Pc.hasStandardBrowserEnv||Pc.hasStandardBrowserWebWorkerEnv)I.setContentType(void 0);else if((J=I.getContentType())!==!1){const[Q,...oe]=J?J.split(";").map(re=>re.trim()).filter(Boolean):[];I.setContentType([Q||"multipart/form-data",...oe].join("; "))}}if(Pc.hasStandardBrowserEnv&&(w&&Ye.isFunction(w)&&(w=w(h)),w||w!==!1&&TZ(h.url))){const Q=E&&R&&_Z.read(R);Q&&I.set(E,Q)}return h},OZ=typeof XMLHttpRequest<"u",DZ=OZ&&function(x){return new Promise(function(v,w){const E=NX(x);let R=E.data;const I=Mc.from(E.headers).normalize();let{responseType:j,onUploadProgress:J,onDownloadProgress:Q}=E,oe,re,Ce,Le,ie;function ae(){Le&&Le(),ie&&ie(),E.cancelToken&&E.cancelToken.unsubscribe(oe),E.signal&&E.signal.removeEventListener("abort",oe)}let Pe=new XMLHttpRequest;Pe.open(E.method.toUpperCase(),E.url,!0),Pe.timeout=E.timeout;function Ae(){if(!Pe)return;const te=Mc.from("getAllResponseHeaders"in Pe&&Pe.getAllResponseHeaders()),An={data:!j||j==="text"||j==="json"?Pe.responseText:Pe.response,status:Pe.status,statusText:Pe.statusText,headers:te,config:x,request:Pe};DX(function(_){v(_),ae()},function(_){w(_),ae()},An),Pe=null}"onloadend"in Pe?Pe.onloadend=Ae:Pe.onreadystatechange=function(){!Pe||Pe.readyState!==4||Pe.status===0&&!(Pe.responseURL&&Pe.responseURL.indexOf("file:")===0)||setTimeout(Ae)},Pe.onabort=function(){Pe&&(w(new io("Request aborted",io.ECONNABORTED,x,Pe)),Pe=null)},Pe.onerror=function(){w(new io("Network Error",io.ERR_NETWORK,x,Pe)),Pe=null},Pe.ontimeout=function(){let It=E.timeout?"timeout of "+E.timeout+"ms exceeded":"timeout exceeded";const An=E.transitional||AX;E.timeoutErrorMessage&&(It=E.timeoutErrorMessage),w(new io(It,An.clarifyTimeoutError?io.ETIMEDOUT:io.ECONNABORTED,x,Pe)),Pe=null},R===void 0&&I.setContentType(null),"setRequestHeader"in Pe&&Ye.forEach(I.toJSON(),function(It,An){Pe.setRequestHeader(An,It)}),Ye.isUndefined(E.withCredentials)||(Pe.withCredentials=!!E.withCredentials),j&&j!=="json"&&(Pe.responseType=E.responseType),Q&&([Ce,ie]=$$(Q,!0),Pe.addEventListener("progress",Ce)),J&&Pe.upload&&([re,Le]=$$(J),Pe.upload.addEventListener("progress",re),Pe.upload.addEventListener("loadend",Le)),(E.cancelToken||E.signal)&&(oe=te=>{Pe&&(w(!te||te.type?new _C(null,x,Pe):te),Pe.abort(),Pe=null)},E.cancelToken&&E.cancelToken.subscribe(oe),E.signal&&(E.signal.aborted?oe():E.signal.addEventListener("abort",oe)));const Qe=SZ(E.url);if(Qe&&Pc.protocols.indexOf(Qe)===-1){w(new io("Unsupported protocol "+Qe+":",io.ERR_BAD_REQUEST,x));return}Pe.send(R||null)})},RZ=(x,h)=>{const{length:v}=x=x?x.filter(Boolean):[];if(h||v){let w=new AbortController,E;const R=function(Q){if(!E){E=!0,j();const oe=Q instanceof Error?Q:this.reason;w.abort(oe instanceof io?oe:new _C(oe instanceof Error?oe.message:oe))}};let I=h&&setTimeout(()=>{I=null,R(new io(`timeout ${h} of ms exceeded`,io.ETIMEDOUT))},h);const j=()=>{x&&(I&&clearTimeout(I),I=null,x.forEach(Q=>{Q.unsubscribe?Q.unsubscribe(R):Q.removeEventListener("abort",R)}),x=null)};x.forEach(Q=>Q.addEventListener("abort",R));const{signal:J}=w;return J.unsubscribe=()=>Ye.asap(j),J}},NZ=function*(x,h){let v=x.byteLength;if(v<h){yield x;return}let w=0,E;for(;w<v;)E=w+h,yield x.slice(w,E),w=E},PZ=async function*(x,h){for await(const v of MZ(x))yield*NZ(v,h)},MZ=async function*(x){if(x[Symbol.asyncIterator]){yield*x;return}const h=x.getReader();try{for(;;){const{done:v,value:w}=await h.read();if(v)break;yield w}}finally{await h.cancel()}},VY=(x,h,v,w)=>{const E=PZ(x,h);let R=0,I,j=J=>{I||(I=!0,w&&w(J))};return new ReadableStream({async pull(J){try{const{done:Q,value:oe}=await E.next();if(Q){j(),J.close();return}let re=oe.byteLength;if(v){let Ce=R+=re;v(Ce)}J.enqueue(new Uint8Array(oe))}catch(Q){throw j(Q),Q}},cancel(J){return j(J),E.return()}},{highWaterMark:2})},q$=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",PX=q$&&typeof ReadableStream=="function",IZ=q$&&(typeof TextEncoder=="function"?(x=>h=>x.encode(h))(new TextEncoder):async x=>new Uint8Array(await new Response(x).arrayBuffer())),MX=(x,...h)=>{try{return!!x(...h)}catch{return!1}},BZ=PX&&MX(()=>{let x=!1;const h=new Request(Pc.origin,{body:new ReadableStream,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!h}),WY=64*1024,yq=PX&&MX(()=>Ye.isReadableStream(new Response("").body)),j$={stream:yq&&(x=>x.body)};q$&&(x=>{["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!j$[h]&&(j$[h]=Ye.isFunction(x[h])?v=>v[h]():(v,w)=>{throw new io(`Response type '${h}' is not supported`,io.ERR_NOT_SUPPORT,w)})})})(new Response);const FZ=async x=>{if(x==null)return 0;if(Ye.isBlob(x))return x.size;if(Ye.isSpecCompliantForm(x))return(await new Request(Pc.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(Ye.isArrayBufferView(x)||Ye.isArrayBuffer(x))return x.byteLength;if(Ye.isURLSearchParams(x)&&(x=x+""),Ye.isString(x))return(await IZ(x)).byteLength},LZ=async(x,h)=>{const v=Ye.toFiniteNumber(x.getContentLength());return v??FZ(h)},$Z=q$&&(async x=>{let{url:h,method:v,data:w,signal:E,cancelToken:R,timeout:I,onDownloadProgress:j,onUploadProgress:J,responseType:Q,headers:oe,withCredentials:re="same-origin",fetchOptions:Ce}=NX(x);Q=Q?(Q+"").toLowerCase():"text";let Le=RZ([E,R&&R.toAbortSignal()],I),ie;const ae=Le&&Le.unsubscribe&&(()=>{Le.unsubscribe()});let Pe;try{if(J&&BZ&&v!=="get"&&v!=="head"&&(Pe=await LZ(oe,w))!==0){let An=new Request(h,{method:"POST",body:w,duplex:"half"}),Zt;if(Ye.isFormData(w)&&(Zt=An.headers.get("content-type"))&&oe.setContentType(Zt),An.body){const[_,At]=HY(Pe,$$(UY(J)));w=VY(An.body,WY,_,At)}}Ye.isString(re)||(re=re?"include":"omit");const Ae="credentials"in Request.prototype;ie=new Request(h,{...Ce,signal:Le,method:v.toUpperCase(),headers:oe.normalize().toJSON(),body:w,duplex:"half",credentials:Ae?re:void 0});let Qe=await fetch(ie);const te=yq&&(Q==="stream"||Q==="response");if(yq&&(j||te&&ae)){const An={};["status","statusText","headers"].forEach(nn=>{An[nn]=Qe[nn]});const Zt=Ye.toFiniteNumber(Qe.headers.get("content-length")),[_,At]=j&&HY(Zt,$$(UY(j),!0))||[];Qe=new Response(VY(Qe.body,WY,_,()=>{At&&At(),ae&&ae()}),An)}Q=Q||"text";let It=await j$[Ye.findKey(j$,Q)||"text"](Qe,x);return!te&&ae&&ae(),await new Promise((An,Zt)=>{DX(An,Zt,{data:It,headers:Mc.from(Qe.headers),status:Qe.status,statusText:Qe.statusText,config:x,request:ie})})}catch(Ae){throw ae&&ae(),Ae&&Ae.name==="TypeError"&&/fetch/i.test(Ae.message)?Object.assign(new io("Network Error",io.ERR_NETWORK,x,ie),{cause:Ae.cause||Ae}):io.from(Ae,Ae&&Ae.code,x,ie)}}),vq={http:eZ,xhr:DZ,fetch:$Z};Ye.forEach(vq,(x,h)=>{if(x){try{Object.defineProperty(x,"name",{value:h})}catch{}Object.defineProperty(x,"adapterName",{value:h})}});const GY=x=>`- ${x}`,jZ=x=>Ye.isFunction(x)||x===null||x===!1,IX={getAdapter:x=>{x=Ye.isArray(x)?x:[x];const{length:h}=x;let v,w;const E={};for(let R=0;R<h;R++){v=x[R];let I;if(w=v,!jZ(v)&&(w=vq[(I=String(v)).toLowerCase()],w===void 0))throw new io(`Unknown adapter '${I}'`);if(w)break;E[I||"#"+R]=w}if(!w){const R=Object.entries(E).map(([j,J])=>`adapter ${j} `+(J===!1?"is not supported by the environment":"is not available in the build"));let I=h?R.length>1?`since :
`+R.map(GY).join(`
`):" "+GY(R[0]):"as no adapter specified";throw new io("There is no suitable adapter to dispatch the request "+I,"ERR_NOT_SUPPORT")}return w},adapters:vq};function dq(x){if(x.cancelToken&&x.cancelToken.throwIfRequested(),x.signal&&x.signal.aborted)throw new _C(null,x)}function qY(x){return dq(x),x.headers=Mc.from(x.headers),x.data=uq.call(x,x.transformRequest),["post","put","patch"].indexOf(x.method)!==-1&&x.headers.setContentType("application/x-www-form-urlencoded",!1),IX.getAdapter(x.adapter||ZA.adapter)(x).then(function(w){return dq(x),w.data=uq.call(x,x.transformResponse,w),w.headers=Mc.from(w.headers),w},function(w){return OX(w)||(dq(x),w&&w.response&&(w.response.data=uq.call(x,x.transformResponse,w.response),w.response.headers=Mc.from(w.response.headers))),Promise.reject(w)})}const BX="1.7.7",Mq={};["object","boolean","number","function","string","symbol"].forEach((x,h)=>{Mq[x]=function(w){return typeof w===x||"a"+(h<1?"n ":" ")+x}});const KY={};Mq.transitional=function(h,v,w){function E(R,I){return"[Axios v"+BX+"] Transitional option '"+R+"'"+I+(w?". "+w:"")}return(R,I,j)=>{if(h===!1)throw new io(E(I," has been removed"+(v?" in "+v:"")),io.ERR_DEPRECATED);return v&&!KY[I]&&(KY[I]=!0,console.warn(E(I," has been deprecated since v"+v+" and will be removed in the near future"))),h?h(R,I,j):!0}};function HZ(x,h,v){if(typeof x!="object")throw new io("options must be an object",io.ERR_BAD_OPTION_VALUE);const w=Object.keys(x);let E=w.length;for(;E-- >0;){const R=w[E],I=h[R];if(I){const j=x[R],J=j===void 0||I(j,R,x);if(J!==!0)throw new io("option "+R+" must be "+J,io.ERR_BAD_OPTION_VALUE);continue}if(v!==!0)throw new io("Unknown option "+R,io.ERR_BAD_OPTION)}}const xq={assertOptions:HZ,validators:Mq},Uh=xq.validators;class jy{constructor(h){this.defaults=h,this.interceptors={request:new $Y,response:new $Y}}async request(h,v){try{return await this._request(h,v)}catch(w){if(w instanceof Error){let E;Error.captureStackTrace?Error.captureStackTrace(E={}):E=new Error;const R=E.stack?E.stack.replace(/^.+\n/,""):"";try{w.stack?R&&!String(w.stack).endsWith(R.replace(/^.+\n.+\n/,""))&&(w.stack+=`
`+R):w.stack=R}catch{}}throw w}}_request(h,v){typeof h=="string"?(v=v||{},v.url=h):v=h||{},v=Hy(this.defaults,v);const{transitional:w,paramsSerializer:E,headers:R}=v;w!==void 0&&xq.assertOptions(w,{silentJSONParsing:Uh.transitional(Uh.boolean),forcedJSONParsing:Uh.transitional(Uh.boolean),clarifyTimeoutError:Uh.transitional(Uh.boolean)},!1),E!=null&&(Ye.isFunction(E)?v.paramsSerializer={serialize:E}:xq.assertOptions(E,{encode:Uh.function,serialize:Uh.function},!0)),v.method=(v.method||this.defaults.method||"get").toLowerCase();let I=R&&Ye.merge(R.common,R[v.method]);R&&Ye.forEach(["delete","get","head","post","put","patch","common"],ie=>{delete R[ie]}),v.headers=Mc.concat(I,R);const j=[];let J=!0;this.interceptors.request.forEach(function(ae){typeof ae.runWhen=="function"&&ae.runWhen(v)===!1||(J=J&&ae.synchronous,j.unshift(ae.fulfilled,ae.rejected))});const Q=[];this.interceptors.response.forEach(function(ae){Q.push(ae.fulfilled,ae.rejected)});let oe,re=0,Ce;if(!J){const ie=[qY.bind(this),void 0];for(ie.unshift.apply(ie,j),ie.push.apply(ie,Q),Ce=ie.length,oe=Promise.resolve(v);re<Ce;)oe=oe.then(ie[re++],ie[re++]);return oe}Ce=j.length;let Le=v;for(re=0;re<Ce;){const ie=j[re++],ae=j[re++];try{Le=ie(Le)}catch(Pe){ae.call(this,Pe);break}}try{oe=qY.call(this,Le)}catch(ie){return Promise.reject(ie)}for(re=0,Ce=Q.length;re<Ce;)oe=oe.then(Q[re++],Q[re++]);return oe}getUri(h){h=Hy(this.defaults,h);const v=RX(h.baseURL,h.url);return _X(v,h.params,h.paramsSerializer)}}Ye.forEach(["delete","get","head","options"],function(h){jy.prototype[h]=function(v,w){return this.request(Hy(w||{},{method:h,url:v,data:(w||{}).data}))}});Ye.forEach(["post","put","patch"],function(h){function v(w){return function(R,I,j){return this.request(Hy(j||{},{method:h,headers:w?{"Content-Type":"multipart/form-data"}:{},url:R,data:I}))}}jy.prototype[h]=v(),jy.prototype[h+"Form"]=v(!0)});class Iq{constructor(h){if(typeof h!="function")throw new TypeError("executor must be a function.");let v;this.promise=new Promise(function(R){v=R});const w=this;this.promise.then(E=>{if(!w._listeners)return;let R=w._listeners.length;for(;R-- >0;)w._listeners[R](E);w._listeners=null}),this.promise.then=E=>{let R;const I=new Promise(j=>{w.subscribe(j),R=j}).then(E);return I.cancel=function(){w.unsubscribe(R)},I},h(function(R,I,j){w.reason||(w.reason=new _C(R,I,j),v(w.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(h){if(this.reason){h(this.reason);return}this._listeners?this._listeners.push(h):this._listeners=[h]}unsubscribe(h){if(!this._listeners)return;const v=this._listeners.indexOf(h);v!==-1&&this._listeners.splice(v,1)}toAbortSignal(){const h=new AbortController,v=w=>{h.abort(w)};return this.subscribe(v),h.signal.unsubscribe=()=>this.unsubscribe(v),h.signal}static source(){let h;return{token:new Iq(function(E){h=E}),cancel:h}}}function UZ(x){return function(v){return x.apply(null,v)}}function zZ(x){return Ye.isObject(x)&&x.isAxiosError===!0}const Cq={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cq).forEach(([x,h])=>{Cq[h]=x});function FX(x){const h=new jy(x),v=pX(jy.prototype.request,h);return Ye.extend(v,jy.prototype,h,{allOwnKeys:!0}),Ye.extend(v,h,null,{allOwnKeys:!0}),v.create=function(E){return FX(Hy(x,E))},v}const Wr=FX(ZA);Wr.Axios=jy;Wr.CanceledError=_C;Wr.CancelToken=Iq;Wr.isCancel=OX;Wr.VERSION=BX;Wr.toFormData=G$;Wr.AxiosError=io;Wr.Cancel=Wr.CanceledError;Wr.all=function(h){return Promise.all(h)};Wr.spread=UZ;Wr.isAxiosError=zZ;Wr.mergeConfig=Hy;Wr.AxiosHeaders=Mc;Wr.formToJSON=x=>kX(Ye.isHTMLForm(x)?new FormData(x):x);Wr.getAdapter=IX.getAdapter;Wr.HttpStatusCode=Cq;Wr.default=Wr;window.axios=Wr;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var LX={exports:{}};(function(x,h){(function(w,E){x.exports=E()})(typeof self<"u"?self:fX,function(){return function(v){var w={};function E(R){if(w[R])return w[R].exports;var I=w[R]={i:R,l:!1,exports:{}};return v[R].call(I.exports,I,I.exports,E),I.l=!0,I.exports}return E.m=v,E.c=w,E.d=function(R,I,j){E.o(R,I)||Object.defineProperty(R,I,{configurable:!1,enumerable:!0,get:j})},E.r=function(R){Object.defineProperty(R,"__esModule",{value:!0})},E.n=function(R){var I=R&&R.__esModule?function(){return R.default}:function(){return R};return E.d(I,"a",I),I},E.o=function(R,I){return Object.prototype.hasOwnProperty.call(R,I)},E.p="",E(E.s=0)}({"./dist/icons.json":function(v){v.exports={activity:'<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>',airplay:'<path d="M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"></path><polygon points="12 15 17 21 7 21 12 15"></polygon>',"alert-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"alert-octagon":'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>',"alert-triangle":'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line>',"align-center":'<line x1="18" y1="10" x2="6" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="18" y1="18" x2="6" y2="18"></line>',"align-justify":'<line x1="21" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="3" y2="18"></line>',"align-left":'<line x1="17" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="17" y1="18" x2="3" y2="18"></line>',"align-right":'<line x1="21" y1="10" x2="7" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="7" y2="18"></line>',anchor:'<circle cx="12" cy="5" r="3"></circle><line x1="12" y1="22" x2="12" y2="8"></line><path d="M5 12H2a10 10 0 0 0 20 0h-3"></path>',aperture:'<circle cx="12" cy="12" r="10"></circle><line x1="14.31" y1="8" x2="20.05" y2="17.94"></line><line x1="9.69" y1="8" x2="21.17" y2="8"></line><line x1="7.38" y1="12" x2="13.12" y2="2.06"></line><line x1="9.69" y1="16" x2="3.95" y2="6.06"></line><line x1="14.31" y1="16" x2="2.83" y2="16"></line><line x1="16.62" y1="12" x2="10.88" y2="21.94"></line>',archive:'<polyline points="21 8 21 21 3 21 3 8"></polyline><rect x="1" y="3" width="22" height="5"></rect><line x1="10" y1="12" x2="14" y2="12"></line>',"arrow-down-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line>',"arrow-down-left":'<line x1="17" y1="7" x2="7" y2="17"></line><polyline points="17 17 7 17 7 7"></polyline>',"arrow-down-right":'<line x1="7" y1="7" x2="17" y2="17"></line><polyline points="17 7 17 17 7 17"></polyline>',"arrow-down":'<line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline>',"arrow-left-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line>',"arrow-left":'<line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline>',"arrow-right-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line>',"arrow-right":'<line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline>',"arrow-up-circle":'<circle cx="12" cy="12" r="10"></circle><polyline points="16 12 12 8 8 12"></polyline><line x1="12" y1="16" x2="12" y2="8"></line>',"arrow-up-left":'<line x1="17" y1="17" x2="7" y2="7"></line><polyline points="7 17 7 7 17 7"></polyline>',"arrow-up-right":'<line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline>',"arrow-up":'<line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline>',"at-sign":'<circle cx="12" cy="12" r="4"></circle><path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"></path>',award:'<circle cx="12" cy="8" r="7"></circle><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>',"bar-chart-2":'<line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line>',"bar-chart":'<line x1="12" y1="20" x2="12" y2="10"></line><line x1="18" y1="20" x2="18" y2="4"></line><line x1="6" y1="20" x2="6" y2="16"></line>',"battery-charging":'<path d="M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"></path><line x1="23" y1="13" x2="23" y2="11"></line><polyline points="11 6 7 12 13 12 9 18"></polyline>',battery:'<rect x="1" y="6" width="18" height="12" rx="2" ry="2"></rect><line x1="23" y1="13" x2="23" y2="11"></line>',"bell-off":'<path d="M13.73 21a2 2 0 0 1-3.46 0"></path><path d="M18.63 13A17.89 17.89 0 0 1 18 8"></path><path d="M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"></path><path d="M18 8a6 6 0 0 0-9.33-5"></path><line x1="1" y1="1" x2="23" y2="23"></line>',bell:'<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path>',bluetooth:'<polyline points="6.5 6.5 17.5 17.5 12 23 12 1 17.5 6.5 6.5 17.5"></polyline>',bold:'<path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path><path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path>',"book-open":'<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>',book:'<path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>',bookmark:'<path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>',box:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',briefcase:'<rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>',calendar:'<rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>',"camera-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M21 21H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3m3-3h6l2 3h4a2 2 0 0 1 2 2v9.34m-7.72-2.06a4 4 0 1 1-5.56-5.56"></path>',camera:'<path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle>',cast:'<path d="M2 16.1A5 5 0 0 1 5.9 20M2 12.05A9 9 0 0 1 9.95 20M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6"></path><line x1="2" y1="20" x2="2.01" y2="20"></line>',"check-circle":'<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>',"check-square":'<polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>',check:'<polyline points="20 6 9 17 4 12"></polyline>',"chevron-down":'<polyline points="6 9 12 15 18 9"></polyline>',"chevron-left":'<polyline points="15 18 9 12 15 6"></polyline>',"chevron-right":'<polyline points="9 18 15 12 9 6"></polyline>',"chevron-up":'<polyline points="18 15 12 9 6 15"></polyline>',"chevrons-down":'<polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline>',"chevrons-left":'<polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline>',"chevrons-right":'<polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline>',"chevrons-up":'<polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline>',chrome:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="21.17" y1="8" x2="12" y2="8"></line><line x1="3.95" y1="6.06" x2="8.54" y2="14"></line><line x1="10.88" y1="21.94" x2="15.46" y2="14"></line>',circle:'<circle cx="12" cy="12" r="10"></circle>',clipboard:'<path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>',clock:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>',"cloud-drizzle":'<line x1="8" y1="19" x2="8" y2="21"></line><line x1="8" y1="13" x2="8" y2="15"></line><line x1="16" y1="19" x2="16" y2="21"></line><line x1="16" y1="13" x2="16" y2="15"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="12" y1="15" x2="12" y2="17"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>',"cloud-lightning":'<path d="M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"></path><polyline points="13 11 9 17 15 17 11 23"></polyline>',"cloud-off":'<path d="M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"></path><line x1="1" y1="1" x2="23" y2="23"></line>',"cloud-rain":'<line x1="16" y1="13" x2="16" y2="21"></line><line x1="8" y1="13" x2="8" y2="21"></line><line x1="12" y1="15" x2="12" y2="23"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>',"cloud-snow":'<path d="M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"></path><line x1="8" y1="16" x2="8.01" y2="16"></line><line x1="8" y1="20" x2="8.01" y2="20"></line><line x1="12" y1="18" x2="12.01" y2="18"></line><line x1="12" y1="22" x2="12.01" y2="22"></line><line x1="16" y1="16" x2="16.01" y2="16"></line><line x1="16" y1="20" x2="16.01" y2="20"></line>',cloud:'<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path>',code:'<polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline>',codepen:'<polygon points="12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2"></polygon><line x1="12" y1="22" x2="12" y2="15.5"></line><polyline points="22 8.5 12 15.5 2 8.5"></polyline><polyline points="2 15.5 12 8.5 22 15.5"></polyline><line x1="12" y1="2" x2="12" y2="8.5"></line>',codesandbox:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="7.5 4.21 12 6.81 16.5 4.21"></polyline><polyline points="7.5 19.79 7.5 14.6 3 12"></polyline><polyline points="21 12 16.5 14.6 16.5 19.79"></polyline><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',coffee:'<path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line>',columns:'<path d="M12 3h7a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-7m0-18H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7m0-18v18"></path>',command:'<path d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path>',compass:'<circle cx="12" cy="12" r="10"></circle><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"></polygon>',copy:'<rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>',"corner-down-left":'<polyline points="9 10 4 15 9 20"></polyline><path d="M20 4v7a4 4 0 0 1-4 4H4"></path>',"corner-down-right":'<polyline points="15 10 20 15 15 20"></polyline><path d="M4 4v7a4 4 0 0 0 4 4h12"></path>',"corner-left-down":'<polyline points="14 15 9 20 4 15"></polyline><path d="M20 4h-7a4 4 0 0 0-4 4v12"></path>',"corner-left-up":'<polyline points="14 9 9 4 4 9"></polyline><path d="M20 20h-7a4 4 0 0 1-4-4V4"></path>',"corner-right-down":'<polyline points="10 15 15 20 20 15"></polyline><path d="M4 4h7a4 4 0 0 1 4 4v12"></path>',"corner-right-up":'<polyline points="10 9 15 4 20 9"></polyline><path d="M4 20h7a4 4 0 0 0 4-4V4"></path>',"corner-up-left":'<polyline points="9 14 4 9 9 4"></polyline><path d="M20 20v-7a4 4 0 0 0-4-4H4"></path>',"corner-up-right":'<polyline points="15 14 20 9 15 4"></polyline><path d="M4 20v-7a4 4 0 0 1 4-4h12"></path>',cpu:'<rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect><rect x="9" y="9" width="6" height="6"></rect><line x1="9" y1="1" x2="9" y2="4"></line><line x1="15" y1="1" x2="15" y2="4"></line><line x1="9" y1="20" x2="9" y2="23"></line><line x1="15" y1="20" x2="15" y2="23"></line><line x1="20" y1="9" x2="23" y2="9"></line><line x1="20" y1="14" x2="23" y2="14"></line><line x1="1" y1="9" x2="4" y2="9"></line><line x1="1" y1="14" x2="4" y2="14"></line>',"credit-card":'<rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line>',crop:'<path d="M6.13 1L6 16a2 2 0 0 0 2 2h15"></path><path d="M1 6.13L16 6a2 2 0 0 1 2 2v15"></path>',crosshair:'<circle cx="12" cy="12" r="10"></circle><line x1="22" y1="12" x2="18" y2="12"></line><line x1="6" y1="12" x2="2" y2="12"></line><line x1="12" y1="6" x2="12" y2="2"></line><line x1="12" y1="22" x2="12" y2="18"></line>',database:'<ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path>',delete:'<path d="M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"></path><line x1="18" y1="9" x2="12" y2="15"></line><line x1="12" y1="9" x2="18" y2="15"></line>',disc:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="3"></circle>',"divide-circle":'<line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line><circle cx="12" cy="12" r="10"></circle>',"divide-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line>',divide:'<circle cx="12" cy="6" r="2"></circle><line x1="5" y1="12" x2="19" y2="12"></line><circle cx="12" cy="18" r="2"></circle>',"dollar-sign":'<line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>',"download-cloud":'<polyline points="8 17 12 21 16 17"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"></path>',download:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line>',dribbble:'<circle cx="12" cy="12" r="10"></circle><path d="M8.56 2.75c4.37 6.03 6.02 9.42 8.03 17.72m2.54-15.38c-3.72 4.35-8.94 5.66-16.88 5.85m19.5 1.9c-3.5-.93-6.63-.82-8.94 0-2.58.92-5.01 2.86-7.44 6.32"></path>',droplet:'<path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path>',"edit-2":'<path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>',"edit-3":'<path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>',edit:'<path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>',"external-link":'<path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>',"eye-off":'<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line>',eye:'<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle>',facebook:'<path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>',"fast-forward":'<polygon points="13 19 22 12 13 5 13 19"></polygon><polygon points="2 19 11 12 2 5 2 19"></polygon>',feather:'<path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path><line x1="16" y1="8" x2="2" y2="22"></line><line x1="17.5" y1="15" x2="9" y2="15"></line>',figma:'<path d="M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z"></path><path d="M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z"></path><path d="M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z"></path><path d="M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z"></path><path d="M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z"></path>',"file-minus":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="9" y1="15" x2="15" y2="15"></line>',"file-plus":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="12" y1="18" x2="12" y2="12"></line><line x1="9" y1="15" x2="15" y2="15"></line>',"file-text":'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline>',file:'<path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>',film:'<rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line>',filter:'<polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>',flag:'<path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line>',"folder-minus":'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="9" y1="14" x2="15" y2="14"></line>',"folder-plus":'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="12" y1="11" x2="12" y2="17"></line><line x1="9" y1="14" x2="15" y2="14"></line>',folder:'<path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>',framer:'<path d="M5 16V9h14V2H5l14 14h-7m-7 0l7 7v-7m-7 0h7"></path>',frown:'<circle cx="12" cy="12" r="10"></circle><path d="M16 16s-1.5-2-4-2-4 2-4 2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',gift:'<polyline points="20 12 20 22 4 22 4 12"></polyline><rect x="2" y="7" width="20" height="5"></rect><line x1="12" y1="22" x2="12" y2="7"></line><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"></path><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"></path>',"git-branch":'<line x1="6" y1="3" x2="6" y2="15"></line><circle cx="18" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><path d="M18 9a9 9 0 0 1-9 9"></path>',"git-commit":'<circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line>',"git-merge":'<circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M6 21V9a9 9 0 0 0 9 9"></path>',"git-pull-request":'<circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line>',github:'<path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>',gitlab:'<path d="M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"></path>',globe:'<circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>',grid:'<rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect>',"hard-drive":'<line x1="22" y1="12" x2="2" y2="12"></line><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path><line x1="6" y1="16" x2="6.01" y2="16"></line><line x1="10" y1="16" x2="10.01" y2="16"></line>',hash:'<line x1="4" y1="9" x2="20" y2="9"></line><line x1="4" y1="15" x2="20" y2="15"></line><line x1="10" y1="3" x2="8" y2="21"></line><line x1="16" y1="3" x2="14" y2="21"></line>',headphones:'<path d="M3 18v-6a9 9 0 0 1 18 0v6"></path><path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"></path>',heart:'<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>',"help-circle":'<circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line>',hexagon:'<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>',home:'<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>',image:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline>',inbox:'<polyline points="22 12 16 12 14 15 10 15 8 12 2 12"></polyline><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path>',info:'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line>',instagram:'<rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>',italic:'<line x1="19" y1="4" x2="10" y2="4"></line><line x1="14" y1="20" x2="5" y2="20"></line><line x1="15" y1="4" x2="9" y2="20"></line>',key:'<path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path>',layers:'<polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline>',layout:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line>',"life-buoy":'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="4.93" y1="4.93" x2="9.17" y2="9.17"></line><line x1="14.83" y1="14.83" x2="19.07" y2="19.07"></line><line x1="14.83" y1="9.17" x2="19.07" y2="4.93"></line><line x1="14.83" y1="9.17" x2="18.36" y2="5.64"></line><line x1="4.93" y1="19.07" x2="9.17" y2="14.83"></line>',"link-2":'<path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line>',link:'<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>',linkedin:'<path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>',list:'<line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line>',loader:'<line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line><line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>',lock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path>',"log-in":'<path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line>',"log-out":'<path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line>',mail:'<path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline>',"map-pin":'<path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle>',map:'<polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon><line x1="8" y1="2" x2="8" y2="18"></line><line x1="16" y1="6" x2="16" y2="22"></line>',"maximize-2":'<polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" y1="3" x2="14" y2="10"></line><line x1="3" y1="21" x2="10" y2="14"></line>',maximize:'<path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>',meh:'<circle cx="12" cy="12" r="10"></circle><line x1="8" y1="15" x2="16" y2="15"></line><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',menu:'<line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>',"message-circle":'<path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>',"message-square":'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',"mic-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"></path><path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',mic:'<path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',"minimize-2":'<polyline points="4 14 10 14 10 20"></polyline><polyline points="20 10 14 10 14 4"></polyline><line x1="14" y1="10" x2="21" y2="3"></line><line x1="3" y1="21" x2="10" y2="14"></line>',minimize:'<path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path>',"minus-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="8" y1="12" x2="16" y2="12"></line>',"minus-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line>',minus:'<line x1="5" y1="12" x2="19" y2="12"></line>',monitor:'<rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line>',moon:'<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>',"more-horizontal":'<circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle>',"more-vertical":'<circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle>',"mouse-pointer":'<path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path><path d="M13 13l6 6"></path>',move:'<polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line>',music:'<path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle>',"navigation-2":'<polygon points="12 2 19 21 12 17 5 21 12 2"></polygon>',navigation:'<polygon points="3 11 22 2 13 21 11 13 3 11"></polygon>',octagon:'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon>',package:'<line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>',paperclip:'<path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>',"pause-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="10" y1="15" x2="10" y2="9"></line><line x1="14" y1="15" x2="14" y2="9"></line>',pause:'<rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect>',"pen-tool":'<path d="M12 19l7-7 3 3-7 7-3-3z"></path><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path><path d="M2 2l7.586 7.586"></path><circle cx="11" cy="11" r="2"></circle>',percent:'<line x1="19" y1="5" x2="5" y2="19"></line><circle cx="6.5" cy="6.5" r="2.5"></circle><circle cx="17.5" cy="17.5" r="2.5"></circle>',"phone-call":'<path d="M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-forwarded":'<polyline points="19 1 23 5 19 9"></polyline><line x1="15" y1="5" x2="23" y2="5"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-incoming":'<polyline points="16 2 16 8 22 8"></polyline><line x1="23" y1="1" x2="16" y2="8"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-missed":'<line x1="23" y1="1" x2="17" y2="7"></line><line x1="17" y1="1" x2="23" y2="7"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"phone-off":'<path d="M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"></path><line x1="23" y1="1" x2="1" y2="23"></line>',"phone-outgoing":'<polyline points="23 7 23 1 17 1"></polyline><line x1="16" y1="8" x2="23" y2="1"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',phone:'<path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>',"pie-chart":'<path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path>',"play-circle":'<circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon>',play:'<polygon points="5 3 19 12 5 21 5 3"></polygon>',"plus-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>',"plus-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>',plus:'<line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line>',pocket:'<path d="M4 3h16a2 2 0 0 1 2 2v6a10 10 0 0 1-10 10A10 10 0 0 1 2 11V5a2 2 0 0 1 2-2z"></path><polyline points="8 10 12 14 16 10"></polyline>',power:'<path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path><line x1="12" y1="2" x2="12" y2="12"></line>',printer:'<polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect>',radio:'<circle cx="12" cy="12" r="2"></circle><path d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"></path>',"refresh-ccw":'<polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>',"refresh-cw":'<polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>',repeat:'<polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path>',rewind:'<polygon points="11 19 2 12 11 5 11 19"></polygon><polygon points="22 19 13 12 22 5 22 19"></polygon>',"rotate-ccw":'<polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>',"rotate-cw":'<polyline points="23 4 23 10 17 10"></polyline><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>',rss:'<path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle>',save:'<path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline>',scissors:'<circle cx="6" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><line x1="20" y1="4" x2="8.12" y2="15.88"></line><line x1="14.47" y1="14.48" x2="20" y2="20"></line><line x1="8.12" y1="8.12" x2="12" y2="12"></line>',search:'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>',send:'<line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>',server:'<rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect><line x1="6" y1="6" x2="6.01" y2="6"></line><line x1="6" y1="18" x2="6.01" y2="18"></line>',settings:'<circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>',"share-2":'<circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>',share:'<path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" y1="2" x2="12" y2="15"></line>',"shield-off":'<path d="M19.69 14a6.9 6.9 0 0 0 .31-2V5l-8-3-3.16 1.18"></path><path d="M4.73 4.73L4 5v7c0 6 8 10 8 10a20.29 20.29 0 0 0 5.62-4.38"></path><line x1="1" y1="1" x2="23" y2="23"></line>',shield:'<path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>',"shopping-bag":'<path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path>',"shopping-cart":'<circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>',shuffle:'<polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="21 16 21 21 16 21"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line>',sidebar:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="3" x2="9" y2="21"></line>',"skip-back":'<polygon points="19 20 9 12 19 4 19 20"></polygon><line x1="5" y1="19" x2="5" y2="5"></line>',"skip-forward":'<polygon points="5 4 15 12 5 20 5 4"></polygon><line x1="19" y1="5" x2="19" y2="19"></line>',slack:'<path d="M14.5 10c-.83 0-1.5-.67-1.5-1.5v-5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5z"></path><path d="M20.5 10H19V8.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path><path d="M9.5 14c.83 0 1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5S8 21.33 8 20.5v-5c0-.83.67-1.5 1.5-1.5z"></path><path d="M3.5 14H5v1.5c0 .83-.67 1.5-1.5 1.5S2 16.33 2 15.5 2.67 14 3.5 14z"></path><path d="M14 14.5c0-.83.67-1.5 1.5-1.5h5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-5c-.83 0-1.5-.67-1.5-1.5z"></path><path d="M15.5 19H14v1.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path><path d="M10 9.5C10 8.67 9.33 8 8.5 8h-5C2.67 8 2 8.67 2 9.5S2.67 11 3.5 11h5c.83 0 1.5-.67 1.5-1.5z"></path><path d="M8.5 5H10V3.5C10 2.67 9.33 2 8.5 2S7 2.67 7 3.5 7.67 5 8.5 5z"></path>',slash:'<circle cx="12" cy="12" r="10"></circle><line x1="4.93" y1="4.93" x2="19.07" y2="19.07"></line>',sliders:'<line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line>',smartphone:'<rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>',smile:'<circle cx="12" cy="12" r="10"></circle><path d="M8 14s1.5 2 4 2 4-2 4-2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>',speaker:'<rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><circle cx="12" cy="14" r="4"></circle><line x1="12" y1="6" x2="12.01" y2="6"></line>',square:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>',star:'<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>',"stop-circle":'<circle cx="12" cy="12" r="10"></circle><rect x="9" y="9" width="6" height="6"></rect>',sun:'<circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>',sunrise:'<path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="2" x2="12" y2="9"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="8 6 12 2 16 6"></polyline>',sunset:'<path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="9" x2="12" y2="2"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="16 5 12 9 8 5"></polyline>',table:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"></path>',tablet:'<rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>',tag:'<path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>',target:'<circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle>',terminal:'<polyline points="4 17 10 11 4 5"></polyline><line x1="12" y1="19" x2="20" y2="19"></line>',thermometer:'<path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path>',"thumbs-down":'<path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>',"thumbs-up":'<path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>',"toggle-left":'<rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="8" cy="12" r="3"></circle>',"toggle-right":'<rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="16" cy="12" r="3"></circle>',tool:'<path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>',"trash-2":'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line>',trash:'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>',trello:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><rect x="7" y="7" width="3" height="9"></rect><rect x="14" y="7" width="3" height="5"></rect>',"trending-down":'<polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline><polyline points="17 18 23 18 23 12"></polyline>',"trending-up":'<polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline>',triangle:'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>',truck:'<rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle>',tv:'<rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect><polyline points="17 2 12 7 7 2"></polyline>',twitch:'<path d="M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7"></path>',twitter:'<path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>',type:'<polyline points="4 7 4 4 20 4 20 7"></polyline><line x1="9" y1="20" x2="15" y2="20"></line><line x1="12" y1="4" x2="12" y2="20"></line>',umbrella:'<path d="M23 12a11.05 11.05 0 0 0-22 0zm-5 7a3 3 0 0 1-6 0v-7"></path>',underline:'<path d="M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"></path><line x1="4" y1="21" x2="20" y2="21"></line>',unlock:'<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 9.9-1"></path>',"upload-cloud":'<polyline points="16 16 12 12 8 16"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16"></polyline>',upload:'<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line>',"user-check":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline>',"user-minus":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="23" y1="11" x2="17" y2="11"></line>',"user-plus":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line>',"user-x":'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="18" y1="8" x2="23" y2="13"></line><line x1="23" y1="8" x2="18" y2="13"></line>',user:'<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>',users:'<path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path>',"video-off":'<path d="M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"></path><line x1="1" y1="1" x2="23" y2="23"></line>',video:'<polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>',voicemail:'<circle cx="5.5" cy="11.5" r="4.5"></circle><circle cx="18.5" cy="11.5" r="4.5"></circle><line x1="5.5" y1="16" x2="18.5" y2="16"></line>',"volume-1":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>',"volume-2":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>',"volume-x":'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line>',volume:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>',watch:'<circle cx="12" cy="12" r="7"></circle><polyline points="12 9 12 12 13.5 13.5"></polyline><path d="M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83"></path>',"wifi-off":'<line x1="1" y1="1" x2="23" y2="23"></line><path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"></path><path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"></path><path d="M10.71 5.05A16 16 0 0 1 22.58 9"></path><path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>',wifi:'<path d="M5 12.55a11 11 0 0 1 14.08 0"></path><path d="M1.42 9a16 16 0 0 1 21.16 0"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>',wind:'<path d="M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"></path>',"x-circle":'<circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',"x-octagon":'<polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>',"x-square":'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="9" x2="15" y2="15"></line><line x1="15" y1="9" x2="9" y2="15"></line>',x:'<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>',youtube:'<path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>',"zap-off":'<polyline points="12.41 6.75 13 2 10.57 4.92"></polyline><polyline points="18.57 12.91 21 10 15.66 10"></polyline><polyline points="8 8 3 14 12 14 11 22 16 16"></polyline><line x1="1" y1="1" x2="23" y2="23"></line>',zap:'<polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>',"zoom-in":'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="11" y1="8" x2="11" y2="14"></line><line x1="8" y1="11" x2="14" y2="11"></line>',"zoom-out":'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="8" y1="11" x2="14" y2="11"></line>'}},"./node_modules/classnames/dedupe.js":function(v,w,E){var R,I;/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var j=function(){function J(){}J.prototype=Object.create(null);function Q(Ae,Qe){for(var te=Qe.length,It=0;It<te;++It)ae(Ae,Qe[It])}var oe={}.hasOwnProperty;function re(Ae,Qe){Ae[Qe]=!0}function Ce(Ae,Qe){for(var te in Qe)oe.call(Qe,te)&&(Ae[te]=!!Qe[te])}var Le=/\s+/;function ie(Ae,Qe){for(var te=Qe.split(Le),It=te.length,An=0;An<It;++An)Ae[te[An]]=!0}function ae(Ae,Qe){if(Qe){var te=typeof Qe;te==="string"?ie(Ae,Qe):Array.isArray(Qe)?Q(Ae,Qe):te==="object"?Ce(Ae,Qe):te==="number"&&re(Ae,Qe)}}function Pe(){for(var Ae=arguments.length,Qe=Array(Ae),te=0;te<Ae;te++)Qe[te]=arguments[te];var It=new J;Q(It,Qe);var An=[];for(var Zt in It)It[Zt]&&An.push(Zt);return An.join(" ")}return Pe}();typeof v<"u"&&v.exports?v.exports=j:(R=[],I=(function(){return j}).apply(w,R),I!==void 0&&(v.exports=I))})()},"./node_modules/core-js/es/array/from.js":function(v,w,E){E("./node_modules/core-js/modules/es.string.iterator.js"),E("./node_modules/core-js/modules/es.array.from.js");var R=E("./node_modules/core-js/internals/path.js");v.exports=R.Array.from},"./node_modules/core-js/internals/a-function.js":function(v,w){v.exports=function(E){if(typeof E!="function")throw TypeError(String(E)+" is not a function");return E}},"./node_modules/core-js/internals/an-object.js":function(v,w,E){var R=E("./node_modules/core-js/internals/is-object.js");v.exports=function(I){if(!R(I))throw TypeError(String(I)+" is not an object");return I}},"./node_modules/core-js/internals/array-from.js":function(v,w,E){var R=E("./node_modules/core-js/internals/bind-context.js"),I=E("./node_modules/core-js/internals/to-object.js"),j=E("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),J=E("./node_modules/core-js/internals/is-array-iterator-method.js"),Q=E("./node_modules/core-js/internals/to-length.js"),oe=E("./node_modules/core-js/internals/create-property.js"),re=E("./node_modules/core-js/internals/get-iterator-method.js");v.exports=function(Le){var ie=I(Le),ae=typeof this=="function"?this:Array,Pe=arguments.length,Ae=Pe>1?arguments[1]:void 0,Qe=Ae!==void 0,te=0,It=re(ie),An,Zt,_,At;if(Qe&&(Ae=R(Ae,Pe>2?arguments[2]:void 0,2)),It!=null&&!(ae==Array&&J(It)))for(At=It.call(ie),Zt=new ae;!(_=At.next()).done;te++)oe(Zt,te,Qe?j(At,Ae,[_.value,te],!0):_.value);else for(An=Q(ie.length),Zt=new ae(An);An>te;te++)oe(Zt,te,Qe?Ae(ie[te],te):ie[te]);return Zt.length=te,Zt}},"./node_modules/core-js/internals/array-includes.js":function(v,w,E){var R=E("./node_modules/core-js/internals/to-indexed-object.js"),I=E("./node_modules/core-js/internals/to-length.js"),j=E("./node_modules/core-js/internals/to-absolute-index.js");v.exports=function(J){return function(Q,oe,re){var Ce=R(Q),Le=I(Ce.length),ie=j(re,Le),ae;if(J&&oe!=oe){for(;Le>ie;)if(ae=Ce[ie++],ae!=ae)return!0}else for(;Le>ie;ie++)if((J||ie in Ce)&&Ce[ie]===oe)return J||ie||0;return!J&&-1}}},"./node_modules/core-js/internals/bind-context.js":function(v,w,E){var R=E("./node_modules/core-js/internals/a-function.js");v.exports=function(I,j,J){if(R(I),j===void 0)return I;switch(J){case 0:return function(){return I.call(j)};case 1:return function(Q){return I.call(j,Q)};case 2:return function(Q,oe){return I.call(j,Q,oe)};case 3:return function(Q,oe,re){return I.call(j,Q,oe,re)}}return function(){return I.apply(j,arguments)}}},"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":function(v,w,E){var R=E("./node_modules/core-js/internals/an-object.js");v.exports=function(I,j,J,Q){try{return Q?j(R(J)[0],J[1]):j(J)}catch(re){var oe=I.return;throw oe!==void 0&&R(oe.call(I)),re}}},"./node_modules/core-js/internals/check-correctness-of-iteration.js":function(v,w,E){var R=E("./node_modules/core-js/internals/well-known-symbol.js"),I=R("iterator"),j=!1;try{var J=0,Q={next:function(){return{done:!!J++}},return:function(){j=!0}};Q[I]=function(){return this},Array.from(Q,function(){throw 2})}catch{}v.exports=function(oe,re){if(!re&&!j)return!1;var Ce=!1;try{var Le={};Le[I]=function(){return{next:function(){return{done:Ce=!0}}}},oe(Le)}catch{}return Ce}},"./node_modules/core-js/internals/classof-raw.js":function(v,w){var E={}.toString;v.exports=function(R){return E.call(R).slice(8,-1)}},"./node_modules/core-js/internals/classof.js":function(v,w,E){var R=E("./node_modules/core-js/internals/classof-raw.js"),I=E("./node_modules/core-js/internals/well-known-symbol.js"),j=I("toStringTag"),J=R(function(){return arguments}())=="Arguments",Q=function(oe,re){try{return oe[re]}catch{}};v.exports=function(oe){var re,Ce,Le;return oe===void 0?"Undefined":oe===null?"Null":typeof(Ce=Q(re=Object(oe),j))=="string"?Ce:J?R(re):(Le=R(re))=="Object"&&typeof re.callee=="function"?"Arguments":Le}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(v,w,E){var R=E("./node_modules/core-js/internals/has.js"),I=E("./node_modules/core-js/internals/own-keys.js"),j=E("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),J=E("./node_modules/core-js/internals/object-define-property.js");v.exports=function(Q,oe){for(var re=I(oe),Ce=J.f,Le=j.f,ie=0;ie<re.length;ie++){var ae=re[ie];R(Q,ae)||Ce(Q,ae,Le(oe,ae))}}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(v,w,E){var R=E("./node_modules/core-js/internals/fails.js");v.exports=!R(function(){function I(){}return I.prototype.constructor=null,Object.getPrototypeOf(new I)!==I.prototype})},"./node_modules/core-js/internals/create-iterator-constructor.js":function(v,w,E){var R=E("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,I=E("./node_modules/core-js/internals/object-create.js"),j=E("./node_modules/core-js/internals/create-property-descriptor.js"),J=E("./node_modules/core-js/internals/set-to-string-tag.js"),Q=E("./node_modules/core-js/internals/iterators.js"),oe=function(){return this};v.exports=function(re,Ce,Le){var ie=Ce+" Iterator";return re.prototype=I(R,{next:j(1,Le)}),J(re,ie,!1,!0),Q[ie]=oe,re}},"./node_modules/core-js/internals/create-property-descriptor.js":function(v,w){v.exports=function(E,R){return{enumerable:!(E&1),configurable:!(E&2),writable:!(E&4),value:R}}},"./node_modules/core-js/internals/create-property.js":function(v,w,E){var R=E("./node_modules/core-js/internals/to-primitive.js"),I=E("./node_modules/core-js/internals/object-define-property.js"),j=E("./node_modules/core-js/internals/create-property-descriptor.js");v.exports=function(J,Q,oe){var re=R(Q);re in J?I.f(J,re,j(0,oe)):J[re]=oe}},"./node_modules/core-js/internals/define-iterator.js":function(v,w,E){var R=E("./node_modules/core-js/internals/export.js"),I=E("./node_modules/core-js/internals/create-iterator-constructor.js"),j=E("./node_modules/core-js/internals/object-get-prototype-of.js"),J=E("./node_modules/core-js/internals/object-set-prototype-of.js"),Q=E("./node_modules/core-js/internals/set-to-string-tag.js"),oe=E("./node_modules/core-js/internals/hide.js"),re=E("./node_modules/core-js/internals/redefine.js"),Ce=E("./node_modules/core-js/internals/well-known-symbol.js"),Le=E("./node_modules/core-js/internals/is-pure.js"),ie=E("./node_modules/core-js/internals/iterators.js"),ae=E("./node_modules/core-js/internals/iterators-core.js"),Pe=ae.IteratorPrototype,Ae=ae.BUGGY_SAFARI_ITERATORS,Qe=Ce("iterator"),te="keys",It="values",An="entries",Zt=function(){return this};v.exports=function(_,At,nn,Qn,Je,Rn,$n){I(nn,At,Qn);var ln=function(Gr){if(Gr===Je&&jo)return jo;if(!Ae&&Gr in cs)return cs[Gr];switch(Gr){case te:return function(){return new nn(this,Gr)};case It:return function(){return new nn(this,Gr)};case An:return function(){return new nn(this,Gr)}}return function(){return new nn(this)}},Ot=At+" Iterator",D=!1,cs=_.prototype,it=cs[Qe]||cs["@@iterator"]||Je&&cs[Je],jo=!Ae&&it||ln(Je),Kl=At=="Array"&&cs.entries||it,bt,uo,Ms;if(Kl&&(bt=j(Kl.call(new _)),Pe!==Object.prototype&&bt.next&&(!Le&&j(bt)!==Pe&&(J?J(bt,Pe):typeof bt[Qe]!="function"&&oe(bt,Qe,Zt)),Q(bt,Ot,!0,!0),Le&&(ie[Ot]=Zt))),Je==It&&it&&it.name!==It&&(D=!0,jo=function(){return it.call(this)}),(!Le||$n)&&cs[Qe]!==jo&&oe(cs,Qe,jo),ie[At]=jo,Je)if(uo={values:ln(It),keys:Rn?jo:ln(te),entries:ln(An)},$n)for(Ms in uo)(Ae||D||!(Ms in cs))&&re(cs,Ms,uo[Ms]);else R({target:At,proto:!0,forced:Ae||D},uo);return uo}},"./node_modules/core-js/internals/descriptors.js":function(v,w,E){var R=E("./node_modules/core-js/internals/fails.js");v.exports=!R(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/document-create-element.js":function(v,w,E){var R=E("./node_modules/core-js/internals/global.js"),I=E("./node_modules/core-js/internals/is-object.js"),j=R.document,J=I(j)&&I(j.createElement);v.exports=function(Q){return J?j.createElement(Q):{}}},"./node_modules/core-js/internals/enum-bug-keys.js":function(v,w){v.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":function(v,w,E){var R=E("./node_modules/core-js/internals/global.js"),I=E("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,j=E("./node_modules/core-js/internals/hide.js"),J=E("./node_modules/core-js/internals/redefine.js"),Q=E("./node_modules/core-js/internals/set-global.js"),oe=E("./node_modules/core-js/internals/copy-constructor-properties.js"),re=E("./node_modules/core-js/internals/is-forced.js");v.exports=function(Ce,Le){var ie=Ce.target,ae=Ce.global,Pe=Ce.stat,Ae,Qe,te,It,An,Zt;if(ae?Qe=R:Pe?Qe=R[ie]||Q(ie,{}):Qe=(R[ie]||{}).prototype,Qe)for(te in Le){if(An=Le[te],Ce.noTargetGet?(Zt=I(Qe,te),It=Zt&&Zt.value):It=Qe[te],Ae=re(ae?te:ie+(Pe?".":"#")+te,Ce.forced),!Ae&&It!==void 0){if(typeof An==typeof It)continue;oe(An,It)}(Ce.sham||It&&It.sham)&&j(An,"sham",!0),J(Qe,te,An,Ce)}}},"./node_modules/core-js/internals/fails.js":function(v,w){v.exports=function(E){try{return!!E()}catch{return!0}}},"./node_modules/core-js/internals/function-to-string.js":function(v,w,E){var R=E("./node_modules/core-js/internals/shared.js");v.exports=R("native-function-to-string",Function.toString)},"./node_modules/core-js/internals/get-iterator-method.js":function(v,w,E){var R=E("./node_modules/core-js/internals/classof.js"),I=E("./node_modules/core-js/internals/iterators.js"),j=E("./node_modules/core-js/internals/well-known-symbol.js"),J=j("iterator");v.exports=function(Q){if(Q!=null)return Q[J]||Q["@@iterator"]||I[R(Q)]}},"./node_modules/core-js/internals/global.js":function(v,w,E){(function(R){var I="object",j=function(J){return J&&J.Math==Math&&J};v.exports=j(typeof globalThis==I&&globalThis)||j(typeof window==I&&window)||j(typeof self==I&&self)||j(typeof R==I&&R)||Function("return this")()}).call(this,E("./node_modules/webpack/buildin/global.js"))},"./node_modules/core-js/internals/has.js":function(v,w){var E={}.hasOwnProperty;v.exports=function(R,I){return E.call(R,I)}},"./node_modules/core-js/internals/hidden-keys.js":function(v,w){v.exports={}},"./node_modules/core-js/internals/hide.js":function(v,w,E){var R=E("./node_modules/core-js/internals/descriptors.js"),I=E("./node_modules/core-js/internals/object-define-property.js"),j=E("./node_modules/core-js/internals/create-property-descriptor.js");v.exports=R?function(J,Q,oe){return I.f(J,Q,j(1,oe))}:function(J,Q,oe){return J[Q]=oe,J}},"./node_modules/core-js/internals/html.js":function(v,w,E){var R=E("./node_modules/core-js/internals/global.js"),I=R.document;v.exports=I&&I.documentElement},"./node_modules/core-js/internals/ie8-dom-define.js":function(v,w,E){var R=E("./node_modules/core-js/internals/descriptors.js"),I=E("./node_modules/core-js/internals/fails.js"),j=E("./node_modules/core-js/internals/document-create-element.js");v.exports=!R&&!I(function(){return Object.defineProperty(j("div"),"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/indexed-object.js":function(v,w,E){var R=E("./node_modules/core-js/internals/fails.js"),I=E("./node_modules/core-js/internals/classof-raw.js"),j="".split;v.exports=R(function(){return!Object("z").propertyIsEnumerable(0)})?function(J){return I(J)=="String"?j.call(J,""):Object(J)}:Object},"./node_modules/core-js/internals/internal-state.js":function(v,w,E){var R=E("./node_modules/core-js/internals/native-weak-map.js"),I=E("./node_modules/core-js/internals/global.js"),j=E("./node_modules/core-js/internals/is-object.js"),J=E("./node_modules/core-js/internals/hide.js"),Q=E("./node_modules/core-js/internals/has.js"),oe=E("./node_modules/core-js/internals/shared-key.js"),re=E("./node_modules/core-js/internals/hidden-keys.js"),Ce=I.WeakMap,Le,ie,ae,Pe=function(_){return ae(_)?ie(_):Le(_,{})},Ae=function(_){return function(At){var nn;if(!j(At)||(nn=ie(At)).type!==_)throw TypeError("Incompatible receiver, "+_+" required");return nn}};if(R){var Qe=new Ce,te=Qe.get,It=Qe.has,An=Qe.set;Le=function(_,At){return An.call(Qe,_,At),At},ie=function(_){return te.call(Qe,_)||{}},ae=function(_){return It.call(Qe,_)}}else{var Zt=oe("state");re[Zt]=!0,Le=function(_,At){return J(_,Zt,At),At},ie=function(_){return Q(_,Zt)?_[Zt]:{}},ae=function(_){return Q(_,Zt)}}v.exports={set:Le,get:ie,has:ae,enforce:Pe,getterFor:Ae}},"./node_modules/core-js/internals/is-array-iterator-method.js":function(v,w,E){var R=E("./node_modules/core-js/internals/well-known-symbol.js"),I=E("./node_modules/core-js/internals/iterators.js"),j=R("iterator"),J=Array.prototype;v.exports=function(Q){return Q!==void 0&&(I.Array===Q||J[j]===Q)}},"./node_modules/core-js/internals/is-forced.js":function(v,w,E){var R=E("./node_modules/core-js/internals/fails.js"),I=/#|\.prototype\./,j=function(Ce,Le){var ie=Q[J(Ce)];return ie==re?!0:ie==oe?!1:typeof Le=="function"?R(Le):!!Le},J=j.normalize=function(Ce){return String(Ce).replace(I,".").toLowerCase()},Q=j.data={},oe=j.NATIVE="N",re=j.POLYFILL="P";v.exports=j},"./node_modules/core-js/internals/is-object.js":function(v,w){v.exports=function(E){return typeof E=="object"?E!==null:typeof E=="function"}},"./node_modules/core-js/internals/is-pure.js":function(v,w){v.exports=!1},"./node_modules/core-js/internals/iterators-core.js":function(v,w,E){var R=E("./node_modules/core-js/internals/object-get-prototype-of.js"),I=E("./node_modules/core-js/internals/hide.js"),j=E("./node_modules/core-js/internals/has.js"),J=E("./node_modules/core-js/internals/well-known-symbol.js"),Q=E("./node_modules/core-js/internals/is-pure.js"),oe=J("iterator"),re=!1,Ce=function(){return this},Le,ie,ae;[].keys&&(ae=[].keys(),"next"in ae?(ie=R(R(ae)),ie!==Object.prototype&&(Le=ie)):re=!0),Le==null&&(Le={}),!Q&&!j(Le,oe)&&I(Le,oe,Ce),v.exports={IteratorPrototype:Le,BUGGY_SAFARI_ITERATORS:re}},"./node_modules/core-js/internals/iterators.js":function(v,w){v.exports={}},"./node_modules/core-js/internals/native-symbol.js":function(v,w,E){var R=E("./node_modules/core-js/internals/fails.js");v.exports=!!Object.getOwnPropertySymbols&&!R(function(){return!String(Symbol())})},"./node_modules/core-js/internals/native-weak-map.js":function(v,w,E){var R=E("./node_modules/core-js/internals/global.js"),I=E("./node_modules/core-js/internals/function-to-string.js"),j=R.WeakMap;v.exports=typeof j=="function"&&/native code/.test(I.call(j))},"./node_modules/core-js/internals/object-create.js":function(v,w,E){var R=E("./node_modules/core-js/internals/an-object.js"),I=E("./node_modules/core-js/internals/object-define-properties.js"),j=E("./node_modules/core-js/internals/enum-bug-keys.js"),J=E("./node_modules/core-js/internals/hidden-keys.js"),Q=E("./node_modules/core-js/internals/html.js"),oe=E("./node_modules/core-js/internals/document-create-element.js"),re=E("./node_modules/core-js/internals/shared-key.js"),Ce=re("IE_PROTO"),Le="prototype",ie=function(){},ae=function(){var Pe=oe("iframe"),Ae=j.length,Qe="<",te="script",It=">",An="java"+te+":",Zt;for(Pe.style.display="none",Q.appendChild(Pe),Pe.src=String(An),Zt=Pe.contentWindow.document,Zt.open(),Zt.write(Qe+te+It+"document.F=Object"+Qe+"/"+te+It),Zt.close(),ae=Zt.F;Ae--;)delete ae[Le][j[Ae]];return ae()};v.exports=Object.create||function(Ae,Qe){var te;return Ae!==null?(ie[Le]=R(Ae),te=new ie,ie[Le]=null,te[Ce]=Ae):te=ae(),Qe===void 0?te:I(te,Qe)},J[Ce]=!0},"./node_modules/core-js/internals/object-define-properties.js":function(v,w,E){var R=E("./node_modules/core-js/internals/descriptors.js"),I=E("./node_modules/core-js/internals/object-define-property.js"),j=E("./node_modules/core-js/internals/an-object.js"),J=E("./node_modules/core-js/internals/object-keys.js");v.exports=R?Object.defineProperties:function(oe,re){j(oe);for(var Ce=J(re),Le=Ce.length,ie=0,ae;Le>ie;)I.f(oe,ae=Ce[ie++],re[ae]);return oe}},"./node_modules/core-js/internals/object-define-property.js":function(v,w,E){var R=E("./node_modules/core-js/internals/descriptors.js"),I=E("./node_modules/core-js/internals/ie8-dom-define.js"),j=E("./node_modules/core-js/internals/an-object.js"),J=E("./node_modules/core-js/internals/to-primitive.js"),Q=Object.defineProperty;w.f=R?Q:function(re,Ce,Le){if(j(re),Ce=J(Ce,!0),j(Le),I)try{return Q(re,Ce,Le)}catch{}if("get"in Le||"set"in Le)throw TypeError("Accessors not supported");return"value"in Le&&(re[Ce]=Le.value),re}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(v,w,E){var R=E("./node_modules/core-js/internals/descriptors.js"),I=E("./node_modules/core-js/internals/object-property-is-enumerable.js"),j=E("./node_modules/core-js/internals/create-property-descriptor.js"),J=E("./node_modules/core-js/internals/to-indexed-object.js"),Q=E("./node_modules/core-js/internals/to-primitive.js"),oe=E("./node_modules/core-js/internals/has.js"),re=E("./node_modules/core-js/internals/ie8-dom-define.js"),Ce=Object.getOwnPropertyDescriptor;w.f=R?Ce:function(ie,ae){if(ie=J(ie),ae=Q(ae,!0),re)try{return Ce(ie,ae)}catch{}if(oe(ie,ae))return j(!I.f.call(ie,ae),ie[ae])}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(v,w,E){var R=E("./node_modules/core-js/internals/object-keys-internal.js"),I=E("./node_modules/core-js/internals/enum-bug-keys.js"),j=I.concat("length","prototype");w.f=Object.getOwnPropertyNames||function(Q){return R(Q,j)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(v,w){w.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(v,w,E){var R=E("./node_modules/core-js/internals/has.js"),I=E("./node_modules/core-js/internals/to-object.js"),j=E("./node_modules/core-js/internals/shared-key.js"),J=E("./node_modules/core-js/internals/correct-prototype-getter.js"),Q=j("IE_PROTO"),oe=Object.prototype;v.exports=J?Object.getPrototypeOf:function(re){return re=I(re),R(re,Q)?re[Q]:typeof re.constructor=="function"&&re instanceof re.constructor?re.constructor.prototype:re instanceof Object?oe:null}},"./node_modules/core-js/internals/object-keys-internal.js":function(v,w,E){var R=E("./node_modules/core-js/internals/has.js"),I=E("./node_modules/core-js/internals/to-indexed-object.js"),j=E("./node_modules/core-js/internals/array-includes.js"),J=E("./node_modules/core-js/internals/hidden-keys.js"),Q=j(!1);v.exports=function(oe,re){var Ce=I(oe),Le=0,ie=[],ae;for(ae in Ce)!R(J,ae)&&R(Ce,ae)&&ie.push(ae);for(;re.length>Le;)R(Ce,ae=re[Le++])&&(~Q(ie,ae)||ie.push(ae));return ie}},"./node_modules/core-js/internals/object-keys.js":function(v,w,E){var R=E("./node_modules/core-js/internals/object-keys-internal.js"),I=E("./node_modules/core-js/internals/enum-bug-keys.js");v.exports=Object.keys||function(J){return R(J,I)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(v,w,E){var R={}.propertyIsEnumerable,I=Object.getOwnPropertyDescriptor,j=I&&!R.call({1:2},1);w.f=j?function(Q){var oe=I(this,Q);return!!oe&&oe.enumerable}:R},"./node_modules/core-js/internals/object-set-prototype-of.js":function(v,w,E){var R=E("./node_modules/core-js/internals/validate-set-prototype-of-arguments.js");v.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var I=!1,j={},J;try{J=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,J.call(j,[]),I=j instanceof Array}catch{}return function(oe,re){return R(oe,re),I?J.call(oe,re):oe.__proto__=re,oe}}():void 0)},"./node_modules/core-js/internals/own-keys.js":function(v,w,E){var R=E("./node_modules/core-js/internals/global.js"),I=E("./node_modules/core-js/internals/object-get-own-property-names.js"),j=E("./node_modules/core-js/internals/object-get-own-property-symbols.js"),J=E("./node_modules/core-js/internals/an-object.js"),Q=R.Reflect;v.exports=Q&&Q.ownKeys||function(re){var Ce=I.f(J(re)),Le=j.f;return Le?Ce.concat(Le(re)):Ce}},"./node_modules/core-js/internals/path.js":function(v,w,E){v.exports=E("./node_modules/core-js/internals/global.js")},"./node_modules/core-js/internals/redefine.js":function(v,w,E){var R=E("./node_modules/core-js/internals/global.js"),I=E("./node_modules/core-js/internals/shared.js"),j=E("./node_modules/core-js/internals/hide.js"),J=E("./node_modules/core-js/internals/has.js"),Q=E("./node_modules/core-js/internals/set-global.js"),oe=E("./node_modules/core-js/internals/function-to-string.js"),re=E("./node_modules/core-js/internals/internal-state.js"),Ce=re.get,Le=re.enforce,ie=String(oe).split("toString");I("inspectSource",function(ae){return oe.call(ae)}),(v.exports=function(ae,Pe,Ae,Qe){var te=Qe?!!Qe.unsafe:!1,It=Qe?!!Qe.enumerable:!1,An=Qe?!!Qe.noTargetGet:!1;if(typeof Ae=="function"&&(typeof Pe=="string"&&!J(Ae,"name")&&j(Ae,"name",Pe),Le(Ae).source=ie.join(typeof Pe=="string"?Pe:"")),ae===R){It?ae[Pe]=Ae:Q(Pe,Ae);return}else te?!An&&ae[Pe]&&(It=!0):delete ae[Pe];It?ae[Pe]=Ae:j(ae,Pe,Ae)})(Function.prototype,"toString",function(){return typeof this=="function"&&Ce(this).source||oe.call(this)})},"./node_modules/core-js/internals/require-object-coercible.js":function(v,w){v.exports=function(E){if(E==null)throw TypeError("Can't call method on "+E);return E}},"./node_modules/core-js/internals/set-global.js":function(v,w,E){var R=E("./node_modules/core-js/internals/global.js"),I=E("./node_modules/core-js/internals/hide.js");v.exports=function(j,J){try{I(R,j,J)}catch{R[j]=J}return J}},"./node_modules/core-js/internals/set-to-string-tag.js":function(v,w,E){var R=E("./node_modules/core-js/internals/object-define-property.js").f,I=E("./node_modules/core-js/internals/has.js"),j=E("./node_modules/core-js/internals/well-known-symbol.js"),J=j("toStringTag");v.exports=function(Q,oe,re){Q&&!I(Q=re?Q:Q.prototype,J)&&R(Q,J,{configurable:!0,value:oe})}},"./node_modules/core-js/internals/shared-key.js":function(v,w,E){var R=E("./node_modules/core-js/internals/shared.js"),I=E("./node_modules/core-js/internals/uid.js"),j=R("keys");v.exports=function(J){return j[J]||(j[J]=I(J))}},"./node_modules/core-js/internals/shared.js":function(v,w,E){var R=E("./node_modules/core-js/internals/global.js"),I=E("./node_modules/core-js/internals/set-global.js"),j=E("./node_modules/core-js/internals/is-pure.js"),J="__core-js_shared__",Q=R[J]||I(J,{});(v.exports=function(oe,re){return Q[oe]||(Q[oe]=re!==void 0?re:{})})("versions",[]).push({version:"3.1.3",mode:j?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/internals/string-at.js":function(v,w,E){var R=E("./node_modules/core-js/internals/to-integer.js"),I=E("./node_modules/core-js/internals/require-object-coercible.js");v.exports=function(j,J,Q){var oe=String(I(j)),re=R(J),Ce=oe.length,Le,ie;return re<0||re>=Ce?Q?"":void 0:(Le=oe.charCodeAt(re),Le<55296||Le>56319||re+1===Ce||(ie=oe.charCodeAt(re+1))<56320||ie>57343?Q?oe.charAt(re):Le:Q?oe.slice(re,re+2):(Le-55296<<10)+(ie-56320)+65536)}},"./node_modules/core-js/internals/to-absolute-index.js":function(v,w,E){var R=E("./node_modules/core-js/internals/to-integer.js"),I=Math.max,j=Math.min;v.exports=function(J,Q){var oe=R(J);return oe<0?I(oe+Q,0):j(oe,Q)}},"./node_modules/core-js/internals/to-indexed-object.js":function(v,w,E){var R=E("./node_modules/core-js/internals/indexed-object.js"),I=E("./node_modules/core-js/internals/require-object-coercible.js");v.exports=function(j){return R(I(j))}},"./node_modules/core-js/internals/to-integer.js":function(v,w){var E=Math.ceil,R=Math.floor;v.exports=function(I){return isNaN(I=+I)?0:(I>0?R:E)(I)}},"./node_modules/core-js/internals/to-length.js":function(v,w,E){var R=E("./node_modules/core-js/internals/to-integer.js"),I=Math.min;v.exports=function(j){return j>0?I(R(j),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(v,w,E){var R=E("./node_modules/core-js/internals/require-object-coercible.js");v.exports=function(I){return Object(R(I))}},"./node_modules/core-js/internals/to-primitive.js":function(v,w,E){var R=E("./node_modules/core-js/internals/is-object.js");v.exports=function(I,j){if(!R(I))return I;var J,Q;if(j&&typeof(J=I.toString)=="function"&&!R(Q=J.call(I))||typeof(J=I.valueOf)=="function"&&!R(Q=J.call(I))||!j&&typeof(J=I.toString)=="function"&&!R(Q=J.call(I)))return Q;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/internals/uid.js":function(v,w){var E=0,R=Math.random();v.exports=function(I){return"Symbol(".concat(I===void 0?"":I,")_",(++E+R).toString(36))}},"./node_modules/core-js/internals/validate-set-prototype-of-arguments.js":function(v,w,E){var R=E("./node_modules/core-js/internals/is-object.js"),I=E("./node_modules/core-js/internals/an-object.js");v.exports=function(j,J){if(I(j),!R(J)&&J!==null)throw TypeError("Can't set "+String(J)+" as a prototype")}},"./node_modules/core-js/internals/well-known-symbol.js":function(v,w,E){var R=E("./node_modules/core-js/internals/global.js"),I=E("./node_modules/core-js/internals/shared.js"),j=E("./node_modules/core-js/internals/uid.js"),J=E("./node_modules/core-js/internals/native-symbol.js"),Q=R.Symbol,oe=I("wks");v.exports=function(re){return oe[re]||(oe[re]=J&&Q[re]||(J?Q:j)("Symbol."+re))}},"./node_modules/core-js/modules/es.array.from.js":function(v,w,E){var R=E("./node_modules/core-js/internals/export.js"),I=E("./node_modules/core-js/internals/array-from.js"),j=E("./node_modules/core-js/internals/check-correctness-of-iteration.js"),J=!j(function(Q){Array.from(Q)});R({target:"Array",stat:!0,forced:J},{from:I})},"./node_modules/core-js/modules/es.string.iterator.js":function(v,w,E){var R=E("./node_modules/core-js/internals/string-at.js"),I=E("./node_modules/core-js/internals/internal-state.js"),j=E("./node_modules/core-js/internals/define-iterator.js"),J="String Iterator",Q=I.set,oe=I.getterFor(J);j(String,"String",function(re){Q(this,{type:J,string:String(re),index:0})},function(){var Ce=oe(this),Le=Ce.string,ie=Ce.index,ae;return ie>=Le.length?{value:void 0,done:!0}:(ae=R(Le,ie,!0),Ce.index+=ae.length,{value:ae,done:!1})})},"./node_modules/webpack/buildin/global.js":function(v,w){var E;E=function(){return this}();try{E=E||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(E=window)}v.exports=E},"./src/default-attrs.json":function(v){v.exports={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"}},"./src/icon.js":function(v,w,E){Object.defineProperty(w,"__esModule",{value:!0});var R=Object.assign||function(ae){for(var Pe=1;Pe<arguments.length;Pe++){var Ae=arguments[Pe];for(var Qe in Ae)Object.prototype.hasOwnProperty.call(Ae,Qe)&&(ae[Qe]=Ae[Qe])}return ae},I=function(){function ae(Pe,Ae){for(var Qe=0;Qe<Ae.length;Qe++){var te=Ae[Qe];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(Pe,te.key,te)}}return function(Pe,Ae,Qe){return Ae&&ae(Pe.prototype,Ae),Qe&&ae(Pe,Qe),Pe}}(),j=E("./node_modules/classnames/dedupe.js"),J=re(j),Q=E("./src/default-attrs.json"),oe=re(Q);function re(ae){return ae&&ae.__esModule?ae:{default:ae}}function Ce(ae,Pe){if(!(ae instanceof Pe))throw new TypeError("Cannot call a class as a function")}var Le=function(){function ae(Pe,Ae){var Qe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];Ce(this,ae),this.name=Pe,this.contents=Ae,this.tags=Qe,this.attrs=R({},oe.default,{class:"feather feather-"+Pe})}return I(ae,[{key:"toSvg",value:function(){var Ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Qe=R({},this.attrs,Ae,{class:(0,J.default)(this.attrs.class,Ae.class)});return"<svg "+ie(Qe)+">"+this.contents+"</svg>"}},{key:"toString",value:function(){return this.contents}}]),ae}();function ie(ae){return Object.keys(ae).map(function(Pe){return Pe+'="'+ae[Pe]+'"'}).join(" ")}w.default=Le},"./src/icons.js":function(v,w,E){Object.defineProperty(w,"__esModule",{value:!0});var R=E("./src/icon.js"),I=re(R),j=E("./dist/icons.json"),J=re(j),Q=E("./src/tags.json"),oe=re(Q);function re(Ce){return Ce&&Ce.__esModule?Ce:{default:Ce}}w.default=Object.keys(J.default).map(function(Ce){return new I.default(Ce,J.default[Ce],oe.default[Ce])}).reduce(function(Ce,Le){return Ce[Le.name]=Le,Ce},{})},"./src/index.js":function(v,w,E){var R=E("./src/icons.js"),I=re(R),j=E("./src/to-svg.js"),J=re(j),Q=E("./src/replace.js"),oe=re(Q);function re(Ce){return Ce&&Ce.__esModule?Ce:{default:Ce}}v.exports={icons:I.default,toSvg:J.default,replace:oe.default}},"./src/replace.js":function(v,w,E){Object.defineProperty(w,"__esModule",{value:!0});var R=Object.assign||function(ie){for(var ae=1;ae<arguments.length;ae++){var Pe=arguments[ae];for(var Ae in Pe)Object.prototype.hasOwnProperty.call(Pe,Ae)&&(ie[Ae]=Pe[Ae])}return ie},I=E("./node_modules/classnames/dedupe.js"),j=oe(I),J=E("./src/icons.js"),Q=oe(J);function oe(ie){return ie&&ie.__esModule?ie:{default:ie}}function re(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof document>"u")throw new Error("`feather.replace()` only works in a browser environment.");var ae=document.querySelectorAll("[data-feather]");Array.from(ae).forEach(function(Pe){return Ce(Pe,ie)})}function Ce(ie){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Pe=Le(ie),Ae=Pe["data-feather"];if(delete Pe["data-feather"],Q.default[Ae]===void 0){console.warn("feather: '"+Ae+"' is not a valid icon");return}var Qe=Q.default[Ae].toSvg(R({},ae,Pe,{class:(0,j.default)(ae.class,Pe.class)})),te=new DOMParser().parseFromString(Qe,"image/svg+xml"),It=te.querySelector("svg");ie.parentNode.replaceChild(It,ie)}function Le(ie){return Array.from(ie.attributes).reduce(function(ae,Pe){return ae[Pe.name]=Pe.value,ae},{})}w.default=re},"./src/tags.json":function(v){v.exports={activity:["pulse","health","action","motion"],airplay:["stream","cast","mirroring"],"alert-circle":["warning","alert","danger"],"alert-octagon":["warning","alert","danger"],"alert-triangle":["warning","alert","danger"],"align-center":["text alignment","center"],"align-justify":["text alignment","justified"],"align-left":["text alignment","left"],"align-right":["text alignment","right"],anchor:[],archive:["index","box"],"at-sign":["mention","at","email","message"],award:["achievement","badge"],aperture:["camera","photo"],"bar-chart":["statistics","diagram","graph"],"bar-chart-2":["statistics","diagram","graph"],battery:["power","electricity"],"battery-charging":["power","electricity"],bell:["alarm","notification","sound"],"bell-off":["alarm","notification","silent"],bluetooth:["wireless"],"book-open":["read","library"],book:["read","dictionary","booklet","magazine","library"],bookmark:["read","clip","marker","tag"],box:["cube"],briefcase:["work","bag","baggage","folder"],calendar:["date"],camera:["photo"],cast:["chromecast","airplay"],"chevron-down":["expand"],"chevron-up":["collapse"],circle:["off","zero","record"],clipboard:["copy"],clock:["time","watch","alarm"],"cloud-drizzle":["weather","shower"],"cloud-lightning":["weather","bolt"],"cloud-rain":["weather"],"cloud-snow":["weather","blizzard"],cloud:["weather"],codepen:["logo"],codesandbox:["logo"],code:["source","programming"],coffee:["drink","cup","mug","tea","cafe","hot","beverage"],columns:["layout"],command:["keyboard","cmd","terminal","prompt"],compass:["navigation","safari","travel","direction"],copy:["clone","duplicate"],"corner-down-left":["arrow","return"],"corner-down-right":["arrow"],"corner-left-down":["arrow"],"corner-left-up":["arrow"],"corner-right-down":["arrow"],"corner-right-up":["arrow"],"corner-up-left":["arrow"],"corner-up-right":["arrow"],cpu:["processor","technology"],"credit-card":["purchase","payment","cc"],crop:["photo","image"],crosshair:["aim","target"],database:["storage","memory"],delete:["remove"],disc:["album","cd","dvd","music"],"dollar-sign":["currency","money","payment"],droplet:["water"],edit:["pencil","change"],"edit-2":["pencil","change"],"edit-3":["pencil","change"],eye:["view","watch"],"eye-off":["view","watch","hide","hidden"],"external-link":["outbound"],facebook:["logo","social"],"fast-forward":["music"],figma:["logo","design","tool"],"file-minus":["delete","remove","erase"],"file-plus":["add","create","new"],"file-text":["data","txt","pdf"],film:["movie","video"],filter:["funnel","hopper"],flag:["report"],"folder-minus":["directory"],"folder-plus":["directory"],folder:["directory"],framer:["logo","design","tool"],frown:["emoji","face","bad","sad","emotion"],gift:["present","box","birthday","party"],"git-branch":["code","version control"],"git-commit":["code","version control"],"git-merge":["code","version control"],"git-pull-request":["code","version control"],github:["logo","version control"],gitlab:["logo","version control"],globe:["world","browser","language","translate"],"hard-drive":["computer","server","memory","data"],hash:["hashtag","number","pound"],headphones:["music","audio","sound"],heart:["like","love","emotion"],"help-circle":["question mark"],hexagon:["shape","node.js","logo"],home:["house","living"],image:["picture"],inbox:["email"],instagram:["logo","camera"],key:["password","login","authentication","secure"],layers:["stack"],layout:["window","webpage"],"life-buoy":["help","life ring","support"],link:["chain","url"],"link-2":["chain","url"],linkedin:["logo","social media"],list:["options"],lock:["security","password","secure"],"log-in":["sign in","arrow","enter"],"log-out":["sign out","arrow","exit"],mail:["email","message"],"map-pin":["location","navigation","travel","marker"],map:["location","navigation","travel"],maximize:["fullscreen"],"maximize-2":["fullscreen","arrows","expand"],meh:["emoji","face","neutral","emotion"],menu:["bars","navigation","hamburger"],"message-circle":["comment","chat"],"message-square":["comment","chat"],"mic-off":["record","sound","mute"],mic:["record","sound","listen"],minimize:["exit fullscreen","close"],"minimize-2":["exit fullscreen","arrows","close"],minus:["subtract"],monitor:["tv","screen","display"],moon:["dark","night"],"more-horizontal":["ellipsis"],"more-vertical":["ellipsis"],"mouse-pointer":["arrow","cursor"],move:["arrows"],music:["note"],navigation:["location","travel"],"navigation-2":["location","travel"],octagon:["stop"],package:["box","container"],paperclip:["attachment"],pause:["music","stop"],"pause-circle":["music","audio","stop"],"pen-tool":["vector","drawing"],percent:["discount"],"phone-call":["ring"],"phone-forwarded":["call"],"phone-incoming":["call"],"phone-missed":["call"],"phone-off":["call","mute"],"phone-outgoing":["call"],phone:["call"],play:["music","start"],"pie-chart":["statistics","diagram"],"play-circle":["music","start"],plus:["add","new"],"plus-circle":["add","new"],"plus-square":["add","new"],pocket:["logo","save"],power:["on","off"],printer:["fax","office","device"],radio:["signal"],"refresh-cw":["synchronise","arrows"],"refresh-ccw":["arrows"],repeat:["loop","arrows"],rewind:["music"],"rotate-ccw":["arrow"],"rotate-cw":["arrow"],rss:["feed","subscribe"],save:["floppy disk"],scissors:["cut"],search:["find","magnifier","magnifying glass"],send:["message","mail","email","paper airplane","paper aeroplane"],settings:["cog","edit","gear","preferences"],"share-2":["network","connections"],shield:["security","secure"],"shield-off":["security","insecure"],"shopping-bag":["ecommerce","cart","purchase","store"],"shopping-cart":["ecommerce","cart","purchase","store"],shuffle:["music"],"skip-back":["music"],"skip-forward":["music"],slack:["logo"],slash:["ban","no"],sliders:["settings","controls"],smartphone:["cellphone","device"],smile:["emoji","face","happy","good","emotion"],speaker:["audio","music"],star:["bookmark","favorite","like"],"stop-circle":["media","music"],sun:["brightness","weather","light"],sunrise:["weather","time","morning","day"],sunset:["weather","time","evening","night"],tablet:["device"],tag:["label"],target:["logo","bullseye"],terminal:["code","command line","prompt"],thermometer:["temperature","celsius","fahrenheit","weather"],"thumbs-down":["dislike","bad","emotion"],"thumbs-up":["like","good","emotion"],"toggle-left":["on","off","switch"],"toggle-right":["on","off","switch"],tool:["settings","spanner"],trash:["garbage","delete","remove","bin"],"trash-2":["garbage","delete","remove","bin"],triangle:["delta"],truck:["delivery","van","shipping","transport","lorry"],tv:["television","stream"],twitch:["logo"],twitter:["logo","social"],type:["text"],umbrella:["rain","weather"],unlock:["security"],"user-check":["followed","subscribed"],"user-minus":["delete","remove","unfollow","unsubscribe"],"user-plus":["new","add","create","follow","subscribe"],"user-x":["delete","remove","unfollow","unsubscribe","unavailable"],user:["person","account"],users:["group"],"video-off":["camera","movie","film"],video:["camera","movie","film"],voicemail:["phone"],volume:["music","sound","mute"],"volume-1":["music","sound"],"volume-2":["music","sound"],"volume-x":["music","sound","mute"],watch:["clock","time"],"wifi-off":["disabled"],wifi:["connection","signal","wireless"],wind:["weather","air"],"x-circle":["cancel","close","delete","remove","times","clear"],"x-octagon":["delete","stop","alert","warning","times","clear"],"x-square":["cancel","close","delete","remove","times","clear"],x:["cancel","close","delete","remove","times","clear"],youtube:["logo","video","play"],"zap-off":["flash","camera","lightning"],zap:["flash","camera","lightning"],"zoom-in":["magnifying glass"],"zoom-out":["magnifying glass"]}},"./src/to-svg.js":function(v,w,E){Object.defineProperty(w,"__esModule",{value:!0});var R=E("./src/icons.js"),I=j(R);function j(Q){return Q&&Q.__esModule?Q:{default:Q}}function J(Q){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(console.warn("feather.toSvg() is deprecated. Please use feather.icons[name].toSvg() instead."),!Q)throw new Error("The required `key` (icon name) parameter is missing.");if(!I.default[Q])throw new Error("No icon matching '"+Q+"'. See the complete list of icons at https://feathericons.com");return I.default[Q].toSvg(oe)}w.default=J},0:function(v,w,E){E("./node_modules/core-js/es/array/from.js"),v.exports=E("./src/index.js")}})})})(LX);var VZ=LX.exports;const $X=Dq(VZ);var jX={exports:{}};(function(x){(function(){var h=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},v=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},w=function(e,n){var o=Array.prototype.slice.call(e);return o.sort(n)},E=function(e,n){return R(function(o,r){return e.eq(n(o),n(r))})},R=function(e){return{eq:e}},I=R(function(e,n){return e===n}),j=I,J=function(e){return R(function(n,o){if(n.length!==o.length)return!1;for(var r=n.length,a=0;a<r;a++)if(!e.eq(n[a],o[a]))return!1;return!0})},Q=function(e,n){return E(J(e),function(o){return w(o,n)})},oe=function(e){return R(function(n,o){var r=Object.keys(n),a=Object.keys(o);if(!Q(j).eq(r,a))return!1;for(var l=r.length,d=0;d<l;d++){var p=r[d];if(!e.eq(n[p],o[p]))return!1}return!0})},re=R(function(e,n){if(e===n)return!0;var o=h(e),r=h(n);return o!==r?!1:v(o)?e===n:o==="array"?J(re).eq(e,n):o==="object"?oe(re).eq(e,n):!1});const Ce=Object.getPrototypeOf,Le=(e,n,o)=>{var r;return o(e,n.prototype)?!0:((r=e.constructor)===null||r===void 0?void 0:r.name)===n.name},ie=e=>{const n=typeof e;return e===null?"null":n==="object"&&Array.isArray(e)?"array":n==="object"&&Le(e,String,(o,r)=>r.isPrototypeOf(o))?"string":n},ae=e=>n=>ie(n)===e,Pe=e=>n=>typeof n===e,Ae=e=>n=>e===n,Qe=(e,n)=>It(e)&&Le(e,n,(o,r)=>Ce(o)===r),te=ae("string"),It=ae("object"),An=e=>Qe(e,Object),Zt=ae("array"),_=Ae(null),At=Pe("boolean"),nn=Ae(void 0),Qn=e=>e==null,Je=e=>!Qn(e),Rn=Pe("function"),$n=Pe("number"),ln=(e,n)=>{if(Zt(e)){for(let o=0,r=e.length;o<r;++o)if(!n(e[o]))return!1;return!0}return!1},Ot=()=>{},D=(e,n)=>(...o)=>e(n.apply(null,o)),cs=(e,n)=>o=>e(n(o)),it=e=>()=>e,jo=e=>e,Kl=(e,n)=>e===n;function bt(e,...n){return(...o)=>{const r=n.concat(o);return e.apply(null,r)}}const uo=e=>n=>!e(n),Ms=e=>()=>{throw new Error(e)},Gr=e=>e(),Ic=e=>{e()},We=it(!1),ht=it(!0);class ${constructor(n,o){this.tag=n,this.value=o}static some(n){return new $(!0,n)}static none(){return $.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?$.some(n(this.value)):$.none()}bind(n){return this.tag?n(this.value):$.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:$.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n??"Called getOrDie on None")}static from(n){return Je(n)?$.some(n):$.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}$.singletonNone=new $(!1);const Kd=Array.prototype.slice,eo=Array.prototype.indexOf,Ou=Array.prototype.push,rs=(e,n)=>eo.call(e,n),jm=(e,n)=>{const o=rs(e,n);return o===-1?$.none():$.some(o)},en=(e,n)=>rs(e,n)>-1,vo=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const a=e[o];if(n(a,o))return!0}return!1},on=(e,n)=>{const o=e.length,r=new Array(o);for(let a=0;a<o;a++){const l=e[a];r[a]=n(l,a)}return r},De=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const a=e[o];n(a,o)}},qr=(e,n)=>{for(let o=e.length-1;o>=0;o--){const r=e[o];n(r,o)}},tc=(e,n)=>{const o=[],r=[];for(let a=0,l=e.length;a<l;a++){const d=e[a];(n(d,a)?o:r).push(d)}return{pass:o,fail:r}},qt=(e,n)=>{const o=[];for(let r=0,a=e.length;r<a;r++){const l=e[r];n(l,r)&&o.push(l)}return o},Du=(e,n,o)=>(qr(e,(r,a)=>{o=n(o,r,a)}),o),ls=(e,n,o)=>(De(e,(r,a)=>{o=n(o,r,a)}),o),Yl=(e,n,o)=>{for(let r=0,a=e.length;r<a;r++){const l=e[r];if(n(l,r))return $.some(l);if(o(l,r))break}return $.none()},Ho=(e,n)=>Yl(e,n,We),Yt=(e,n)=>{for(let o=0,r=e.length;o<r;o++){const a=e[o];if(n(a,o))return $.some(o)}return $.none()},Ar=e=>{const n=[];for(let o=0,r=e.length;o<r;++o){if(!Zt(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);Ou.apply(n,e[o])}return n},Ei=(e,n)=>Ar(on(e,n)),or=(e,n)=>{for(let o=0,r=e.length;o<r;++o){const a=e[o];if(n(a,o)!==!0)return!1}return!0},Jo=e=>{const n=Kd.call(e,0);return n.reverse(),n},Yd=(e,n)=>qt(e,o=>!en(n,o)),Is=(e,n)=>{const o={};for(let r=0,a=e.length;r<a;r++){const l=e[r];o[String(l)]=n(l,r)}return o},To=(e,n)=>{const o=Kd.call(e,0);return o.sort(n),o},ni=(e,n)=>n>=0&&n<e.length?$.some(e[n]):$.none(),us=e=>ni(e,0),oi=e=>ni(e,e.length-1),si=Rn(Array.from)?Array.from:e=>Kd.call(e),nc=(e,n)=>{for(let o=0;o<e.length;o++){const r=n(e[o],o);if(r.isSome())return r}return $.none()},Ru=(e,n)=>{const o=[],r=Rn(n)?a=>vo(o,l=>n(l,a)):a=>en(o,a);for(let a=0,l=e.length;a<l;a++){const d=e[a];r(d)||o.push(d)}return o},hr=Object.keys,Wh=Object.hasOwnProperty,at=(e,n)=>{const o=hr(e);for(let r=0,a=o.length;r<a;r++){const l=o[r],d=e[l];n(d,l)}},jn=(e,n)=>Ti(e,(o,r)=>({k:r,v:n(o,r)})),Ti=(e,n)=>{const o={};return at(e,(r,a)=>{const l=n(r,a);o[l.k]=l.v}),o},ri=e=>(n,o)=>{e[o]=n},_i=(e,n,o,r)=>{at(e,(a,l)=>{(n(a,l)?o:r)(a,l)})},js=(e,n)=>{const o={},r={};return _i(e,n,ri(o),ri(r)),{t:o,f:r}},Xl=(e,n)=>{const o={};return _i(e,n,ri(o),Ot),o},Jl=(e,n)=>{const o=[];return at(e,(r,a)=>{o.push(n(r,a))}),o},Hm=e=>Jl(e,jo),xo=(e,n)=>Lt(e,n)?$.from(e[n]):$.none(),Lt=(e,n)=>Wh.call(e,n),ya=(e,n)=>Lt(e,n)&&e[n]!==void 0&&e[n]!==null,Gh=(e,n,o=re)=>oe(o).eq(e,n),Nu=e=>{const n={};return De(e,o=>{n[o]={}}),hr(n)},qh=e=>e.length!==void 0,Kh=Array.isArray,Br=e=>{if(Kh(e))return e;{const n=[];for(let o=0,r=e.length;o<r;o++)n[o]=e[o];return n}},Xd=(e,n,o)=>{if(!e)return!1;if(o=o||e,qh(e)){for(let r=0,a=e.length;r<a;r++)if(n.call(o,e[r],r,e)===!1)return!1}else for(const r in e)if(Lt(e,r)&&n.call(o,e[r],r,e)===!1)return!1;return!0},Pu=(e,n)=>{const o=[];return Xd(e,(r,a)=>{o.push(n(r,a,e))}),o},Um=(e,n)=>{const o=[];return Xd(e,(r,a)=>{(!n||n(r,a,e))&&o.push(r)}),o},zm=(e,n)=>{if(e){for(let o=0,r=e.length;o<r;o++)if(e[o]===n)return o}return-1},Zl=(e,n,o,r)=>{let a=nn(o)?e[0]:o;for(let l=0;l<e.length;l++)a=n.call(r,a,e[l],l);return a},oc=(e,n,o)=>{for(let r=0,a=e.length;r<a;r++)if(n.call(o,e[r],r,e))return r;return-1},zi=e=>e[e.length-1],Vi=e=>{let n=!1,o;return(...r)=>(n||(n=!0,o=e.apply(null,r)),o)},Yh=(e,n,o,r)=>{const a=e.isiOS()&&/ipad/i.test(o)===!0,l=e.isiOS()&&!a,d=e.isiOS()||e.isAndroid(),p=d||r("(pointer:coarse)"),y=a||!l&&d&&r("(min-device-width:768px)"),T=l||d&&!y,N=n.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,B=!T&&!y&&!N;return{isiPad:it(a),isiPhone:it(l),isTablet:it(y),isPhone:it(T),isTouch:it(p),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:it(N),isDesktop:it(B)}},Vm=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o];if(r.test(n))return r}},Mu=(e,n)=>{const o=Vm(e,n);if(!o)return{major:0,minor:0};const r=a=>Number(n.replace(o,"$"+a));return Wm(r(1),r(2))},QA=(e,n)=>{const o=String(n).toLowerCase();return e.length===0?nt():Mu(e,o)},nt=()=>Wm(0,0),Wm=(e,n)=>({major:e,minor:n}),Iu={nu:Wm,detect:QA,unknown:nt},Xh=(e,n)=>nc(n.brands,o=>{const r=o.brand.toLowerCase();return Ho(e,a=>{var l;return r===((l=a.brand)===null||l===void 0?void 0:l.toLowerCase())}).map(a=>({current:a.name,version:Iu.nu(parseInt(o.version,10),0)}))}),Jh=(e,n)=>{const o=String(n).toLowerCase();return Ho(e,r=>r.search(o))},kC=(e,n)=>Jh(e,n).map(o=>{const r=Iu.detect(o.versionRegexes,n);return{current:o.name,version:r}}),Zh=(e,n)=>Jh(e,n).map(o=>{const r=Iu.detect(o.versionRegexes,n);return{current:o.name,version:r}}),OC=(e,n)=>e.substring(n),zy=(e,n,o)=>n===""||e.length>=n.length&&e.substr(o,o+n.length)===n,Gm=(e,n)=>ns(e,n)?OC(e,n.length):e,Hs=(e,n,o=0,r)=>{const a=e.indexOf(n,o);return a!==-1?nn(r)?!0:a+n.length<=r:!1},ns=(e,n)=>zy(e,n,0),qm=(e,n)=>zy(e,n,e.length-n.length),ds=e=>n=>n.replace(e,""),va=ds(/^\s+|\s+$/g),Ql=ds(/^\s+/g),Qh=ds(/\s+$/g),ys=e=>e.length>0,Ai=e=>!ys(e),Vy=(e,n)=>n<=0?"":new Array(n+1).join(e),eu=(e,n=10)=>{const o=parseInt(e,n);return isNaN(o)?$.none():$.some(o)},Jd=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ii=e=>n=>Hs(n,e),Wy=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Hs(e,"edge/")&&Hs(e,"chrome")&&Hs(e,"safari")&&Hs(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Jd],search:e=>Hs(e,"chrome")&&!Hs(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Hs(e,"msie")||Hs(e,"trident")},{name:"Opera",versionRegexes:[Jd,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ii("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ii("firefox")},{name:"Safari",versionRegexes:[Jd,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Hs(e,"safari")||Hs(e,"mobile/"))&&Hs(e,"applewebkit")}],xa=[{name:"Windows",search:ii("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Hs(e,"iphone")||Hs(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ii("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ii("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ii("linux"),versionRegexes:[]},{name:"Solaris",search:ii("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ii("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ii("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Km={browsers:it(Wy),oses:it(xa)},Yn="Edge",Zd="Chromium",Wi="IE",sc="Opera",rc="Firefox",bl="Safari",Ca=()=>Bu({current:void 0,version:Iu.unknown()}),Bu=e=>{const n=e.current,o=e.version,r=a=>()=>n===a;return{current:n,version:o,isEdge:r(Yn),isChromium:r(Zd),isIE:r(Wi),isOpera:r(sc),isFirefox:r(rc),isSafari:r(bl)}},Sa={unknown:Ca,nu:Bu,edge:it(Yn),chromium:it(Zd),ie:it(Wi),opera:it(sc),firefox:it(rc),safari:it(bl)},Ym="Windows",Xm="iOS",eg="Android",Gi="Linux",Bc="macOS",Jm="Solaris",tg="FreeBSD",Qd="ChromeOS",ng=()=>gr({current:void 0,version:Iu.unknown()}),gr=e=>{const n=e.current,o=e.version,r=a=>()=>n===a;return{current:n,version:o,isWindows:r(Ym),isiOS:r(Xm),isAndroid:r(eg),isMacOS:r(Bc),isLinux:r(Gi),isSolaris:r(Jm),isFreeBSD:r(tg),isChromeOS:r(Qd)}},tu={unknown:ng,nu:gr,windows:it(Ym),ios:it(Xm),android:it(eg),linux:it(Gi),macos:it(Bc),solaris:it(Jm),freebsd:it(tg),chromeos:it(Qd)},og={detect:(e,n,o)=>{const r=Km.browsers(),a=Km.oses(),l=n.bind(y=>Xh(r,y)).orThunk(()=>kC(r,e)).fold(Sa.unknown,Sa.nu),d=Zh(a,e).fold(tu.unknown,tu.nu),p=Yh(d,l,e,o);return{browser:l,os:d,deviceType:p}}},Gy=e=>window.matchMedia(e).matches;let DC=Vi(()=>og.detect(window.navigator.userAgent,$.from(window.navigator.userAgentData),Gy));const wa=()=>DC(),ai=window.navigator.userAgent,Ea=wa(),qi=Ea.browser,Ki=Ea.os,$t=Ea.deviceType,Zm=ai.indexOf("Windows Phone")!==-1,an={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:qi.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!qi.isIE(),windowsPhone:Zm,browser:{current:qi.current,version:qi.version,isChromium:qi.isChromium,isEdge:qi.isEdge,isFirefox:qi.isFirefox,isIE:qi.isIE,isOpera:qi.isOpera,isSafari:qi.isSafari},os:{current:Ki.current,version:Ki.version,isAndroid:Ki.isAndroid,isChromeOS:Ki.isChromeOS,isFreeBSD:Ki.isFreeBSD,isiOS:Ki.isiOS,isLinux:Ki.isLinux,isMacOS:Ki.isMacOS,isSolaris:Ki.isSolaris,isWindows:Ki.isWindows},deviceType:{isDesktop:$t.isDesktop,isiPad:$t.isiPad,isiPhone:$t.isiPhone,isPhone:$t.isPhone,isTablet:$t.isTablet,isTouch:$t.isTouch,isWebView:$t.isWebView}},Us=/^\s*|\s*$/g,sg=e=>Qn(e)?"":(""+e).replace(Us,""),_o=(e,n)=>n?n==="array"&&Kh(e)?!0:typeof e===n:e!==void 0,qy=(e,n,o={})=>{const r=te(e)?e.split(n||","):e||[];let a=r.length;for(;a--;)o[r[a]]={};return o},ef=Lt,Ky=(e,...n)=>{for(let o=0;o<n.length;o++){const r=n[o];for(const a in r)if(Lt(r,a)){const l=r[a];l!==void 0&&(e[a]=l)}}return e},rn=function(e,n,o,r){r=r||this,e&&(o&&(e=e[o]),Xd(e,(a,l)=>n.call(r,a,l,o)===!1?!1:(rn(a,n,o,r),!0)))},k={trim:sg,isArray:Kh,is:_o,toArray:Br,makeMap:qy,each:Xd,map:Pu,grep:Um,inArray:zm,hasOwn:ef,extend:Ky,walk:rn,resolve:(e,n=window)=>{const o=e.split(".");for(let r=0,a=o.length;r<a&&(n=n[o[r]],!!n);r++);return n},explode:(e,n)=>Zt(e)?e:e===""?[]:Pu(e.split(n||","),sg),_addCacheSuffix:e=>{const n=an.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},P=(e,n,o=Kl)=>e.exists(r=>o(r,n)),H=(e,n,o=Kl)=>V(e,n,o).getOr(e.isNone()&&n.isNone()),U=e=>{const n=[],o=r=>{n.push(r)};for(let r=0;r<e.length;r++)e[r].each(o);return n},V=(e,n,o)=>e.isSome()&&n.isSome()?$.some(o(e.getOrDie(),n.getOrDie())):$.none(),me=(e,n,o,r)=>e.isSome()&&n.isSome()&&o.isSome()?$.some(r(e.getOrDie(),n.getOrDie(),o.getOrDie())):$.none(),ce=(e,n)=>e?$.some(n):$.none(),ye=typeof window<"u"?window:Function("return this;")(),Be=(e,n)=>{let o=n??ye;for(let r=0;r<e.length&&o!==void 0&&o!==null;++r)o=o[e[r]];return o},Xe=(e,n)=>{const o=e.split(".");return Be(o,n)},je=(e,n)=>Xe(e,n),Ct=(e,n)=>{const o=je(e,n);if(o==null)throw new Error(e+" not available on this browser");return o},Ht=Object.getPrototypeOf,go=e=>Ct("HTMLElement",e),Un=e=>{const n=Xe("ownerDocument.defaultView",e);return It(e)&&(go(n).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Ht(e).constructor.name))},Do=8,vs=9,ci=11,li=1,Tn=3,gn=e=>e.dom.nodeName.toLowerCase(),bo=e=>e.dom.nodeType,Ao=e=>n=>bo(n)===e,tf=e=>bo(e)===Do||gn(e)==="#comment",Lu=e=>xs(e)&&Un(e.dom),xs=Ao(li),zs=Ao(Tn),Ta=Ao(vs),ic=Ao(ci),Kr=e=>n=>xs(n)&&gn(n)===e,ki=(e,n,o)=>{if(te(o)||At(o)||$n(o))e.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},_s=(e,n,o)=>{ki(e.dom,n,o)},kr=(e,n)=>{const o=e.dom;at(n,(r,a)=>{ki(o,a,r)})},As=(e,n)=>{const o=e.dom.getAttribute(n);return o===null?void 0:o},_a=(e,n)=>$.from(As(e,n)),Oi=(e,n)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},sr=(e,n)=>{e.dom.removeAttribute(n)},Uo=e=>{const n=e.dom.attributes;return n==null||n.length===0},$u=e=>ls(e.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),ui=(e,n)=>{const o=As(e,n);return o===void 0||o===""?[]:o.split(" ")},nu=(e,n,o)=>{const a=ui(e,n).concat([o]);return _s(e,n,a.join(" ")),!0},Yy=(e,n,o)=>{const r=qt(ui(e,n),a=>a!==o);return r.length>0?_s(e,n,r.join(" ")):sr(e,n),!1},ju=e=>e.dom.classList!==void 0,Qm=e=>ui(e,"class"),Fc=(e,n)=>nu(e,"class",n),ep=(e,n)=>Yy(e,"class",n),Lc=(e,n)=>en(Qm(e),n)?ep(e,n):Fc(e,n),yl=(e,n)=>{ju(e)?e.dom.classList.add(n):Fc(e,n)},ou=e=>{(ju(e)?e.dom.classList:Qm(e)).length===0&&sr(e,"class")},$c=(e,n)=>{ju(e)?e.dom.classList.remove(n):ep(e,n),ou(e)},nf=(e,n)=>{const o=ju(e)?e.dom.classList.toggle(n):Lc(e,n);return ou(e),o},Hu=(e,n)=>ju(e)&&e.dom.classList.contains(n),Xy=(e,n)=>{const r=(n||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const a="HTML does not have a single root node";throw console.error(a,e),new Error(a)}return vl(r.childNodes[0])},of=(e,n)=>{const r=(n||document).createElement(e);return vl(r)},tp=(e,n)=>{const r=(n||document).createTextNode(e);return vl(r)},vl=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},ee={fromHtml:Xy,fromTag:of,fromText:tp,fromDom:vl,fromPoint:(e,n,o)=>$.from(e.dom.elementFromPoint(n,o)).map(vl)},np=(e,n)=>{const o=[],r=l=>(o.push(l),n(l));let a=n(e);do a=a.bind(r);while(a.isSome());return o},ne=(e,n)=>{const o=e.dom;if(o.nodeType!==li)return!1;{const r=o;if(r.matches!==void 0)return r.matches(n);if(r.msMatchesSelector!==void 0)return r.msMatchesSelector(n);if(r.webkitMatchesSelector!==void 0)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector!==void 0)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},be=e=>e.nodeType!==li&&e.nodeType!==vs&&e.nodeType!==ci||e.childElementCount===0,Fe=(e,n)=>{const o=n===void 0?document:n.dom;return be(o)?[]:on(o.querySelectorAll(e),ee.fromDom)},Ue=(e,n)=>{const o=n===void 0?document:n.dom;return be(o)?$.none():$.from(o.querySelector(e)).map(ee.fromDom)},Ne=(e,n)=>e.dom===n.dom,wt=(e,n)=>{const o=e.dom,r=n.dom;return o===r?!1:o.contains(r)},Vt=e=>ee.fromDom(e.dom.ownerDocument),tn=e=>Ta(e)?e:Vt(e),Kt=e=>ee.fromDom(tn(e).dom.documentElement),Xn=e=>ee.fromDom(tn(e).dom.defaultView),dn=e=>$.from(e.dom.parentNode).map(ee.fromDom),Nn=e=>$.from(e.dom.parentElement).map(ee.fromDom),Wn=(e,n)=>{const o=Rn(n)?n:We;let r=e.dom;const a=[];for(;r.parentNode!==null&&r.parentNode!==void 0;){const l=r.parentNode,d=ee.fromDom(l);if(a.push(d),o(d)===!0)break;r=l}return a},wn=e=>{const n=o=>qt(o,r=>!Ne(e,r));return dn(e).map(Vo).map(n).getOr([])},Co=e=>$.from(e.dom.previousSibling).map(ee.fromDom),zo=e=>$.from(e.dom.nextSibling).map(ee.fromDom),Or=e=>Jo(np(e,Co)),di=e=>np(e,zo),Vo=e=>on(e.dom.childNodes,ee.fromDom),rr=(e,n)=>{const o=e.dom.childNodes;return $.from(o[n]).map(ee.fromDom)},Po=e=>rr(e,0),rg=e=>rr(e,e.dom.childNodes.length-1),RC=e=>e.dom.childNodes.length,nk=e=>{const n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return ee.fromDom(n)},ig=e=>ic(e)&&Je(e.dom.host),xl=e=>ee.fromDom(e.dom.getRootNode()),Jy=e=>ig(e)?e:nk(tn(e)),X$=e=>ig(e)?e:ee.fromDom(tn(e).dom.body),Lq=e=>{const n=xl(e);return ig(n)?$.some(n):$.none()},$q=e=>ee.fromDom(e.dom.host),ok=e=>{if(Je(e.target)){const n=ee.fromDom(e.target);if(xs(n)&&NC(n)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return us(o)}}return $.from(e.target)},NC=e=>Je(e.dom.shadowRoot),op=e=>{const n=zs(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return Lq(ee.fromDom(n)).fold(()=>o.body.contains(n),cs(op,$q))};var sk=(e,n,o,r,a)=>e(o,r)?$.some(o):Rn(a)&&a(o)?$.none():n(o,r,a);const Zo=(e,n,o)=>{let r=e.dom;const a=Rn(o)?o:We;for(;r.parentNode;){r=r.parentNode;const l=ee.fromDom(r);if(n(l))return $.some(l);if(a(l))break}return $.none()},is=(e,n,o)=>sk((a,l)=>l(a),Zo,e,n,o),sf=(e,n)=>{const o=e.dom;return o.parentNode?PC(ee.fromDom(o.parentNode),r=>!Ne(e,r)&&n(r)):$.none()},PC=(e,n)=>{const o=a=>n(ee.fromDom(a));return Ho(e.dom.childNodes,o).map(ee.fromDom)},MC=(e,n)=>{const o=r=>{for(let a=0;a<r.childNodes.length;a++){const l=ee.fromDom(r.childNodes[a]);if(n(l))return $.some(l);const d=o(r.childNodes[a]);if(d.isSome())return d}return $.none()};return o(e.dom)},Vs=(e,n,o)=>Zo(e,r=>ne(r,n),o),Pt=(e,n)=>Ue(n,e),Uu=(e,n,o)=>sk((a,l)=>ne(a,l),Vs,e,n,o),J$=e=>Uu(e,"[contenteditable]"),ac=(e,n=!1)=>op(e)?e.dom.isContentEditable:J$(e).fold(it(n),o=>So(o)==="true"),So=e=>e.dom.contentEditable,ag=e=>e.style!==void 0&&Rn(e.style.getPropertyValue),IC=(e,n,o)=>{if(!te(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);ag(e)&&e.style.setProperty(n,o)},rk=(e,n)=>{ag(e)&&e.style.removeProperty(n)},Z$=(e,n,o)=>{const r=e.dom;IC(r,n,o)},bn=(e,n)=>{const o=e.dom;at(n,(r,a)=>{IC(o,a,r)})},Ws=(e,n)=>{const o=e.dom,a=window.getComputedStyle(o).getPropertyValue(n);return a===""&&!op(e)?Zy(o,n):a},Zy=(e,n)=>ag(e)?e.style.getPropertyValue(n):"",Qy=(e,n)=>{const o=e.dom,r=Zy(o,n);return $.from(r).filter(a=>a.length>0)},BC=e=>{const n={},o=e.dom;if(ag(o))for(let r=0;r<o.style.length;r++){const a=o.style.item(r);n[a]=o.style[a]}return n},ik=(e,n)=>{const o=e.dom;rk(o,n),P(_a(e,"style").map(va),"")&&sr(e,"style")},Q$=e=>e.dom.offsetWidth,Di=(e,n)=>{dn(e).each(r=>{r.dom.insertBefore(n.dom,e.dom)})},Cl=(e,n)=>{zo(e).fold(()=>{dn(e).each(a=>{Gs(a,n)})},r=>{Di(r,n)})},ev=(e,n)=>{Po(e).fold(()=>{Gs(e,n)},r=>{e.dom.insertBefore(n.dom,r.dom)})},Gs=(e,n)=>{e.dom.appendChild(n.dom)},e3=(e,n)=>{Di(e,n),Gs(n,e)},Cs=(e,n)=>{De(n,(o,r)=>{const a=r===0?e:n[r-1];Cl(a,o)})},zu=(e,n)=>{De(n,o=>{Gs(e,o)})},sp=e=>{e.dom.textContent="",De(Vo(e),n=>{Ro(n)})},Ro=e=>{const n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Vu=e=>{const n=Vo(e);n.length>0&&Cs(e,n),Ro(e)},t3=(e,n)=>{const r=(n||document).createElement("div");return r.innerHTML=e,Vo(ee.fromDom(r))},tv=e=>on(e,ee.fromDom),Qo=e=>e.dom.innerHTML,cg=(e,n)=>{const r=Vt(e).dom,a=ee.fromDom(r.createDocumentFragment()),l=t3(n,r);zu(a,l),sp(e),Gs(e,a)},jc=e=>{const n=ee.fromTag("div"),o=ee.fromDom(e.dom.cloneNode(!0));return Gs(n,o),Qo(n)},nv=(e,n,o,r,a,l,d)=>({target:e,x:n,y:o,stop:r,prevent:a,kill:l,raw:d}),ov=e=>{const n=ee.fromDom(ok(e).getOr(e.target)),o=()=>e.stopPropagation(),r=()=>e.preventDefault(),a=D(r,o);return nv(n,e.clientX,e.clientY,o,r,a,e)},FC=(e,n)=>o=>{e(o)&&n(ov(o))},LC=(e,n,o,r,a)=>{const l=FC(o,r);return e.dom.addEventListener(n,l,a),{unbind:bt(o3,e,n,l,a)}},n3=(e,n,o,r)=>LC(e,n,o,r,!1),o3=(e,n,o,r)=>{e.dom.removeEventListener(n,o,r)},$C=(e,n)=>({left:e,top:n,translate:(r,a)=>$C(e+r,n+a)}),lg=$C,jq=e=>{const n=e.getBoundingClientRect();return lg(n.left,n.top)},ug=(e,n)=>e!==void 0?e:n!==void 0?n:0,jC=e=>{const n=e.dom.ownerDocument,o=n.body,r=n.defaultView,a=n.documentElement;if(o===e.dom)return lg(o.offsetLeft,o.offsetTop);const l=ug(r==null?void 0:r.pageYOffset,a.scrollTop),d=ug(r==null?void 0:r.pageXOffset,a.scrollLeft),p=ug(a.clientTop,o.clientTop),y=ug(a.clientLeft,o.clientLeft);return HC(e).translate(d-y,l-p)},HC=e=>{const n=e.dom,r=n.ownerDocument.body;return r===n?lg(r.offsetLeft,r.offsetTop):op(e)?jq(n):lg(0,0)},rf=e=>{const n=e!==void 0?e.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return lg(o,r)},ak=(e,n,o)=>{const a=(o!==void 0?o.dom:document).defaultView;a&&a.scrollTo(e,n)},ck=(e,n)=>{wa().browser.isSafari()&&Rn(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},s3=e=>{const n=e===void 0?window:e;return wa().browser.isFirefox()?$.none():$.from(n.visualViewport)},lk=(e,n,o,r)=>({x:e,y:n,width:o,height:r,right:e+o,bottom:n+r}),uk=e=>{const n=e===void 0?window:e,o=n.document,r=rf(ee.fromDom(o));return s3(n).fold(()=>{const a=n.document.documentElement,l=a.clientWidth,d=a.clientHeight;return lk(r.left,r.top,l,d)},a=>lk(Math.max(a.pageLeft,r.left),Math.max(a.pageTop,r.top),a.width,a.height))},rp=(e,n)=>qt(Vo(e),n),UC=(e,n)=>{let o=[];return De(Vo(e),r=>{n(r)&&(o=o.concat([r])),o=o.concat(UC(r,n))}),o},fi=(e,n)=>Fe(n,e),zC=(e,n,o)=>Zo(e,n,o).isSome(),r3=(e,n)=>sf(e,n).isSome(),dk=(e,n)=>MC(e,n).isSome();class ir{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,r,a){if(n){if(!a&&n[o])return n[o];if(n!==this.rootNode){let l=n[r];if(l)return l;for(let d=n.parentNode;d&&d!==this.rootNode;d=d.parentNode)if(l=d[r],l)return l}}}findPreviousNode(n,o){if(n){const r=n.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!o){for(let l=r.lastChild;l;l=l.lastChild)if(!l.lastChild)return l}return r}const a=n.parentNode;if(a&&a!==this.rootNode)return a}}}const dg="\uFEFF",Bs="Â ",VC=e=>e===dg,Yi=e=>e.replace(/\uFEFF/g,""),Wt=/^[ \t\r\n]*$/,Aa=e=>Wt.test(e),WC=e=>{for(const n of e)if(!VC(n))return!1;return!0},i3=e=>" \f	\v".indexOf(e)!==-1,fk=e=>e===`
`||e==="\r",GC=(e,n)=>n<e.length&&n>=0?fk(e[n]):!1,cc=(e,n=4,o=!0,r=!0)=>{const a=Vy(" ",n),l=e.replace(/\t/g,a);return ls(l,(p,y)=>i3(y)||y===Bs?p.pcIsSpace||p.str===""&&o||p.str.length===l.length-1&&r||GC(l,p.str.length+1)?{pcIsSpace:!1,str:p.str+Bs}:{pcIsSpace:!0,str:p.str+" "}:{pcIsSpace:fk(y),str:p.str+y},{pcIsSpace:!1,str:""}).str},Sl=e=>n=>!!n&&n.nodeType===e,af=e=>!!e&&!Object.getPrototypeOf(e),lt=Sl(1),lc=e=>lt(e)&&Lu(ee.fromDom(e)),qC=e=>lt(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",ip=e=>{const n=e.toLowerCase();return o=>Je(o)&&o.nodeName.toLowerCase()===n},Hc=e=>{const n=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const r=o.nodeName.toLowerCase();return en(n,r)}return!1}},sv=(e,n)=>{const o=n.toLowerCase().split(" ");return r=>{if(lt(r)){const a=r.ownerDocument.defaultView;if(a)for(let l=0;l<o.length;l++){const d=a.getComputedStyle(r,null);if((d?d.getPropertyValue(e):null)===o[l])return!0}}return!1}},ap=e=>n=>lt(n)&&n.hasAttribute(e),cf=e=>lt(e)&&e.hasAttribute("data-mce-bogus"),fg=e=>lt(e)&&e.getAttribute("data-mce-bogus")==="all",Uc=e=>lt(e)&&e.tagName==="TABLE",mk=e=>n=>!!(lc(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e)),qo=Hc(["textarea","input"]),Ve=Sl(3),mi=Sl(4),cp=Sl(7),qs=Sl(8),lp=Sl(9),Ks=Sl(11),Gn=ip("br"),rv=ip("img"),Ie=mk("true"),qn=mk("false"),iv=Hc(["td","th"]),Fs=Hc(["td","th","caption"]),Fr=Hc(["video","audio","object","embed"]),uc=ip("li"),KC=ip("details"),Wu=ip("summary"),YC={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},Xi=(e,n,o)=>{const r=ee.fromDom(n),a=ee.fromDom(e),l=o.getWhitespaceElements();return zC(a,p=>Lt(l,gn(p)),bt(Ne,r))},Hn=e=>lt(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),wl=(e,n)=>lt(e)&&Lt(n.getNonEmptyElements(),e.nodeName),mg=ap("data-mce-bookmark"),Ls=e=>Nn(ee.fromDom(e)).exists(n=>!ac(n)),pk=(e,n,o)=>Aa(e.data)&&!Xi(e,n,o),Gu=(e,n,o,r)=>Ve(e)&&!pk(e,n,o)&&(!r.includeZwsp||!WC(e.data)),av=(e,n,o,r)=>Rn(r.isContent)&&r.isContent(n)||wl(n,e)||mg(n)||Hn(n)||Gu(n,o,e,r)||qn(n)||Ie(n)&&Ls(n),Ys=(e,n,o)=>{const r={...YC,...o};if(r.checkRootAsContent&&av(e,n,n,r))return!1;let a=n.firstChild,l=0;if(!a)return!0;const d=new ir(a,n);do{if(r.skipBogus&&lt(a)){const p=a.getAttribute("data-mce-bogus");if(p){a=d.next(p==="all");continue}}if(qs(a)){a=d.next(!0);continue}if(Gn(a)){l++,a=d.next();continue}if(av(e,a,n,r))return!1;a=d.next()}while(a);return l<=1},Lr=(e,n,o)=>Ys(e,n.dom,{checkRootAsContent:!0,...o}),ge=(e,n,o)=>av(e,n,n,{includeZwsp:YC.includeZwsp,...o}),No=e=>{let n=e;return{get:()=>n,set:a=>{n=a}}},XC=e=>{const n=No($.none()),o=()=>n.get().each(e);return{clear:()=>{o(),n.set($.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:p=>{o(),n.set($.some(p))}}},fs=e=>{const n=No($.none()),o=()=>n.get().each(p=>clearInterval(p));return{clear:()=>{o(),n.set($.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:p=>{o(),n.set($.some(setInterval(p,e)))}}},$r=()=>{const e=XC(Ot);return{...e,on:o=>e.get().each(o)}},br=e=>{const n=e.toLowerCase();return n==="svg"?"svg":n==="math"?"math":"html"},Mo=e=>br(e)!=="html",JC=e=>Mo(e.nodeName),qu=e=>br(e.nodeName),ZC=["svg","math"],Hq=()=>{const e=$r(),n=()=>e.get().map(qu).getOr("html");return{track:a=>(JC(a)?e.set(a):e.get().exists(l=>!l.contains(a))&&e.clear(),n()),current:n,reset:()=>{e.clear()}}},Ri="data-mce-block",a3=e=>qt(hr(e),n=>!/[A-Z]/.test(n)),QC=e=>on(a3(e),n=>{const o=CSS.escape(n);return`${o}:`+on(ZC,r=>`not(${r} ${o})`).join(":")}).join(","),hk=(e,n)=>Je(n.querySelector(e))?(n.setAttribute(Ri,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(Ri),!1),gk=(e,n)=>{const o=QC(e.getTransparentElements()),r=QC(e.getBlockElements());return qt(n.querySelectorAll(o),a=>hk(r,a))},bk=(e,n,o)=>{var r;const a=o?"lastChild":"firstChild";for(let l=n[a];l;l=l[a])if(Ys(e,l,{checkRootAsContent:!0})){(r=l.parentNode)===null||r===void 0||r.removeChild(l);return}},lf=(e,n,o)=>{const r=document.createRange(),a=n.parentNode;if(a){r.setStartBefore(n),r.setEndBefore(o);const l=r.extractContents();bk(e,l,!0),r.setStartAfter(o),r.setEndAfter(n);const d=r.extractContents();bk(e,d,!1),Ys(e,l,{checkRootAsContent:!0})||a.insertBefore(l,n),Ys(e,o,{checkRootAsContent:!0})||a.insertBefore(o,n),Ys(e,d,{checkRootAsContent:!0})||a.insertBefore(d,n),a.removeChild(n)}},up=(e,n,o)=>{const r=e.getBlockElements(),a=ee.fromDom(n),l=p=>gn(p)in r,d=p=>Ne(p,a);De(tv(o),p=>{Zo(p,l,d).each(y=>{const T=rp(p,N=>l(N)&&!e.isValidChild(gn(y),gn(N)));if(T.length>0){const N=Nn(y);De(T,B=>{Zo(B,l,d).each(F=>{lf(e,F.dom,B.dom)})}),N.each(B=>gk(e,B.dom))}})})},c3=(e,n,o)=>{De([...o,...uf(e,n)?[n]:[]],r=>De(fi(ee.fromDom(r),r.nodeName.toLowerCase()),a=>{fp(e,a.dom)&&Vu(a)}))},eS=(e,n)=>{const o=gk(e,n);up(e,n,o),c3(e,n,o)},l3=(e,n)=>{if(lv(e,n)){const o=QC(e.getBlockElements());hk(o,n)}},yk=(e,n,o)=>{const r=l=>Ne(l,ee.fromDom(n)),a=Wn(ee.fromDom(o),r);ni(a,a.length-2).filter(xs).fold(()=>eS(e,n),l=>eS(e,l.dom))},cv=e=>e.hasAttribute(Ri),dp=(e,n)=>Lt(e.getTransparentElements(),n),lv=(e,n)=>lt(n)&&dp(e,n.nodeName),uf=(e,n)=>lv(e,n)&&cv(n),fp=(e,n)=>lv(e,n)&&!cv(n),tS=(e,n)=>n.type===1&&dp(e,n.name)&&te(n.attr(Ri)),u3=wa().browser,vk=e=>Ho(e,xs),d3=e=>u3.isFirefox()&&gn(e)==="table"?vk(Vo(e)).filter(n=>gn(n)==="caption").bind(n=>vk(di(n)).map(o=>{const r=o.dom.offsetTop,a=n.dom.offsetTop,l=n.dom.offsetHeight;return r<=a?-l:0})).getOr(0):0,ar=(e,n)=>e.children&&en(e.children,n),su=(e,n,o)=>{let r=0,a=0;const l=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&Ws(ee.fromDom(e),"position")==="static"){const p=n.getBoundingClientRect();return r=p.left+(l.documentElement.scrollLeft||e.scrollLeft)-l.documentElement.clientLeft,a=p.top+(l.documentElement.scrollTop||e.scrollTop)-l.documentElement.clientTop,{x:r,y:a}}let d=n;for(;d&&d!==o&&d.nodeType&&!ar(d,o);){const p=d;r+=p.offsetLeft||0,a+=p.offsetTop||0,d=p.offsetParent}for(d=n.parentNode;d&&d!==o&&d.nodeType&&!ar(d,o);)r-=d.scrollLeft||0,a-=d.scrollTop||0,d=d.parentNode;a+=d3(ee.fromDom(n))}return{x:r,y:a}},mp=(e,n={})=>{let o=0;const r={},a=ee.fromDom(e),l=tn(a),d=se=>{n.referrerPolicy=se},p=se=>{n.contentCssCors=se},y=se=>{Gs(Jy(a),se)},T=se=>{const le=Jy(a);Pt(le,"#"+se).each(Ro)},N=se=>xo(r,se).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),B=se=>new Promise((le,pe)=>{let he;const $e=k._addCacheSuffix(se),Ge=N($e);r[$e]=Ge,Ge.count++;const ut=(mt,kt)=>{De(mt,Ic),Ge.status=kt,Ge.passed=[],Ge.failed=[],he&&(he.onload=null,he.onerror=null,he=null)},Oe=()=>ut(Ge.passed,2),Se=()=>ut(Ge.failed,3);if(le&&Ge.passed.push(le),pe&&Ge.failed.push(pe),Ge.status===1)return;if(Ge.status===2){Oe();return}if(Ge.status===3){Se();return}Ge.status=1;const He=ee.fromTag("link",l.dom);kr(He,{rel:"stylesheet",type:"text/css",id:Ge.id}),n.contentCssCors&&_s(He,"crossOrigin","anonymous"),n.referrerPolicy&&_s(He,"referrerpolicy",n.referrerPolicy),he=He.dom,he.onload=Oe,he.onerror=Se,y(He),_s(He,"href",$e)}),F=(se,le)=>{const pe=N(se);r[se]=pe,pe.count++;const he=ee.fromTag("style",l.dom);kr(he,{rel:"stylesheet",type:"text/css",id:pe.id}),he.dom.innerHTML=le,y(he)},W=se=>Promise.allSettled(on(se,pe=>B(pe).then(it(pe)))).then(pe=>{const he=tc(pe,$e=>$e.status==="fulfilled");return he.fail.length>0?Promise.reject(on(he.fail,$e=>$e.reason)):on(he.pass,$e=>$e.value)}),K=se=>{const le=k._addCacheSuffix(se);xo(r,le).each(pe=>{--pe.count===0&&(delete r[le],T(pe.id))})};return{load:B,loadRawCss:F,loadAll:W,unload:K,unloadRawCss:se=>{xo(r,se).each(le=>{--le.count===0&&(delete r[se],T(le.id))})},unloadAll:se=>{De(se,le=>{K(le)})},_setReferrerPolicy:d,_setContentCssCors:p}},nS=(()=>{const e=new WeakMap;return{forElement:(o,r)=>{const l=xl(o).dom;return $.from(e.get(l)).getOrThunk(()=>{const d=mp(l,r);return e.set(l,d),d})}}})(),Ji=e=>e.nodeName.toLowerCase()==="span",pg=(e,n)=>Je(e)&&(ge(n,e)||n.isInline(e.nodeName.toLowerCase())),uv=(e,n,o)=>{const r=new ir(e,n).prev(!1),a=new ir(e,n).next(!1),l=nn(r)||pg(r,o),d=nn(a)||pg(a,o);return l&&d},dv=e=>Ji(e)&&e.getAttribute("data-mce-type")==="bookmark",El=(e,n,o)=>Ve(e)&&e.data.length>0&&uv(e,n,o),zc=e=>lt(e)?e.childNodes.length>0:!1,xk=e=>Ks(e)||lp(e),ka=(e,n,o,r)=>{var a;const l=r||n;if(lt(n)&&dv(n))return n;const d=n.childNodes;for(let p=d.length-1;p>=0;p--)ka(e,d[p],o,l);if(lt(n)){const p=n.childNodes;p.length===1&&dv(p[0])&&((a=n.parentNode)===null||a===void 0||a.insertBefore(p[0],n))}return!xk(n)&&!ge(o,n)&&!zc(n)&&!El(n,l,o)&&e.remove(n),n},f3=k.makeMap,Tl=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ru=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,df=/[<>&\"\']/g,m3=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,hg={128:"â¬",130:"â",131:"Æ",132:"â",133:"â¦",134:"â ",135:"â¡",136:"Ë",137:"â°",138:"Å ",139:"â¹",140:"Å",142:"Å½",145:"â",146:"â",147:"â",148:"â",149:"â¢",150:"â",151:"â",152:"Ë",153:"â¢",154:"Å¡",155:"âº",156:"Å",158:"Å¾",159:"Å¸"},ff={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},p3={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},ms=e=>{const n=ee.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},Ck=(e,n)=>{const o={};if(e){const r=e.split(",");n=n||10;for(let a=0;a<r.length;a+=2){const l=String.fromCharCode(parseInt(r[a],n));if(!ff[l]){const d="&"+r[a+1]+";";o[l]=d,o[d]=l}}return o}else return},_l=Ck("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),hp=(e,n)=>e.replace(n?Tl:ru,o=>ff[o]||o),oS=e=>(""+e).replace(df,n=>ff[n]||n),Ku=(e,n)=>e.replace(n?Tl:ru,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":ff[o]||"&#"+o.charCodeAt(0)+";"),pi=(e,n,o)=>{const r=o||_l;return e.replace(n?Tl:ru,a=>ff[a]||r[a]||a)},mf={encodeRaw:hp,encodeAllRaw:oS,encodeNumeric:Ku,encodeNamed:pi,getEncodeFunc:(e,n)=>{const o=Ck(n)||_l,r=(d,p)=>d.replace(p?Tl:ru,y=>ff[y]!==void 0?ff[y]:o[y]!==void 0?o[y]:y.length>1?"&#"+((y.charCodeAt(0)-55296)*1024+(y.charCodeAt(1)-56320)+65536)+";":"&#"+y.charCodeAt(0)+";"),a=(d,p)=>pi(d,p,o),l=f3(e.replace(/\+/g,","));return l.named&&l.numeric?r:l.named?n?a:pi:l.numeric?Ku:hp},decode:e=>e.replace(m3,(n,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):hg[o]||String.fromCharCode(o)):p3[n]||_l[n]||ms(n))},Xs=(e,n)=>(e=k.trim(e),e?e.split(n||" "):[]),pv=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),hv=e=>It(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",h3=e=>{const n=o=>Zt(o)?on(o,n):hv(o)?new RegExp(o.source,o.flags):It(o)?jn(o,n):o;return n(e)},g3=e=>{const n=/^(~)?(.+)$/;return Ei(Xs(e,","),o=>{const r=n.exec(o);if(r){const l=r[1]==="~"?"span":"div",d=r[2];return[{cloneName:l,name:d}]}else return[]})},gv=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),gp=e=>{let n,o;n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(n+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),n=[n,"center dir isindex noframes"].join(" "));const r=[n,o].join(" ");return{blockContent:n,phrasingContent:o,flowContent:r}},Oa=e=>{const{blockContent:n,phrasingContent:o,flowContent:r}=gp(e),a=l=>Object.freeze(l.split(" "));return Object.freeze({blockContent:a(n),phrasingContent:a(o),flowContent:a(r)})},iu={html4:Vi(()=>Oa("html4")),html5:Vi(()=>Oa("html5")),"html5-strict":Vi(()=>Oa("html5-strict"))},Yu=(e,n)=>{const{blockContent:o,phrasingContent:r,flowContent:a}=iu[e]();return n==="blocks"?$.some(o):n==="phrasing"?$.some(r):n==="flow"?$.some(a):$.none()},Sk=e=>{const n=gv(e),{phrasingContent:o,flowContent:r}=gp(e),a={},l=(y,T,N)=>{a[y]={attributes:Is(T,it({})),attributesOrder:T,children:Is(N,it({}))}},d=(y,T="",N="")=>{const B=Xs(N),F=Xs(y);let W=F.length;const K=[...n,...Xs(T)];for(;W--;)l(F[W],K.slice(),B)},p=(y,T)=>{const N=Xs(y),B=Xs(T);let F=N.length;for(;F--;){const W=a[N[F]];for(let K=0,G=B.length;K<G;K++)W.attributes[B[K]]={},W.attributesOrder.push(B[K])}};return e!=="html5-strict"&&(De(Xs("acronym applet basefont big font strike tt"),N=>{d(N,"",o)}),De(Xs("center dir isindex noframes"),N=>{d(N,"",r)})),d("html","manifest","head body"),d("head","","base command link meta noscript script style title"),d("title hr noscript br"),d("base","href target"),d("link","href rel media hreflang type sizes hreflang"),d("meta","name http-equiv content charset"),d("style","media type scoped"),d("script","src async defer type charset"),d("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),d("dd div","",r),d("address dt caption","",e==="html4"?o:r),d("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),d("blockquote","cite",r),d("ol","reversed start type","li"),d("ul","","li"),d("li","value",r),d("dl","","dt dd"),d("a","href target rel media hreflang type",e==="html4"?o:r),d("q","cite",o),d("ins del","cite datetime",r),d("img","src sizes srcset alt usemap ismap width height"),d("iframe","src name width height",r),d("embed","src type width height"),d("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),d("param","name value"),d("map","name",[r,"area"].join(" ")),d("area","alt coords shape href target rel media hreflang type"),d("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),d("colgroup","span","col"),d("col","span"),d("tbody thead tfoot","","tr"),d("tr","","td th"),d("td","colspan rowspan headers",r),d("th","colspan rowspan headers scope abbr",r),d("form","accept-charset action autocomplete enctype method name novalidate target",r),d("fieldset","disabled form name",[r,"legend"].join(" ")),d("label","form for",o),d("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),d("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?r:o),d("select","disabled form multiple name required size","option optgroup"),d("optgroup","disabled label","option"),d("option","disabled label selected value"),d("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),d("menu","type label",[r,"li"].join(" ")),d("noscript","",r),e!=="html4"&&(d("wbr"),d("ruby","",[o,"rt rp"].join(" ")),d("figcaption","",r),d("mark rt rp bdi","",o),d("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),d("canvas","width height",r),d("data","value",o),d("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),d("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),d("picture","","img source"),d("source","src srcset type media sizes"),d("track","kind src srclang label default"),d("datalist","",[o,"option"].join(" ")),d("article section nav aside main header footer","",r),d("hgroup","","h1 h2 h3 h4 h5 h6"),d("figure","",[r,"figcaption"].join(" ")),d("time","datetime",o),d("dialog","open",r),d("command","type label icon disabled checked radiogroup command"),d("output","for form name",o),d("progress","value max",o),d("meter","value min max low high optimum",o),d("details","open",[r,"summary"].join(" ")),d("keygen","autofocus challenge disabled form keytype name"),l("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(p("script","language xml:space"),p("style","xml:space"),p("object","declare classid code codebase codetype archive standby align border hspace vspace"),p("embed","align name hspace vspace"),p("param","valuetype type"),p("a","charset name rev shape coords"),p("br","clear"),p("applet","codebase archive code object alt name width height align hspace vspace"),p("img","name longdesc align border hspace vspace"),p("iframe","longdesc frameborder marginwidth marginheight scrolling align"),p("font basefont","size color face"),p("input","usemap align"),p("select"),p("textarea"),p("h1 h2 h3 h4 h5 h6 div p legend caption","align"),p("ul","type compact"),p("li","type"),p("ol dl menu dir","compact"),p("pre","width xml:space"),p("hr","align noshade size width"),p("isindex","prompt"),p("table","summary width frame rules cellspacing cellpadding align bgcolor"),p("col","width align char charoff valign"),p("colgroup","width align char charoff valign"),p("thead","align char charoff valign"),p("tr","align char charoff valign bgcolor"),p("th","axis align char charoff valign nowrap bgcolor width height"),p("form","accept"),p("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),p("tfoot","align char charoff valign"),p("tbody","align char charoff valign"),p("area","nohref"),p("body","background bgcolor text link vlink alink")),e!=="html4"&&(p("input button select textarea","autofocus"),p("input textarea","placeholder"),p("a","download"),p("link script img","crossorigin"),p("img","loading"),p("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&De([a.video,a.audio],y=>{delete y.children.audio,delete y.children.video}),De(Xs("a form meter progress dfn"),y=>{a[y]&&delete a[y].children[y]}),delete a.caption.children.table,delete a.script,a},bv=e=>e==="-"?"remove":"add",gg=e=>{const n=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return $.from(n.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},wk=e=>{const n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return Ei(Xs(e,","),o=>{const r=n.exec(o);if(r){const a=r[1],l=a?bv(a):"replace",d=r[2],p=Ei(Xs(r[3],"|"),y=>gg(y).toArray());return[{operation:l,name:d,validChildren:p}]}else return[]})},Ek=(e,n)=>{const o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,r=/[*?+]/,{attributes:a,attributesOrder:l}=n;return De(Xs(e,"|"),d=>{const p=o.exec(d);if(p){const y={},T=p[1],N=p[2].replace(/[\\:]:/g,":"),B=p[3],F=p[4];if(T==="!"&&(n.attributesRequired=n.attributesRequired||[],n.attributesRequired.push(N),y.required=!0),T==="-"){delete a[N],l.splice(k.inArray(l,N),1);return}if(B&&(B==="="?(n.attributesDefault=n.attributesDefault||[],n.attributesDefault.push({name:N,value:F}),y.defaultValue=F):B==="~"?(n.attributesForced=n.attributesForced||[],n.attributesForced.push({name:N,value:F}),y.forcedValue=F):B==="<"&&(y.validValues=k.makeMap(F,"?"))),r.test(N)){const W=y;n.attributePatterns=n.attributePatterns||[],W.pattern=pv(N),n.attributePatterns.push(W)}else a[N]||l.push(N),a[N]=y}})},Tk=(e,n)=>{at(e.attributes,(o,r)=>{n.attributes[r]=o}),n.attributesOrder.push(...e.attributesOrder)},sS=(e,n)=>{const o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return Ei(Xs(n,","),r=>{const a=o.exec(r);if(a){const l=a[1],d=a[2],p=a[3],y=a[4],T=a[5],N={attributes:{},attributesOrder:[]};if(e.each(B=>Tk(B,N)),l==="#"?N.paddEmpty=!0:l==="-"&&(N.removeEmpty=!0),y==="!"&&(N.removeEmptyAttrs=!0),T&&Ek(T,N),p&&(N.outputName=d),d==="@")if(e.isNone())e=$.some(N);else return[];return[p?{name:d,element:N,aliasName:p}:{name:d,element:N}]}else return[]})},bp={},Sn=k.makeMap,Et=k.each,Xu=k.extend,yv=k.explode,vv=(e,n={})=>{const o=Sn(e," ",Sn(e.toUpperCase()," "));return Xu(o,n)},_k=e=>vv("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),xv=(e,n)=>{if(e){const o={};return te(e)&&(e={"*":e}),Et(e,(r,a)=>{o[a]=o[a.toUpperCase()]=n==="map"?Sn(r,/[, ]/):yv(r,/[, ]/)}),o}else return},no=(e={})=>{var n;const o={},r={};let a=[];const l={},d={},p=(Tt,On,Yo)=>{const gs=e[Tt];if(gs)return Sn(gs,/[, ]/,Sn(gs.toUpperCase(),/[, ]/));{let Ns=bp[Tt];return Ns||(Ns=vv(On,Yo),bp[Tt]=Ns),Ns}},y=(n=e.schema)!==null&&n!==void 0?n:"html5",T=Sk(y);e.verify_html===!1&&(e.valid_elements="*[*]");const N=xv(e.valid_styles),B=xv(e.invalid_styles,"map"),F=xv(e.valid_classes,"map"),W=p("whitespace_elements","pre script noscript style textarea video audio iframe object code"),K=p("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),G=p("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Y=p("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),se="td th iframe video audio object script code",le=p("non_empty_elements",se+" pre svg textarea summary",G),pe=p("move_caret_before_on_enter_elements",se+" table",G),he="h1 h2 h3 h4 h5 h6",$e=p("text_block_elements",he+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Ge=p("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",$e),ut=p("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Oe=p("transparent_elements","a ins del canvas map"),Se=p("wrap_block_elements","pre "+he);Et("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Tt=>{d[Tt]=new RegExp("</"+Tt+"[^>]*>","gi")});const He=Tt=>{const On=$.from(o["@"]),Yo=/[*?+]/;De(sS(On,Tt??""),({name:gs,element:Ns,aliasName:bs})=>{if(bs&&(o[bs]=Ns),Yo.test(gs)){const Lo=Ns;Lo.pattern=pv(gs),a.push(Lo)}else o[gs]=Ns})},mt=Tt=>{a=[],De(hr(o),On=>{delete o[On]}),He(Tt)},kt=(Tt,On)=>{var Yo,gs;delete bp.text_block_elements,delete bp.block_elements;const Ns=On.extends?!ma(On.extends):!1,bs=On.extends;if(r[Tt]=bs?r[bs]:{},l[Tt]=bs??Tt,le[Tt.toUpperCase()]={},le[Tt]={},Ns||(Ge[Tt.toUpperCase()]={},Ge[Tt]={}),bs&&!o[Tt]&&o[bs]){const Lo=h3(o[bs]);delete Lo.removeEmptyAttrs,delete Lo.removeEmpty,o[Tt]=Lo}else o[Tt]={attributesOrder:[],attributes:{}};if(Zt(On.attributes)){const Lo=ti=>{Go.attributesOrder.push(ti),Go.attributes[ti]={}},Go=(Yo=o[Tt])!==null&&Yo!==void 0?Yo:{};delete Go.attributesDefault,delete Go.attributesForced,delete Go.attributePatterns,delete Go.attributesRequired,Go.attributesOrder=[],Go.attributes={},De(On.attributes,ti=>{const Ja=gv(y);gg(ti).each(({preset:ml,name:kc})=>{ml?kc==="global"&&De(Ja,Lo):Lo(kc)})}),o[Tt]=Go}if(At(On.padEmpty)){const Lo=(gs=o[Tt])!==null&&gs!==void 0?gs:{};Lo.paddEmpty=On.padEmpty,o[Tt]=Lo}if(Zt(On.children)){const Lo={},Go=Ja=>{Lo[Ja]={}},ti=Ja=>{Yu(y,Ja).each(ml=>{De(ml,Go)})};De(On.children,Ja=>{gg(Ja).each(({preset:ml,name:kc})=>{ml?ti(kc):Go(kc)})}),r[Tt]=Lo}bs&&at(r,(Lo,Go)=>{Lo[bs]&&(r[Go]=Lo=Xu({},r[Go]),Lo[Tt]=Lo[bs])})},mn=Tt=>{De(g3(Tt??""),({name:On,cloneName:Yo})=>{kt(On,{extends:Yo})})},pn=Tt=>{It(Tt)?at(Tt,(On,Yo)=>kt(Yo,On)):te(Tt)&&mn(Tt)},Vn=Tt=>{De(wk(Tt??""),({operation:On,name:Yo,validChildren:gs})=>{const Ns=On==="replace"?{"#comment":{}}:r[Yo],bs=Go=>{On==="remove"?delete Ns[Go]:Ns[Go]={}},Lo=Go=>{Yu(y,Go).each(ti=>{De(ti,bs)})};De(gs,({preset:Go,name:ti})=>{Go?Lo(ti):bs(ti)}),r[Yo]=Ns})},to=Tt=>{const On=o[Tt];if(On)return On;let Yo=a.length;for(;Yo--;){const gs=a[Yo];if(gs.pattern.test(Tt))return gs}},ts=()=>{e.valid_elements?(mt(e.valid_elements),Et(T,(Tt,On)=>{r[On]=Tt.children})):(Et(T,(Tt,On)=>{o[On]={attributes:Tt.attributes,attributesOrder:Tt.attributesOrder},r[On]=Tt.children}),Et(Xs("strong/b em/i"),Tt=>{const On=Xs(Tt,"/");o[On[1]].outputName=On[0]}),Et(ut,(Tt,On)=>{o[On]&&(e.padd_empty_block_inline_children&&(o[On].paddInEmptyBlock=!0),o[On].removeEmpty=!0)}),Et(Xs("ol ul blockquote a table tbody"),Tt=>{o[Tt]&&(o[Tt].removeEmpty=!0)}),Et(Xs("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Tt=>{o[Tt]&&(o[Tt].paddEmpty=!0)}),Et(Xs("span"),Tt=>{o[Tt].removeEmptyAttrs=!0})),delete o.svg,pn(e.custom_elements),Vn(e.valid_children),He(e.extended_valid_elements),Vn("+ol[ul|ol],+ul[ul|ol]"),Et({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Tt,On)=>{o[On]&&(o[On].parentsRequired=Xs(Tt))}),e.invalid_elements&&Et(yv(e.invalid_elements),Tt=>{o[Tt]&&delete o[Tt]}),to("span")||He("span[!data-mce-type|*]")},mr=it(N),ss=it(B),et=it(F),_t=it(Y),In=it(Ge),ct=it($e),Ft=it(ut),jt=it(Object.seal(G)),ot=it(K),hn=it(le),xn=it(pe),hs=it(W),ao=it(Oe),pr=it(Se),vi=it(Object.seal(d)),fl=(Tt,On)=>{const Yo=r[Tt.toLowerCase()];return!!(Yo&&Yo[On.toLowerCase()])},Mr=(Tt,On)=>{const Yo=to(Tt);if(Yo)if(On){if(Yo.attributes[On])return!0;const gs=Yo.attributePatterns;if(gs){let Ns=gs.length;for(;Ns--;)if(gs[Ns].pattern.test(On))return!0}}else return!0;return!1},ma=Tt=>Lt(In(),Tt),Xa=Tt=>!ns(Tt,"#")&&Mr(Tt)&&!ma(Tt),Er=Tt=>Lt(pr(),Tt)||Xa(Tt),xi=it(l);return ts(),{type:y,children:r,elements:o,getValidStyles:mr,getValidClasses:et,getBlockElements:In,getInvalidStyles:ss,getVoidElements:jt,getTextBlockElements:ct,getTextInlineElements:Ft,getBoolAttrs:_t,getElementRule:to,getSelfClosingElements:ot,getNonEmptyElements:hn,getMoveCaretBeforeOnEnterElements:xn,getWhitespaceElements:hs,getTransparentElements:ao,getSpecialElements:vi,isValidChild:fl,isValid:Mr,isBlock:ma,isInline:Xa,isWrapper:Er,getCustomElements:xi,addValidElements:He,setValidElements:mt,addCustomElements:pn,addValidChildren:Vn}},Ak=e=>({value:b3(e)}),b3=e=>Gm(e,"#").toUpperCase(),rS=e=>{const n=e.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},Me=e=>{const n=rS(e.red)+rS(e.green)+rS(e.blue);return Ak(n)},Cv=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,kk=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Sv=(e,n,o,r)=>({red:e,green:n,blue:o,alpha:r}),Ok=(e,n,o,r)=>{const a=parseInt(e,10),l=parseInt(n,10),d=parseInt(o,10),p=parseFloat(r);return Sv(a,l,d,p)},yp=e=>Cv.test(e)?"rgb":kk.test(e)?"rgba":"other",wv=e=>{const n=Cv.exec(e);if(n!==null)return $.some(Ok(n[1],n[2],n[3],"1"));const o=kk.exec(e);return o!==null?$.some(Ok(o[1],o[2],o[3],o[4])):$.none()},pf=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,bg=e=>wv(e).map(Me).map(n=>"#"+n.value).getOr(e),Ju=(e={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,a=/\s+$/,l={};let d,p;const y=dg;n&&(d=n.getValidStyles(),p=n.getInvalidStyles());const T=(`\\" \\' \\; \\: ; : `+y).split(" ");for(let B=0;B<T.length;B++)l[T[B]]=y+B,l[y+B]=T[B];const N={parse:B=>{const F={};let W=!1;const K=e.url_converter,G=e.url_converter_scope||N,Y=(Oe,Se,He)=>{const mt=F[Oe+"-top"+Se];if(!mt)return;const kt=F[Oe+"-right"+Se];if(!kt)return;const mn=F[Oe+"-bottom"+Se];if(!mn)return;const pn=F[Oe+"-left"+Se];if(!pn)return;const Vn=[mt,kt,mn,pn];let to=Vn.length-1;for(;to--&&Vn[to]===Vn[to+1];);to>-1&&He||(F[Oe+Se]=to===-1?Vn[0]:Vn.join(" "),delete F[Oe+"-top"+Se],delete F[Oe+"-right"+Se],delete F[Oe+"-bottom"+Se],delete F[Oe+"-left"+Se])},se=Oe=>{const Se=F[Oe];if(!Se)return;const He=Se.indexOf(",")>-1?[Se]:Se.split(" ");let mt=He.length;for(;mt--;)if(He[mt]!==He[0])return!1;return F[Oe]=He[0],!0},le=(Oe,Se,He,mt)=>{se(Se)&&se(He)&&se(mt)&&(F[Oe]=F[Se]+" "+F[He]+" "+F[mt],delete F[Se],delete F[He],delete F[mt])},pe=Oe=>(W=!0,l[Oe]),he=(Oe,Se)=>(W&&(Oe=Oe.replace(/\uFEFF[0-9]/g,He=>l[He])),Se||(Oe=Oe.replace(/\\([\'\";:])/g,"$1")),Oe),$e=Oe=>String.fromCharCode(parseInt(Oe.slice(1),16)),Ge=Oe=>Oe.replace(/\\[0-9a-f]+/gi,$e),ut=(Oe,Se,He,mt,kt,mn)=>{if(kt=kt||mn,kt)return kt=he(kt),"'"+kt.replace(/\'/g,"\\'")+"'";if(Se=he(Se||He||mt||""),!e.allow_script_urls){const pn=Se.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(pn)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(pn))return""}return K&&(Se=K.call(G,Se,"style")),"url('"+Se.replace(/\'/g,"\\'")+"')"};if(B){B=B.replace(/[\u0000-\u001F]/g,""),B=B.replace(/\\[\"\';:\uFEFF]/g,pe).replace(/\"[^\"]+\"|\'[^\']+\'/g,Se=>Se.replace(/[;:]/g,pe));let Oe;for(;Oe=r.exec(B);){r.lastIndex=Oe.index+Oe[0].length;let Se=Oe[1].replace(a,"").toLowerCase(),He=Oe[2].replace(a,"");if(Se&&He){if(Se=Ge(Se),He=Ge(He),Se.indexOf(y)!==-1||Se.indexOf('"')!==-1||!e.allow_script_urls&&(Se==="behavior"||/expression\s*\(|\/\*|\*\//.test(He)))continue;Se==="font-weight"&&He==="700"?He="bold":(Se==="color"||Se==="background-color")&&(He=He.toLowerCase()),yp(He)==="rgb"&&wv(He).each(mt=>{He=bg(pf(mt)).toLowerCase()}),He=He.replace(o,ut),F[Se]=W?he(He,!0):He}}Y("border","",!0),Y("border","-width"),Y("border","-color"),Y("border","-style"),Y("padding",""),Y("margin",""),le("border","border-width","border-style","border-color"),F.border==="medium none"&&delete F.border,F["border-image"]==="none"&&delete F["border-image"]}return F},serialize:(B,F)=>{let W="";const K=(Y,se)=>{const le=se[Y];if(le)for(let pe=0,he=le.length;pe<he;pe++){const $e=le[pe],Ge=B[$e];Ge&&(W+=(W.length>0?" ":"")+$e+": "+Ge+";")}},G=(Y,se)=>{if(!p||!se)return!0;let le=p["*"];return le&&le[Y]?!1:(le=p[se],!(le&&le[Y]))};return F&&d?(K("*",d),K(F,d)):at(B,(Y,se)=>{Y&&G(se,F)&&(W+=(W.length>0?" ":"")+se+": "+Y+";")}),W}};return N},ko={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Al=e=>e instanceof Event||Rn(e.initEvent),Dk=e=>e.isDefaultPrevented===ht||e.isDefaultPrevented===We,au=e=>Qn(e.preventDefault)||Al(e),Rk=(e,n)=>{const o=n??{};for(const r in e)Lt(ko,r)||(o[r]=e[r]);return Je(e.composedPath)&&(o.composedPath=()=>e.composedPath()),Je(e.getModifierState)&&(o.getModifierState=r=>e.getModifierState(r)),Je(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},yg=(e,n,o,r)=>{var a;const l=Rk(n,r);return l.type=e,Qn(l.target)&&(l.target=(a=l.srcElement)!==null&&a!==void 0?a:o),au(n)&&(l.preventDefault=()=>{l.defaultPrevented=!0,l.isDefaultPrevented=ht,Rn(n.preventDefault)&&n.preventDefault()},l.stopPropagation=()=>{l.cancelBubble=!0,l.isPropagationStopped=ht,Rn(n.stopPropagation)&&n.stopPropagation()},l.stopImmediatePropagation=()=>{l.isImmediatePropagationStopped=ht,l.stopPropagation()},Dk(l)||(l.isDefaultPrevented=l.defaultPrevented===!0?ht:We,l.isPropagationStopped=l.cancelBubble===!0?ht:We,l.isImmediatePropagationStopped=We)),l},iS="mce-data-",y3=/^(?:mouse|contextmenu)|click/,Zi=(e,n,o,r)=>{e.addEventListener(n,o,r||!1)},Ev=(e,n,o,r)=>{e.removeEventListener(n,o,r||!1)},v3=e=>Je(e)&&y3.test(e.type),hf=(e,n)=>{const o=yg(e.type,e,document,n);if(v3(e)&&nn(e.pageX)&&!nn(e.clientX)){const r=o.target.ownerDocument||document,a=r.documentElement,l=r.body,d=o;d.pageX=e.clientX+(a&&a.scrollLeft||l&&l.scrollLeft||0)-(a&&a.clientLeft||l&&l.clientLeft||0),d.pageY=e.clientY+(a&&a.scrollTop||l&&l.scrollTop||0)-(a&&a.clientTop||l&&l.clientTop||0)}return o},x3=(e,n,o)=>{const r=e.document,a={type:"ready"};if(o.domLoaded){n(a);return}const l=()=>r.readyState==="complete"||r.readyState==="interactive"&&r.body,d=()=>{Ev(e,"DOMContentLoaded",d),Ev(e,"load",d),o.domLoaded||(o.domLoaded=!0,n(a)),e=null};l()?d():Zi(e,"DOMContentLoaded",d),o.domLoaded||Zi(e,"load",d)};class gf{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=iS+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,r,a){const l=this;let d;const p=window,y=F=>{l.executeHandlers(hf(F||p.event),T)};if(!n||Ve(n)||qs(n))return r;let T;n[l.expando]?T=n[l.expando]:(T=l.count++,n[l.expando]=T,l.events[T]={}),a=a||n;const N=o.split(" ");let B=N.length;for(;B--;){let F=N[B],W=y,K=!1,G=!1;if(F==="DOMContentLoaded"&&(F="ready"),l.domLoaded&&F==="ready"&&n.readyState==="complete"){r.call(a,hf({type:F}));continue}!l.hasFocusIn&&(F==="focusin"||F==="focusout")&&(K=!0,G=F==="focusin"?"focus":"blur",W=Y=>{const se=hf(Y||p.event);se.type=se.type==="focus"?"focusin":"focusout",l.executeHandlers(se,T)}),d=l.events[T][F],d?F==="ready"&&l.domLoaded?r(hf({type:F})):d.push({func:r,scope:a}):(l.events[T][F]=d=[{func:r,scope:a}],d.fakeName=G,d.capture=K,d.nativeHandler=W,F==="ready"?x3(n,W,l):Zi(n,G||F,W,K))}return n=d=null,r}unbind(n,o,r){if(!n||Ve(n)||qs(n))return this;const a=n[this.expando];if(a){let l=this.events[a];if(o){const d=o.split(" ");let p=d.length;for(;p--;){const y=d[p],T=l[y];if(T){if(r){let N=T.length;for(;N--;)if(T[N].func===r){const B=T.nativeHandler,F=T.fakeName,W=T.capture,K=T.slice(0,N).concat(T.slice(N+1));K.nativeHandler=B,K.fakeName=F,K.capture=W,l[y]=K}}(!r||T.length===0)&&(delete l[y],Ev(n,T.fakeName||y,T.nativeHandler,T.capture))}}}else at(l,(d,p)=>{Ev(n,d.fakeName||p,d.nativeHandler,d.capture)}),l={};for(const d in l)if(Lt(l,d))return this;delete this.events[a];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,r){return this.dispatch(n,o,r)}dispatch(n,o,r){if(!n||Ve(n)||qs(n))return this;const a=hf({type:o,target:n},r);do{const l=n[this.expando];l&&this.executeHandlers(a,l),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!a.isPropagationStopped());return this}clean(n){if(!n||Ve(n)||qs(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let r=o.length;for(;r--;)n=o[r],n[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const r=this.events[o],a=r&&r[n.type];if(a)for(let l=0,d=a.length;l<d;l++){const p=a[l];if(p&&p.func.call(p.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}gf.Event=new gf;const aS=k.each,C3=k.grep,Tv="data-mce-style",Vc=k.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),jr=(e,n,o)=>{Qn(o)||o===""?sr(e,n):_s(e,n,o)},qe=e=>e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),vp=(e,n)=>{let o=0;if(e)for(let r=e.nodeType,a=e.previousSibling;a;a=a.previousSibling){const l=a.nodeType;n&&Ve(a)&&(l===r||!a.data.length)||(o++,r=l)}return o},Js=(e,n)=>{const o=As(n,"style"),r=e.serialize(e.parse(o),gn(n));jr(n,Tv,r)},S3=(e,n)=>$n(e)?Lt(Vc,n)?e+"":e+"px":e,cS=(e,n,o)=>{const r=qe(n);Qn(o)||o===""?ik(e,r):Z$(e,r,S3(o,r))},w3=(e,n,o)=>{const r=n.keep_values,a={set:(d,p,y)=>{const T=ee.fromDom(d);Rn(n.url_converter)&&Je(p)&&(p=n.url_converter.call(n.url_converter_scope||o(),String(p),y,d));const N="data-mce-"+y;jr(T,N,p),jr(T,y,p)},get:(d,p)=>{const y=ee.fromDom(d);return As(y,"data-mce-"+p)||As(y,p)}},l={style:{set:(d,p)=>{const y=ee.fromDom(d);r&&jr(y,Tv,p),sr(y,"style"),te(p)&&bn(y,e.parse(p))},get:d=>{const p=ee.fromDom(d),y=As(p,Tv)||As(p,"style");return e.serialize(e.parse(y),gn(p))}}};return r&&(l.href=l.src=a),l},yo=(e,n={})=>{const o={},r=window,a={};let l=0;const d=!0,p=!0,y=nS.forElement(ee.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),T=[],N=n.schema?n.schema:no({}),B=Ju({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),F=n.ownEvents?new gf:gf.Event,W=N.getBlockElements(),K=xe=>te(xe)?Lt(W,xe):lt(xe)&&(Lt(W,xe.nodeName)||uf(N,xe)),G=xe=>xe&&e&&te(xe)?e.getElementById(xe):xe,Y=xe=>{const ve=G(xe);return Je(ve)?ee.fromDom(ve):null},se=(xe,ve,tt="")=>{let Ke;const Bt=Y(xe);if(Je(Bt)&&xs(Bt)){const Bn=yC[ve];Bn&&Bn.get?Ke=Bn.get(Bt.dom,ve):Ke=As(Bt,ve)}return Je(Ke)?Ke:tt},le=xe=>{const ve=G(xe);return Qn(ve)?[]:ve.attributes},pe=(xe,ve,tt)=>{_t(xe,Ke=>{if(lt(Ke)){const Bt=ee.fromDom(Ke),Bn=tt===""?null:tt,Xo=As(Bt,ve),pl=yC[ve];pl&&pl.set?pl.set(Bt.dom,Bn,ve):jr(Bt,ve,Bn),Xo!==Bn&&n.onSetAttrib&&n.onSetAttrib({attrElm:Bt.dom,attrName:ve,attrValue:Bn})}})},he=(xe,ve)=>xe.cloneNode(ve),$e=()=>n.root_element||e.body,Ge=xe=>{const ve=uk(xe);return{x:ve.x,y:ve.y,w:ve.width,h:ve.height}},ut=(xe,ve)=>su(e.body,G(xe),ve),Oe=(xe,ve,tt)=>{_t(xe,Ke=>{const Bt=ee.fromDom(Ke);cS(Bt,ve,tt),n.update_styles&&Js(B,Bt)})},Se=(xe,ve)=>{_t(xe,tt=>{const Ke=ee.fromDom(tt);at(ve,(Bt,Bn)=>{cS(Ke,Bn,Bt)}),n.update_styles&&Js(B,Ke)})},He=(xe,ve,tt)=>{const Ke=G(xe);if(!(Qn(Ke)||!lc(Ke)&&!qC(Ke)))return tt?Ws(ee.fromDom(Ke),qe(ve)):(ve=ve.replace(/-(\D)/g,(Bt,Bn)=>Bn.toUpperCase()),ve==="float"&&(ve="cssFloat"),Ke.style?Ke.style[ve]:void 0)},mt=xe=>{const ve=G(xe);if(!ve)return{w:0,h:0};let tt=He(ve,"width"),Ke=He(ve,"height");return(!tt||tt.indexOf("px")===-1)&&(tt="0"),(!Ke||Ke.indexOf("px")===-1)&&(Ke="0"),{w:parseInt(tt,10)||ve.offsetWidth||ve.clientWidth,h:parseInt(Ke,10)||ve.offsetHeight||ve.clientHeight}},kt=xe=>{const ve=G(xe),tt=ut(ve),Ke=mt(ve);return{x:tt.x,y:tt.y,w:Ke.w,h:Ke.h}},mn=(xe,ve)=>{if(!xe)return!1;const tt=Zt(xe)?xe:[xe];return vo(tt,Ke=>ne(ee.fromDom(Ke),ve))},pn=(xe,ve,tt,Ke)=>{const Bt=[];let Bn=G(xe);Ke=Ke===void 0;const Xo=tt||($e().nodeName!=="BODY"?$e().parentNode:null);if(te(ve))if(ve==="*")ve=lt;else{const pl=ve;ve=Qa=>mn(Qa,pl)}for(;Bn&&!(Bn===Xo||Qn(Bn.nodeType)||lp(Bn)||Ks(Bn));){if(!ve||ve(Bn))if(Ke)Bt.push(Bn);else return[Bn];Bn=Bn.parentNode}return Ke?Bt:null},Vn=(xe,ve,tt)=>{const Ke=pn(xe,ve,tt,!1);return Ke&&Ke.length>0?Ke[0]:null},to=(xe,ve,tt)=>{let Ke=ve;if(xe){te(ve)&&(Ke=Bt=>mn(Bt,ve));for(let Bt=xe[tt];Bt;Bt=Bt[tt])if(Rn(Ke)&&Ke(Bt))return Bt}return null},ts=(xe,ve)=>to(xe,ve,"nextSibling"),mr=(xe,ve)=>to(xe,ve,"previousSibling"),ss=xe=>Rn(xe.querySelectorAll),et=(xe,ve)=>{var tt,Ke;const Bt=(Ke=(tt=G(ve))!==null&&tt!==void 0?tt:n.root_element)!==null&&Ke!==void 0?Ke:e;return ss(Bt)?si(Bt.querySelectorAll(xe)):[]},_t=function(xe,ve,tt){const Ke=tt??this;if(Zt(xe)){const Bt=[];return aS(xe,(Bn,Xo)=>{const pl=G(Bn);pl&&Bt.push(ve.call(Ke,pl,Xo))}),Bt}else{const Bt=G(xe);return Bt?ve.call(Ke,Bt):!1}},In=(xe,ve)=>{_t(xe,tt=>{at(ve,(Ke,Bt)=>{pe(tt,Bt,Ke)})})},ct=(xe,ve)=>{_t(xe,tt=>{const Ke=ee.fromDom(tt);cg(Ke,ve)})},Ft=(xe,ve,tt,Ke,Bt)=>_t(xe,Bn=>{const Xo=te(ve)?e.createElement(ve):ve;return Je(tt)&&In(Xo,tt),Ke&&(!te(Ke)&&Ke.nodeType?Xo.appendChild(Ke):te(Ke)&&ct(Xo,Ke)),Bt?Xo:Bn.appendChild(Xo)}),jt=(xe,ve,tt)=>Ft(e.createElement(xe),xe,ve,tt,!0),ot=mf.decode,hn=mf.encodeAllRaw,xn=(xe,ve,tt="")=>{let Ke="<"+xe;for(const Bt in ve)ya(ve,Bt)&&(Ke+=" "+Bt+'="'+hn(ve[Bt])+'"');return Ai(tt)&&Lt(N.getVoidElements(),xe)?Ke+" />":Ke+">"+tt+"</"+xe+">"},hs=xe=>{const ve=e.createElement("div"),tt=e.createDocumentFragment();tt.appendChild(ve),xe&&(ve.innerHTML=xe);let Ke;for(;Ke=ve.firstChild;)tt.appendChild(Ke);return tt.removeChild(ve),tt},ao=(xe,ve)=>_t(xe,tt=>{const Ke=ee.fromDom(tt);return ve&&De(Vo(Ke),Bt=>{zs(Bt)&&Bt.dom.length===0?Ro(Bt):Di(Ke,Bt)}),Ro(Ke),Ke.dom}),pr=xe=>_t(xe,ve=>{const tt=ve.attributes;for(let Ke=tt.length-1;Ke>=0;Ke--)ve.removeAttributeNode(tt.item(Ke))}),vi=xe=>B.parse(xe),fl=(xe,ve)=>B.serialize(xe,ve),Mr=xe=>{if(Za!==yo.DOM&&e===document){if(o[xe])return;o[xe]=!0}let ve=e.getElementById("mceDefaultStyles");if(!ve){ve=e.createElement("style"),ve.id="mceDefaultStyles",ve.type="text/css";const tt=e.head;tt.firstChild?tt.insertBefore(ve,tt.firstChild):tt.appendChild(ve)}ve.styleSheet?ve.styleSheet.cssText+=xe:ve.appendChild(e.createTextNode(xe))},ma=xe=>{xe||(xe=""),De(xe.split(","),ve=>{a[ve]=!0,y.load(ve).catch(Ot)})},Xa=(xe,ve,tt)=>{_t(xe,Ke=>{if(lt(Ke)){const Bt=ee.fromDom(Ke),Bn=ve.split(" ");De(Bn,Xo=>{Je(tt)?(tt?yl:$c)(Bt,Xo):nf(Bt,Xo)})}})},Er=(xe,ve)=>{Xa(xe,ve,!0)},xi=(xe,ve)=>{Xa(xe,ve,!1)},Tt=(xe,ve)=>{const tt=Y(xe),Ke=ve.split(" ");return Je(tt)&&or(Ke,Bt=>Hu(tt,Bt))},On=xe=>{_t(xe,ve=>ik(ee.fromDom(ve),"display"))},Yo=xe=>{_t(xe,ve=>Z$(ee.fromDom(ve),"display","none"))},gs=xe=>{const ve=Y(xe);return Je(ve)&&P(Qy(ve,"display"),"none")},Ns=xe=>(xe||"mce_")+l++,bs=xe=>{const ve=Y(xe);return Je(ve)?lt(ve.dom)?ve.dom.outerHTML:jc(ve):""},Lo=(xe,ve)=>{_t(xe,tt=>{lt(tt)&&(tt.outerHTML=ve)})},Go=(xe,ve)=>{const tt=G(ve);return _t(xe,Ke=>{const Bt=tt==null?void 0:tt.parentNode,Bn=tt==null?void 0:tt.nextSibling;return Bt&&(Bn?Bt.insertBefore(Ke,Bn):Bt.appendChild(Ke)),Ke})},ti=(xe,ve,tt)=>_t(ve,Ke=>{var Bt;const Bn=Zt(ve)?xe.cloneNode(!0):xe;return tt&&aS(C3(Ke.childNodes),Xo=>{Bn.appendChild(Xo)}),(Bt=Ke.parentNode)===null||Bt===void 0||Bt.replaceChild(Bn,Ke),Ke}),Ja=(xe,ve)=>{if(xe.nodeName!==ve.toUpperCase()){const tt=jt(ve);return aS(le(xe),Ke=>{pe(tt,Ke.nodeName,se(xe,Ke.nodeName))}),ti(tt,xe,!0),tt}else return xe},ml=(xe,ve)=>{let tt=xe;for(;tt;){let Ke=ve;for(;Ke&&tt!==Ke;)Ke=Ke.parentNode;if(tt===Ke)break;tt=tt.parentNode}return!tt&&xe.ownerDocument?xe.ownerDocument.documentElement:tt},kc=(xe,ve,tt)=>An(ve)?Ys(N,xe,{...tt,isContent:Bt=>{const Bn=Bt.nodeName.toLowerCase();return!!ve[Bn]}}):Ys(N,xe,tt),Rm=()=>e.createRange(),Ud=(xe,ve,tt)=>{let Ke=Rm(),Bt,Bn;if(xe&&ve&&xe.parentNode&&ve.parentNode){const Xo=xe.parentNode;return Ke.setStart(Xo,vp(xe)),Ke.setEnd(ve.parentNode,vp(ve)),Bt=Ke.extractContents(),Ke=Rm(),Ke.setStart(ve.parentNode,vp(ve)+1),Ke.setEnd(Xo,vp(xe)+1),Bn=Ke.extractContents(),Xo.insertBefore(ka(Za,Bt,N),xe),tt?Xo.insertBefore(tt,xe):Xo.insertBefore(ve,xe),Xo.insertBefore(ka(Za,Bn,N),xe),ao(xe),tt||ve}else return},Tu=(xe,ve,tt,Ke)=>{if(Zt(xe)){let Bt=xe.length;const Bn=[];for(;Bt--;)Bn[Bt]=Tu(xe[Bt],ve,tt,Ke);return Bn}else return n.collect&&(xe===e||xe===r)&&T.push([xe,ve,tt,Ke]),F.bind(xe,ve,tt,Ke||Za)},Hi=(xe,ve,tt)=>{if(Zt(xe)){let Ke=xe.length;const Bt=[];for(;Ke--;)Bt[Ke]=Hi(xe[Ke],ve,tt);return Bt}else{if(T.length>0&&(xe===e||xe===r)){let Ke=T.length;for(;Ke--;){const[Bt,Bn,Xo]=T[Ke];xe===Bt&&(!ve||ve===Bn)&&(!tt||tt===Xo)&&F.unbind(Bt,Bn,Xo)}}return F.unbind(xe,ve,tt)}},_u=(xe,ve,tt)=>F.dispatch(xe,ve,tt),Hh=(xe,ve,tt)=>F.dispatch(xe,ve,tt),Nm=xe=>{if(xe&&lc(xe)){const ve=xe.getAttribute("data-mce-contenteditable");return ve&&ve!=="inherit"?ve:xe.contentEditable!=="inherit"?xe.contentEditable:null}else return null},Za={doc:e,settings:n,win:r,files:a,stdMode:d,boxModel:p,styleSheetLoader:y,boundEvents:T,styles:B,schema:N,events:F,isBlock:K,root:null,clone:he,getRoot:$e,getViewPort:Ge,getRect:kt,getSize:mt,getParent:Vn,getParents:pn,get:G,getNext:ts,getPrev:mr,select:et,is:mn,add:Ft,create:jt,createHTML:xn,createFragment:hs,remove:ao,setStyle:Oe,getStyle:He,setStyles:Se,removeAllAttribs:pr,setAttrib:pe,setAttribs:In,getAttrib:se,getPos:ut,parseStyle:vi,serializeStyle:fl,addStyle:Mr,loadCSS:ma,addClass:Er,removeClass:xi,hasClass:Tt,toggleClass:Xa,show:On,hide:Yo,isHidden:gs,uniqueId:Ns,setHTML:ct,getOuterHTML:bs,setOuterHTML:Lo,decode:ot,encode:hn,insertAfter:Go,replace:ti,rename:Ja,findCommonAncestor:ml,run:_t,getAttribs:le,isEmpty:kc,createRng:Rm,nodeIndex:vp,split:Ud,bind:Tu,unbind:Hi,fire:Hh,dispatch:_u,getContentEditable:Nm,getContentEditableParent:xe=>{const ve=$e();let tt=null;for(let Ke=xe;Ke&&Ke!==ve&&(tt=Nm(Ke),tt===null);Ke=Ke.parentNode);return tt},isEditable:xe=>{if(Je(xe)){const ve=lt(xe)?xe:xe.parentElement;return Je(ve)&&lc(ve)&&ac(ee.fromDom(ve))}else return!1},destroy:()=>{if(T.length>0){let xe=T.length;for(;xe--;){const[ve,tt,Ke]=T[xe];F.unbind(ve,tt,Ke)}}at(a,(xe,ve)=>{y.unload(ve),delete a[ve]})},isChildOf:(xe,ve)=>xe===ve||ve.contains(xe),dumpRng:xe=>"startContainer: "+xe.startContainer.nodeName+", startOffset: "+xe.startOffset+", endContainer: "+xe.endContainer.nodeName+", endOffset: "+xe.endOffset},yC=w3(B,n,it(Za));return Za};yo.DOM=yo(document),yo.nodeIndex=vp;const E3=yo.DOM,T3=0,xp=1,Cp=2,lS=3;class kl{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,r)=>{const a=E3;let l;const d=()=>{a.remove(T),l&&(l.onerror=l.onload=l=null)},p=()=>{d(),o()},y=()=>{d(),r("Failed to load script: "+n)},T=a.uniqueId();l=document.createElement("script"),l.id=T,l.type="text/javascript",l.src=k._addCacheSuffix(n),this.settings.referrerPolicy&&a.setAttrib(l,"referrerpolicy",this.settings.referrerPolicy),l.onload=p,l.onerror=y,(document.getElementsByTagName("head")[0]||document.body).appendChild(l)})}isDone(n){return this.states[n]===Cp}markDone(n){this.states[n]=Cp}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=T3),new Promise((a,l)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:a,reject:l})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,r=(y,T)=>{xo(o.scriptLoadedCallbacks,T).each(N=>{De(N,B=>B[y](T))}),delete o.scriptLoadedCallbacks[T]},a=y=>{const T=qt(y,N=>N.status==="rejected");return T.length>0?Promise.reject(Ei(T,({reason:N})=>Zt(N)?N:[N])):Promise.resolve()},l=y=>Promise.allSettled(on(y,T=>o.states[T]===Cp?(r("resolve",T),Promise.resolve()):o.states[T]===lS?(r("reject",T),Promise.reject(T)):(o.states[T]=xp,o.loadScript(T).then(()=>{o.states[T]=Cp,r("resolve",T);const N=o.queue;return N.length>0?(o.queue=[],l(N).then(a)):Promise.resolve()},()=>(o.states[T]=lS,r("reject",T),Promise.reject(T)))))),d=y=>(o.loading=!0,l(y).then(T=>{o.loading=!1;const N=o.queueLoadedCallbacks.shift();return $.from(N).each(Ic),a(T)})),p=Nu(n);return o.loading?new Promise((y,T)=>{o.queueLoadedCallbacks.push(()=>{d(p).then(y,T)})}):d(p)}}kl.ScriptLoader=new kl;const _3=(e,n)=>{const o=e.indexOf(n);return o!==-1&&e.indexOf(n,o+1)>o},ps=e=>It(e)&&Lt(e,"raw"),Nk=e=>Zt(e)&&e.length>1,Io={},uS=No("en"),Yr=()=>xo(Io,uS.get()),qc={getData:()=>jn(Io,e=>({...e})),setCode:e=>{e&&uS.set(e)},getCode:()=>uS.get(),add:(e,n)=>{let o=Io[e];o||(Io[e]=o={});const r=on(hr(n),a=>a.toLowerCase());at(n,(a,l)=>{const d=l.toLowerCase();d!==l&&_3(r,d)?(Lt(n,d)||(o[d]=a),o[l]=a):o[d]=a})},translate:e=>{const n=Yr().getOr({}),o=d=>Rn(d)?Object.prototype.toString.call(d):r(d)?"":""+d,r=d=>d===""||d===null||d===void 0,a=d=>{const p=o(d);return Lt(n,p)?o(n[p]):xo(n,p.toLowerCase()).map(o).getOr(p)},l=d=>d.replace(/{context:\w+}$/,"");if(r(e))return"";if(ps(e))return o(e.raw);if(Nk(e)){const d=e.slice(1),p=a(e[0]).replace(/\{([0-9]+)\}/g,(y,T)=>Lt(d,T)?o(d[T]):y);return l(p)}return l(a(e))},isRtl:()=>Yr().bind(e=>xo(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Lt(Io,e)},Hr=()=>{const e=[],n={},o={},r=[],a=(G,Y)=>{const se=qt(r,le=>le.name===G&&le.state===Y);De(se,le=>le.resolve())},l=G=>Lt(n,G),d=G=>Lt(o,G),p=G=>{if(o[G])return o[G].instance},y=(G,Y)=>{const se=qc.getCode(),le=","+(Y||"")+",";!se||Y&&le.indexOf(","+se+",")===-1||kl.ScriptLoader.add(n[G]+"/langs/"+se+".js")},T=(G,Y)=>{Hr.languageLoad!==!1&&(l(G)?y(G,Y):K(G,"loaded").then(()=>y(G,Y)))},N=(G,Y)=>(e.push(Y),o[G]={instance:Y},a(G,"added"),Y),B=G=>{delete n[G],delete o[G]},F=(G,Y)=>te(Y)?te(G)?{prefix:"",resource:Y,suffix:""}:{prefix:G.prefix,resource:Y,suffix:G.suffix}:Y,W=(G,Y)=>{if(n[G])return Promise.resolve();let se=te(Y)?Y:Y.prefix+Y.resource+Y.suffix;se.indexOf("/")!==0&&se.indexOf("://")===-1&&(se=Hr.baseURL+"/"+se),n[G]=se.substring(0,se.lastIndexOf("/"));const le=()=>(a(G,"loaded"),Promise.resolve());return o[G]?le():kl.ScriptLoader.add(se).then(le)},K=(G,Y="added")=>Y==="added"&&d(G)||Y==="loaded"&&l(G)?Promise.resolve():new Promise(se=>{r.push({name:G,state:Y,resolve:se})});return{items:e,urls:n,lookup:o,get:p,requireLangPack:T,add:N,remove:B,createUrl:F,load:W,waitFor:K}};Hr.languageLoad=!0,Hr.baseURL="",Hr.PluginManager=Hr(),Hr.ThemeManager=Hr(),Hr.ModelManager=Hr();const wp=(e,n)=>{let o=null;return{cancel:()=>{_(o)||(clearTimeout(o),o=null)},throttle:(...l)=>{_(o)&&(o=setTimeout(()=>{o=null,e.apply(null,l)},n))}}},_v=(e,n)=>{let o=null;const r=()=>{_(o)||(clearTimeout(o),o=null)};return{cancel:r,throttle:(...l)=>{r(),o=setTimeout(()=>{o=null,e.apply(null,l)},n)}}},k3=(e,n,o)=>Vs(e,n,o).isSome(),vg=it("mce-annotation"),bf=it("data-mce-annotation"),yf=it("data-mce-annotation-uid"),Ep=it("data-mce-annotation-active"),vf=it("data-mce-annotation-classes"),xf=it("data-mce-annotation-attrs"),Av=e=>n=>Ne(n,e),Pk=(e,n)=>{const o=e.selection.getRng(),r=ee.fromDom(o.startContainer),a=ee.fromDom(e.getBody()),l=n.fold(()=>"."+vg(),y=>`[${bf()}="${y}"]`),d=rr(r,o.startOffset).getOr(r);return Uu(d,l,Av(a)).bind(y=>_a(y,`${yf()}`).bind(T=>_a(y,`${bf()}`).map(N=>{const B=Ik(e,T);return{uid:T,name:N,elements:B}})))},O3=e=>xs(e)&&Hu(e,vg()),Mk=(e,n)=>Oi(e,"data-mce-bogus")||k3(e,'[data-mce-bogus="all"]',Av(n)),Ik=(e,n)=>{const o=ee.fromDom(e.getBody()),r=fi(o,`[${yf()}="${n}"]`);return qt(r,a=>!Mk(a,o))},kv=(e,n)=>{const o=ee.fromDom(e.getBody()),r=fi(o,`[${bf()}="${n}"]`),a={};return De(r,l=>{if(!Mk(l,o)){const d=As(l,yf()),p=xo(a,d).getOr([]);a[d]=p.concat([l])}}),a},Bk=(e,n)=>{const o=No({}),r=()=>({listeners:[],previous:$r()}),a=(B,F)=>{l(B,W=>(F(W),W))},l=(B,F)=>{const W=o.get(),K=xo(W,B).getOrThunk(r),G=F(K);W[B]=G,o.set(W)},d=(B,F,W)=>{a(B,K=>{De(K.listeners,G=>G(!0,B,{uid:F,nodes:on(W,Y=>Y.dom)}))})},p=B=>{a(B,F=>{De(F.listeners,W=>W(!1,B))})},y=(B,F)=>{De(Ik(e,B),W=>{F?_s(W,Ep(),"true"):sr(W,Ep())})},T=_v(()=>{const B=To(n.getNames());De(B,F=>{l(F,W=>{const K=W.previous.get();return Pk(e,$.some(F)).fold(()=>{K.each(G=>{p(F),W.previous.clear(),y(G,!1)})},({uid:G,name:Y,elements:se})=>{P(K,G)||(K.each(le=>y(le,!1)),d(Y,G,se),W.previous.set(G),y(G,!0))}),{previous:W.previous,listeners:W.listeners}})})},30);return e.on("remove",()=>{T.cancel()}),e.on("NodeChange",()=>{T.throttle()}),{addListener:(B,F)=>{l(B,W=>({previous:W.previous,listeners:W.listeners.concat([F])}))}}},D3=(e,n)=>{const o=bf(),r=l=>$.from(l.attr(o)).bind(n.lookup),a=l=>{var d,p;l.attr(yf(),null),l.attr(bf(),null),l.attr(Ep(),null);const y=$.from(l.attr(xf())).map(F=>F.split(",")).getOr([]),T=$.from(l.attr(vf())).map(F=>F.split(",")).getOr([]);De(y,F=>l.attr(F,null));const N=(p=(d=l.attr("class"))===null||d===void 0?void 0:d.split(" "))!==null&&p!==void 0?p:[],B=Yd(N,[vg()].concat(T));l.attr("class",B.length>0?B.join(" "):null),l.attr(vf(),null),l.attr(xf(),null)};e.serializer.addTempAttr(Ep()),e.serializer.addAttributeFilter(o,l=>{for(const d of l)r(d).each(p=>{p.persistent===!1&&(d.name==="span"?d.unwrap():a(d))})})},Fk=()=>{const e={};return{register:(a,l)=>{e[a]={name:a,settings:l}},lookup:a=>xo(e,a).map(l=>l.settings),getNames:()=>hr(e)}},R3=(e,n,o)=>Math.min(Math.max(e,n),o),Ov=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Lk=0;const xg=e=>{const o=new Date().getTime(),r=Math.floor(Ov()*1e9);return Lk++,e+"_"+r+Lk+String(o)},N3=(e,n)=>{De(n,o=>{yl(e,o)})},P3=(e,n)=>{De(n,o=>{$c(e,o)})},$k=(e,n)=>ee.fromDom(e.dom.cloneNode(n)),Zu=e=>$k(e,!1),Dv=e=>$k(e,!0),jk=(e,n)=>{const o=ee.fromTag(n),r=$u(e);return kr(o,r),o},Hk=(e,n)=>{const o=jk(e,n);Cl(e,o);const r=Vo(e);return zu(o,r),Ro(e),o},Uk=(e,n,o=We)=>{const r=new ir(e,n),a=l=>{let d;do d=r[l]();while(d&&!Ve(d)&&!o(d));return $.from(d).filter(Ve)};return{current:()=>$.from(r.current()).filter(Ve),next:()=>a("next"),prev:()=>a("prev"),prev2:()=>a("prev2")}},Cf=(e,n)=>{const o=n||(d=>e.isBlock(d)||Gn(d)||qn(d)),r=(d,p,y,T)=>{if(Ve(d)){const N=T(d,p,d.data);if(N!==-1)return $.some({container:d,offset:N})}return y().bind(N=>r(N.container,N.offset,y,T))};return{backwards:(d,p,y,T)=>{const N=Uk(d,T??e.getRoot(),o);return r(d,p,()=>N.prev().map(B=>({container:B,offset:B.length})),y).getOrNull()},forwards:(d,p,y,T)=>{const N=Uk(d,T??e.getRoot(),o);return r(d,p,()=>N.next().map(B=>({container:B,offset:0})),y).getOrNull()}}},Tp=((e,n)=>{const o=l=>{if(!e(l))throw new Error("Can only get "+n+" value of a "+n+" node");return r(l).getOr("")},r=l=>e(l)?$.from(l.dom.nodeValue):$.none();return{get:o,getOption:r,set:(l,d)=>{if(!e(l))throw new Error("Can only set raw "+n+" value of a "+n+" node");l.dom.nodeValue=d}}})(zs,"text"),_p=e=>Tp.get(e),zk=e=>Tp.getOption(e),Vk=(e,n)=>Tp.set(e,n),M3=["td","th"],Gq=["thead","tbody","tfoot"],qq=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Kq=["li","dd","dt"],I3=["ul","ol","dl"],Yq=["pre","script","textarea","style"],Ap=e=>{let n;return o=>(n=n||Is(e,ht),Lt(n,gn(o)))},B3=e=>gn(e)==="table",cu=e=>xs(e)&&gn(e)==="br",Sf=Ap(qq),dS=Ap(I3),wf=Ap(Kq),F3=Ap(Gq),Cg=Ap(M3),Rv=Ap(Yq),Qu=e=>{const n=[];let o=e.dom;for(;o;)n.push(ee.fromDom(o)),o=o.lastChild;return n},Wk=e=>{const n=fi(e,"br"),o=qt(Qu(e).slice(-1),cu);n.length===o.length&&De(o,Ro)},Kc=()=>{const e=ee.fromTag("br");return _s(e,"data-mce-bogus","1"),e},Ol=e=>{sp(e),Gs(e,Kc())},L3=(e,n)=>{rg(e).each(o=>{Co(o).each(r=>{n.isBlock(gn(e))&&cu(o)&&n.isBlock(gn(r))&&Ro(o)})})},Zs=dg,Nv=VC,Qi=Yi,$3=e=>e.insertContent(Zs,{preserve_zwsp:!0}),fS=lt,kp=Ve,Ef=e=>(kp(e)&&(e=e.parentNode),fS(e)&&e.hasAttribute("data-mce-caret")),Dl=e=>kp(e)&&Nv(e.data),Da=e=>Ef(e)||Dl(e),Gk=e=>e.firstChild!==e.lastChild||!Gn(e.firstChild),j3=(e,n)=>{var o;const a=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Zs),l=e.parentNode;if(n){const d=e.previousSibling;if(kp(d)){if(Da(d))return d;if(Ur(d))return d.splitText(d.data.length-1)}l==null||l.insertBefore(a,e)}else{const d=e.nextSibling;if(kp(d)){if(Da(d))return d;if(kn(d))return d.splitText(1),d}e.nextSibling?l==null||l.insertBefore(a,e.nextSibling):l==null||l.appendChild(a)}return a},Op=e=>{const n=e.container();return Ve(n)?n.data.charAt(e.offset())===Zs||e.isAtStart()&&Dl(n.previousSibling):!1},lu=e=>{const n=e.container();return Ve(n)?n.data.charAt(e.offset()-1)===Zs||e.isAtEnd()&&Dl(n.nextSibling):!1},Pv=(e,n,o)=>{var r;const l=((r=n.ownerDocument)!==null&&r!==void 0?r:document).createElement(e);l.setAttribute("data-mce-caret",o?"before":"after"),l.setAttribute("data-mce-bogus","all"),l.appendChild(Kc().dom);const d=n.parentNode;return o?d==null||d.insertBefore(l,n):n.nextSibling?d==null||d.insertBefore(l,n.nextSibling):d==null||d.appendChild(l),l},kn=e=>kp(e)&&e.data[0]===Zs,Ur=e=>kp(e)&&e.data[e.data.length-1]===Zs,Tf=e=>{var n;const o=e.getElementsByTagName("br"),r=o[o.length-1];cf(r)&&((n=r.parentNode)===null||n===void 0||n.removeChild(r))},Sg=e=>e&&e.hasAttribute("data-mce-caret")?(Tf(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Oo=e=>Ef(e.startContainer),_f=Math.round,ed=e=>e?{left:_f(e.left),top:_f(e.top),bottom:_f(e.bottom),right:_f(e.right),width:_f(e.width),height:_f(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},qk=(e,n)=>(e=ed(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),Xq=(e,n)=>e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right,Kk=(e,n,o)=>e>=0&&e<=Math.min(n.height,o.height)/2,wo=(e,n)=>{const o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top?!0:e.top>n.bottom?!1:Kk(n.top-e.bottom,e,n)},wg=(e,n)=>e.top>n.bottom?!0:e.bottom<n.top?!1:Kk(n.bottom-e.top,e,n),H3=(e,n,o)=>n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom,U3=e=>ls(e,(n,o)=>n.fold(()=>$.some(o),r=>{const a=Math.min(o.left,r.left),l=Math.min(o.top,r.top),d=Math.max(o.right,r.right),p=Math.max(o.bottom,r.bottom);return $.some({top:l,right:d,bottom:p,left:a,width:d-a,height:p-l})}),$.none()),Af=(e,n,o)=>{const r=Math.max(Math.min(n,e.left+e.width),e.left),a=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((n-r)*(n-r)+(o-a)*(o-a))},dc=(e,n)=>Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),Mv=e=>{const n=e.startContainer,o=e.startOffset;return n===e.endContainer&&n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},uu=(e,n)=>{if(lt(e)&&e.hasChildNodes()){const o=e.childNodes,r=R3(n,0,o.length-1);return o[r]}else return e},yt=(e,n)=>{if(!(n<0&&lt(e)&&e.hasChildNodes()))return uu(e,n)},z3=new RegExp("[Ì-Í¯Ò-ÒÒ-ÒÖ-Ö½Ö¿×-××-××Ø-ØÙ-ÙÙ°Û-ÛÛ-Û¤Û§-Û¨Ûª-Û­ÜÜ°-ÝÞ¦-Þ°ß«-ß³à -à à -à £à ¥-à §à ©-à ­à¡-à¡à££-à¤à¤ºà¤¼à¥-à¥à¥à¥-à¥à¥¢-à¥£à¦à¦¼à¦¾à§-à§à§à§à§¢-à§£à¨-à¨à¨¼à©-à©à©-à©à©-à©à©à©°-à©±à©µàª-àªàª¼à«-à«à«-à«à«à«¢-à«£à¬à¬¼à¬¾à¬¿à­-à­à­à­à­à­¢-à­£à®à®¾à¯à¯à¯à°à°¾-à±à±-à±à±-à±à±-à±à±¢-à±£à²à²¼à²¿à³à³à³-à³à³-à³à³¢-à³£à´à´¾àµ-àµàµàµàµ¢-àµ£à·à·à·-à·à·à·à¸±à¸´-à¸ºà¹-à¹àº±àº´-àº¹àº»-àº¼à»-à»à¼-à¼à¼µà¼·à¼¹à½±-à½¾à¾-à¾à¾-à¾à¾-à¾à¾-à¾¼à¿á­-á°á²-á·á¹-áºá½-á¾á-áá-á á±-á´áá-áááá-áá-áá²-á´á-áá²-á³á´-áµá·-á½áá-ááá -á á¢©á¤ -á¤¢á¤§-á¤¨á¤²á¤¹-á¤»á¨-á¨á¨á©á©-á©á© á©¢á©¥-á©¬á©³-á©¼á©¿áª°-áª½áª¾á¬-á¬á¬´á¬¶-á¬ºá¬¼á­á­«-á­³á®-á®á®¢-á®¥á®¨-á®©á®«-á®­á¯¦á¯¨-á¯©á¯­á¯¯-á¯±á°¬-á°³á°¶-á°·á³-á³á³-á³ á³¢-á³¨á³­á³´á³¸-á³¹á·-á·µá·¼-á·¿â-ââ-ââ-â â¡â¢-â¤â¥-â°â³¯-â³±âµ¿â· -â·¿ãª-ã­ã®-ã¯ã-ãê¯ê°-ê²ê´-ê½ê-êê°-ê±ê ê ê ê ¥-ê ¦ê£ê£ -ê£±ê¤¦-ê¤­ê¥-ê¥ê¦-ê¦ê¦³ê¦¶-ê¦¹ê¦¼ê§¥ê¨©-ê¨®ê¨±-ê¨²ê¨µ-ê¨¶ê©ê©ê©¼êª°êª²-êª´êª·-êª¸êª¾-êª¿ê«ê«¬-ê«­ê«¶ê¯¥ê¯¨ê¯­ï¬ï¸-ï¸ï¸ -ï¸¯ï¾-ï¾]"),Yk=e=>te(e)&&e.charCodeAt(0)>=768&&z3.test(e),V3=(...e)=>n=>{for(let o=0;o<e.length;o++)if(e[o](n))return!0;return!1},Xk=(...e)=>n=>{for(let o=0;o<e.length;o++)if(!e[o](n))return!1;return!0},Jk=Ie,mS=qn,Eg=Gn,Dp=Ve,W3=Hc(["script","style","textarea"]),Tg=Hc(["img","input","textarea","hr","iframe","video","audio","object","embed"]),G3=Hc(["table"]),Iv=Da,fc=e=>Iv(e)?!1:Dp(e)?!W3(e.parentNode):Tg(e)||Eg(e)||G3(e)||Bv(e),q3=e=>lt(e)&&e.getAttribute("unselectable")==="true",Bv=e=>!q3(e)&&mS(e),Fv=(e,n)=>{for(let o=e.parentNode;o&&o!==n;o=o.parentNode){if(Bv(o))return!1;if(Jk(o))return!0}return!0},K3=e=>Bv(e)?!ls(si(e.getElementsByTagName("*")),(n,o)=>n||Jk(o),!1):!1,Y3=e=>Tg(e)||K3(e),Zk=(e,n)=>fc(e)&&Fv(e,n),pS=lt,X3=fc,Qk=sv("display","block table"),J3=sv("float","left right"),_g=Xk(pS,X3,uo(J3)),Z3=uo(sv("white-space","pre pre-line pre-wrap")),kf=Ve,hS=Gn,eO=yo.nodeIndex,Lv=yt,gS=e=>e?e.createRange():yo.DOM.createRng(),bS=e=>te(e)&&/[\r\n\t ]/.test(e),tO=e=>!!e.setStart&&!!e.setEnd,yS=e=>{const n=e.startContainer,o=e.startOffset;if(bS(e.toString())&&Z3(n.parentNode)&&Ve(n)){const r=n.data;if(bS(r[o-1])||bS(r[o+1]))return!0}return!1},Q3=e=>{const n=e.ownerDocument,o=gS(n),r=n.createTextNode(Bs),a=e.parentNode;a.insertBefore(r,e),o.setStart(r,0),o.setEnd(r,1);const l=ed(o.getBoundingClientRect());return a.removeChild(r),l},Of=e=>{const n=e.startContainer,o=e.endContainer,r=e.startOffset,a=e.endOffset;if(n===o&&Ve(o)&&r===0&&a===1){const l=e.cloneRange();return l.setEndAfter(o),td(l)}else return null},nO=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,td=e=>{var n;let o;const r=e.getClientRects();return r.length>0?o=ed(r[0]):o=ed(e.getBoundingClientRect()),!tO(e)&&hS(e)&&nO(o)?Q3(e):nO(o)&&tO(e)&&(n=Of(e))!==null&&n!==void 0?n:o},Df=(e,n)=>{const o=qk(e,n);return o.width=1,o.right=o.left+1,o},e5=e=>{const n=[],o=d=>{d.height!==0&&(n.length>0&&Xq(d,n[n.length-1])||n.push(d))},r=(d,p)=>{const y=gS(d.ownerDocument);if(p<d.data.length){if(Yk(d.data[p]))return;if(Yk(d.data[p-1])&&(y.setStart(d,p),y.setEnd(d,p+1),!yS(y))){o(Df(td(y),!1));return}}p>0&&(y.setStart(d,p-1),y.setEnd(d,p),yS(y)||o(Df(td(y),!1))),p<d.data.length&&(y.setStart(d,p),y.setEnd(d,p+1),yS(y)||o(Df(td(y),!0)))},a=e.container(),l=e.offset();if(kf(a))return r(a,l),n;if(pS(a))if(e.isAtEnd()){const d=Lv(a,l);kf(d)&&r(d,d.data.length),_g(d)&&!hS(d)&&o(Df(td(d),!1))}else{const d=Lv(a,l);if(kf(d)&&r(d,0),_g(d)&&e.isAtEnd())return o(Df(td(d),!1)),n;const p=Lv(e.container(),e.offset()-1);_g(p)&&!hS(p)&&(Qk(p)||Qk(d)||!_g(d))&&o(Df(td(p),!1)),_g(d)&&o(Df(td(d),!0))}return n},ke=(e,n,o)=>{const r=()=>(kf(e),n===0),a=()=>kf(e)?n>=e.data.length:n>=e.childNodes.length,l=()=>{const N=gS(e.ownerDocument);return N.setStart(e,n),N.setEnd(e,n),N},d=()=>(o||(o=e5(ke(e,n))),o),p=()=>d().length>0,y=N=>N&&e===N.container()&&n===N.offset(),T=N=>Lv(e,N?n-1:n);return{container:it(e),offset:it(n),toRange:l,getClientRects:d,isVisible:p,isAtStart:r,isAtEnd:a,isEqual:y,getNode:T}};ke.fromRangeStart=e=>ke(e.startContainer,e.startOffset),ke.fromRangeEnd=e=>ke(e.endContainer,e.endOffset),ke.after=e=>ke(e.parentNode,eO(e)+1),ke.before=e=>ke(e.parentNode,eO(e)),ke.isAbove=(e,n)=>V(us(n.getClientRects()),oi(e.getClientRects()),wo).getOr(!1),ke.isBelow=(e,n)=>V(oi(n.getClientRects()),us(e.getClientRects()),wg).getOr(!1),ke.isAtStart=e=>e?e.isAtStart():!1,ke.isAtEnd=e=>e?e.isAtEnd():!1,ke.isTextPosition=e=>e?Ve(e.container()):!1,ke.isElementPosition=e=>!ke.isTextPosition(e);const mc=(e,n)=>{Ve(n)&&n.data.length===0&&e.remove(n)},Rf=(e,n,o)=>{n.insertNode(o),mc(e,o.previousSibling),mc(e,o.nextSibling)},t5=(e,n,o)=>{const r=$.from(o.firstChild),a=$.from(o.lastChild);n.insertNode(o),r.each(l=>mc(e,l.previousSibling)),a.each(l=>mc(e,l.nextSibling))},$v=(e,n,o)=>{Ks(o)?t5(e,n,o):Rf(e,n,o)},pc=Ve,vS=cf,oO=yo.nodeIndex,sO=e=>{const n=e.parentNode;return vS(n)?sO(n):n},jv=e=>e?Zl(e.childNodes,(n,o)=>(vS(o)&&o.nodeName!=="BR"?n=n.concat(jv(o)):n.push(o),n),[]):[],n5=(e,n)=>{let o=e;for(;(o=o.previousSibling)&&pc(o);)n+=o.data.length;return n},rO=e=>n=>e===n,o5=e=>{let n,o;n=jv(sO(e)),o=oc(n,rO(e),e),n=n.slice(0,o+1);const r=Zl(n,(a,l,d)=>(pc(l)&&pc(n[d-1])&&a++,a),0);return n=Um(n,Hc([e.nodeName])),o=oc(n,rO(e),e),o-r},iO=e=>(pc(e)?"text()":e.nodeName.toLowerCase())+"["+o5(e)+"]",s5=(e,n,o)=>{const r=[];for(let a=n.parentNode;a&&a!==e;a=a.parentNode)r.push(a);return r},aO=(e,n)=>{let o=[],r=n.container(),a=n.offset(),l;if(pc(r))l=n5(r,a);else{const p=r.childNodes;a>=p.length?(l="after",a=p.length-1):l="before",r=p[a]}o.push(iO(r));let d=s5(e,r);return d=Um(d,uo(cf)),o=o.concat(Pu(d,p=>iO(p))),o.reverse().join("/")+","+l},r5=(e,n,o)=>{let r=jv(e);return r=Um(r,(a,l)=>!pc(a)||!pc(r[l-1])),r=Um(r,Hc([n])),r[o]},i5=(e,n)=>{let o=e,r=0;for(;pc(o);){const a=o.data.length;if(n>=r&&n<=r+a){e=o,n=n-r;break}if(!pc(o.nextSibling)){e=o,n=a;break}r+=a,o=o.nextSibling}return pc(e)&&n>e.data.length&&(n=e.data.length),ke(e,n)},cO=(e,n)=>{if(!n)return null;const o=n.split(","),r=o[0].split("/"),a=o.length>1?o[1]:"before",l=Zl(r,(d,p)=>{const y=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(p);return y?(y[1]==="text()"&&(y[1]="#text"),r5(d,y[1],parseInt(y[2],10))):null},e);if(!l)return null;if(!pc(l)&&l.parentNode){let d;return a==="after"?d=oO(l)+1:d=oO(l),ke(l.parentNode,d)}return i5(l,parseInt(a,10))},Hv=qn,a5=(e,n,o)=>{let r=e(n.data.slice(0,o)).length;for(let a=n.previousSibling;a&&Ve(a);a=a.previousSibling)r+=e(a.data).length;return r},lO=(e,n,o,r,a)=>{const l=a?r.startContainer:r.endContainer;let d=a?r.startOffset:r.endOffset;const p=[],y=e.getRoot();if(Ve(l))p.push(o?a5(n,l,d):d);else{let T=0;const N=l.childNodes;d>=N.length&&N.length&&(T=1,d=Math.max(0,N.length-1)),p.push(e.nodeIndex(N[d],o)+T)}for(let T=l;T&&T!==y;T=T.parentNode)p.push(e.nodeIndex(T,o));return p},c5=(e,n,o,r)=>{const a=n.dom,l=lO(a,e,o,r,!0),d=n.isForward(),p=Oo(r)?{isFakeCaret:!0}:{};if(n.isCollapsed())return{start:l,forward:d,...p};{const y=lO(a,e,o,r,!1);return{start:l,end:y,forward:d,...p}}},Wo=(e,n,o)=>{let r=0;return k.each(e.select(n),a=>{if(a.getAttribute("data-mce-bogus")!=="all"){if(a===o)return!1;r++;return}}),r},xS=(e,n)=>{let o=n?e.startContainer:e.endContainer,r=n?e.startOffset:e.endOffset;if(lt(o)&&o.nodeName==="TR"){const a=o.childNodes;o=a[Math.min(n?r:r-1,a.length-1)],o&&(r=n?0:o.childNodes.length,n?e.setStart(o,r):e.setEnd(o,r))}},uO=e=>(xS(e,!0),xS(e,!1),e),dO=(e,n)=>{if(lt(e)&&(e=uu(e,n),Hv(e)))return e;if(Da(e)){Ve(e)&&Ef(e)&&(e=e.parentNode);let o=e.previousSibling;if(Hv(o)||(o=e.nextSibling,Hv(o)))return o}},CS=e=>dO(e.startContainer,e.startOffset)||dO(e.endContainer,e.endOffset),yr=(e,n,o)=>{const r=o.getNode(),a=o.getRng();if(r.nodeName==="IMG"||Hv(r)){const d=r.nodeName;return{name:d,index:Wo(o.dom,d,r)}}const l=CS(a);if(l){const d=l.tagName;return{name:d,index:Wo(o.dom,d,l)}}return c5(e,o,n,a)},ea=e=>{const n=e.getRng();return{start:aO(e.dom.getRoot(),ke.fromRangeStart(n)),end:aO(e.dom.getRoot(),ke.fromRangeEnd(n)),forward:e.isForward()}},fO=e=>({rng:e.getRng(),forward:e.isForward()}),SS=(e,n,o)=>{const r={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",r,"&#xFEFF;"):e.create("span",r)},wS=(e,n)=>{const o=e.dom;let r=e.getRng();const a=o.uniqueId(),l=e.isCollapsed(),d=e.getNode(),p=d.nodeName,y=e.isForward();if(p==="IMG")return{name:p,index:Wo(o,p,d)};const T=uO(r.cloneRange());if(!l){T.collapse(!1);const B=SS(o,a+"_end",n);$v(o,T,B)}r=uO(r),r.collapse(!0);const N=SS(o,a+"_start",n);return $v(o,r,N),e.moveToBookmark({id:a,keep:!0,forward:y}),{id:a,forward:y}},l5=(e,n,o=!1)=>n===2?yr(Qi,o,e):n===3?ea(e):n?fO(e):wS(e,!1),Uv=bt(yr,jo,!0),mO=e=>{const n=l=>l(e),o=it(e),r=()=>a,a={tag:!0,inner:e,fold:(l,d)=>d(e),isValue:ht,isError:We,map:l=>$s.value(l(e)),mapError:r,bind:n,exists:n,forall:n,getOr:o,or:r,getOrThunk:o,orThunk:r,getOrDie:o,each:l=>{l(e)},toOptional:()=>$.some(e)};return a},ES=e=>{const n=()=>o,o={tag:!1,inner:e,fold:(r,a)=>r(e),isValue:We,isError:ht,map:n,mapError:r=>$s.error(r(e)),bind:n,exists:We,forall:ht,getOr:jo,or:jo,getOrThunk:Gr,orThunk:Gr,getOrDie:Ms(String(e)),each:Ot,toOptional:$.none};return o},$s={value:mO,error:ES,fromOption:(e,n)=>e.fold(()=>ES(n),mO)},hc={generate:e=>{if(!Zt(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const n=[],o={};return De(e,(r,a)=>{const l=hr(r);if(l.length!==1)throw new Error("one and only one name per case");const d=l[0],p=r[d];if(o[d]!==void 0)throw new Error("duplicate key detected:"+d);if(d==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Zt(p))throw new Error("case arguments must be an array");n.push(d),o[d]=(...y)=>{const T=y.length;if(T!==p.length)throw new Error("Wrong number of arguments to case "+d+". Expected "+p.length+" ("+p+"), got "+T);return{fold:(...B)=>{if(B.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+B.length);return B[a].apply(null,y)},match:B=>{const F=hr(B);if(n.length!==F.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+F.join(","));if(!or(n,K=>en(F,K)))throw new Error("Not all branches were specified when using match. Specified: "+F.join(", ")+`
Required: `+n.join(", "));return B[d].apply(null,y)},log:B=>{console.log(B,{constructors:n,constructor:d,params:y})}}}}),o}};hc.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Bo=e=>{const n=[],o=[];return De(e,r=>{r.fold(a=>{n.push(a)},a=>{o.push(a)})}),{errors:n,values:o}},Rl=e=>e.type==="inline-command"||e.type==="inline-format",Ag=e=>e.type==="block-command"||e.type==="block-format",u5=(e,n)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===n,pO=e=>{var n;const o=a=>$s.error({message:a,pattern:e}),r=(a,l,d)=>{if(e.format!==void 0){let p;if(Zt(e.format)){if(!or(e.format,te))return o(a+" pattern has non-string items in the `format` array");p=e.format}else if(te(e.format))p=[e.format];else return o(a+" pattern has non-string `format` parameter");return $s.value(l(p))}else return e.cmd!==void 0?te(e.cmd)?$s.value(d(e.cmd,e.value)):o(a+" pattern has non-string `cmd` parameter"):o(a+" pattern is missing both `format` and `cmd` parameters")};if(!It(e))return o("Raw pattern is not an object");if(!te(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!te(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let a=e.start,l=e.end;return l.length===0&&(l=a,a=""),r("Inline",d=>({type:"inline-format",start:a,end:l,format:d}),(d,p)=>({type:"inline-command",start:a,end:l,cmd:d,value:p}))}else{if(e.replacement!==void 0)return te(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):$s.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{const a=(n=e.trigger)!==null&&n!==void 0?n:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):r("Block",l=>({type:"block-format",start:e.start,format:l[0],trigger:a}),(l,d)=>({type:"block-command",start:e.start,cmd:l,value:d,trigger:a}))}}},hO=e=>qt(e,Ag),nd=e=>qt(e,Rl),vr=(e,n)=>({inlinePatterns:nd(e),blockPatterns:hO(e),dynamicPatternsLookup:n}),Nl=(e,n)=>({...e,blockPatterns:qt(e.blockPatterns,o=>u5(o,n))}),gO=e=>{const n=Bo(on(e,pO));return De(n.errors,o=>console.error(o.message,o.pattern)),n.values},d5=e=>n=>{const o=e(n);return gO(o)},TS=wa().deviceType,zv=TS.isTouch(),_S=yo.DOM,AS=e=>{const n=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return ls(n,(o,r)=>{const a=r.split("="),l=a[0],d=a.length>1?a[1]:l;return o[va(l)]=va(d),o},{})},Vv=e=>Qe(e,RegExp),vt=e=>n=>n.options.get(e),kg=e=>te(e)||It(e),kS=(e,n="")=>o=>{const r=te(o);if(r)if(o.indexOf("=")!==-1){const a=AS(o);return{value:xo(a,e.id).getOr(n),valid:r}}else return{value:o,valid:r};else return{valid:!1,message:"Must be a string."}},bO=e=>{const n=e.options.register;n("id",{processor:"string",default:e.id}),n("selector",{processor:"string"}),n("target",{processor:"object"}),n("suffix",{processor:"string"}),n("cache_suffix",{processor:"string"}),n("base_url",{processor:"string"}),n("referrer_policy",{processor:"string",default:""}),n("language_load",{processor:"boolean",default:!0}),n("inline",{processor:"boolean",default:!1}),n("iframe_attrs",{processor:"object",default:{}}),n("doctype",{processor:"string",default:"<!DOCTYPE html>"}),n("document_base_url",{processor:"string",default:e.documentBaseUrl}),n("body_id",{processor:kS(e,"tinymce"),default:"tinymce"}),n("body_class",{processor:kS(e),default:""}),n("content_security_policy",{processor:"string",default:""}),n("br_in_pre",{processor:"boolean",default:!0}),n("forced_root_block",{processor:o=>{const r=te(o)&&ys(o);return r?{value:o,valid:r}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),n("forced_root_block_attrs",{processor:"object",default:{}}),n("newline_behavior",{processor:o=>{const r=en(["block","linebreak","invert","default"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),n("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),n("no_newline_selector",{processor:"string",default:""}),n("keep_styles",{processor:"boolean",default:!0}),n("end_container_on_empty_block",{processor:o=>At(o)?{valid:!0,value:o}:te(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),n("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),n("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),n("font_size_classes",{processor:"string",default:""}),n("automatic_uploads",{processor:"boolean",default:!0}),n("images_reuse_filename",{processor:"boolean",default:!1}),n("images_replace_blob_uris",{processor:"boolean",default:!0}),n("icons",{processor:"string",default:""}),n("icons_url",{processor:"string",default:""}),n("images_upload_url",{processor:"string",default:""}),n("images_upload_base_path",{processor:"string",default:""}),n("images_upload_credentials",{processor:"boolean",default:!1}),n("images_upload_handler",{processor:"function"}),n("language",{processor:"string",default:"en"}),n("language_url",{processor:"string",default:""}),n("entity_encoding",{processor:"string",default:"named"}),n("indent",{processor:"boolean",default:!0}),n("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),n("indent_use_margin",{processor:"boolean",default:!1}),n("indentation",{processor:"string",default:"40px"}),n("content_css",{processor:o=>{const r=o===!1||te(o)||ln(o,te);return r?te(o)?{value:on(o.split(","),va),valid:r}:Zt(o)?{value:o,valid:r}:o===!1?{value:[],valid:r}:{value:o,valid:r}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:MS(e)?[]:["default"]}),n("content_style",{processor:"string"}),n("content_css_cors",{processor:"boolean",default:!1}),n("font_css",{processor:o=>{const r=te(o)||ln(o,te);return r?{value:Zt(o)?o:on(o.split(","),va),valid:r}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),n("inline_boundaries",{processor:"boolean",default:!0}),n("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),n("object_resizing",{processor:o=>{const r=At(o)||te(o);return r?o===!1||TS.isiPhone()||TS.isiPad()?{value:"",valid:r}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:r}:{valid:!1,message:"Must be boolean or a string"}},default:!zv}),n("resize_img_proportional",{processor:"boolean",default:!0}),n("event_root",{processor:"string"}),n("service_message",{processor:"string"}),n("theme",{processor:o=>o===!1||te(o)||Rn(o),default:"silver"}),n("theme_url",{processor:"string"}),n("formats",{processor:"object"}),n("format_empty_lines",{processor:"boolean",default:!1}),n("format_noneditable_selector",{processor:"string",default:""}),n("preview_styles",{processor:o=>{const r=o===!1||te(o);return r?{value:o===!1?"":o,valid:r}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),n("custom_ui_selector",{processor:"string",default:""}),n("hidden_input",{processor:"boolean",default:!0}),n("submit_patch",{processor:"boolean",default:!0}),n("encoding",{processor:"string"}),n("add_form_submit_trigger",{processor:"boolean",default:!0}),n("add_unload_trigger",{processor:"boolean",default:!0}),n("custom_undo_redo_levels",{processor:"number",default:0}),n("disable_nodechange",{processor:"boolean",default:!1}),n("readonly",{processor:"boolean",default:!1}),n("editable_root",{processor:"boolean",default:!0}),n("plugins",{processor:"string[]",default:[]}),n("external_plugins",{processor:"object"}),n("forced_plugins",{processor:"string[]"}),n("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),n("model_url",{processor:"string"}),n("block_unsupported_drop",{processor:"boolean",default:!0}),n("visual",{processor:"boolean",default:!0}),n("visual_table_class",{processor:"string",default:"mce-item-table"}),n("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),n("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),n("setup",{processor:"function"}),n("init_instance_callback",{processor:"function"}),n("url_converter",{processor:"function",default:e.convertURL}),n("url_converter_scope",{processor:"object",default:e}),n("urlconverter_callback",{processor:"function"}),n("allow_conditional_comments",{processor:"boolean",default:!1}),n("allow_html_data_urls",{processor:"boolean",default:!1}),n("allow_svg_data_urls",{processor:"boolean"}),n("allow_html_in_named_anchor",{processor:"boolean",default:!1}),n("allow_script_urls",{processor:"boolean",default:!1}),n("allow_unsafe_link_target",{processor:"boolean",default:!1}),n("allow_mathml_annotation_encodings",{processor:o=>{const r=ln(o,te);return r?{value:o,valid:r}:{valid:!1,message:"Must be an array of strings."}},default:[]}),n("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),n("fix_list_elements",{processor:"boolean",default:!1}),n("preserve_cdata",{processor:"boolean",default:!1}),n("remove_trailing_brs",{processor:"boolean",default:!0}),n("pad_empty_with_br",{processor:"boolean",default:!1}),n("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),n("element_format",{processor:"string",default:"html"}),n("entities",{processor:"string"}),n("schema",{processor:"string",default:"html5"}),n("convert_urls",{processor:"boolean",default:!0}),n("relative_urls",{processor:"boolean",default:!0}),n("remove_script_host",{processor:"boolean",default:!0}),n("custom_elements",{processor:kg}),n("extended_valid_elements",{processor:"string"}),n("invalid_elements",{processor:"string"}),n("invalid_styles",{processor:kg}),n("valid_children",{processor:"string"}),n("valid_classes",{processor:kg}),n("valid_elements",{processor:"string"}),n("valid_styles",{processor:kg}),n("verify_html",{processor:"boolean",default:!0}),n("auto_focus",{processor:o=>te(o)||o===!0}),n("browser_spellcheck",{processor:"boolean",default:!1}),n("protect",{processor:"array"}),n("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),n("deprecation_warnings",{processor:"boolean",default:!0}),n("a11y_advanced_options",{processor:"boolean",default:!1}),n("api_key",{processor:"string"}),n("license_key",{processor:"string"}),n("paste_block_drop",{processor:"boolean",default:!1}),n("paste_data_images",{processor:"boolean",default:!0}),n("paste_preprocess",{processor:"function"}),n("paste_postprocess",{processor:"function"}),n("paste_webkit_styles",{processor:"string",default:"none"}),n("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),n("paste_merge_formats",{processor:"boolean",default:!0}),n("smart_paste",{processor:"boolean",default:!0}),n("paste_as_text",{processor:"boolean",default:!1}),n("paste_tab_spaces",{processor:"number",default:4}),n("text_patterns",{processor:o=>ln(o,It)||o===!1?{value:gO(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),n("text_patterns_lookup",{processor:o=>Rn(o)?{value:d5(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),n("noneditable_class",{processor:"string",default:"mceNonEditable"}),n("editable_class",{processor:"string",default:"mceEditable"}),n("noneditable_regexp",{processor:o=>ln(o,Vv)?{value:o,valid:!0}:Vv(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),n("table_tab_navigation",{processor:"boolean",default:!0}),n("highlight_on_focus",{processor:"boolean",default:!0}),n("xss_sanitization",{processor:"boolean",default:!0}),n("details_initial_state",{processor:o=>{const r=en(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("details_serialized_state",{processor:o=>{const r=en(["inherited","collapsed","expanded"],o);return r?{value:o,valid:r}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),n("init_content_sync",{processor:"boolean",default:!1}),n("newdocument_content",{processor:"string",default:""}),n("sandbox_iframes",{processor:"boolean",default:!0}),n("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),n("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{n("directionality",{processor:"string",default:qc.isRtl()?"rtl":void 0}),n("placeholder",{processor:"string",default:_S.getAttrib(e.getElement(),"placeholder")})})},f5=vt("iframe_attrs"),xr=vt("doctype"),yO=vt("document_base_url"),od=vt("body_id"),vO=vt("body_class"),OS=vt("content_security_policy"),xO=vt("br_in_pre"),Cr=vt("forced_root_block"),Nf=vt("forced_root_block_attrs"),CO=vt("newline_behavior"),m5=vt("br_newline_selector"),p5=vt("no_newline_selector"),ks=vt("keep_styles"),Os=vt("end_container_on_empty_block"),cr=vt("automatic_uploads"),lr=vt("images_reuse_filename"),Qs=vt("images_replace_blob_uris"),Ss=vt("icons"),DS=vt("icons_url"),RS=vt("images_upload_url"),SO=vt("images_upload_base_path"),wO=vt("images_upload_credentials"),EO=vt("images_upload_handler"),TO=vt("content_css_cors"),Og=vt("referrer_policy"),Wv=vt("language"),h5=vt("language_url"),g5=vt("indent_use_margin"),b5=vt("indentation"),y5=vt("content_css"),Ni=vt("content_style"),v5=vt("font_css"),x5=vt("directionality"),Ra=vt("inline_boundaries_selector"),Dg=vt("object_resizing"),Rp=vt("resize_img_proportional"),Pl=vt("placeholder"),zr=vt("event_root"),NS=vt("service_message"),sd=vt("theme"),_O=vt("theme_url"),Gv=vt("model"),PS=vt("model_url"),Rg=vt("inline_boundaries"),AO=vt("formats"),C5=vt("preview_styles"),S5=vt("format_empty_lines"),w5=vt("format_noneditable_selector"),E5=vt("custom_ui_selector"),MS=vt("inline"),IS=vt("hidden_input"),T5=vt("submit_patch"),kO=vt("add_form_submit_trigger"),_5=vt("add_unload_trigger"),qv=vt("custom_undo_redo_levels"),A5=vt("disable_nodechange"),OO=vt("readonly"),k5=vt("editable_root"),DO=vt("content_css_cors"),Kv=vt("plugins"),RO=vt("external_plugins"),Xr=vt("block_unsupported_drop"),BS=vt("visual"),NO=vt("visual_table_class"),FS=vt("visual_anchor_class"),Ng=vt("iframe_aria_text"),O5=vt("setup"),D5=vt("init_instance_callback"),R5=vt("urlconverter_callback"),N5=vt("auto_focus"),P5=vt("browser_spellcheck"),M5=vt("protect"),I5=vt("paste_block_drop"),Yv=vt("paste_data_images"),B5=vt("paste_preprocess"),F5=vt("paste_postprocess"),L5=vt("newdocument_content"),$5=vt("paste_webkit_styles"),j5=vt("paste_remove_styles_if_webkit"),H5=vt("paste_merge_formats"),PO=vt("smart_paste"),MO=vt("paste_as_text"),Np=vt("paste_tab_spaces"),IO=vt("allow_html_data_urls"),U5=vt("text_patterns"),z5=vt("text_patterns_lookup"),BO=vt("noneditable_class"),gc=vt("editable_class"),Xv=vt("noneditable_regexp"),Jv=vt("preserve_cdata"),LS=vt("highlight_on_focus"),FO=vt("xss_sanitization"),du=vt("init_content_sync"),$S=e=>e.options.isSet("text_patterns_lookup"),V5=e=>k.explode(e.options.get("font_size_style_values")),rd=e=>k.explode(e.options.get("font_size_classes")),Zv=e=>e.options.get("encoding")==="xml",LO=e=>k.explode(e.options.get("images_file_types")),W5=vt("table_tab_navigation"),G5=vt("details_initial_state"),q5=vt("details_serialized_state"),jS=vt("sandbox_iframes"),HS=e=>e.options.get("sandbox_iframes_exclusions"),K5=vt("convert_unsafe_embeds"),$O=vt("license_key"),Y5=vt("api_key"),jO=lt,HO=Ve,UO=e=>{const n=e.parentNode;n&&n.removeChild(e)},zO=e=>{const n=Qi(e);return{count:e.length-n.length,text:n}},US=e=>{let n;for(;(n=e.data.lastIndexOf(Zs))!==-1;)e.deleteData(n,1)},Qv=(e,n)=>(Pp(e),n),VO=(e,n)=>{const o=zO(e.data.substr(0,n.offset())),r=zO(e.data.substr(n.offset()));return(o.text+r.text).length>0?(US(e),ke(e,n.offset()-o.count)):n},X5=(e,n)=>{const o=n.container(),r=jm(si(o.childNodes),e).map(a=>a<n.offset()?ke(o,n.offset()-1):n).getOr(n);return Pp(e),r},J5=(e,n)=>HO(e)&&n.container()===e?VO(e,n):Qv(e,n),Z5=(e,n)=>n.container()===e.parentNode?X5(e,n):Qv(e,n),Q5=(e,n)=>ke.isTextPosition(n)?J5(e,n):Z5(e,n),Pp=e=>{jO(e)&&Da(e)&&(Gk(e)?e.removeAttribute("data-mce-caret"):UO(e)),HO(e)&&(US(e),e.data.length===0&&UO(e))},e1=qn,zS=Fr,e4=iv,t4="*[contentEditable=false],video,audio,embed,object",WO=(e,n,o)=>{const r=qk(n.getBoundingClientRect(),o);let a,l;if(e.tagName==="BODY"){const p=e.ownerDocument.documentElement;a=e.scrollLeft||p.scrollLeft,l=e.scrollTop||p.scrollTop}else{const p=e.getBoundingClientRect();a=e.scrollLeft-p.left,l=e.scrollTop-p.top}r.left+=a,r.right+=a,r.top+=l,r.bottom+=l,r.width=1;let d=n.offsetWidth-n.clientWidth;return d>0&&(o&&(d*=-1),r.left+=d,r.right+=d),r},n4=e=>{var n,o;const r=fi(ee.fromDom(e),t4);for(let a=0;a<r.length;a++){const l=r[a].dom;let d=l.previousSibling;if(Ur(d)){const p=d.data;p.length===1?(n=d.parentNode)===null||n===void 0||n.removeChild(d):d.deleteData(p.length-1,1)}d=l.nextSibling,kn(d)&&(d.data.length===1?(o=d.parentNode)===null||o===void 0||o.removeChild(d):d.deleteData(0,1))}},o4=(e,n,o,r)=>{const a=$r();let l,d;const p=Cr(e),y=e.dom,T=(G,Y)=>{let se;if(N(),e4(Y))return null;if(o(Y)){const le=Pv(p,Y,G),pe=WO(n,Y,G);y.setStyle(le,"top",pe.top),y.setStyle(le,"caret-color","transparent"),d=le;const he=y.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});y.setStyles(he,{...pe}),y.add(n,he),a.set({caret:he,element:Y,before:G}),G&&y.addClass(he,"mce-visual-caret-before"),B(),se=Y.ownerDocument.createRange(),se.setStart(le,0),se.setEnd(le,0)}else return d=j3(Y,G),se=Y.ownerDocument.createRange(),id(d.nextSibling)?(se.setStart(d,0),se.setEnd(d,0)):(se.setStart(d,1),se.setEnd(d,1)),se;return se},N=()=>{n4(n),d&&(Pp(d),d=null),a.on(G=>{y.remove(G.caret),a.clear()}),l&&(clearInterval(l),l=void 0)},B=()=>{l=setInterval(()=>{a.on(G=>{r()?y.toggleClass(G.caret,"mce-visual-caret-hidden"):y.addClass(G.caret,"mce-visual-caret-hidden")})},500)};return{show:T,hide:N,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{a.on(G=>{const Y=WO(n,G.element,G.before);y.setStyles(G.caret,{...Y})})},destroy:()=>clearInterval(l)}},GO=()=>an.browser.isFirefox(),id=e=>e1(e)||zS(e),Pg=e=>(id(e)||Uc(e)&&GO())&&Nn(ee.fromDom(e)).exists(ac),s4=Ie,VS=qn,r4=Fr,qO=sv("display","block table table-cell table-row table-caption list-item"),KO=Da,YO=Ef,Mg=lt,i4=Ve,a4=fc,Pf=e=>e>0,ad=e=>e<0,Ig=(e,n)=>{let o;for(;o=e(n);)if(!YO(o))return o;return null},Bg=(e,n,o,r,a)=>{const l=new ir(e,r),d=VS(e)||YO(e);let p;if(ad(n)){if(d&&(p=Ig(l.prev.bind(l),!0),o(p)))return p;for(;p=Ig(l.prev.bind(l),a);)if(o(p))return p}if(Pf(n)){if(d&&(p=Ig(l.next.bind(l),!0),o(p)))return p;for(;p=Ig(l.next.bind(l),a);)if(o(p))return p}return null},c4=(e,n)=>{const o=a=>s4(a.dom),r=a=>a.dom===n;return Zo(ee.fromDom(e),o,r).map(a=>a.dom).getOr(n)},bc=(e,n)=>{for(;e&&e!==n;){if(qO(e))return e;e=e.parentNode}return null},Yc=(e,n,o)=>bc(e.container(),o)===bc(n.container(),o),WS=(e,n)=>{if(!n)return $.none();const o=n.container(),r=n.offset();return Mg(o)?$.from(o.childNodes[r+e]):$.none()},XO=(e,n)=>{var o;const a=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)),a},l4=(e,n,o)=>bc(n,e)===bc(o,e),GS=(e,n,o)=>{const r=e?"previousSibling":"nextSibling";let a=o;for(;a&&a!==n;){let l=a[r];if(l&&KO(l)&&(l=l[r]),VS(l)||r4(l)){if(l4(n,l,a))return l;break}if(a4(l))break;a=a.parentNode}return null},Mp=bt(XO,!0),ur=bt(XO,!1),qS=(e,n,o)=>{let r;const a=bt(GS,!0,n),l=bt(GS,!1,n),d=o.startContainer,p=o.startOffset;if(Ef(d)){const y=i4(d)?d.parentNode:d,T=y.getAttribute("data-mce-caret");if(T==="before"&&(r=y.nextSibling,Pg(r)))return Mp(r);if(T==="after"&&(r=y.previousSibling,Pg(r)))return ur(r)}if(!o.collapsed)return o;if(Ve(d)){if(KO(d)){if(e===1){if(r=l(d),r)return Mp(r);if(r=a(d),r)return ur(r)}if(e===-1){if(r=a(d),r)return ur(r);if(r=l(d),r)return Mp(r)}return o}if(Ur(d)&&p>=d.data.length-1)return e===1&&(r=l(d),r)?Mp(r):o;if(kn(d)&&p<=1)return e===-1&&(r=a(d),r)?ur(r):o;if(p===d.data.length)return r=l(d),r?Mp(r):o;if(p===0)return r=a(d),r?ur(r):o}return o},JO=(e,n)=>WS(e?0:-1,n).filter(VS),Fg=(e,n,o)=>{const r=qS(e,n,o);return e===-1?ke.fromRangeStart(r):ke.fromRangeEnd(r)},Lg=e=>$.from(e.getNode()).map(ee.fromDom),u4=e=>$.from(e.getNode(!0)).map(ee.fromDom),KS=(e,n)=>{let o=n;for(;o=e(o);)if(o.isVisible())return o;return o},$g=(e,n)=>{const o=Yc(e,n);return!o&&Gn(e.getNode())?!0:o};var dr;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(dr||(dr={}));const Qq=qn,Ml=Ve,ZO=lt,Ip=Gn,Bp=fc,YS=Y3,Fp=Zk,QO=(e,n)=>{const o=[];let r=e;for(;r&&r!==n;)o.push(r),r=r.parentNode;return o},eD=(e,n)=>e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null,tD=(e,n)=>{if(Pf(e)){if(Bp(n.previousSibling)&&!Ml(n.previousSibling))return ke.before(n);if(Ml(n))return ke(n,0)}if(ad(e)){if(Bp(n.nextSibling)&&!Ml(n.nextSibling))return ke.after(n);if(Ml(n))return ke(n,n.data.length)}return ad(e)?Ip(n)?ke.before(n):ke.after(n):ke.before(n)},t1=(e,n)=>{const o=n.nextSibling;return o&&Bp(o)?Ml(o)?ke(o,0):ke.before(o):n1(dr.Forwards,ke.after(n),e)},n1=(e,n,o)=>{let r,a,l,d;if(!ZO(o)||!n)return null;if(n.isEqual(ke.after(o))&&o.lastChild){if(d=ke.after(o.lastChild),ad(e)&&Bp(o.lastChild)&&ZO(o.lastChild))return Ip(o.lastChild)?ke.before(o.lastChild):d}else d=n;const p=d.container();let y=d.offset();if(Ml(p)){if(ad(e)&&y>0)return ke(p,--y);if(Pf(e)&&y<p.length)return ke(p,++y);r=p}else{if(ad(e)&&y>0&&(a=eD(p,y-1),Bp(a)))return!YS(a)&&(l=Bg(a,e,Fp,a),l)?Ml(l)?ke(l,l.data.length):ke.after(l):Ml(a)?ke(a,a.data.length):ke.before(a);if(Pf(e)&&y<p.childNodes.length&&(a=eD(p,y),Bp(a)))return Ip(a)?t1(o,a):!YS(a)&&(l=Bg(a,e,Fp,a),l)?Ml(l)?ke(l,0):ke.before(l):Ml(a)?ke(a,0):ke.after(a);r=a||d.getNode()}if(r&&(Pf(e)&&d.isAtEnd()||ad(e)&&d.isAtStart())&&(r=Bg(r,e,ht,o,!0),Fp(r,o)))return tD(e,r);a=r&&Bg(r,e,Fp,o);const T=zi(qt(QO(p,o),Qq));return T&&(!a||!T.contains(a))?(Pf(e)?d=ke.after(T):d=ke.before(T),d):a?tD(e,a):null},Xc=e=>({next:n=>n1(dr.Forwards,n,e),prev:n=>n1(dr.Backwards,n,e)}),nD=(e,n,o)=>{const r=e?ke.before(o):ke.after(o);return ta(e,n,r)},oD=e=>Gn(e)?ke.before(e):ke.after(e),XS=e=>ke.isTextPosition(e)?e.offset()===0:fc(e.getNode()),JS=e=>{if(ke.isTextPosition(e)){const n=e.container();return e.offset()===n.data.length}else return fc(e.getNode(!0))},ZS=(e,n)=>!ke.isTextPosition(e)&&!ke.isTextPosition(n)&&e.getNode()===n.getNode(!0),sD=e=>!ke.isTextPosition(e)&&Gn(e.getNode()),rD=(e,n,o)=>e?!ZS(n,o)&&!sD(n)&&JS(n)&&XS(o):!ZS(o,n)&&XS(n)&&JS(o),ta=(e,n,o)=>{const r=Xc(n);return $.from(e?r.next(o):r.prev(o))},Lp=(e,n,o)=>ta(e,n,o).bind(r=>Yc(o,r,n)&&rD(e,o,r)?ta(e,n,r):$.some(r)),iD=(e,n,o,r)=>Lp(e,n,o).bind(a=>r(a)?iD(e,n,a,r):$.some(a)),$p=(e,n)=>{const o=e?n.firstChild:n.lastChild;return Ve(o)?$.some(ke(o,e?0:o.data.length)):o?fc(o)?$.some(e?ke.before(o):oD(o)):nD(e,n,o):$.none()},hi=bt(ta,!0),Pi=bt(ta,!1),Vr=bt($p,!0),yc=bt($p,!1),QS="_mce_caret",Na=e=>lt(e)&&e.id===QS,Mf=(e,n)=>{let o=n;for(;o&&o!==e;){if(Na(o))return o;o=o.parentNode}return null},aD=e=>te(e.start),eK=e=>Lt(e,"rng"),tK=e=>Lt(e,"id"),cD=e=>Lt(e,"name"),d4=e=>k.isArray(e.start),o1=e=>!cD(e)&&At(e.forward)?e.forward:!0,Sr=(e,n)=>(lt(n)&&e.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),ew=(e,n)=>{const o=$.from(cO(e.getRoot(),n.start)),r=$.from(cO(e.getRoot(),n.end));return V(o,r,(a,l)=>{const d=e.createRng();return d.setStart(a.container(),a.offset()),d.setEnd(l.container(),l.offset()),{range:d,forward:o1(n)}})},jg=(e,n)=>{var o;const a=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Zs);e.appendChild(a),n.setStart(a,0),n.setEnd(a,0)},Hg=e=>!e.hasChildNodes(),lD=(e,n)=>yc(e).fold(We,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),s1=(e,n,o)=>Hg(n)&&Mf(e,n)?(jg(n,o),!0):!1,tw=(e,n,o,r)=>{const a=o[n?"start":"end"],l=e.getRoot();if(a){let d=l,p=a[0];for(let y=a.length-1;d&&y>=1;y--){const T=d.childNodes;if(s1(l,d,r))return!0;if(a[y]>T.length-1)return s1(l,d,r)?!0:lD(d,r);d=T[a[y]]}Ve(d)&&(p=Math.min(a[0],d.data.length)),lt(d)&&(p=Math.min(a[0],d.childNodes.length)),n?r.setStart(d,p):r.setEnd(d,p)}return!0},nw=e=>Ve(e)&&e.data.length>0,uD=(e,n,o)=>{const r=e.get(o.id+"_"+n),a=r==null?void 0:r.parentNode,l=o.keep;if(r&&a){let d,p;if(n==="start"?l?r.hasChildNodes()?(d=r.firstChild,p=1):nw(r.nextSibling)?(d=r.nextSibling,p=0):nw(r.previousSibling)?(d=r.previousSibling,p=r.previousSibling.data.length):(d=a,p=e.nodeIndex(r)+1):(d=a,p=e.nodeIndex(r)):l?r.hasChildNodes()?(d=r.firstChild,p=1):nw(r.previousSibling)?(d=r.previousSibling,p=r.previousSibling.data.length):(d=a,p=e.nodeIndex(r)):(d=a,p=e.nodeIndex(r)),!l){const y=r.previousSibling,T=r.nextSibling;k.each(k.grep(r.childNodes),B=>{Ve(B)&&(B.data=B.data.replace(/\uFEFF/g,""))});let N;for(;N=e.get(o.id+"_"+n);)e.remove(N,!0);if(Ve(T)&&Ve(y)&&!an.browser.isOpera()){const B=y.data.length;y.appendData(T.data),e.remove(T),d=y,p=B}}return $.some(ke(d,p))}else return $.none()},f4=(e,n)=>{const o=e.createRng();return tw(e,!0,n,o)&&tw(e,!1,n,o)?$.some({range:o,forward:o1(n)}):$.none()},If=(e,n)=>{const o=uD(e,"start",n),r=uD(e,"end",n);return V(o,r.or(o),(a,l)=>{const d=e.createRng();return d.setStart(Sr(e,a.container()),a.offset()),d.setEnd(Sr(e,l.container()),l.offset()),{range:d,forward:o1(n)}})},dD=(e,n)=>$.from(e.select(n.name)[n.index]).map(o=>{const r=e.createRng();return r.selectNode(o),{range:r,forward:!0}}),fD=(e,n)=>{const o=e.dom;if(n){if(d4(n))return f4(o,n);if(aD(n))return ew(o,n);if(tK(n))return If(o,n);if(cD(n))return dD(o,n);if(eK(n))return $.some({range:n.rng,forward:o1(n)})}return $.none()},fu=(e,n,o)=>l5(e,n,o),mD=(e,n)=>{fD(e,n).each(({range:o,forward:r})=>{e.setRng(o,r)})},Mi=e=>lt(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",Ug=(e=>n=>e===n)(Bs),Bf=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,r1=e=>!Bf(e)&&!Ug(e)&&!VC(e),i1=e=>{const n=[];if(e)for(let o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},m4=e=>Ei(e,n=>{const o=Mv(n);return o?[ee.fromDom(o)]:[]}),p4=e=>i1(e).length>1,pD=e=>qt(m4(e),Cg),hD=e=>fi(e,"td[data-mce-selected],th[data-mce-selected]"),gD=(e,n)=>{const o=hD(n);return o.length>0?o:pD(e)},jp=e=>gD(i1(e.selection.getSel()),ee.fromDom(e.getBody())),zg=(e,n)=>Vs(e,"table",n),h4=e=>{const n=e.startContainer,o=e.startOffset;return Ve(n)?o===0?$.some(ee.fromDom(n)):$.none():$.from(n.childNodes[o]).map(ee.fromDom)},bD=e=>{const n=e.endContainer,o=e.endOffset;return Ve(n)?o===n.data.length?$.some(ee.fromDom(n)):$.none():$.from(n.childNodes[o-1]).map(ee.fromDom)},yD=e=>Po(e).fold(it([e]),n=>[e].concat(yD(n))),a1=e=>rg(e).fold(it([e]),n=>gn(n)==="br"?Co(n).map(o=>[e].concat(a1(o))).getOr([]):[e].concat(a1(n))),sw=(e,n)=>V(h4(n),bD(n),(o,r)=>{const a=Ho(yD(e),bt(Ne,o)),l=Ho(a1(e),bt(Ne,r));return a.isSome()&&l.isSome()}).getOr(!1),vD=(e,n,o,r)=>{const a=o,l=new ir(o,a),d=Xl(e.schema.getMoveCaretBeforeOnEnterElements(),(y,T)=>!en(["td","th","table"],T.toLowerCase()));let p=o;do{if(Ve(p)&&k.trim(p.data).length!==0){r?n.setStart(p,0):n.setEnd(p,p.data.length);return}if(d[p.nodeName]){r?n.setStartBefore(p):p.nodeName==="BR"?n.setEndBefore(p):n.setEndAfter(p);return}}while(p=r?l.next():l.prev());a.nodeName==="BODY"&&(r?n.setStart(a,0):n.setEnd(a,a.childNodes.length))},c1=e=>{const n=e.selection.getSel();return Je(n)&&n.rangeCount>0},rw=(e,n)=>{const o=jp(e);o.length>0?De(o,r=>{const a=r.dom,l=e.dom.createRng();l.setStartBefore(a),l.setEndAfter(a),n(l,!0)}):n(e.selection.getRng(),!1)},g4=(e,n,o)=>{const r=wS(e,n);o(r),e.moveToBookmark(r)},Vg=e=>$n(e==null?void 0:e.nodeType),Dn=e=>lt(e)&&!Mi(e)&&!Na(e)&&!cf(e),cd=(e,n)=>{if(Dn(n)&&!/^(TD|TH)$/.test(n.nodeName)){const o=e.getAttrib(n,"data-mce-selected"),r=parseInt(o,10);return!isNaN(r)&&r>0}else return!1},Ff=(e,n,o)=>{const{selection:r,dom:a}=e,l=r.getNode(),d=qn(l);g4(r,!0,()=>{n()}),d&&qn(l)&&a.isChildOf(l,e.getBody())?e.selection.select(l):o(r.getStart())&&iw(a,r)},iw=(e,n)=>{var o,r;const a=n.getRng(),{startContainer:l,startOffset:d}=a,p=n.getNode();if(!cd(e,p)&&lt(l)){const y=l.childNodes,T=e.getRoot();let N;if(d<y.length){const B=y[d];N=new ir(B,(o=e.getParent(B,e.isBlock))!==null&&o!==void 0?o:T)}else{const B=y[y.length-1];N=new ir(B,(r=e.getParent(B,e.isBlock))!==null&&r!==void 0?r:T),N.next(!0)}for(let B=N.current();B;B=N.next()){if(e.getContentEditable(B)==="false")return;if(Ve(B)&&!Gg(B)){a.setStart(B,0),n.setRng(a);return}}}},xD=(e,n,o)=>{if(e){const r=n?"nextSibling":"previousSibling";for(e=e[r];e;e=e[r])if(lt(e)||!Gg(e))return e}},Wg=(e,n)=>!!e.getTextBlockElements()[n.nodeName.toLowerCase()]||uf(e,n),Hp=(e,n,o)=>e.schema.isValidChild(n,o),Gg=(e,n=!1)=>{if(Je(e)&&Ve(e)){const o=n?e.data.replace(/ /g,"Â "):e.data;return Aa(o)}else return!1},aw=e=>Je(e)&&Ve(e)&&e.length===0,CD=(e,n)=>{const o="[data-mce-cef-wrappable]",r=w5(e),a=Ai(r)?o:`${o},${r}`;return ne(ee.fromDom(n),a)},b4=(e,n)=>{const o=e.dom;return Dn(n)&&o.getContentEditable(n)==="false"&&CD(e,n)&&o.select('[contenteditable="true"]',n).length===0},Lf=(e,n)=>Rn(e)?e(n):(Je(n)&&(e=e.replace(/%(\w+)/g,(o,r)=>n[r]||o)),e),SD=(e,n)=>(e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()),cw=(e,n)=>{if(Qn(e))return null;{let o=String(e);return(n==="color"||n==="backgroundColor")&&(o=bg(o)),n==="fontWeight"&&e===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},lw=(e,n,o)=>{const r=e.getStyle(n,o);return cw(r,o)},wD=(e,n)=>{let o;return e.getParent(n,r=>lt(r)?(o=e.getStyle(r,"text-decoration"),!!o&&o!=="none"):!1),o},qg=(e,n,o)=>e.getParents(n,o,e.getRoot()),uw=(e,n,o)=>{const r=e.formatter.get(n);return Je(r)&&vo(r,o)},ED=(e,n)=>uw(e,n,r=>{const a=l=>Rn(l)||l.length>1&&l.charAt(0)==="%";return vo(["styles","attributes"],l=>xo(r,l).exists(d=>{const p=Zt(d)?d:Hm(d);return vo(p,a)}))}),nK=(e,n,o)=>{const r=["inline","block","selector","attributes","styles","classes"],a=l=>Xl(l,(d,p)=>vo(r,y=>y===p));return uw(e,n,l=>{const d=a(l);return uw(e,o,p=>{const y=a(p);return Gh(d,y)})})},Il=e=>ya(e,"block"),TD=e=>Il(e)&&e.wrapper===!0,y4=e=>Il(e)&&e.wrapper!==!0,Pa=e=>ya(e,"selector"),er=e=>ya(e,"inline"),v4=e=>Pa(e)&&er(e)&&P(xo(e,"mixed"),!0),dw=e=>Pa(e)&&e.expand!==!1&&!er(e),x4=e=>{const n=[];let o=e;for(;o;){if(Ve(o)&&o.data!==Zs||o.childNodes.length>1)return[];lt(o)&&n.push(o),o=o.firstChild}return n},_D=e=>x4(e).length>0,fw=e=>Na(e.dom)&&_D(e.dom),Up=Mi,AD=qg,kD=Gg,C4=Wg,S4=e=>Gn(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,OD=(e,n)=>{let o=n;for(;o;){if(lt(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},ft=(e,n,o,r)=>{const a=n.data;if(e){for(let l=o;l>0;l--)if(r(a.charAt(l-1)))return l}else for(let l=o;l<a.length;l++)if(r(a.charAt(l)))return l;return-1},tr=(e,n,o)=>ft(e,n,o,r=>Ug(r)||Bf(r)),l1=(e,n,o)=>ft(e,n,o,r1),nr=(e,n,o,r,a,l)=>{let d;const p=e.getParent(o,e.isBlock)||n,y=(N,B,F)=>{const W=Cf(e),K=a?W.backwards:W.forwards;return $.from(K(N,B,(G,Y)=>Up(G.parentNode)?-1:(d=G,F(a,G,Y)),p))};return y(o,r,tr).bind(N=>l?y(N.container,N.offset+(a?-1:0),l1):$.some(N)).orThunk(()=>d?$.some({container:d,offset:a?0:d.length}):$.none())},Ma=(e,n,o,r,a)=>{const l=r[a];Ve(r)&&Ai(r.data)&&l&&(r=l);const d=AD(e,r);for(let p=0;p<d.length;p++)for(let y=0;y<n.length;y++){const T=n[y];if(!(Je(T.collapsed)&&T.collapsed!==o.collapsed)&&Pa(T)&&e.is(d[p],T.selector))return d[p]}return r},mw=(e,n,o,r)=>{var a;let l=o;const d=e.getRoot(),p=n[0];if(Il(p)&&(l=p.wrapper?null:e.getParent(o,p.block,d)),!l){const y=(a=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&a!==void 0?a:d;l=e.getParent(Ve(o)?o.parentNode:o,T=>T!==d&&C4(e.schema,T),y)}if(l&&Il(p)&&p.wrapper&&(l=AD(e,l,"ul,ol").reverse()[0]||l),!l)for(l=o;l&&l[r]&&!e.isBlock(l[r])&&(l=l[r],!SD(l,"br")););return l||o},Kg=(e,n,o,r)=>{const a=o.parentNode;return Je(o[r])?!1:a===n||Qn(a)||e.isBlock(a)?!0:Kg(e,n,a,r)},zp=(e,n,o,r,a)=>{let l=o;const d=a?"previousSibling":"nextSibling",p=e.getRoot();if(Ve(o)&&!kD(o)&&(a?r>0:r<o.data.length))return o;for(;l;){if(!n[0].block_expand&&e.isBlock(l))return l;for(let y=l[d];y;y=y[d]){const T=Ve(y)&&!Kg(e,p,y,d);if(!Up(y)&&!S4(y)&&!kD(y,T))return l}if(l===p||l.parentNode===p){o=l;break}l=l.parentNode}return o},DD=e=>Up(e.parentNode)||Up(e),$f=(e,n,o,r=!1)=>{let{startContainer:a,startOffset:l,endContainer:d,endOffset:p}=n;const y=o[0];return lt(a)&&a.hasChildNodes()&&(a=uu(a,l),Ve(a)&&(l=0)),lt(d)&&d.hasChildNodes()&&(d=uu(d,n.collapsed?p:p-1),Ve(d)&&(p=d.data.length)),a=OD(e,a),d=OD(e,d),DD(a)&&(a=Up(a)?a:a.parentNode,n.collapsed?a=a.previousSibling||a:a=a.nextSibling||a,Ve(a)&&(l=n.collapsed?a.length:0)),DD(d)&&(d=Up(d)?d:d.parentNode,n.collapsed?d=d.nextSibling||d:d=d.previousSibling||d,Ve(d)&&(p=n.collapsed?0:d.length)),n.collapsed&&(nr(e,e.getRoot(),a,l,!0,r).each(({container:B,offset:F})=>{a=B,l=F}),nr(e,e.getRoot(),d,p,!1,r).each(({container:B,offset:F})=>{d=B,p=F})),(er(y)||y.block_expand)&&((!er(y)||!Ve(a)||l===0)&&(a=zp(e,o,a,l,!0)),(!er(y)||!Ve(d)||p===d.data.length)&&(d=zp(e,o,d,p,!1))),dw(y)&&(a=Ma(e,o,n,a,"previousSibling"),d=Ma(e,o,n,d,"nextSibling")),(Il(y)||Pa(y))&&(a=mw(e,o,a,"previousSibling"),d=mw(e,o,d,"nextSibling"),Il(y)&&(e.isBlock(a)||(a=zp(e,o,a,l,!0),Ve(a)&&(l=0)),e.isBlock(d)||(d=zp(e,o,d,p,!1),Ve(d)&&(p=d.data.length)))),lt(a)&&a.parentNode&&(l=e.nodeIndex(a),a=a.parentNode),lt(d)&&d.parentNode&&(p=e.nodeIndex(d)+1,d=d.parentNode),{startContainer:a,startOffset:l,endContainer:d,endOffset:p}},Vp=(e,n,o)=>{var r;const a=n.startOffset,l=uu(n.startContainer,a),d=n.endOffset,p=uu(n.endContainer,d-1),y=Y=>{const se=Y[0];Ve(se)&&se===l&&a>=se.data.length&&Y.splice(0,1);const le=Y[Y.length-1];return d===0&&Y.length>0&&le===p&&Ve(le)&&Y.splice(Y.length-1,1),Y},T=(Y,se,le)=>{const pe=[];for(;Y&&Y!==le;Y=Y[se])pe.push(Y);return pe},N=(Y,se)=>e.getParent(Y,le=>le.parentNode===se,se),B=(Y,se,le)=>{const pe=le?"nextSibling":"previousSibling";for(let he=Y,$e=he.parentNode;he&&he!==se;he=$e){$e=he.parentNode;const Ge=T(he===Y?he:he[pe],pe);Ge.length&&(le||Ge.reverse(),o(y(Ge)))}};if(l===p)return o(y([l]));const F=(r=e.findCommonAncestor(l,p))!==null&&r!==void 0?r:e.getRoot();if(e.isChildOf(l,p))return B(l,F,!0);if(e.isChildOf(p,l))return B(p,F);const W=N(l,F)||l,K=N(p,F)||p;B(l,W,!0);const G=T(W===l?W:W.nextSibling,"nextSibling",K===p?K.nextSibling:K);G.length&&o(y(G)),B(p,K)},w4=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],E4=e=>zs(e)&&_p(e)===Zs,T4=(e,n,o,r)=>dn(n).fold(()=>"skipping",a=>r==="br"||E4(n)?"valid":O3(n)?"existing":Na(n.dom)?"caret":vo(w4,l=>ne(n,l))?"valid-block":!Hp(e,o,r)||!Hp(e,gn(a),o)?"invalid-child":"valid"),RD=(e,n)=>{const o=$f(e.dom,n,[{inline:"span"}]);n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),e.selection.setRng(n)},ND=(e,n,o,r,a,l)=>{const{uid:d=n,...p}=o;yl(e,vg()),_s(e,`${yf()}`,d),_s(e,`${bf()}`,r);const{attributes:y={},classes:T=[]}=a(d,p);if(kr(e,y),N3(e,T),l){T.length>0&&_s(e,`${vf()}`,T.join(","));const N=hr(y);N.length>0&&_s(e,`${xf()}`,N.join(","))}},PD=e=>{$c(e,vg()),sr(e,`${yf()}`),sr(e,`${bf()}`),sr(e,`${Ep()}`);const n=_a(e,`${xf()}`).map(r=>r.split(",")).getOr([]),o=_a(e,`${vf()}`).map(r=>r.split(",")).getOr([]);De(n,r=>sr(e,r)),P3(e,o),sr(e,`${vf()}`),sr(e,`${xf()}`)},Yg=(e,n,o,r,a)=>{const l=ee.fromTag("span",e);return ND(l,n,o,r,a,!1),l},u1=(e,n,o,r,a,l)=>{const d=[],p=Yg(e.getDoc(),o,l,r,a),y=$r(),T=()=>{y.clear()},N=()=>y.get().getOrThunk(()=>{const K=Zu(p);return d.push(K),y.set(K),K}),B=K=>{De(K,F)},F=K=>{switch(T4(e,K,"span",gn(K))){case"invalid-child":{T();const Y=Vo(K);B(Y),T();break}case"valid-block":{T(),ND(K,o,l,r,a,!0);break}case"valid":{const Y=N();e3(K,Y);break}}},W=K=>{const G=on(K,ee.fromDom);B(G)};return Vp(e.dom,n,K=>{T(),W(K)}),d},pw=(e,n,o,r)=>{e.undoManager.transact(()=>{const a=e.selection,l=a.getRng(),d=jp(e).length>0,p=xg("mce-annotation");if(l.collapsed&&!d&&RD(e,l),a.getRng().collapsed&&!d){const y=Yg(e.getDoc(),p,r,n,o.decorate);cg(y,Bs),a.getRng().insertNode(y.dom),a.select(y.dom)}else g4(a,!1,()=>{rw(e,y=>{u1(e,y,p,n,o.decorate,r)})})})},Xg=e=>{const n=Fk();D3(e,n);const o=Bk(e,n),r=Kr("span"),a=l=>{De(l,d=>{r(d)?Vu(d):PD(d)})};return{register:(l,d)=>{n.register(l,d)},annotate:(l,d)=>{n.lookup(l).each(p=>{pw(e,l,p,d)})},annotationChanged:(l,d)=>{o.addListener(l,d)},remove:l=>{Pk(e,$.some(l)).each(({elements:d})=>{const p=e.selection.getBookmark();a(d),e.selection.moveToBookmark(p)})},removeAll:l=>{const d=e.selection.getBookmark();at(kv(e,l),(p,y)=>{a(p)}),e.selection.moveToBookmark(d)},getAll:l=>{const d=kv(e,l);return jn(d,p=>on(p,y=>y.dom))}}},jf=e=>({getBookmark:bt(fu,e),moveToBookmark:bt(mD,e)});jf.isBookmarkNode=Mi;const MD=(e,n,o)=>o.collapsed?!1:vo(o.getClientRects(),r=>H3(r,e,n)),d1=(e,n)=>e.dispatch("PreProcess",n),f1=(e,n)=>e.dispatch("PostProcess",n),_4=e=>{e.dispatch("remove")},A4=e=>{e.dispatch("detach")},k4=(e,n)=>{e.dispatch("SwitchMode",{mode:n})},O4=(e,n,o,r,a)=>{e.dispatch("ObjectResizeStart",{target:n,width:o,height:r,origin:a})},ID=(e,n,o,r,a)=>{e.dispatch("ObjectResized",{target:n,width:o,height:r,origin:a})},BD=e=>{e.dispatch("PreInit")},D4=e=>{e.dispatch("PostRender")},m1=e=>{e.dispatch("Init")},Dr=(e,n)=>{e.dispatch("PlaceholderToggle",{state:n})},Ia=(e,n,o)=>{e.dispatch(n,o)},na=(e,n,o,r)=>{e.dispatch("FormatApply",{format:n,node:o,vars:r})},Jg=(e,n,o,r)=>{e.dispatch("FormatRemove",{format:n,node:o,vars:r})},hw=(e,n)=>e.dispatch("BeforeSetContent",n),FD=(e,n)=>e.dispatch("SetContent",n),gw=(e,n)=>e.dispatch("BeforeGetContent",n),LD=(e,n)=>e.dispatch("GetContent",n),bw=(e,n)=>{e.dispatch("AutocompleterStart",n)},R4=(e,n)=>{e.dispatch("AutocompleterUpdate",n)},Zg=(e,n)=>{e.dispatch("AutocompleterUpdateActiveRange",n)},$D=e=>{e.dispatch("AutocompleterEnd")},jD=(e,n,o)=>e.dispatch("PastePreProcess",{content:n,internal:o}),yw=(e,n,o)=>e.dispatch("PastePostProcess",{node:n,internal:o}),p1=(e,n)=>e.dispatch("PastePlainTextToggle",{state:n}),fo=(e,n)=>e.dispatch("EditableRootStateChange",{state:n}),dt={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||dt.metaKeyPressed(e),metaKeyPressed:e=>an.os.isMacOS()||an.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},ld="data-mce-selected",HD="table,img,figure.image,hr,video,span.mce-preview-object,details",vw=Math.abs,Wp=Math.round,h1={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},xw=e=>e.type==="longpress"||e.type.indexOf("touch")===0,UD=(e,n)=>{const o=n.dom,r=n.getDoc(),a=document,l=n.getBody();let d,p,y,T,N,B,F,W,K,G,Y,se,le,pe,he,$e,Ge;const ut=ot=>Je(ot)&&(rv(ot)||o.is(ot,"figure.image")),Oe=ot=>Fr(ot)||o.hasClass(ot,"mce-preview-object"),Se=(ot,hn)=>{if(xw(ot)){const xn=ot.touches[0];return ut(ot.target)&&!MD(xn.clientX,xn.clientY,hn)}else return ut(ot.target)&&!MD(ot.clientX,ot.clientY,hn)},He=ot=>{const hn=ot.target;Se(ot,n.selection.getRng())&&!ot.isDefaultPrevented()&&n.selection.select(hn)},mt=ot=>o.hasClass(ot,"mce-preview-object")&&Je(ot.firstElementChild)?[ot,ot.firstElementChild]:o.is(ot,"figure.image")?[ot.querySelector("img")]:[ot],kt=ot=>{const hn=Dg(n);return!hn||n.mode.isReadOnly()||ot.getAttribute("data-mce-resize")==="false"||ot===n.getBody()?!1:o.hasClass(ot,"mce-preview-object")&&Je(ot.firstElementChild)?ne(ee.fromDom(ot.firstElementChild),hn):ne(ee.fromDom(ot),hn)},mn=(ot,hn)=>{if(Oe(hn))return ot.create("img",{src:an.transparentSrc});if(Uc(hn)){const hs=ns(T.name,"n")?us:oi,ao=hn.cloneNode(!0);return hs(ot.select("tr",ao)).each(pr=>{const vi=ot.select("td,th",pr);ot.setStyle(pr,"height",null),De(vi,fl=>ot.setStyle(fl,"height",null))}),ao}else return hn.cloneNode(!0)},pn=(ot,hn,xn)=>{if(Je(xn)){const hs=mt(ot);De(hs,ao=>{ao.style[hn]||!n.schema.isValid(ao.nodeName.toLowerCase(),hn)?o.setStyle(ao,hn,xn):o.setAttrib(ao,hn,""+xn)})}},Vn=(ot,hn,xn)=>{pn(ot,"width",hn),pn(ot,"height",xn)},to=ot=>{let hn,xn,hs,ao,pr;hn=ot.screenX-B,xn=ot.screenY-F,pe=hn*T[2]+G,he=xn*T[3]+Y,pe=pe<5?5:pe,he=he<5?5:he,(ut(d)||Oe(d))&&Rp(n)!==!1?hs=!dt.modifierPressed(ot):hs=dt.modifierPressed(ot),hs&&(vw(hn)>vw(xn)?(he=Wp(pe*se),pe=Wp(he/se)):(pe=Wp(he/se),he=Wp(pe*se))),Vn(p,pe,he),ao=T.startPos.x+hn,pr=T.startPos.y+xn,ao=ao>0?ao:0,pr=pr>0?pr:0,o.setStyles(y,{left:ao,top:pr,display:"block"}),y.innerHTML=pe+" &times; "+he,T[2]<0&&p.clientWidth<=pe&&o.setStyle(p,"left",W+(G-pe)),T[3]<0&&p.clientHeight<=he&&o.setStyle(p,"top",K+(Y-he)),hn=l.scrollWidth-$e,xn=l.scrollHeight-Ge,hn+xn!==0&&o.setStyles(y,{left:ao-hn,top:pr-xn}),le||(O4(n,d,G,Y,"corner-"+T.name),le=!0)},ts=()=>{const ot=le;le=!1,ot&&(pn(d,"width",pe),pn(d,"height",he)),o.unbind(r,"mousemove",to),o.unbind(r,"mouseup",ts),a!==r&&(o.unbind(a,"mousemove",to),o.unbind(a,"mouseup",ts)),o.remove(p),o.remove(y),o.remove(N),mr(d),ot&&(ID(n,d,pe,he,"corner-"+T.name),o.setAttrib(d,"style",o.getAttrib(d,"style"))),n.nodeChanged()},mr=ot=>{ct();const hn=o.getPos(ot,l),xn=hn.x,hs=hn.y,ao=ot.getBoundingClientRect(),pr=ao.width||ao.right-ao.left,vi=ao.height||ao.bottom-ao.top;d!==ot&&(et(),d=ot,pe=he=0);const fl=n.dispatch("ObjectSelected",{target:ot});kt(ot)&&!fl.isDefaultPrevented()?at(h1,(Mr,ma)=>{const Xa=xi=>{const Tt=mt(d)[0];B=xi.screenX,F=xi.screenY,G=Tt.clientWidth,Y=Tt.clientHeight,se=Y/G,T=Mr,T.name=ma,T.startPos={x:pr*Mr[0]+xn,y:vi*Mr[1]+hs},$e=l.scrollWidth,Ge=l.scrollHeight,N=o.add(l,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(N,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),p=mn(o,d),o.addClass(p,"mce-clonedresizable"),o.setAttrib(p,"data-mce-bogus","all"),p.contentEditable="false",o.setStyles(p,{left:xn,top:hs,margin:0}),Vn(p,pr,vi),p.removeAttribute(ld),l.appendChild(p),o.bind(r,"mousemove",to),o.bind(r,"mouseup",ts),a!==r&&(o.bind(a,"mousemove",to),o.bind(a,"mouseup",ts)),y=o.add(l,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},G+" &times; "+Y)};let Er=o.get("mceResizeHandle"+ma);Er&&o.remove(Er),Er=o.add(l,"div",{id:"mceResizeHandle"+ma,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+ma+"-resize; margin:0; padding:0"}),o.bind(Er,"mousedown",xi=>{xi.stopImmediatePropagation(),xi.preventDefault(),Xa(xi)}),Mr.elm=Er,o.setStyles(Er,{left:pr*Mr[0]+xn-Er.offsetWidth/2,top:vi*Mr[1]+hs-Er.offsetHeight/2})}):et(!1)},ss=wp(mr,0),et=(ot=!0)=>{ss.cancel(),ct(),d&&ot&&d.removeAttribute(ld),at(h1,(hn,xn)=>{const hs=o.get("mceResizeHandle"+xn);hs&&(o.unbind(hs),o.remove(hs))})},_t=(ot,hn)=>o.isChildOf(ot,hn),In=ot=>{if(le||n.removed||n.composing)return;const hn=ot.type==="mousedown"?ot.target:e.getNode(),xn=Uu(ee.fromDom(hn),HD).map(ao=>ao.dom).filter(ao=>o.isEditable(ao.parentElement)||ao.nodeName==="IMG"&&o.isEditable(ao)).getOrUndefined(),hs=Je(xn)?o.getAttrib(xn,ld,"1"):"1";if(De(o.select(`img[${ld}],hr[${ld}]`),ao=>{ao.removeAttribute(ld)}),Je(xn)&&_t(xn,l)&&n.hasFocus()){Ft();const ao=e.getStart(!0);if(_t(ao,xn)&&_t(e.getEnd(!0),xn)){o.setAttrib(xn,ld,hs),ss.throttle(xn);return}}et()},ct=()=>{at(h1,ot=>{ot.elm&&(o.unbind(ot.elm),delete ot.elm)})},Ft=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{Ft(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",In),n.on("keyup compositionend",ot=>{d&&d.nodeName==="TABLE"&&In(ot)}),n.on("hide blur",et),n.on("contextmenu longpress",He,!0)}),n.on("remove",ct),{isResizable:kt,showResizeRect:mr,hideResizeRect:et,updateResizeRect:In,destroy:()=>{ss.cancel(),d=p=N=null}}},N4=(e,n)=>{n.fold(o=>{e.setStartBefore(o.dom)},(o,r)=>{e.setStart(o.dom,r)},o=>{e.setStartAfter(o.dom)})},zD=(e,n)=>{n.fold(o=>{e.setEndBefore(o.dom)},(o,r)=>{e.setEnd(o.dom,r)},o=>{e.setEndAfter(o.dom)})},VD=(e,n,o)=>{const r=e.document.createRange();return N4(r,n),zD(r,o),r},Qg=(e,n,o,r,a)=>{const l=e.document.createRange();return l.setStart(n.dom,o),l.setEnd(r.dom,a),l},eb=hc.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Cw=(e,n,o)=>n(ee.fromDom(o.startContainer),o.startOffset,ee.fromDom(o.endContainer),o.endOffset),P4=(e,n)=>n.match({domRange:o=>({ltr:it(o),rtl:$.none}),relative:(o,r)=>({ltr:Vi(()=>VD(e,o,r)),rtl:Vi(()=>$.some(VD(e,r,o)))}),exact:(o,r,a,l)=>({ltr:Vi(()=>Qg(e,o,r,a,l)),rtl:Vi(()=>$.some(Qg(e,a,l,o,r)))})}),M4=(e,n)=>{const o=n.ltr();return o.collapsed?n.rtl().filter(a=>a.collapsed===!1).map(a=>eb.rtl(ee.fromDom(a.endContainer),a.endOffset,ee.fromDom(a.startContainer),a.startOffset)).getOrThunk(()=>Cw(e,eb.ltr,o)):Cw(e,eb.ltr,o)},I4=(e,n)=>{const o=P4(e,n);return M4(e,o)};eb.ltr,eb.rtl;const Rr={create:(e,n,o,r)=>({start:e,soffset:n,finish:o,foffset:r})},Gp=(e,n,o)=>{var r;return $.from((r=e.caretPositionFromPoint)===null||r===void 0?void 0:r.call(e,n,o)).bind(a=>{if(a.offsetNode===null)return $.none();const l=e.createRange();return l.setStart(a.offsetNode,a.offset),l.collapse(),$.some(l)})},oK=(e,n,o)=>{var r;return $.from((r=e.caretRangeFromPoint)===null||r===void 0?void 0:r.call(e,n,o))},B4=(e,n,o)=>e.caretPositionFromPoint?Gp(e,n,o):e.caretRangeFromPoint?oK(e,n,o):$.none(),F4=(e,n,o)=>{const r=e.document;return B4(r,n,o).map(a=>Rr.create(ee.fromDom(a.startContainer),a.startOffset,ee.fromDom(a.endContainer),a.endOffset))},_n=hc.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),L4=(e,n,o,r)=>e.fold(n,o,r),WD=e=>e.fold(jo,jo,jo),Sw=_n.before,$4=_n.on,j4=_n.after,mu={before:Sw,on:$4,after:j4,cata:L4,getStart:WD},g1=hc.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),H4=e=>g1.exact(e.start,e.soffset,e.finish,e.foffset),U4=e=>e.match({domRange:n=>ee.fromDom(n.startContainer),relative:(n,o)=>mu.getStart(n),exact:(n,o,r,a)=>n}),ww=g1.domRange,Ew=g1.relative,GD=g1.exact,sK=e=>{const n=U4(e);return Xn(n)},z4=Rr.create,tb={domRange:ww,relative:Ew,exact:GD,exactFromRange:H4,getWin:sK,range:z4},Tw=(e,n)=>{const o=gn(e);return o==="input"?mu.after(e):en(["br","img"],o)?n===0?mu.before(e):mu.after(e):mu.on(e,n)},V4=(e,n)=>{const o=e.fold(mu.before,Tw,mu.after),r=n.fold(mu.before,Tw,mu.after);return tb.relative(o,r)},qD=(e,n,o,r)=>{const a=Tw(e,n),l=Tw(o,r);return tb.relative(a,l)},Ut=e=>e.match({domRange:n=>{const o=ee.fromDom(n.startContainer),r=ee.fromDom(n.endContainer);return qD(o,n.startOffset,r,n.endOffset)},relative:V4,exact:qD}),b1=(e,n)=>{const r=document.createDocumentFragment();return De(e,a=>{r.appendChild(a.dom)}),ee.fromDom(r)},W4=e=>{const n=tb.getWin(e).dom,o=(a,l,d,p)=>Qg(n,a,l,d,p),r=Ut(e);return I4(n,r).match({ltr:o,rtl:o})},G4=(e,n,o)=>F4(e,n,o),qp=(e,n,o)=>{const r=Xn(ee.fromDom(o));return G4(r.dom,e,n).map(a=>{const l=o.createRange();return l.setStart(a.start.dom,a.soffset),l.setEnd(a.finish.dom,a.foffset),l}).getOrUndefined()},_w=(e,n)=>Je(e)&&Je(n)&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset,q4=(e,n,o)=>{let r=e;for(;r&&r!==n;){if(o(r))return r;r=r.parentNode}return null},KD=(e,n,o)=>q4(e,n,o)!==null,K4=(e,n,o)=>KD(e,n,r=>r.nodeName===o),Aw=(e,n)=>Da(e)&&!KD(e,n,Na),YD=(e,n,o)=>{const r=n.parentNode;if(r){const a=new ir(n,e.getParent(r,e.isBlock)||e.getRoot());let l;for(;l=a[o?"prev":"next"]();)if(Gn(l))return!0}return!1},Y4=(e,n)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===n},XD=(e,n)=>{let o=n;for(;o&&o!==e;){if(qn(o))return!0;o=o.parentNode}return!1},y1=(e,n,o,r,a)=>{const l=e.getRoot(),d=e.schema.getNonEmptyElements(),p=a.parentNode;let y,T;if(!p)return $.none();const N=e.getParent(p,e.isBlock)||l;if(r&&Gn(a)&&n&&e.isEmpty(N))return $.some(ke(p,e.nodeIndex(a)));const B=new ir(a,N);for(;T=B[r?"prev":"next"]();){if(e.getContentEditableParent(T)==="false"||Aw(T,l))return $.none();if(Ve(T)&&T.data.length>0)return K4(T,l,"A")?$.none():$.some(ke(T,r?T.data.length:0));if(e.isBlock(T)||d[T.nodeName.toLowerCase()])return $.none();y=T}return qs(y)?$.none():o&&y?$.some(ke(y,0)):$.none()},kw=(e,n,o,r)=>{const a=e.getRoot();let l,d=!1,p=o?r.startContainer:r.endContainer,y=o?r.startOffset:r.endOffset;const T=lt(p)&&y===p.childNodes.length,N=e.schema.getNonEmptyElements();let B=o;if(Da(p))return $.none();if(lt(p)&&y>p.childNodes.length-1&&(B=!1),lp(p)&&(p=a,y=0),p===a){if(B&&(l=p.childNodes[y>0?y-1:0],l&&(Da(l)||N[l.nodeName]||Uc(l))))return $.none();if(p.hasChildNodes()){if(y=Math.min(!B&&y>0?y-1:y,p.childNodes.length-1),p=p.childNodes[y],y=Ve(p)&&T?p.data.length:0,!n&&p===a.lastChild&&Uc(p)||XD(a,p)||Da(p)||KC(p))return $.none();if(p.hasChildNodes()&&!Uc(p)){l=p;const F=new ir(p,a);do{if(qn(l)||Da(l)){d=!1;break}if(Ve(l)&&l.data.length>0){y=B?0:l.data.length,p=l,d=!0;break}if(N[l.nodeName.toLowerCase()]&&!Fs(l)){y=e.nodeIndex(l),p=l.parentNode,B||y++,d=!0;break}}while(l=B?F.next():F.prev())}}}return n&&(Ve(p)&&y===0&&y1(e,T,n,!0,p).each(F=>{p=F.container(),y=F.offset(),d=!0}),lt(p)&&(l=p.childNodes[y],l||(l=p.childNodes[y-1]),l&&Gn(l)&&!Y4(l,"A")&&!YD(e,l,!1)&&!YD(e,l,!0)&&y1(e,T,n,!0,l).each(F=>{p=F.container(),y=F.offset(),d=!0}))),B&&!n&&Ve(p)&&y===p.data.length&&y1(e,T,n,!1,p).each(F=>{p=F.container(),y=F.offset(),d=!0}),d&&p?$.some(ke(p,y)):$.none()},v1=(e,n)=>{const o=n.collapsed,r=n.cloneRange(),a=ke.fromRangeStart(n);return kw(e,o,!0,r).each(l=>{(!o||!ke.isAbove(a,l))&&r.setStart(l.container(),l.offset())}),o||kw(e,o,!1,r).each(l=>{r.setEnd(l.container(),l.offset())}),o&&r.collapse(!0),_w(n,r)?$.none():$.some(r)},x1=(e,n)=>e.splitText(n),nb=e=>{let n=e.startContainer,o=e.startOffset,r=e.endContainer,a=e.endOffset;if(n===r&&Ve(n)){if(o>0&&o<n.data.length)if(r=x1(n,o),n=r.previousSibling,a>o){a=a-o;const l=x1(r,a).previousSibling;n=r=l,a=l.data.length,o=0}else a=0}else if(Ve(n)&&o>0&&o<n.data.length&&(n=x1(n,o),o=0),Ve(r)&&a>0&&a<r.data.length){const l=x1(r,a).previousSibling;r=l,a=l.data.length}return{startContainer:n,startOffset:o,endContainer:r,endOffset:a}},Hf=e=>({walk:(l,d)=>Vp(e,l,d),split:nb,expand:(l,d={type:"word"})=>{if(d.type==="word"){const p=$f(e,l,[{inline:"span"}]),y=e.createRng();return y.setStart(p.startContainer,p.startOffset),y.setEnd(p.endContainer,p.endOffset),y}return l},normalize:l=>v1(e,l).fold(We,d=>(l.setStart(d.startContainer,d.startOffset),l.setEnd(d.endContainer,d.endOffset),!0))});Hf.compareRanges=_w,Hf.getCaretRangeFromPoint=qp,Hf.getSelectedNode=Mv,Hf.getNode=uu;const zn=((e,n)=>{const o=(p,y)=>{if(!$n(y)&&!y.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+y);const T=p.dom;ag(T)&&(T.style[e]=y+"px")},r=p=>{const y=n(p);if(y<=0||y===null){const T=Ws(p,e);return parseFloat(T)||0}return y},a=r,l=(p,y)=>ls(y,(T,N)=>{const B=Ws(p,N),F=B===void 0?0:parseInt(B,10);return isNaN(F)?T:T+F},0);return{set:o,get:r,getOuter:a,aggregate:l,max:(p,y,T)=>{const N=l(p,T);return y>N?y-N:0}}})("height",e=>{const n=e.dom;return op(e)?n.getBoundingClientRect().height:n.offsetHeight}),X4=e=>zn.get(e),Bl=()=>ee.fromDom(document),Jc=(e,n)=>e.view(n).fold(it([]),r=>{const a=e.owner(r),l=Jc(e,a);return[r].concat(l)}),C1=(e,n)=>{const o=n.owner(e);return Jc(n,o)};var ob=Object.freeze({__proto__:null,view:e=>{var n;return(e.dom===document?$.none():$.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(ee.fromDom)},owner:e=>tn(e)});const S1=e=>{const n=Bl(),o=rf(n),r=C1(e,ob),a=HC(e),l=Du(r,(d,p)=>{const y=HC(p);return{left:d.left+y.left,top:d.top+y.top}},{left:0,top:0});return lg(l.left+a.left+o.left,l.top+a.top+o.top)},ud=e=>gn(e)==="textarea",J4=(e,n)=>e.dispatch("ScrollIntoView",n).isDefaultPrevented(),Z4=(e,n)=>{e.dispatch("AfterScrollIntoView",n)},Q4=(e,n)=>{const o=Vo(e);if(o.length===0||ud(e))return{element:e,offset:n};if(n<o.length&&!ud(o[n]))return{element:o[n],offset:0};{const r=o[o.length-1];return ud(r)?{element:e,offset:n}:gn(r)==="img"?{element:r,offset:1}:zs(r)?{element:r,offset:_p(r).length}:{element:r,offset:Vo(r).length}}},JD=(e,n)=>{const o=jC(e),r=X4(e);return{element:e,bottom:o.top+r,height:r,pos:o,cleanup:n}},Pn=(e,n)=>{const o=Q4(e,n),r=ee.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Zs+"</span>");return Di(o.element,r),JD(r,()=>Ro(r))},Zc=e=>JD(ee.fromDom(e),Ot),dd=(e,n,o,r)=>{ej(e,(a,l)=>sb(e,n,o,r),o)},ZD=(e,n,o,r,a)=>{const l={elm:r.element.dom,alignToTop:a};if(J4(e,l))return;const d=rf(n).top;o(e,n,d,r,a),Z4(e,l)},sb=(e,n,o,r)=>{const a=ee.fromDom(e.getBody()),l=ee.fromDom(e.getDoc());Q$(a);const d=Pn(ee.fromDom(o.startContainer),o.startOffset);ZD(e,l,n,d,r),d.cleanup()},Mn=(e,n,o,r)=>{const a=ee.fromDom(e.getDoc());ZD(e,a,o,Zc(n),r)},ej=(e,n,o)=>{const r=o.startContainer,a=o.startOffset,l=o.endContainer,d=o.endOffset;n(ee.fromDom(r),ee.fromDom(l));const p=e.dom.createRng();p.setStart(r,a),p.setEnd(l,d),e.selection.setRng(o)},w1=(e,n,o,r,a)=>{const l=n.pos;if(r)ak(l.left,l.top,a);else{const d=l.top-o+n.height;ak(-e.getBody().getBoundingClientRect().left,d,a)}},E1=(e,n,o,r,a,l)=>{const d=r+o,p=a.pos.top,y=a.bottom,T=y-p>=r;p<o?w1(e,a,r,l!==!1,n):p>d?w1(e,a,r,T?l!==!1:l===!0,n):y>d&&!T&&w1(e,a,r,l===!0,n)},QD=(e,n,o,r,a)=>{const l=Xn(n).dom.innerHeight;E1(e,n,o,l,r,a)},fd=(e,n,o,r,a)=>{const l=Xn(n).dom.innerHeight;E1(e,n,o,l,r,a);const d=S1(r.element),p=uk(window);d.top<p.y?ck(r.element,a!==!1):d.top>p.bottom&&ck(r.element,a===!0)},Uf=(e,n,o)=>dd(e,QD,n,o),eR=(e,n,o)=>Mn(e,n,QD,o),tj=(e,n,o)=>dd(e,fd,n,o),nj=(e,n,o)=>Mn(e,n,fd,o),oj=(e,n,o)=>{(e.inline?eR:nj)(e,n,o)},pu=(e,n,o)=>{(e.inline?Uf:tj)(e,n,o)},zf=(e,n=!1)=>e.dom.focus({preventScroll:n}),tR=e=>{const n=xl(e).dom;return e.dom===n.activeElement},T1=(e=Bl())=>$.from(e.dom.activeElement).map(ee.fromDom),sj=e=>T1(xl(e)).filter(n=>e.dom.contains(n.dom)),nR=(e,n)=>{const o=zs(n)?_p(n).length:Vo(n).length+1;return e>o?o:e<0?0:e},rj=e=>tb.range(e.start,nR(e.soffset,e.start),e.finish,nR(e.foffset,e.finish)),Dw=(e,n)=>!af(n.dom)&&(wt(e,n)||Ne(e,n)),ij=e=>n=>Dw(e,n.start)&&Dw(e,n.finish),aj=e=>e.inline||an.browser.isFirefox(),oR=e=>tb.range(ee.fromDom(e.startContainer),e.startOffset,ee.fromDom(e.endContainer),e.endOffset),Rw=e=>{const n=e.getSelection();return(!n||n.rangeCount===0?$.none():$.from(n.getRangeAt(0))).map(oR)},Nw=e=>{const n=Xn(e);return Rw(n.dom).filter(ij(e))},Pw=(e,n)=>$.from(n).filter(ij(e)).map(rj),sR=e=>{const n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),$.some(n)}catch{return $.none()}},rb=e=>{const n=aj(e)?Nw(ee.fromDom(e.getBody())):$.none();e.bookmark=n.isSome()?n:e.bookmark},_1=e=>(e.bookmark?e.bookmark:$.none()).bind(o=>Pw(ee.fromDom(e.getBody()),o)).bind(sR),A1=e=>{_1(e).each(n=>e.selection.setRng(n))},Mw={isEditorUIElement:e=>{const n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},cj=(e,n)=>($n(n)||(n=0),setTimeout(e,n)),rR=(e,n)=>($n(n)||(n=0),setInterval(e,n)),sa={setEditorTimeout:(e,n,o)=>cj(()=>{e.removed||n()},o),setEditorInterval:(e,n,o)=>{const r=rR(()=>{e.removed?clearInterval(r):n()},o);return r}},iR=e=>e.type==="nodechange"&&e.selectionChange,aR=(e,n)=>{const o=()=>{n.throttle()};yo.DOM.bind(document,"mouseup",o),e.on("remove",()=>{yo.DOM.unbind(document,"mouseup",o)})},cR=(e,n)=>{e.on("mouseup touchend",o=>{n.throttle()})},lj=(e,n)=>{cR(e,n),e.on("keyup NodeChange AfterSetSelectionRange",o=>{iR(o)||rb(e)})},uj=e=>{const n=wp(()=>{rb(e)},0);e.on("init",()=>{e.inline&&aR(e,n),lj(e,n)}),e.on("remove",()=>{n.cancel()})};let Kp;const Iw=yo.DOM,dj=e=>lt(e)&&Mw.isEditorUIElement(e),Bw=e=>{const n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},k1=(e,n)=>{const o=E5(e);return Iw.getParent(n,a=>dj(a)||(o?e.dom.is(a,o):!1))!==null},Fw=e=>{try{const n=xl(ee.fromDom(e.getElement()));return T1(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},O1=(e,n)=>{const o=n.editor;uj(o);const r=(a,l)=>{if(LS(a)&&a.inline!==!0){const d=ee.fromDom(a.getContainer());l(d,"tox-edit-focus")}};o.on("focusin",()=>{const a=e.focusedEditor;Bw(Fw(o))&&r(o,yl),a!==o&&(a&&a.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:a}),o.focus(!0))}),o.on("focusout",()=>{sa.setEditorTimeout(o,()=>{const a=e.focusedEditor;(!Bw(Fw(o))||a!==o)&&r(o,$c),!k1(o,Fw(o))&&a===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Kp||(Kp=a=>{const l=e.activeEditor;l&&ok(a).each(d=>{const p=d;p.ownerDocument===document&&p!==document.body&&!k1(l,p)&&e.focusedEditor===l&&(l.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},Iw.bind(document,"focusin",Kp))},lR=(e,n)=>{e.focusedEditor===n.editor&&(e.focusedEditor=null),!e.activeEditor&&Kp&&(Iw.unbind(document,"focusin",Kp),Kp=null)},fj=e=>{e.on("AddEditor",bt(O1,e)),e.on("RemoveEditor",bt(lR,e))},uR=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="true"),dR=(e,n)=>e.dom.getParent(n,o=>e.dom.getContentEditable(o)==="false")!==null,mj=e=>e.collapsed?$.from(uu(e.startContainer,e.startOffset)).map(ee.fromDom):$.none(),pj=(e,n)=>mj(n).bind(o=>F3(o)?$.some(o):wt(e,o)?$.none():$.some(e)),fR=(e,n)=>{pj(ee.fromDom(e.getBody()),n).bind(o=>Vr(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},D1=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},hj=e=>tR(e)||sj(e).isSome(),mR=e=>Je(e.iframeElement)&&tR(ee.fromDom(e.iframeElement)),pR=e=>{const n=e.getBody();return n&&hj(ee.fromDom(n))},R1=e=>{const n=xl(ee.fromDom(e.getElement()));return T1(n).filter(o=>!Bw(o.dom)&&k1(e,o.dom)).isSome()},Yp=e=>e.inline?pR(e):mR(e),hR=e=>Yp(e)||R1(e),Lw=e=>{const n=e.selection,o=e.getBody();let r=n.getRng();e.quirks.refreshContentEditable();const a=d=>{_1(d).each(p=>{d.selection.setRng(p),r=p})};!Yp(e)&&e.hasEditableRoot()&&a(e);const l=uR(e,n.getNode());if(l&&e.dom.isChildOf(l,o)){dR(e,l)||D1(o),D1(l),e.hasEditableRoot()||a(e),fR(e,r),$w(e);return}e.inline||(an.browser.isOpera()||D1(o),e.getWin().focus()),(an.browser.isFirefox()||e.inline)&&(D1(o),fR(e,r)),$w(e)},$w=e=>e.editorManager.setActive(e),gR=(e,n)=>{e.removed||(n?$w(e):Lw(e))},jw=(e,n)=>n.collapsed?e.isEditable(n.startContainer):e.isEditable(n.startContainer)&&e.isEditable(n.endContainer),Hw=(e,n,o,r,a)=>{const l=o?n.startContainer:n.endContainer,d=o?n.startOffset:n.endOffset;return $.from(l).map(ee.fromDom).map(p=>!r||!n.collapsed?rr(p,a(p,d)).getOr(p):p).bind(p=>xs(p)?$.some(p):dn(p).filter(xs)).map(p=>p.dom).getOr(e)},bR=(e,n,o=!1)=>Hw(e,n,!0,o,(r,a)=>Math.min(RC(r),a)),yR=(e,n,o=!1)=>Hw(e,n,!1,o,(r,a)=>a>0?a-1:a),vR=(e,n)=>{const o=e;for(;e&&Ve(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},gj=(e,n)=>{if(!n)return e;let o=n.startContainer,r=n.endContainer;const a=n.startOffset,l=n.endOffset;let d=n.commonAncestorContainer;n.collapsed||(o===r&&l-a<2&&o.hasChildNodes()&&(d=o.childNodes[a]),Ve(o)&&Ve(r)&&(o.length===a?o=vR(o.nextSibling,!0):o=o.parentNode,l===0?r=vR(r.previousSibling,!1):r=r.parentNode,o&&o===r&&(d=o)));const p=Ve(d)?d.parentNode:d;return lc(p)?p:e},N1=(e,n,o,r)=>{const a=[],l=e.getRoot(),d=e.getParent(o||bR(l,n,n.collapsed),e.isBlock),p=e.getParent(r||yR(l,n,n.collapsed),e.isBlock);if(d&&d!==l&&a.push(d),d&&p&&d!==p){let y;const T=new ir(d,l);for(;(y=T.next())&&y!==p;)e.isBlock(y)&&a.push(y)}return p&&d!==p&&p!==l&&a.push(p),a},xR=(e,n,o)=>$.from(n).bind(r=>$.from(r.parentNode).map(a=>{const l=e.nodeIndex(r),d=e.createRng();return d.setStart(a,l),d.setEnd(a,l+1),o&&(vD(e,d,r,!0),vD(e,d,r,!1)),d})),P1=(e,n)=>on(n,o=>{const r=e.dispatch("GetSelectionRange",{range:o});return r.range!==o?r.range:o}),CR={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},ib=(e,n,o)=>{const r=o?"lastChild":"firstChild",a=o?"prev":"next";if(e[r])return e[r];if(e!==n){let l=e[a];if(l)return l;for(let d=e.parent;d&&d!==n;d=d.parent)if(l=d[a],l)return l}},bj=e=>{var n;const o=(n=e.value)!==null&&n!==void 0?n:"";if(!Aa(o))return!1;const r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(o))},SR=e=>{const n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n};class Jr{static create(n,o){const r=new Jr(n,CR[n]||1);return o&&at(o,(a,l)=>{r.attr(l,a)}),r}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const r=this;if(!te(n))return Je(n)&&at(n,(l,d)=>{r.attr(d,l)}),r;const a=r.attributes;if(a){if(o!==void 0){if(o===null){if(n in a.map){delete a.map[n];let l=a.length;for(;l--;)if(a[l].name===n)return a.splice(l,1),r}return r}if(n in a.map){let l=a.length;for(;l--;)if(a[l].name===n){a[l].value=o;break}}else a.push({name:n,value:o});return a.map[n]=o,r}return a.map[n]}}clone(){const n=this,o=new Jr(n.name,n.type),r=n.attributes;if(r){const a=[];a.map={};for(let l=0,d=r.length;l<d;l++){const p=r[l];p.name!=="id"&&(a[a.length]={name:p.name,value:p.value},a.map[p.name]=p.value)}o.attributes=a}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const r=o.next;n.insert(o,n,!0),o=r}n.remove()}remove(){const n=this,o=n.parent,r=n.next,a=n.prev;return o&&(o.firstChild===n?(o.firstChild=r,r&&(r.prev=null)):a&&(a.next=r),o.lastChild===n?(o.lastChild=a,a&&(a.next=null)):r&&(r.prev=a),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const r=o.lastChild;return r?(r.next=n,n.prev=r,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,r){n.parent&&n.remove();const a=o.parent||this;return r?(o===a.firstChild?a.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===a.lastChild?a.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=a,n}getAll(n){const o=this,r=[];for(let a=o.firstChild;a;a=ib(a,o))a.name===n&&r.push(a);return r}children(){const n=this,o=[];for(let r=n.firstChild;r;r=r.next)o.push(r);return o}empty(){const n=this;if(n.firstChild){const o=[];for(let a=n.firstChild;a;a=ib(a,n))o.push(a);let r=o.length;for(;r--;){const a=o[r];a.parent=a.firstChild=a.lastChild=a.next=a.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},r){var a;const l=this;let d=l.firstChild;if(SR(l))return!1;if(d)do{if(d.type===1){if(d.attr("data-mce-bogus"))continue;if(n[d.name]||SR(d))return!1}if(d.type===8||d.type===3&&!bj(d)||d.type===3&&d.parent&&o[d.parent.name]&&Aa((a=d.value)!==null&&a!==void 0?a:"")||r&&r(d))return!1}while(d=ib(d,l));return!0}walk(n){return ib(this,null,n)}}const yj=k.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),wR=e=>te(e.nodeValue)&&e.nodeValue.includes(Zs),ER=e=>`${e.length===0?"":`${on(e,n=>`[${n}]`).join(",")},`}[data-mce-bogus="all"]`,vj=(e,n)=>n.querySelectorAll(ER(e)),TR=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,n=>wR(n)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),_R=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,n=>{if(wR(n)){const o=n.parentNode;return o&&Lt(yj,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),xj=e=>TR(e).nextNode()!==null,Cj=e=>_R(e).nextNode()!==null,Sj=(e,n)=>n.querySelector(ER(e))!==null,M1=(e,n)=>{De(vj(e,n),o=>{const r=ee.fromDom(o);As(r,"data-mce-bogus")==="all"?Ro(r):De(e,a=>{Oi(r,a)&&sr(r,a)})})},Uw=e=>{let n=e.nextNode();for(;n!==null;)n.nodeValue=null,n=e.nextNode()},AR=D(Uw,TR),wj=D(Uw,_R),kR=(e,n)=>{const o=[{condition:bt(Sj,n),action:bt(M1,n)},{condition:xj,action:AR},{condition:Cj,action:wj}];let r=e,a=!1;return De(o,({condition:l,action:d})=>{l(r)&&(a||(r=e.cloneNode(!0),a=!0),d(r))}),r},OR=e=>{const n=fi(e,"[data-mce-bogus]");De(n,o=>{As(o,"data-mce-bogus")==="all"?Ro(o):cu(o)?(Di(o,ee.fromText(dg)),Ro(o)):Vu(o)})},DR=e=>{const n=fi(e,"input");De(n,o=>{sr(o,"name")})},Ej=(e,n)=>{const o=Cr(e),r=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s|Â |<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(r,"")},Tj=(e,n)=>{const o=e.getDoc(),r=xl(ee.fromDom(e.getBody())),a=ee.fromTag("div",o);_s(a,"data-mce-bogus","all"),bn(a,{position:"fixed",left:"-9999999px",top:"0"}),cg(a,n.innerHTML),OR(a),DR(a);const l=X$(r);Gs(l,a);const d=Qi(a.dom.innerText);return Ro(a),d},RR=(e,n,o)=>{let r;return n.format==="raw"?r=k.trim(Qi(kR(o,e.serializer.getTempAttrs()).innerHTML)):n.format==="text"?r=Tj(e,o):n.format==="tree"?r=e.serializer.serialize(o,n):r=Ej(e,e.serializer.serialize(o,n)),n.format!=="text"&&!Rv(ee.fromDom(o))&&te(r)?k.trim(r):r},_j=(e,n)=>$.from(e.getBody()).fold(it(n.format==="tree"?new Jr("body",11):""),o=>RR(e,n,o)),zw=k.makeMap,Vw=e=>{const n=[];e=e||{};const o=e.indent,r=zw(e.indent_before||""),a=zw(e.indent_after||""),l=mf.getEncodeFunc(e.entity_encoding||"raw",e.entities),d=e.element_format!=="xhtml";return{start:(p,y,T)=>{if(o&&r[p]&&n.length>0){const N=n[n.length-1];N.length>0&&N!==`
`&&n.push(`
`)}if(n.push("<",p),y)for(let N=0,B=y.length;N<B;N++){const F=y[N];n.push(" ",F.name,'="',l(F.value,!0),'"')}if(!T||d?n[n.length]=">":n[n.length]=" />",T&&o&&a[p]&&n.length>0){const N=n[n.length-1];N.length>0&&N!==`
`&&n.push(`
`)}},end:p=>{let y;n.push("</",p,">"),o&&a[p]&&n.length>0&&(y=n[n.length-1],y.length>0&&y!==`
`&&n.push(`
`))},text:(p,y)=>{p.length>0&&(n[n.length]=y?p:l(p))},cdata:p=>{n.push("<![CDATA[",p,"]]>")},comment:p=>{n.push("<!--",p,"-->")},pi:(p,y)=>{y?n.push("<?",p," ",l(y),"?>"):n.push("<?",p,"?>"),o&&n.push(`
`)},doctype:p=>{n.push("<!DOCTYPE",p,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},md=(e={},n=no())=>{const o=Vw(e);return e.validate="validate"in e?e.validate:!0,{serialize:a=>{const l=e.validate,d={3:y=>{var T;o.text((T=y.value)!==null&&T!==void 0?T:"",y.raw)},8:y=>{var T;o.comment((T=y.value)!==null&&T!==void 0?T:"")},7:y=>{o.pi(y.name,y.value)},10:y=>{var T;o.doctype((T=y.value)!==null&&T!==void 0?T:"")},4:y=>{var T;o.cdata((T=y.value)!==null&&T!==void 0?T:"")},11:y=>{let T=y;if(T=T.firstChild)do p(T);while(T=T.next)}};o.reset();const p=y=>{var T;const N=d[y.type];if(N)N(y);else{const B=y.name,F=B in n.getVoidElements();let W=y.attributes;if(l&&W&&W.length>1){const K=[];K.map={};const G=n.getElementRule(y.name);if(G){for(let Y=0,se=G.attributesOrder.length;Y<se;Y++){const le=G.attributesOrder[Y];if(le in W.map){const pe=W.map[le];K.map[le]=pe,K.push({name:le,value:pe})}}for(let Y=0,se=W.length;Y<se;Y++){const le=W[Y].name;if(!(le in K.map)){const pe=W.map[le];K.map[le]=pe,K.push({name:le,value:pe})}}W=K}}if(o.start(B,W,F),Mo(B))te(y.value)&&o.text(y.value,!0),o.end(B);else if(!F){let K=y.firstChild;if(K){(B==="pre"||B==="textarea")&&K.type===3&&((T=K.value)===null||T===void 0?void 0:T[0])===`
`&&o.text(`
`,!0);do p(K);while(K=K.next)}o.end(B)}}};return a.type===1&&!e.inner?p(a):a.type===3?d[3](a):d[11](a),o.getContent()}}},NR=new Set;De(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],n=>{NR.add(n)});const PR=new Set;De(["background-color"],n=>{PR.add(n)});const MR=["font","text-decoration","text-emphasis"],Aj=(e,n)=>e.parseStyle(e.getAttrib(n,"style")),Xp=(e,n)=>hr(Aj(e,n)),kj=e=>NR.has(e),Oj=e=>PR.has(e),IR=(e,n)=>vo(Xp(e,n),o=>kj(o)),Dj=(e,n)=>IR(e,n)&&vo(Xp(e,n),o=>Oj(o)),Rj=e=>qt(e,n=>vo(MR,o=>ns(n,o))),Nj=(e,n,o)=>{const r=Xp(e,n),a=Xp(e,o),l=d=>{var p,y;const T=(p=e.getStyle(n,d))!==null&&p!==void 0?p:"",N=(y=e.getStyle(o,d))!==null&&y!==void 0?y:"";return ys(T)&&ys(N)&&T!==N};return vo(r,d=>{const p=y=>vo(y,T=>T===d);if(!p(a)&&p(MR)){const y=Rj(a);return vo(y,l)}else return l(d)})},BR=(e,n,o)=>$.from(o.container()).filter(Ve).exists(r=>{const a=e?0:-1;return n(r.data.charAt(o.offset()+a))}),Ww=bt(BR,!0,Bf),Gw=bt(BR,!1,Bf),Pj=e=>{const n=e.container();return Ve(n)&&(n.data.length===0||Nv(n.data)&&jf.isBookmarkNode(n.parentNode))},pd=(e,n)=>o=>WS(e?0:-1,o).filter(n).isSome(),FR=e=>rv(e)&&Ws(ee.fromDom(e),"display")==="block",LR=e=>qn(e)&&!fg(e),Rt=pd(!0,FR),$R=pd(!1,FR),Jp=pd(!0,Fr),ab=pd(!1,Fr),I1=pd(!0,Uc),qw=pd(!1,Uc),hd=pd(!0,LR),gd=pd(!1,LR),Mj=e=>e.slice(0,-1),Ij=(e,n,o)=>wt(n,e)?Mj(Wn(e,r=>o(r)||Ne(r,n))):[],cb=(e,n)=>Ij(e,n,We),Fl=(e,n)=>[e].concat(cb(e,n)),jR=(e,n,o)=>iD(e,n,o,Pj),Bj=e=>n=>e.isBlock(gn(n)),Xt=(e,n,o)=>Ho(Fl(ee.fromDom(n.container()),e),Bj(o)),HR=(e,n,o,r)=>jR(e,n.dom,o).forall(a=>Xt(n,o,r).fold(()=>!Yc(a,o,n.dom),l=>!Yc(a,o,n.dom)&&wt(l,ee.fromDom(a.container())))),sn=(e,n,o,r)=>Xt(n,o,r).fold(()=>jR(e,n.dom,o).forall(a=>!Yc(a,o,n.dom)),a=>jR(e,a.dom,o).isNone()),B1=bt(sn,!1),Fj=bt(sn,!0),aK=bt(HR,!1),Lj=bt(HR,!0),cK=e=>Lg(e).exists(cu),Kw=(e,n,o,r)=>{const a=qt(Fl(ee.fromDom(o.container()),n),d=>r.isBlock(gn(d))),l=us(a).getOr(n);return ta(e,l.dom,o).filter(cK)},Yw=(e,n,o)=>Lg(n).exists(cu)||Kw(!0,e,n,o).isSome(),F1=(e,n,o)=>u4(n).exists(cu)||Kw(!1,e,n,o).isSome(),zt=bt(Kw,!1),$j=bt(Kw,!0),UR=e=>ke.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),zR=(e,n,o)=>{const r=qt(Fl(ee.fromDom(n.container()),e),a=>o.isBlock(gn(a)));return us(r).getOr(e)},Zp=(e,n,o)=>UR(n)?Gw(n):Gw(n)||Pi(zR(e,n,o).dom,n).exists(Gw),Xw=(e,n,o)=>UR(n)?Ww(n):Ww(n)||hi(zR(e,n,o).dom,n).exists(Ww),jj=e=>en(["pre","pre-wrap"],e),Jw=e=>Lg(e).bind(n=>is(n,xs)).exists(n=>jj(Ws(n,"white-space"))),Hj=(e,n)=>Pi(e.dom,n).isNone(),VR=(e,n)=>hi(e.dom,n).isNone(),Uj=(e,n,o)=>Hj(e,n)||VR(e,n)||B1(e,n,o)||Fj(e,n,o)||F1(e,n,o)||Yw(e,n,o),lK=e=>Je(e)&&qn(e)&&qO(e),zj=(e,n)=>o=>lK(new ir(o,e)[n]()),Vj=(e,n)=>{const o=hi(e.dom,n).getOr(n),r=zj(e.dom,"next");return n.isAtEnd()&&(r(n.container())||r(o.container()))},Wj=(e,n)=>{const o=Pi(e.dom,n).getOr(n),r=zj(e.dom,"prev");return n.isAtStart()&&(r(n.container())||r(o.container()))},WR=(e,n,o)=>Jw(n)?!1:Uj(e,n,o)||Zp(e,n,o)||Xw(e,n,o),lb=(e,n,o)=>Jw(n)?!1:B1(e,n,o)||aK(e,n,o)||F1(e,n,o)||Zp(e,n,o)||Wj(e,n),GR=e=>{const n=e.container(),o=e.offset();return Ve(n)&&o<n.data.length?ke(n,o+1):e},ub=(e,n,o)=>Jw(n)?!1:Fj(e,n,o)||Lj(e,n,o)||Yw(e,n,o)||Xw(e,n,o)||Vj(e,n),un=(e,n,o)=>lb(e,n,o)||ub(e,GR(n),o),Zw=(e,n)=>Ug(e.charAt(n)),db=(e,n)=>Bf(e.charAt(n)),qR=e=>{const n=e.container();return Ve(n)&&Hs(n.data,Bs)},KR=e=>{const n=e.split("");return on(n,(o,r)=>Ug(o)&&r>0&&r<n.length-1&&r1(n[r-1])&&r1(n[r+1])?" ":o).join("")},Qw=(e,n,o,r)=>{const a=n.data,l=ke(n,0);return!o&&Zw(a,0)&&!un(e,l,r)?(n.data=" "+a.slice(1),!0):o&&db(a,0)&&lb(e,l,r)?(n.data=Bs+a.slice(1),!0):!1},YR=e=>{const n=e.data,o=KR(n);return o!==n?(e.data=o,!0):!1},e2=(e,n,o,r)=>{const a=n.data,l=ke(n,a.length-1);return!o&&Zw(a,a.length-1)&&!un(e,l,r)?(n.data=a.slice(0,-1)+" ",!0):o&&db(a,a.length-1)&&ub(e,l,r)?(n.data=a.slice(0,-1)+Bs,!0):!1},Gj=(e,n,o)=>{const r=n.container();if(!Ve(r))return $.none();if(qR(n)){const a=Qw(e,r,!1,o)||YR(r)||e2(e,r,!1,o);return ce(a,n)}else if(un(e,n,o)){const a=Qw(e,r,!0,o)||e2(e,r,!0,o);return ce(a,n)}else return $.none()},XR=e=>{const n=ee.fromDom(e.getBody());e.selection.isCollapsed()&&Gj(n,ke.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},JR=(e,n,o,r)=>{if(o===0)return;const a=ee.fromDom(e),l=Zo(a,T=>r.isBlock(gn(T))).getOr(a),d=e.data.slice(n,n+o),p=n+o>=e.data.length&&ub(l,ke(e,e.data.length),r),y=n===0&&lb(l,ke(e,0),r);e.replaceData(n,o,cc(d,4,y,p))},L1=(e,n,o)=>{const r=e.data.slice(n),a=r.length-Ql(r).length;JR(e,n,a,o)},t2=(e,n,o)=>{const r=e.data.slice(0,n),a=r.length-Qh(r).length;JR(e,n-a,a,o)},n2=(e,n,o,r,a=!0)=>{const l=Qh(e.data).length,d=a?e:n,p=a?n:e;return a?d.appendData(p.data):d.insertData(0,p.data),Ro(ee.fromDom(p)),r&&L1(d,l,o),d},qj=(e,n)=>{const o=e.container(),r=e.offset();return!ke.isTextPosition(e)&&o===n.parentNode&&r>ke.before(n).offset()},Kj=(e,n)=>qj(n,e)?ke(n.container(),n.offset()-1):n,Yj=e=>Ve(e)?ke(e,0):ke.before(e),Xj=e=>Ve(e)?ke(e,e.data.length):ke.after(e),$1=e=>fc(e.previousSibling)?$.some(Xj(e.previousSibling)):e.previousSibling?yc(e.previousSibling):$.none(),j1=e=>fc(e.nextSibling)?$.some(Yj(e.nextSibling)):e.nextSibling?Vr(e.nextSibling):$.none(),Jj=(e,n)=>$.from(n.previousSibling?n.previousSibling:n.parentNode).bind(o=>Pi(e,ke.before(o))).orThunk(()=>hi(e,ke.after(n))),Zj=(e,n)=>hi(e,ke.after(n)).orThunk(()=>Pi(e,ke.before(n))),Qj=(e,n)=>$1(n).orThunk(()=>j1(n)).orThunk(()=>Jj(e,n)),e6=(e,n)=>j1(n).orThunk(()=>$1(n)).orThunk(()=>Zj(e,n)),t6=(e,n,o)=>e?e6(n,o):Qj(n,o),n6=(e,n,o)=>t6(e,n,o).map(bt(Kj,o)),ZR=(e,n,o)=>{o.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),n)})},o6=e=>n=>n.dom===e,QR=(e,n)=>n&&Lt(e.schema.getBlockElements(),gn(n)),s6=(e,n,o)=>{if(Lr(e,n)){const r=ee.fromHtml('<br data-mce-bogus="1">');return o?De(Vo(n),a=>{fw(a)||Ro(a)}):sp(n),Gs(n,r),$.some(ke.before(r.dom))}else return $.none()},r6=(e,n,o,r)=>{const a=Co(e).filter(zs),l=zo(e).filter(zs);return Ro(e),me(a,l,n,(d,p,y)=>{const T=d.dom,N=p.dom,B=T.data.length;return n2(T,N,o,r),y.container()===N?ke(T,B):y}).orThunk(()=>(r&&(a.each(d=>t2(d.dom,d.dom.length,o)),l.each(d=>L1(d.dom,0,o))),n))},Vf=(e,n)=>Lt(e.schema.getTextInlineElements(),gn(n)),Wf=(e,n,o,r=!0,a=!1)=>{const l=n6(n,e.getBody(),o.dom),d=Zo(o,bt(QR,e),o6(e.getBody())),p=r6(o,l,e.schema,Vf(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):d.bind(y=>s6(e.schema,y,a)).fold(()=>{r&&ZR(e,n,p)},y=>{r&&ZR(e,n,$.some(y))})},eN=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,i6=e=>eN.test(e),Gf=(e,n)=>ne(ee.fromDom(n),Ra(e))&&!uf(e.schema,n)&&e.dom.isEditable(n),o2=e=>{var n;return yo.DOM.getStyle(e,"direction",!0)==="rtl"||i6((n=e.textContent)!==null&&n!==void 0?n:"")},tN=(e,n,o)=>qt(yo.DOM.getParents(o.container(),"*",n),e),hu=(e,n,o)=>{const r=tN(e,n,o);return $.from(r[r.length-1])},nN=(e,n,o)=>{const r=bc(n,e),a=bc(o,e);return Je(r)&&r===a},Zr=e=>Op(e)||lu(e),Fa=(e,n)=>{const o=n.container(),r=n.offset();return e?Dl(o)?Ve(o.nextSibling)?ke(o.nextSibling,0):ke.after(o):Op(n)?ke(o,r+1):n:Dl(o)?Ve(o.previousSibling)?ke(o.previousSibling,o.previousSibling.data.length):ke.before(o):lu(n)?ke(o,r-1):n},oN=bt(Fa,!0),sN=bt(Fa,!1),rN=(e,n)=>{const o=r=>r.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(n),e.off("beforeinput input",o)},a6=e=>{e.execCommand("delete")},Ll=e=>rN(e,"Delete"),iN=e=>rN(e,"ForwardDelete"),c6=e=>n=>P(dn(n),e,Ne),Fo=e=>Sf(e)||wf(e),qf=(e,n)=>wt(e,n)?is(n,Fo,c6(e)):$.none(),bd=(e,n=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!n})},aN=(e,n,o)=>V(Vr(o),yc(o),(r,a)=>{const l=Fa(!0,r),d=Fa(!1,a),p=Fa(!1,n);return e?hi(o,p).exists(y=>y.isEqual(d)&&n.isEqual(l)):Pi(o,p).exists(y=>y.isEqual(l)&&n.isEqual(d))}).getOr(!0),Kf=e=>(tf(e)?Co(e):rg(e)).bind(Kf).orThunk(()=>$.some(e)),ra=(e,n,o,r=!0)=>{var a;n.deleteContents();const l=Kf(o).getOr(o),d=ee.fromDom((a=e.dom.getParent(l.dom,e.dom.isBlock))!==null&&a!==void 0?a:o.dom);if(d.dom===e.getBody()?bd(e,r):Lr(e.schema,d,{checkRootAsContent:!1})&&(Ol(d),r&&e.selection.setCursorLocation(d.dom,0)),!Ne(o,d)){const p=P(dn(d),o)?[]:wn(d);De(p.concat(Vo(o)),y=>{!Ne(y,d)&&!wt(y,d)&&Lr(e.schema,y)&&Ro(y)})}},fb=e=>n=>Ne(e,n),so=e=>fi(e,"td,th"),Qp=(e,n)=>zg(ee.fromDom(e),n),cN=e=>V(e.startTable,e.endTable,(n,o)=>{const r=dk(n,l=>Ne(l,o)),a=dk(o,l=>Ne(l,n));return!r&&!a?e:{...e,startTable:r?$.none():e.startTable,endTable:a?$.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),lN=e=>cN(e),s2=(e,n)=>{const o=Qp(e.startContainer,n),r=Qp(e.endContainer,n),a=o.isSome(),l=r.isSome(),d=V(o,r,Ne).getOr(!1);return lN({startTable:o,endTable:r,isStartInTable:a,isEndInTable:l,isSameTable:d,isMultiTable:!d&&a&&l})},mb=(e,n)=>({start:e,end:n}),r2=(e,n,o)=>({rng:e,table:n,cells:o}),Yf=hc.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Xf=(e,n)=>Uu(ee.fromDom(e),"td,th",n),H1=e=>!Ne(e.start,e.end),i2=(e,n)=>zg(e.start,n).bind(o=>zg(e.end,n).bind(r=>ce(Ne(o,r),o))),uN=(e,n)=>!H1(e)&&i2(e,n).exists(o=>{const r=o.dom.rows;return r.length===1&&r[0].cells.length===1}),dN=(e,n)=>{const o=Xf(e.startContainer,n),r=Xf(e.endContainer,n);return V(o,r,mb)},fN=e=>n=>zg(n,e).bind(o=>oi(so(o)).map(r=>mb(n,r))),mN=e=>n=>zg(n,e).bind(o=>us(so(o)).map(r=>mb(r,n))),yd=e=>n=>i2(n,e).map(o=>r2(n,o,so(o))),a2=(e,n,o,r)=>{if(o.collapsed||!e.forall(H1))return $.none();if(n.isSameTable){const a=e.bind(yd(r));return $.some({start:a,end:a})}else{const a=Xf(o.startContainer,r),l=Xf(o.endContainer,r),d=a.bind(fN(r)).bind(yd(r)),p=l.bind(mN(r)).bind(yd(r));return $.some({start:d,end:p})}},U1=(e,n)=>Yt(e,o=>Ne(o,n)),c2=e=>V(U1(e.cells,e.rng.start),U1(e.cells,e.rng.end),(n,o)=>e.cells.slice(n,o+1)),l6=(e,n,o)=>e.exists(r=>uN(r,o)&&sw(r.start,n)),l2=(e,n)=>{const{startTable:o,endTable:r}=n,a=e.cloneRange();return o.each(l=>a.setStartAfter(l.dom)),r.each(l=>a.setEndBefore(l.dom)),a},pN=(e,n,o,r)=>a2(e,n,o,r).bind(({start:a,end:l})=>a.or(l)).bind(a=>{const{isSameTable:l}=n,d=c2(a).getOr([]);if(l&&a.cells.length===d.length)return $.some(Yf.fullTable(a.table));if(d.length>0){if(l)return $.some(Yf.partialTable(d,$.none()));{const p=l2(o,n);return $.some(Yf.partialTable(d,$.some({...n,rng:p})))}}else return $.none()}),hN=(e,n,o,r)=>a2(e,n,o,r).bind(({start:a,end:l})=>{const d=a.bind(c2).getOr([]),p=l.bind(c2).getOr([]);if(d.length>0&&p.length>0){const y=l2(o,n);return $.some(Yf.multiTable(d,p,y))}else return $.none()}),z1=(e,n)=>{const o=fb(e),r=dN(n,o),a=s2(n,o);return l6(r,n,o)?r.map(l=>Yf.singleCellTable(n,l.start)):a.isMultiTable?hN(r,a,n,o):pN(r,a,n,o)},u2=e=>De(e,n=>{sr(n,"contenteditable"),Ol(n)}),gN=(e,n)=>$.from(e.dom.getParent(n,e.dom.isBlock)).map(ee.fromDom),bN=(e,n,o)=>{o.each(r=>{n?Ro(r):(Ol(r),e.selection.setCursorLocation(r.dom,0))})},V1=(e,n,o,r)=>{const a=o.cloneRange();r?(a.setStart(o.startContainer,o.startOffset),a.setEndAfter(n.dom.lastChild)):(a.setStartBefore(n.dom.firstChild),a.setEnd(o.endContainer,o.endOffset)),W1(e,a,n,!1).each(l=>l())},d2=e=>{const n=jp(e),o=ee.fromDom(e.selection.getNode());iv(o.dom)&&Lr(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),n.length>1&&vo(n,r=>Ne(r,o))&&_s(o,"data-mce-selected","1")},f2=(e,n,o)=>$.some(()=>{const r=e.selection.getRng(),a=o.bind(({rng:l,isStartInTable:d})=>{const p=gN(e,d?l.endContainer:l.startContainer);l.deleteContents(),bN(e,d,p.filter(bt(Lr,e.schema)));const y=d?n[0]:n[n.length-1];return V1(e,y,r,d),Lr(e.schema,y)?$.none():$.some(d?n.slice(1):n.slice(0,-1))}).getOr(n);u2(a),d2(e)}),yN=(e,n,o,r)=>$.some(()=>{const a=e.selection.getRng(),l=n[0],d=o[o.length-1];V1(e,l,a,!0),V1(e,d,a,!1);const p=Lr(e.schema,l)?n:n.slice(1),y=Lr(e.schema,d)?o:o.slice(0,-1);u2(p.concat(y)),r.deleteContents(),d2(e)}),W1=(e,n,o,r=!0)=>$.some(()=>{ra(e,n,o,r)}),vN=(e,n)=>$.some(()=>Wf(e,!1,n)),xN=(e,n,o)=>z1(n,o).bind(r=>r.fold(bt(W1,e),bt(vN,e),bt(f2,e),bt(yN,e))),m2=(e,n)=>pb(e,n),CN=(e,n,o,r)=>G1(n,r).fold(()=>xN(e,n,o),a=>m2(e,a)),SN=(e,n,o)=>{const r=ee.fromDom(e.getBody()),a=e.selection.getRng();return o.length!==0?f2(e,o,$.none()):CN(e,r,a,n)},p2=(e,n)=>Ho(Fl(n,e),Cg),G1=(e,n)=>Ho(Fl(n,e),Kr("caption")),wN=(e,n,o,r,a)=>Lp(o,e.getBody(),a).bind(l=>p2(n,ee.fromDom(l.getNode())).bind(d=>Ne(d,r)?$.none():$.some(Ot))),pb=(e,n)=>$.some(()=>{Ol(n),e.selection.setCursorLocation(n.dom,0)}),h2=(e,n,o,r)=>Vr(e.dom).bind(a=>yc(e.dom).map(l=>n?o.isEqual(a)&&r.isEqual(l):o.isEqual(l)&&r.isEqual(a))).getOr(!0),q1=(e,n)=>pb(e,n),g2=(e,n,o)=>G1(e,ee.fromDom(o.getNode())).fold(()=>$.some(Ot),r=>ce(!Ne(r,n),Ot)),K1=(e,n,o,r,a)=>Lp(o,e.getBody(),a).fold(()=>$.some(Ot),l=>h2(r,o,a,l)?q1(e,r):g2(n,r,l)),EN=(e,n,o,r)=>{const a=ke.fromRangeStart(e.selection.getRng());return p2(o,r).bind(l=>Lr(e.schema,l,{checkRootAsContent:!1})?pb(e,l):wN(e,o,n,l,a))},Y1=(e,n,o,r)=>{const a=ke.fromRangeStart(e.selection.getRng());return Lr(e.schema,r)?pb(e,r):K1(e,o,n,r,a)},X1=(e,n)=>e?I1(n):qw(n),hb=(e,n)=>{const o=ke.fromRangeStart(e.selection.getRng());return X1(n,o)||ta(n,e.getBody(),o).exists(r=>X1(n,r))},b2=(e,n,o)=>{const r=ee.fromDom(e.getBody());return G1(r,o).fold(()=>EN(e,n,r,o).orThunk(()=>ce(hb(e,n),Ot)),a=>Y1(e,n,r,a))},J1=(e,n)=>{const o=ee.fromDom(e.selection.getStart(!0)),r=jp(e);return e.selection.isCollapsed()&&r.length===0?b2(e,n,o):SN(e,o,r)},vc=(e,n)=>{let o=n;for(;o&&o!==e;){if(Ie(o)||qn(o))return o;o=o.parentNode}return null},y2=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],v2=k.each,vd=e=>{const n=e.dom,o=new Set(e.serializer.getTempAttrs()),r=(l,d)=>{if(l.nodeName!==d.nodeName||l.nodeType!==d.nodeType)return!1;const p=T=>{const N={};return v2(n.getAttribs(T),B=>{const F=B.nodeName.toLowerCase();F!=="style"&&!a(F)&&(N[F]=n.getAttrib(T,F))}),N},y=(T,N)=>{for(const B in T)if(Lt(T,B)){const F=N[B];if(nn(F)||T[B]!==F)return!1;delete N[B]}for(const B in N)if(Lt(N,B))return!1;return!0};return lt(l)&&lt(d)&&(!y(p(l),p(d))||!y(n.parseStyle(n.getAttrib(l,"style")),n.parseStyle(n.getAttrib(d,"style"))))?!1:!Mi(l)&&!Mi(d)},a=l=>vo(y2,d=>ns(l,d))||o.has(l);return{compare:r,isAttributeInternal:a}},gu=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),TN=e=>e.name==="summary",u6=(e,n)=>{let o=e;for(;o=o.walk();)n(o)},_N=(e,n,o,r)=>{const a=o.name;for(let l=0,d=e.length;l<d;l++){const p=e[l];if(p.name===a){const y=r.nodes[a];y?y.nodes.push(o):r.nodes[a]={filter:p,nodes:[o]}}}if(o.attributes)for(let l=0,d=n.length;l<d;l++){const p=n[l],y=p.name;if(y in o.attributes.map){const T=r.attributes[y];T?T.nodes.push(o):r.attributes[y]={filter:p,nodes:[o]}}}},AN=(e,n,o)=>{const r={nodes:{},attributes:{}};return o.firstChild&&u6(o,a=>{_N(e,n,a,r)}),r},x2=(e,n)=>{const o=(r,a)=>{at(r,l=>{const d=si(l.nodes);De(l.filter.callbacks,p=>{for(let y=d.length-1;y>=0;y--){const T=d[y];(!(a?T.attr(l.filter.name)!==void 0:T.name===l.filter.name)||Qn(T.parent))&&d.splice(y,1)}d.length>0&&p(d,l.filter.name,n)})})};o(e.nodes,!1),o(e.attributes,!0)},C2=(e,n,o,r={})=>{const a=AN(e,n,o);x2(a,r)},S2=(e,n,o,r)=>{if((e.pad_empty_with_br||n.insert)&&o(r)){const l=new Jr("br",1);n.insert&&l.attr("data-mce-bogus","1"),r.empty().append(l)}else r.empty().append(new Jr("#text",3)).value=Bs},xd=e=>{var n;return Cd(e,"#text")&&((n=e==null?void 0:e.firstChild)===null||n===void 0?void 0:n.value)===Bs},Cd=(e,n)=>{const o=e==null?void 0:e.firstChild;return Je(o)&&o===e.lastChild&&o.name===n},uK=(e,n)=>{const o=e.getElementRule(n.name);return(o==null?void 0:o.paddEmpty)===!0},ws=(e,n,o,r)=>r.isEmpty(n,o,a=>uK(e,a)),d6=(e,n)=>Je(e)&&(n(e)||e.name==="br"),f6=e=>{let n;for(let o=e;o;o=o.parent){const r=o.attr("contenteditable");if(r==="false")break;r==="true"&&(n=o)}return $.from(n)},Qc=(e,n,o=e.parent)=>{if(n.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const a of r)o&&!n.isValidChild(o.name,a.name)&&Qc(a,n,o);e.unwrap()}},Ln=(e,n,o,r=Ot)=>{const a=n.getTextBlockElements(),l=n.getNonEmptyElements(),d=n.getWhitespaceElements(),p=k.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),y=new Set,T=N=>N!==o&&!p[N.name];for(let N=0;N<e.length;N++){const B=e[N];let F,W,K;if(!B.parent||y.has(B))continue;if(a[B.name]&&B.parent.name==="li"){let Y=B.next;for(;Y&&a[Y.name];){Y.name="li",y.add(Y),B.parent.insert(Y,B.parent);Y=Y.next}B.unwrap();continue}const G=[B];for(F=B.parent;F&&!n.isValidChild(F.name,B.name)&&T(F);F=F.parent)G.push(F);if(F&&G.length>1)if(w2(n,B,F))Qc(B,n);else{G.reverse(),W=G[0].clone(),r(W);let Y=W;for(let se=0;se<G.length-1;se++){n.isValidChild(Y.name,G[se].name)&&se>0?(K=G[se].clone(),r(K),Y.append(K)):K=Y;for(let le=G[se].firstChild;le&&le!==G[se+1];){const pe=le.next;K.append(le),le=pe}Y=K}ws(n,l,d,W)?F.insert(B,G[0],!0):(F.insert(W,G[0],!0),F.insert(B,W)),F=G[0],(ws(n,l,d,F)||Cd(F,"br"))&&F.empty().remove()}else if(B.parent){if(B.name==="li"){let Y=B.prev;if(Y&&(Y.name==="ul"||Y.name==="ol")){Y.append(B);continue}if(Y=B.next,Y&&(Y.name==="ul"||Y.name==="ol")&&Y.firstChild){Y.insert(B,Y.firstChild,!0);continue}const se=new Jr("ul",1);r(se),B.wrap(se);continue}if(n.isValidChild(B.parent.name,"div")&&n.isValidChild("div",B.name)){const Y=new Jr("div",1);r(Y),B.wrap(Y)}else Qc(B,n)}}},dK=(e,n)=>{let o=e;for(;o;){if(o.name===n)return!0;o=o.parent}return!1},w2=(e,n,o=n.parent)=>o?e.children[n.name]&&!e.isValidChild(o.name,n.name)||n.name==="a"&&dK(o,"a")?!0:TN(o)&&gu(n)?!((o==null?void 0:o.firstChild)===n&&(o==null?void 0:o.lastChild)===n):!1:!1,m6=(e,n,o,r)=>{const a=document.createRange();return a.setStart(e,n),a.setEnd(o,r),a},Eo=e=>{const n=ke.fromRangeStart(e),o=ke.fromRangeEnd(e),r=e.commonAncestorContainer;return ta(!1,r,o).map(a=>!Yc(n,o,r)&&Yc(n,a,r)?m6(n.container(),n.offset(),a.container(),a.offset()):e).getOr(e)},Z1=e=>e.collapsed?e:Eo(e),gb=e=>Je(e.firstChild)&&e.firstChild===e.lastChild,bb=e=>e.name==="br"||e.value===Bs,yb=(e,n)=>e.getBlockElements()[n.name]&&gb(n)&&bb(n.firstChild),vb=(e,n)=>{const o=e.getNonEmptyElements();return Je(n)&&(n.isEmpty(o)||yb(e,n))},kN=(e,n)=>{let o=n.firstChild,r=n.lastChild;return o&&o.name==="meta"&&(o=o.next),r&&r.attr("id")==="mce_marker"&&(r=r.prev),vb(e,r)&&(r=r==null?void 0:r.prev),!o||o!==r?!1:o.name==="ul"||o.name==="ol"},fK=e=>{var n,o;const r=e.firstChild,a=e.lastChild;return r&&r.nodeName==="META"&&((n=r.parentNode)===null||n===void 0||n.removeChild(r)),a&&a.id==="mce_marker"&&((o=a.parentNode)===null||o===void 0||o.removeChild(a)),e},mK=(e,n,o)=>{const r=n.serialize(o),a=e.createFragment(r);return fK(a)},pK=e=>{var n;return qt((n=e==null?void 0:e.childNodes)!==null&&n!==void 0?n:[],o=>o.nodeName==="LI")},hK=e=>e.data===Bs||Gn(e),p6=e=>Je(e==null?void 0:e.firstChild)&&e.firstChild===e.lastChild&&hK(e.firstChild),gK=e=>!e.firstChild||p6(e),h6=e=>e.length>0&&gK(e[e.length-1])?e.slice(0,-1):e,E2=(e,n)=>{const o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},bK=(e,n)=>!!E2(e,n),g6=(e,n)=>{const o=n.cloneRange(),r=n.cloneRange();return o.setStartBefore(e),r.setEndAfter(e),[o.cloneContents(),r.cloneContents()]},Ko=(e,n)=>{const o=ke.before(e),a=Xc(n).next(o);return a?a.toRange():null},T2=(e,n)=>{const o=ke.after(e),a=Xc(n).prev(o);return a?a.toRange():null},ON=(e,n,o,r)=>{const a=g6(e,r),l=e.parentNode;return l&&(l.insertBefore(a[0],e),k.each(n,d=>{l.insertBefore(d,e)}),l.insertBefore(a[1],e),l.removeChild(e)),T2(n[n.length-1],o)},b6=(e,n,o)=>{const r=e.parentNode;return r&&k.each(n,a=>{r.insertBefore(a,e)}),Ko(e,o)},y6=(e,n,o,r)=>(r.insertAfter(n.reverse(),e),T2(n[0],o)),v6=(e,n,o,r)=>{const a=mK(n,e,r),l=E2(n,o.startContainer),d=h6(pK(a.firstChild)),p=1,y=2,T=n.getRoot(),N=B=>{const F=ke.fromRangeStart(o),W=Xc(n.getRoot()),K=B===p?W.prev(F):W.next(F),G=K==null?void 0:K.getNode();return G?E2(n,G)!==l:!0};return l?N(p)?b6(l,d,T):N(y)?y6(l,d,T,n):ON(l,d,T,o):null},Ii=["pre"],xc=(e,n,o,r)=>{var a;const l=n.firstChild,d=n.lastChild,p=d.attr("data-mce-type")==="bookmark"?d.prev:d,y=l===p,T=en(Ii,l.name);if(y&&T){const N=l.attr("contenteditable")!=="false",B=((a=e.getParent(o,e.isBlock))===null||a===void 0?void 0:a.nodeName.toLowerCase())===l.name,F=$.from(vc(r,o)).forall(Ie);return N&&B&&F}else return!1},Q1=iv,_2=(e,n,o)=>{if(Je(o)){const r=e.getParent(n.endContainer,Q1);return o===r&&sw(ee.fromDom(o),n)}else return!1},A2=(e,n,o)=>{var r;if(o.getAttribute("data-mce-bogus")==="all")(r=o.parentNode)===null||r===void 0||r.insertBefore(e.dom.createFragment(n),o);else{const a=o.firstChild,l=o.lastChild;!a||a===l&&a.nodeName==="BR"?e.dom.setHTML(o,n):e.selection.setContent(n,{no_events:!0})}},ex=(e,n,o)=>{$.from(e.getParent(n,"td,th")).map(ee.fromDom).each(r=>L3(r,o))},DN=(e,n)=>{const o=e.schema.getTextInlineElements(),r=e.dom;if(n){const a=e.getBody(),l=vd(e),d="*[data-mce-fragment]",p=r.select(d);k.each(p,y=>{const T=F=>Je(o[F.nodeName.toLowerCase()]),N=F=>F.childNodes.length===1;if((F=>!(IR(r,F)||Dj(r,F)))(y)&&T(y)&&N(y)){const F=Xp(r,y),W=(se,le)=>or(se,pe=>en(le,pe)),K=se=>N(y)&&r.is(se,d)&&T(se)&&(se.nodeName===y.nodeName&&W(F,Xp(r,se))||K(se.children[0])),G=se=>Je(se)&&se!==a&&(l.compare(y,se)||G(se.parentElement)),Y=se=>Je(se)&&se!==a&&r.is(se,d)&&(Nj(r,y,se)||Y(se.parentElement));(K(y.children[0])||G(y.parentElement)&&!Y(y.parentElement))&&r.remove(y,!0)}})}},xb=e=>{let n=e;for(;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},tx=e=>{k.each(e.getElementsByTagName("*"),n=>{n.removeAttribute("data-mce-fragment")})},k2=e=>!!e.getAttribute("data-mce-fragment"),RN=(e,n)=>Je(n)&&!e.schema.getVoidElements()[n.nodeName],Cb=(e,n)=>{var o,r,a;let l;const d=e.dom,p=e.selection;if(!n)return;p.scrollIntoView(n);const y=vc(e.getBody(),n);if(y&&d.getContentEditable(y)==="false"){d.remove(n),p.select(y);return}let T=d.createRng();const N=n.previousSibling;if(Ve(N)){T.setStart(N,(r=(o=N.nodeValue)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0);const W=n.nextSibling;Ve(W)&&(N.appendData(W.data),(a=W.parentNode)===null||a===void 0||a.removeChild(W))}else T.setStartBefore(n),T.setEndBefore(n);const B=W=>{let K=ke.fromRangeStart(W);return K=Xc(e.getBody()).next(K),K==null?void 0:K.toRange()},F=d.getParent(n,d.isBlock);if(d.remove(n),F&&d.isEmpty(F)){const W=Q1(F);sp(ee.fromDom(F)),T.setStart(F,0),T.setEnd(F,0),!W&&!k2(F)&&(l=B(T))?(T=l,d.remove(F)):d.add(F,d.create("br",W?{}:{"data-mce-bogus":"1"}))}p.setRng(T)},x6=e=>{const n=e.dom,o=Z1(e.selection.getRng());e.selection.setRng(o);const r=n.getParent(o.startContainer,Q1);_2(n,o,r)?W1(e,o,ee.fromDom(r)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&Ve(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},C6=e=>{for(let n=e;n;n=n.walk())if(n.attr("id")==="mce_marker")return $.some(n);return $.none()},el=(e,n,o)=>{var r;return vo(o.children(),gu)&&((r=e.getParent(n,e.isBlock))===null||r===void 0?void 0:r.nodeName)==="SUMMARY"},Bi=(e,n,o)=>{var r,a;const l=e.selection,d=e.dom,p=e.parser,y=o.merge,T=md({validate:!0},e.schema),N='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(n=Qi(n)),n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,N);let B=l.getRng();const F=B.startContainer,W=e.getBody();F===W&&l.isCollapsed()&&d.isBlock(W.firstChild)&&RN(e,W.firstChild)&&d.isEmpty(W.firstChild)&&(B=d.createRng(),B.setStart(W.firstChild,0),B.setEnd(W.firstChild,0),l.setRng(B)),l.isCollapsed()||x6(e);const K=l.getNode(),G={context:K.nodeName.toLowerCase(),data:o.data,insert:!0},Y=p.parse(n,G);if(o.paste===!0&&kN(e.schema,Y)&&bK(d,K))return B=v6(T,d,l.getRng(),Y),B&&l.setRng(B),n;o.paste===!0&&xc(d,Y,K,e.getBody())&&((r=Y.firstChild)===null||r===void 0||r.unwrap()),xb(Y);let se=Y.lastChild;if(se&&se.attr("id")==="mce_marker"){const le=se;for(se=se.prev;se&&se.name!=="table";se=se.walk(!0))if(se.type===3||!d.isBlock(se.name)){se.parent&&e.schema.isValidChild(se.parent.name,"span")&&se.parent.insert(le,se,se.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(K),!G.invalid&&!el(d,K,Y))n=T.serialize(Y),A2(e,n,K);else{e.selection.setContent(N);let le=l.getNode(),pe;const he=e.getBody();for(lp(le)?le=pe=he:pe=le;pe&&pe!==he;)le=pe,pe=pe.parentNode;n=le===he?he.innerHTML:d.getOuterHTML(le);const $e=p.parse(n),Ge=C6($e),ut=Ge.bind(f6).getOr($e);Ge.each(mt=>mt.replace(Y));const Oe=Y.children(),Se=(a=Y.parent)!==null&&a!==void 0?a:$e;Y.unwrap();const He=qt(Oe,mt=>w2(e.schema,mt,Se));Ln(He,e.schema,ut),C2(p.getNodeFilters(),p.getAttributeFilters(),$e),n=T.serialize($e),le===he?d.setHTML(he,n):d.setOuterHTML(le,n)}return DN(e,y),Cb(e,d.get("mce_marker")),tx(e.getBody()),ex(d,l.getStart(),e.schema),yk(e.schema,e.getBody(),l.getStart()),n},Sd=e=>e instanceof Jr,La=e=>{Yp(e)&&Vr(e.getBody()).each(n=>{const o=n.getNode(),r=Uc(o)?Vr(o).getOr(n):n;e.selection.setRng(r.toRange())})},O2=(e,n,o)=>{e.dom.setHTML(e.getBody(),n),o!==!0&&La(e)},mo=(e,n,o,r)=>{if(o=Qi(o),o.length===0||/^\s+$/.test(o)){const a='<br data-mce-bogus="1">';n.nodeName==="TABLE"?o="<tr><td>"+a+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(o="<li>"+a+"</li>");const l=Cr(e);return e.schema.isValidChild(n.nodeName.toLowerCase(),l.toLowerCase())?(o=a,o=e.dom.createHTML(l,Nf(e),o)):o||(o=a),O2(e,o,r.no_selection),{content:o,html:o}}else{r.format!=="raw"&&(o=md({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));const a=Rv(ee.fromDom(n))?o:k.trim(o);return O2(e,a,r.no_selection),{content:a,html:a}}},S6=(e,n,o,r)=>{C2(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);const a=md({validate:!1},e.schema).serialize(o),l=Qi(Rv(ee.fromDom(n))?a:k.trim(a));return O2(e,l,r.no_selection),{content:o,html:l}},Jf=(e,n,o)=>$.from(e.getBody()).map(r=>Sd(n)?S6(e,r,n,o):mo(e,r,n,o)).getOr({content:n,html:Sd(o.content)?"":o.content}),eh=e=>Rn(e)?e:We,NN=(e,n,o)=>{let r=e.dom;const a=eh(o);for(;r.parentNode;){r=r.parentNode;const l=ee.fromDom(r),d=n(l);if(d.isSome())return d;if(a(l))break}return $.none()},Sb=(e,n,o)=>{const r=n(e),a=eh(o);return r.orThunk(()=>a(e)?$.none():NN(e,n,a))},wb=SD,PN=(e,n,o)=>{const r=e.formatter.get(o);if(r)for(let a=0;a<r.length;a++){const l=r[a];if(Pa(l)&&l.inherit===!1&&e.dom.is(n,l.selector))return!0}return!1},Eb=(e,n,o,r,a)=>{const l=e.dom.getRoot();if(n===l)return!1;const d=e.dom.getParent(n,p=>PN(e,p,o)?!0:p.parentNode===l||!!tl(e,p,o,r,!0));return!!tl(e,d,o,r,a)},nx=(e,n,o)=>er(o)&&wb(n,o.inline)||Il(o)&&wb(n,o.block)?!0:Pa(o)?lt(n)&&e.is(n,o.selector):!1,D2=(e,n,o,r,a,l)=>{const d=o[r],p=r==="attributes";if(Rn(o.onmatch))return o.onmatch(n,o,r);if(d){if(qh(d)){for(let y=0;y<d.length;y++)if(p?e.getAttrib(n,d[y]):lw(e,n,d[y]))return!0}else for(const y in d)if(Lt(d,y)){const T=p?e.getAttrib(n,y):lw(e,n,y),N=Lf(d[y],l),B=Qn(T)||Ai(T);if(B&&Qn(N))continue;if(a&&B&&!o.exact||(!a||o.exact)&&!wb(T,cw(N,y)))return!1}}return!0},tl=(e,n,o,r,a)=>{const l=e.formatter.get(o),d=e.dom;if(l&&lt(n))for(let p=0;p<l.length;p++){const y=l[p];if(nx(e.dom,n,y)&&D2(d,n,y,"attributes",a,r)&&D2(d,n,y,"styles",a,r)){const T=y.classes;if(T){for(let N=0;N<T.length;N++)if(!e.dom.hasClass(n,Lf(T[N],r)))return}return y}}},Tb=(e,n,o,r,a)=>{if(r)return Eb(e,r,n,o,a);if(r=e.selection.getNode(),Eb(e,r,n,o,a))return!0;const l=e.selection.getStart();return!!(l!==r&&Eb(e,l,n,o,a))},MN=(e,n,o)=>{const r=[],a={},l=e.selection.getStart();return e.dom.getParent(l,d=>{for(let p=0;p<n.length;p++){const y=n[p];!a[y]&&tl(e,d,y,o)&&(a[y]=!0,r.push(y))}},e.dom.getRoot()),r},ox=(e,n)=>{const o=a=>Ne(a,ee.fromDom(e.getBody())),r=(a,l)=>tl(e,a.dom,l)?$.some(l):$.none();return $.from(e.selection.getStart(!0)).bind(a=>Sb(ee.fromDom(a),l=>nc(n,d=>r(l,d)),o)).getOrNull()},w6=(e,n)=>{const o=e.formatter.get(n),r=e.dom;if(o&&e.selection.isEditable()){const a=e.selection.getStart(),l=qg(r,a);for(let d=o.length-1;d>=0;d--){const p=o[d];if(!Pa(p))return!0;for(let y=l.length-1;y>=0;y--)if(r.is(l[y],p.selector))return!0}}return!1},E6=(e,n,o)=>ls(o,(r,a)=>{const l=ED(e,a);return e.formatter.matchNode(n,a,{},l)?r.concat([a]):r},[]),_b=Zs,T6=(e,n)=>e.importNode(n,!0),IN=e=>{if(e){const n=new ir(e,e);for(let o=n.current();o;o=n.next())if(Ve(o))return o}return null},sx=e=>{const n=ee.fromTag("span");return kr(n,{id:QS,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Gs(n,ee.fromText(_b)),n},_6=e=>{const n=IN(e);return n&&n.data.charAt(0)===_b&&n.deleteData(0,1),n},R2=(e,n,o)=>{const r=e.dom,a=e.selection;if(_D(n))Wf(e,!1,ee.fromDom(n),o,!0);else{const l=a.getRng(),d=r.getParent(n,r.isBlock),p=l.startContainer,y=l.startOffset,T=l.endContainer,N=l.endOffset,B=_6(n);r.remove(n,!0),p===B&&y>0&&l.setStart(B,y-1),T===B&&N>0&&l.setEnd(B,N-1),d&&r.isEmpty(d)&&Ol(ee.fromDom(d)),a.setRng(l)}},rx=(e,n,o)=>{const r=e.dom,a=e.selection;if(n)R2(e,n,o);else if(n=Mf(e.getBody(),a.getStart()),!n)for(;n=r.get(QS);)R2(e,n,o)},A6=(e,n,o)=>{var r,a;const l=e.dom,d=l.getParent(o,bt(Wg,e.schema));d&&l.isEmpty(d)?(r=o.parentNode)===null||r===void 0||r.replaceChild(n,o):(Wk(ee.fromDom(o)),l.isEmpty(o)?(a=o.parentNode)===null||a===void 0||a.replaceChild(n,o):l.insertAfter(n,o))},N2=(e,n)=>(e.appendChild(n),n),th=(e,n)=>{var o;const r=Du(e,(l,d)=>N2(l,d.cloneNode(!1)),n),a=(o=r.ownerDocument)!==null&&o!==void 0?o:document;return N2(r,a.createTextNode(_b))},k6=(e,n,o,r,a,l)=>{const d=e.formatter,p=e.dom,y=qt(hr(d.get()),B=>B!==r&&!Hs(B,"removeformat")),T=E6(e,o,y);if(qt(T,B=>!nK(e,B,r)).length>0){const B=o.cloneNode(!1);return p.add(n,B),d.remove(r,a,B,l),p.remove(B),$.some(B)}else return $.none()},BN=e=>Vk(e,_p(e).replace(new RegExp(`${Bs}$`)," ")),P2=(e,n)=>{const o=()=>{n!==null&&!e.dom.isEmpty(n)&&Co(ee.fromDom(n)).each(r=>{zs(r)?BN(r):MC(r,a=>zs(a)).each(a=>{zs(a)&&BN(a)})})};e.once("input",r=>{r.data&&!Bf(r.data)&&(r.isComposing?e.once("compositionend",()=>{o()}):o())})},O6=(e,n,o)=>{let r;const a=e.selection,l=e.formatter.get(n);if(!l)return;const d=a.getRng();let p=d.startOffset;const T=d.startContainer.nodeValue;r=Mf(e.getBody(),a.getStart());const N=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(T&&p>0&&p<T.length&&N.test(T.charAt(p))&&N.test(T.charAt(p-1))){const B=a.getBookmark();d.collapse(!0);let F=$f(e.dom,d,l);F=nb(F),e.formatter.apply(n,o,F),a.moveToBookmark(B)}else{let B=r?IN(r):null;(!r||(B==null?void 0:B.data)!==_b)&&(r=T6(e.getDoc(),sx(!0).dom),B=r.firstChild,d.insertNode(r),p=1,P2(e,r)),e.formatter.apply(n,o,r),a.setCursorLocation(B,p)}},FN=(e,n,o,r)=>{const a=e.dom,l=e.selection;let d=!1;const p=e.formatter.get(n);if(!p)return;const y=l.getRng(),T=y.startContainer,N=y.startOffset;let B=T;Ve(T)&&(N!==T.data.length&&(d=!0),B=B.parentNode);const F=[];let W;for(;B;){if(tl(e,B,n,o,r)){W=B;break}B.nextSibling&&(d=!0),F.push(B),B=B.parentNode}if(W)if(d){const K=l.getBookmark();y.collapse(!0);let G=$f(a,y,p,!0);G=nb(G),e.formatter.remove(n,o,G,r),l.moveToBookmark(K)}else{const K=Mf(e.getBody(),W),G=Je(K)?a.getParents(W.parentNode,ht,K):[],Y=sx(!1).dom;A6(e,Y,K??W);const se=k6(e,Y,W,n,o,r),le=th([...F,...se.toArray(),...G],Y);K&&R2(e,K,Je(K)),l.setCursorLocation(le,1),P2(e,Y),a.isEmpty(W)&&a.remove(W)}},$a=(e,n,o)=>{const r=e.selection,a=e.getBody();rx(e,null,o),(n===8||n===46)&&r.isCollapsed()&&r.getStart().innerHTML===_b&&rx(e,Mf(a,r.getStart()),!0),(n===37||n===39)&&rx(e,Mf(a,r.getStart()),!0)},D6=e=>Ve(e)&&qm(e.data,Bs),LN=e=>{e.on("mouseup keydown",n=>{$a(e,n.keyCode,D6(e.selection.getRng().endContainer))})},ix=e=>{const n=sx(!1),o=th(e,n.dom);return{caretContainer:n,caretPosition:ke(o,0)}},ax=(e,n)=>{const{caretContainer:o,caretPosition:r}=ix(n);return Di(ee.fromDom(e),o),Ro(ee.fromDom(e)),r},$N=(e,n)=>{const{caretContainer:o,caretPosition:r}=ix(n);return e.insertNode(o.dom),r},M2=(e,n)=>{if(Na(n.dom))return!1;const o=e.schema.getTextInlineElements();return Lt(o,gn(n))&&!Na(n.dom)&&!cf(n.dom)},Ab={},jN=Hc(["pre"]),HN=(e,n)=>{Ab[e]||(Ab[e]=[]),Ab[e].push(n)},UN=(e,n)=>{Lt(Ab,e)&&De(Ab[e],o=>{o(n)})};HN("pre",e=>{const n=e.selection.getRng(),o=a=>l=>{const d=l.previousSibling;return jN(d)&&en(a,d)},r=(a,l)=>{const d=ee.fromDom(l),p=tn(d).dom;Ro(d),zu(ee.fromDom(a),[ee.fromTag("br",p),ee.fromTag("br",p),...Vo(d)])};if(!n.collapsed){const a=e.selection.getSelectedBlocks(),l=qt(qt(a,jN),o(a));De(l,d=>{r(d.previousSibling,d)})}});const ia=["fontWeight","fontStyle","color","fontSize","fontFamily"],R6=e=>It(e.styles)&&vo(hr(e.styles),n=>en(ia,n)),N6=e=>Ho(e,n=>er(n)&&n.inline==="span"&&R6(n)),P6=(e,n)=>{const o=e.get(n);return Zt(o)?N6(o):$.none()},cx=(e,n)=>Pi(n,ke.fromRangeStart(e)).isNone(),zN=(e,n)=>hi(n,ke.fromRangeEnd(e)).exists(o=>!Gn(o.getNode())||hi(n,o).isSome())===!1,M6=e=>n=>uc(n)&&e.isEditable(n),I6=e=>{const n=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(n.length===1)return cx(o,n[0])&&zN(o,n[0])?n:[];{const r=us(n).filter(d=>cx(o,d)).toArray(),a=oi(n).filter(d=>zN(o,d)).toArray(),l=n.slice(1,-1);return r.concat(l).concat(a)}},I2=e=>qt(I6(e),M6(e.dom)),Cc=e=>qt(e.getSelectedBlocks(),M6(e.dom)),kb=k.each,nh=e=>lt(e)&&!Mi(e)&&!Na(e)&&!cf(e),lx=(e,n)=>{for(let o=e;o;o=o[n]){if(Ve(o)&&ys(o.data))return e;if(lt(o)&&!Mi(o))return o}return e},VN=(e,n,o)=>{const r=vd(e),a=lc(n)&&e.dom.isEditable(n),l=lc(o)&&e.dom.isEditable(o);if(a&&l){const d=lx(n,"previousSibling"),p=lx(o,"nextSibling");if(r.compare(d,p)){for(let y=d.nextSibling;y&&y!==p;){const T=y;y=y.nextSibling,d.appendChild(T)}return e.dom.remove(p),k.each(k.grep(p.childNodes),y=>{d.appendChild(y)}),d}}return o},B2=(e,n,o,r)=>{var a;if(r&&n.merge_siblings!==!1){const l=(a=VN(e,xD(r),r))!==null&&a!==void 0?a:r;VN(e,l,xD(l,!0))}},B6=(e,n,o)=>{if(n.clear_child_styles){const r=n.links?"*:not(a)":"*";kb(e.select(r,o),a=>{nh(a)&&e.isEditable(a)&&kb(n.styles,(l,d)=>{e.setStyle(a,d,"")})})}},ux=(e,n,o)=>{kb(e.childNodes,r=>{nh(r)&&(n(r)&&o(r),r.hasChildNodes()&&ux(r,n,o))})},F2=(e,n)=>{n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},WN=(e,n)=>o=>!!(o&&lw(e,o,n)),L2=(e,n,o)=>r=>{e.setStyle(r,n,o),r.getAttribute("style")===""&&r.removeAttribute("style"),F2(e,r)},Zf=hc.generate([{keep:[]},{rename:["name"]},{removed:[]}]),Qf=/^(src|href|style)$/,dx=k.each,fx=SD,GN=e=>/^(TR|TH|TD)$/.test(e.nodeName),qN=(e,n,o)=>e.isChildOf(n,o)&&n!==o&&!e.isBlock(o),KN=(e,n,o)=>{let r=n[o?"startContainer":"endContainer"],a=n[o?"startOffset":"endOffset"];if(lt(r)){const l=r.childNodes.length-1;!o&&a&&a--,r=r.childNodes[a>l?l:a]}return Ve(r)&&o&&a>=r.data.length&&(r=new ir(r,e.getBody()).next()||r),Ve(r)&&!o&&a===0&&(r=new ir(r,e.getBody()).prev()||r),r},YN=(e,n)=>{const o=n?"firstChild":"lastChild",r=e[o];return GN(e)&&r?e.nodeName==="TR"&&r[o]||r:e},$2=(e,n,o,r)=>{var a;const l=e.create(o,r);return(a=n.parentNode)===null||a===void 0||a.insertBefore(l,n),l.appendChild(n),l},XN=(e,n,o,r,a)=>{const l=ee.fromDom(n),d=ee.fromDom(e.create(r,a)),p=o?di(l):Or(l);return zu(d,p),o?(Di(l,d),ev(d,l)):(Cl(l,d),Gs(d,l)),d.dom},JN=(e,n)=>n.links&&e.nodeName==="A",ZN=(e,n,o)=>{const r=n.parentNode;let a;const l=e.dom,d=Cr(e);Il(o)&&r===l.getRoot()&&(!o.list_block||!fx(n,o.list_block))&&De(si(n.childNodes),p=>{Hp(e,d,p.nodeName.toLowerCase())?a?a.appendChild(p):(a=$2(l,p,d),l.setAttribs(a,Nf(e))):a=null}),!(v4(o)&&!fx(o.inline,n))&&l.remove(n,!0)},mx=(e,n,o)=>$n(e)?{name:n,value:null}:{name:e,value:Lf(n,o)},wd=(e,n)=>{e.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},QN=(e,n,o,r,a)=>{let l=!1;dx(o.styles,(d,p)=>{const{name:y,value:T}=mx(p,d,r),N=cw(T,y);(o.remove_similar||_(T)||!lt(a)||fx(lw(e,a,y),N))&&e.setStyle(n,y,""),l=!0}),l&&wd(e,n)},F6=(e,n,o)=>{n==="removeformat"?De(Cc(e.selection),r=>{De(ia,a=>e.dom.setStyle(r,a,"")),wd(e.dom,r)}):P6(e.formatter,n).each(r=>{De(Cc(e.selection),a=>QN(e.dom,a,r,o,null))})},Ob=(e,n,o,r,a)=>{const l=e.dom,d=vd(e),p=e.schema;if(er(n)&&dp(p,n.inline)&&uf(p,r)&&r.parentElement===e.getBody())return ZN(e,r,n),Zf.removed();if(!n.ceFalseOverride&&r&&l.getContentEditableParent(r)==="false"||r&&!nx(l,r,n)&&!JN(r,n))return Zf.keep();const y=r,T=n.preserve_attributes;if(er(n)&&n.remove==="all"&&Zt(T)){const N=qt(l.getAttribs(y),B=>en(T,B.name.toLowerCase()));if(l.removeAllAttribs(y),De(N,B=>l.setAttrib(y,B.name,B.value)),N.length>0)return Zf.rename("span")}if(n.remove!=="all"){QN(l,y,n,o,a),dx(n.attributes,(B,F)=>{const{name:W,value:K}=mx(F,B,o);if(n.remove_similar||_(K)||!lt(a)||fx(l.getAttrib(a,W),K)){if(W==="class"){const G=l.getAttrib(y,W);if(G){let Y="";if(De(G.split(/\s+/),se=>{/mce\-\w+/.test(se)&&(Y+=(Y?" ":"")+se)}),Y){l.setAttrib(y,W,Y);return}}}if(Qf.test(W)&&y.removeAttribute("data-mce-"+W),W==="style"&&Hc(["li"])(y)&&l.getStyle(y,"list-style-type")==="none"){y.removeAttribute(W),l.setStyle(y,"list-style-type","none");return}W==="class"&&y.removeAttribute("className"),y.removeAttribute(W)}}),dx(n.classes,B=>{B=Lf(B,o),(!lt(a)||l.hasClass(a,B))&&l.removeClass(y,B)});const N=l.getAttribs(y);for(let B=0;B<N.length;B++){const F=N[B].nodeName;if(!d.isAttributeInternal(F))return Zf.keep()}}return n.remove!=="none"?(ZN(e,y,n),Zf.removed()):Zf.keep()},eP=(e,n,o,r,a)=>{let l;return n.parentNode&&De(qg(e.dom,n.parentNode).reverse(),d=>{if(!l&&lt(d)&&d.id!=="_start"&&d.id!=="_end"){const p=tl(e,d,o,r,a);p&&p.split!==!1&&(l=d)}}),l},tP=(e,n,o,r)=>Ob(e,n,o,r,r).fold(it(r),a=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,a)),it(null)),L6=(e,n,o,r,a,l,d,p)=>{var y,T;let N,B;const F=e.dom;if(o){const W=o.parentNode;for(let K=r.parentNode;K&&K!==W;K=K.parentNode){let G=F.clone(K,!1);for(let Y=0;Y<n.length&&(G=tP(e,n[Y],p,G),G!==null);Y++);G&&(N&&G.appendChild(N),B||(B=G),N=G)}(!d.mixed||!F.isBlock(o))&&(r=(y=F.split(o,r))!==null&&y!==void 0?y:r),N&&B&&((T=a.parentNode)===null||T===void 0||T.insertBefore(N,a),B.appendChild(a),er(d)&&B2(e,d,p,N))}return r},nP=(e,n,o,r,a)=>{const l=e.formatter.get(n),d=l[0],p=e.dom,y=e.selection,T=G=>{const Y=eP(e,G,n,o,a);return L6(e,l,Y,G,G,!0,d,o)},N=G=>Mi(G)&&lt(G)&&(G.id==="_start"||G.id==="_end"),B=G=>vo(l,Y=>nl(e,Y,o,G,G)),F=G=>{const Y=si(G.childNodes),le=B(G)||vo(l,$e=>nx(p,G,$e)),pe=G.parentNode;if(!le&&Je(pe)&&dw(d)&&B(pe),d.deep&&Y.length)for(let $e=0;$e<Y.length;$e++)F(Y[$e]);De(["underline","line-through","overline"],$e=>{lt(G)&&e.dom.getStyle(G,"text-decoration")===$e&&G.parentNode&&wD(p,G.parentNode)===$e&&nl(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:$e}},void 0,G)})},W=G=>{const Y=p.get(G?"_start":"_end");if(Y){let se=Y[G?"firstChild":"lastChild"];return N(se)&&(se=se[G?"firstChild":"lastChild"]),Ve(se)&&se.data.length===0&&(se=G?Y.previousSibling||Y.nextSibling:Y.nextSibling||Y.previousSibling),p.remove(Y,!0),se}else return null},K=G=>{let Y,se,le=$f(p,G,l,G.collapsed);if(d.split){if(le=nb(le),Y=KN(e,le,!0),se=KN(e,le),Y!==se){if(Y=YN(Y,!0),se=YN(se,!1),qN(p,Y,se)){const he=$.from(Y.firstChild).getOr(Y);T(XN(p,he,!0,"span",{id:"_start","data-mce-type":"bookmark"})),W(!0);return}if(qN(p,se,Y)){const he=$.from(se.lastChild).getOr(se);T(XN(p,he,!1,"span",{id:"_end","data-mce-type":"bookmark"})),W(!1);return}Y=$2(p,Y,"span",{id:"_start","data-mce-type":"bookmark"}),se=$2(p,se,"span",{id:"_end","data-mce-type":"bookmark"});const pe=p.createRng();pe.setStartAfter(Y),pe.setEndBefore(se),Vp(p,pe,he=>{De(he,$e=>{!Mi($e)&&!Mi($e.parentNode)&&T($e)})}),T(Y),T(se),Y=W(!0),se=W()}else Y=se=T(Y);le.startContainer=Y.parentNode?Y.parentNode:Y,le.startOffset=p.nodeIndex(Y),le.endContainer=se.parentNode?se.parentNode:se,le.endOffset=p.nodeIndex(se)+1}Vp(p,le,pe=>{De(pe,F)})};if(r){if(Vg(r)){const G=p.createRng();G.setStartBefore(r),G.setEndAfter(r),K(G)}else K(r);Jg(e,n,r,o);return}!y.isCollapsed()||!er(d)||jp(e).length?(Ff(e,()=>rw(e,K),G=>er(d)&&Tb(e,n,o,G)),e.nodeChanged()):FN(e,n,o,a),F6(e,n,o),Jg(e,n,r,o)},oP=(e,n,o,r,a)=>{(r||e.selection.isEditable())&&nP(e,n,o,r,a)},nl=(e,n,o,r,a)=>Ob(e,n,o,r,a).fold(We,l=>(e.dom.rename(r,l),!0),ht),j2=k.each,sP=(e,n,o,r)=>{const a=l=>{if(lc(l)&&lt(l.parentNode)&&e.isEditable(l)){const d=wD(e,l.parentNode);e.getStyle(l,"color")&&d?e.setStyle(l,"text-decoration",d):e.getStyle(l,"text-decoration")===d&&e.setStyle(l,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(k.walk(r,a,"childNodes"),a(r))},rP=(e,n,o,r)=>{if(n.styles&&n.styles.backgroundColor){const a=WN(e,"fontSize");ux(r,l=>a(l)&&e.isEditable(l),L2(e,"backgroundColor",Lf(n.styles.backgroundColor,o)))}},px=(e,n,o,r)=>{if(er(n)&&(n.inline==="sub"||n.inline==="sup")){const a=WN(e,"fontSize");ux(r,d=>a(d)&&e.isEditable(d),L2(e,"fontSize",""));const l=qt(e.select(n.inline==="sup"?"sub":"sup",r),e.isEditable);e.remove(l,!0)}},iP=(e,n,o,r)=>{j2(n,a=>{er(a)&&j2(e.dom.select(a.inline,r),l=>{nh(l)&&nl(e,a,o,l,a.exact?l:null)}),B6(e.dom,a,r)})},$6=(e,n,o,r,a)=>{const l=a.parentNode;tl(e,l,o,r)&&nl(e,n,r,a)||n.merge_with_parents&&l&&e.dom.getParent(l,d=>tl(e,d,o,r)?(nl(e,n,r,a),!0):!1)},Db=k.each,j6=(e,n,o,r)=>{if(S5(e)&&er(n)&&o.parentNode){const a=_k(e.schema),l=r3(ee.fromDom(o),d=>Na(d.dom));return ya(a,r)&&Ys(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!l}else return!1},aP=(e,n,o,r)=>{if(Db(o.styles,(a,l)=>{e.setStyle(n,l,Lf(a,r))}),o.styles){const a=e.getAttrib(n,"style");a&&e.setAttrib(n,"data-mce-style",a)}},hx=(e,n,o,r)=>{const a=e.formatter.get(n),l=a[0],d=!r&&e.selection.isCollapsed(),p=e.dom,y=e.selection,T=(K,G=l)=>{Rn(G.onformat)&&G.onformat(K,G,o,r),aP(p,K,G,o),Db(G.attributes,(Y,se)=>{p.setAttrib(K,se,Lf(Y,o))}),Db(G.classes,Y=>{const se=Lf(Y,o);p.hasClass(K,se)||p.addClass(K,se)})},N=(K,G)=>{let Y=!1;return Db(K,se=>Pa(se)?p.getContentEditable(G)==="false"&&!se.ceFalseOverride||Je(se.collapsed)&&se.collapsed!==d?!0:p.is(G,se.selector)&&!Na(G)?(T(G,se),Y=!0,!1):!0:!1),Y},B=K=>{if(te(K)){const G=p.create(K);return T(G),G}else return null},F=(K,G,Y)=>{const se=[];let le=!0;const pe=l.inline||l.block,he=B(pe),$e=Oe=>TD(l)&&tl(e,Oe,n,o),Ge=(Oe,Se,He)=>{const mt=y4(l)&&Wg(e.schema,Oe)&&Hp(e,Se,pe);return He&&mt},ut=(Oe,Se,He,mt)=>{const kt=Oe.nodeName.toLowerCase(),mn=Hp(e,pe,kt)&&Hp(e,Se,pe),pn=!Y&&Ve(Oe)&&Nv(Oe.data),Vn=Na(Oe),to=!er(l)||!K.isBlock(Oe);return(He||mt)&&mn&&!pn&&!Vn&&to};Vp(K,G,Oe=>{let Se;const He=mt=>{let kt=!1,mn=le,pn=!1;const Vn=mt.parentNode,to=Vn.nodeName.toLowerCase(),ts=K.getContentEditable(mt);Je(ts)&&(mn=le,le=ts==="true",kt=!0,pn=b4(e,mt));const mr=le&&!kt;if(Gn(mt)&&!j6(e,l,mt,to)){Se=null,Il(l)&&K.remove(mt);return}if($e(mt)){Se=null;return}if(Ge(mt,to,mr)){const ss=K.rename(mt,pe);T(ss),se.push(ss),Se=null;return}if(Pa(l)){let ss=N(a,mt);if(!ss&&Je(Vn)&&dw(l)&&(ss=N(a,Vn)),!er(l)||ss){Se=null;return}}Je(he)&&ut(mt,to,mr,pn)?(Se||(Se=K.clone(he,!1),Vn.insertBefore(Se,mt),se.push(Se)),pn&&kt&&(le=mn),Se.appendChild(mt)):(Se=null,De(si(mt.childNodes),He),kt&&(le=mn),Se=null)};De(Oe,He)}),l.links===!0&&De(se,Oe=>{const Se=He=>{He.nodeName==="A"&&T(He,l),De(si(He.childNodes),Se)};Se(Oe)}),De(se,Oe=>{const Se=kt=>{let mn=0;return De(kt.childNodes,pn=>{!aw(pn)&&!Mi(pn)&&mn++}),mn},He=kt=>Ho(kt.childNodes,Dn).filter(pn=>K.getContentEditable(pn)!=="false"&&nx(K,pn,l)).map(pn=>{const Vn=K.clone(pn,!1);return T(Vn),K.replace(Vn,kt,!0),K.remove(pn,!0),Vn}).getOr(kt),mt=Se(Oe);if((se.length>1||!K.isBlock(Oe))&&mt===0){K.remove(Oe,!0);return}(er(l)||Il(l)&&l.wrapper)&&(!l.exact&&mt===1&&(Oe=He(Oe)),iP(e,a,o,Oe),$6(e,l,n,o,Oe),rP(K,l,o,Oe),sP(K,l,o,Oe),px(K,l,o,Oe),B2(e,l,o,Oe))})},W=Vg(r)?r:y.getNode();if(p.getContentEditable(W)==="false"&&!b4(e,W)){r=W,N(a,r),na(e,n,r,o);return}if(l){if(r)if(Vg(r)){if(!N(a,r)){const K=p.createRng();K.setStartBefore(r),K.setEndAfter(r),F(p,$f(p,K,a),!0)}}else F(p,r,!0);else!d||!er(l)||jp(e).length?(y.setRng(Z1(y.getRng())),Ff(e,()=>{rw(e,(K,G)=>{const Y=G?K:$f(p,K,a);F(p,Y,!1)})},ht),e.nodeChanged()):O6(e,n,o),P6(e.formatter,n).each(K=>{De(I2(e.selection),G=>aP(p,G,K,o))});UN(n,e)}na(e,n,r,o)},H2=(e,n,o,r)=>{(r||e.selection.isEditable())&&hx(e,n,o,r)},gx=e=>Lt(e,"vars"),H6=(e,n)=>{e.set({}),n.on("NodeChange",o=>{z2(n,o.element,e.get())}),n.on("FormatApply FormatRemove",o=>{const r=$.from(o.node).map(a=>Vg(a)?a:a.startContainer).bind(a=>lt(a)?$.some(a):$.from(a.parentElement)).getOrThunk(()=>cP(n));z2(n,r,e.get())})},cP=e=>e.selection.getStart(),U2=(e,n,o,r,a)=>Yl(n,p=>{const y=e.formatter.matchNode(p,o,a??{},r);return!nn(y)},p=>PN(e,p,o)?!0:r?!1:Je(e.formatter.matchNode(p,o,a,!0))),bx=(e,n)=>{const o=n??cP(e);return qt(qg(e.dom,o),r=>lt(r)&&!cf(r))},z2=(e,n,o)=>{const r=bx(e,n);at(o,(a,l)=>{const d=p=>{const y=U2(e,r,l,p.similar,gx(p)?p.vars:void 0),T=y.isSome();if(p.state.get()!==T){p.state.set(T);const N=y.getOr(n);gx(p)?p.callback(T,{node:N,format:l,parents:r}):De(p.callbacks,B=>B(T,{node:N,format:l,parents:r}))}};De([a.withSimilar,a.withoutSimilar],d),De(a.withVars,d)})},U6=(e,n,o,r,a,l)=>{const d=n.get();De(o.split(","),p=>{const y=xo(d,p).getOrThunk(()=>{const N={withSimilar:{state:No(!1),similar:!0,callbacks:[]},withoutSimilar:{state:No(!1),similar:!1,callbacks:[]},withVars:[]};return d[p]=N,N}),T=()=>{const N=bx(e);return U2(e,N,p,a,l).isSome()};if(nn(l)){const N=a?y.withSimilar:y.withoutSimilar;N.callbacks.push(r),N.callbacks.length===1&&N.state.set(T())}else y.withVars.push({state:No(T()),similar:a,vars:l,callback:r})}),n.set(d)},z6=(e,n,o)=>{const r=e.get();De(n.split(","),a=>xo(r,a).each(l=>{r[a]={withSimilar:{...l.withSimilar,callbacks:qt(l.withSimilar.callbacks,d=>d!==o)},withoutSimilar:{...l.withoutSimilar,callbacks:qt(l.withoutSimilar.callbacks,d=>d!==o)},withVars:qt(l.withVars,d=>d.callback!==o)}})),e.set(r)},V6=(e,n,o,r,a,l)=>(U6(e,n,o,r,a,l),{unbind:()=>z6(n,o,r)}),yx=(e,n,o,r)=>{const a=e.formatter.get(n);a&&(Tb(e,n,o,r)&&(!("toggle"in a[0])||a[0].toggle)?oP(e,n,o,r):H2(e,n,o,r))},$l=k.explode,lP=()=>{const e={};return{addFilter:(a,l)=>{De($l(a),d=>{Lt(e,d)||(e[d]={name:d,callbacks:[]}),e[d].callbacks.push(l)})},getFilters:()=>Hm(e),removeFilter:(a,l)=>{De($l(a),d=>{if(Lt(e,d))if(Je(l)){const p=e[d],y=qt(p.callbacks,T=>T!==l);y.length>0?p.callbacks=y:delete e[d]}else delete e[d]})}}},V2=(e,n)=>{De(n,o=>{e.attr(o,null)})},as=(e,n,o)=>{e.addNodeFilter("font",r=>{De(r,a=>{const l=n.parse(a.attr("style")),d=a.attr("color"),p=a.attr("face"),y=a.attr("size");d&&(l.color=d),p&&(l["font-family"]=p),y&&eu(y).each(T=>{l["font-size"]=o[T-1]}),a.name="span",a.attr("style",n.serialize(l)),V2(a,["color","face","size"])})})},W2=(e,n,o)=>{e.addNodeFilter("strike",r=>{const a=n.type!=="html4";De(r,l=>{if(a)l.name="s";else{const d=o.parse(l.attr("style"));d["text-decoration"]="line-through",l.name="span",l.attr("style",o.serialize(d))}})})},G2=(e,n,o)=>{var r;const a=Ju();n.convert_fonts_to_spans&&as(e,a,k.explode((r=n.font_size_legacy_values)!==null&&r!==void 0?r:"")),W2(e,o,a)},bu=(e,n,o)=>{n.inline_styles&&G2(e,n,o)},uP=e=>fetch(e).then(n=>n.ok?n.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),dP=e=>{const n=/([a-z0-9+\/=\s]+)/i.exec(e);return n?n[1]:""},em=e=>{const[n,...o]=e.split(","),r=o.join(","),a=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(a){const l=a[2]===";base64",d=l?dP(r):decodeURIComponent(r);return $.some({type:a[1],data:d,base64Encoded:l})}else return $.none()},fP=(e,n,o=!0)=>{let r=n;if(o)try{r=atob(n)}catch{return $.none()}const a=new Uint8Array(r.length);for(let l=0;l<a.length;l++)a[l]=r.charCodeAt(l);return $.some(new Blob([a],{type:e}))},W6=e=>new Promise((n,o)=>{em(e).bind(({type:r,data:a,base64Encoded:l})=>fP(r,a,l)).fold(()=>o("Invalid data URI"),n)}),oh=e=>ns(e,"blob:")?uP(e):ns(e,"data:")?W6(e):Promise.reject("Unknown URI format"),mP=e=>new Promise((n,o)=>{const r=new FileReader;r.onloadend=()=>{n(r.result)},r.onerror=()=>{var a;o((a=r.error)===null||a===void 0?void 0:a.message)},r.readAsDataURL(e)});let tm=0;const G6=e=>"blobid"+tm++,yu=(e,n,o)=>em(e).bind(({data:r,type:a,base64Encoded:l})=>{if(n&&!l)return $.none();{const d=l?r:btoa(r);return o(d,a)}}),pP=(e,n,o)=>{const r=e.create(G6(),n,o);return e.add(r),r},aa=(e,n,o=!1)=>yu(n,o,(r,a)=>$.from(e.getByData(r,a)).orThunk(()=>fP(a,r).map(l=>pP(e,l,r)))),Rb=(e,n)=>{const o=()=>Promise.reject("Invalid data URI");if(ns(n,"blob:")){const r=e.getByUri(n);return Je(r)?Promise.resolve(r):oh(n).then(a=>mP(a).then(l=>yu(l,!1,d=>$.some(pP(e,a,d))).getOrThunk(o)))}else return ns(n,"data:")?aa(e,n).fold(o,r=>Promise.resolve(r)):Promise.reject("Unknown image data format")},q2=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,K2=e=>$.from(e.match(q2)).bind(n=>ni(n,1)).map(n=>ns(n,"www.")?n.substring(4):n),hP=(e,n)=>{$.from(e.attr("src")).bind(K2).forall(o=>!en(n,o))&&e.attr("sandbox","")},sh=(e,n)=>ns(e,`${n}/`),q6=e=>nn(e)?"iframe":sh(e,"image")?"img":sh(e,"video")?"video":sh(e,"audio")?"audio":"iframe",Sc=({type:e,src:n,width:o,height:r}={},a,l)=>{const d=q6(e),p=new Jr(d,1);return p.attr(d==="audio"?{src:n}:{src:n,width:o,height:r}),(d==="audio"||d==="video")&&p.attr("controls",""),d==="iframe"&&a&&hP(p,l),p},vx=e=>Je(e.attr("data-mce-bogus")),gP=e=>e.attr("src")===an.transparentSrc||Je(e.attr("data-mce-placeholder")),Y2=(e,n)=>{const{blob_cache:o}=n;if(o){const r=a=>{const l=a.attr("src");gP(a)||vx(a)||Qn(l)||aa(o,l,!0).each(d=>{a.attr("src",d.blobUri())})};e.addAttributeFilter("src",a=>De(a,r))}},X2=(e,n)=>{var o,r;const a=e.schema;e.addAttributeFilter("href",y=>{let T=y.length;const N=F=>F.split(" ").filter(K=>K.length>0).concat(["noopener"]).sort().join(" "),B=F=>{const W=F?k.trim(F):"";return/\b(noopener)\b/g.test(W)?W:N(W)};if(!n.allow_unsafe_link_target)for(;T--;){const F=y[T];F.name==="a"&&F.attr("target")==="_blank"&&F.attr("rel",B(F.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",y=>{let T=y.length,N,B,F,W;for(;T--;)if(W=y[T],W.name==="a"&&W.firstChild&&!W.attr("href"))for(F=W.parent,N=W.lastChild;N&&F;)B=N.prev,F.insert(N,W),N=B}),n.fix_list_elements&&e.addNodeFilter("ul,ol",y=>{let T=y.length,N,B;for(;T--;)if(N=y[T],B=N.parent,B&&(B.name==="ul"||B.name==="ol"))if(N.prev&&N.prev.name==="li")N.prev.append(N);else{const F=new Jr("li",1);F.attr("style","list-style-type: none"),N.wrap(F)}});const l=a.getValidClasses();n.validate&&l&&e.addAttributeFilter("class",y=>{var T;let N=y.length;for(;N--;){const B=y[N],F=(T=B.attr("class"))!==null&&T!==void 0?T:"",W=k.explode(F," ");let K="";for(let G=0;G<W.length;G++){const Y=W[G];let se=!1,le=l["*"];le&&le[Y]&&(se=!0),le=l[B.name],!se&&le&&le[Y]&&(se=!0),se&&(K&&(K+=" "),K+=Y)}K.length||(K=null),B.attr("class",K)}}),Y2(e,n);const d=(o=n.sandbox_iframes)!==null&&o!==void 0?o:!1,p=Ru((r=n.sandbox_iframes_exclusions)!==null&&r!==void 0?r:[]);n.convert_unsafe_embeds&&e.addNodeFilter("object,embed",y=>De(y,T=>{T.replace(Sc({type:T.attr("type"),src:T.name==="object"?T.attr("data"):T.attr("src"),width:T.attr("width"),height:T.attr("height")},d,p))})),d&&e.addNodeFilter("iframe",y=>De(y,T=>hP(T,p)))};/*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE */const{entries:Ed,setPrototypeOf:xx,isFrozen:K6,getPrototypeOf:bP,getOwnPropertyDescriptor:Y6}=Object;let{freeze:Fi,seal:wc,create:yP}=Object,{apply:nm,construct:J2}=typeof Reflect<"u"&&Reflect;Fi||(Fi=function(n){return n}),wc||(wc=function(n){return n}),nm||(nm=function(n,o,r){return n.apply(o,r)}),J2||(J2=function(n,o){return new n(...o)});const Nb=ja(Array.prototype.forEach),Cx=ja(Array.prototype.pop),Pb=ja(Array.prototype.push),Mb=ja(String.prototype.toLowerCase),Sx=ja(String.prototype.toString),vP=ja(String.prototype.match),Ib=ja(String.prototype.replace),X6=ja(String.prototype.indexOf),J6=ja(String.prototype.trim),ol=ja(Object.prototype.hasOwnProperty),Li=ja(RegExp.prototype.test),Bb=Z6(TypeError);function ja(e){return function(n){for(var o=arguments.length,r=new Array(o>1?o-1:0),a=1;a<o;a++)r[a-1]=arguments[a];return nm(e,n,r)}}function Z6(e){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return J2(e,o)}}function po(e,n){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Mb;xx&&xx(e,null);let r=n.length;for(;r--;){let a=n[r];if(typeof a=="string"){const l=o(a);l!==a&&(K6(n)||(n[r]=l),a=l)}e[a]=!0}return e}function Q6(e){for(let n=0;n<e.length;n++)ol(e,n)||(e[n]=null);return e}function om(e){const n=yP(null);for(const[o,r]of Ed(e))ol(e,o)&&(Array.isArray(r)?n[o]=Q6(r):r&&typeof r=="object"&&r.constructor===Object?n[o]=om(r):n[o]=r);return n}function Fb(e,n){for(;e!==null;){const r=Y6(e,n);if(r){if(r.get)return ja(r.get);if(typeof r.value=="function")return ja(r.value)}e=bP(e)}function o(){return null}return o}const Z2=Fi(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Q2=Fi(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Td=Fi(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),eH=Fi(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),eE=Fi(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),tH=Fi(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),xP=Fi(["#text"]),tE=Fi(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),nE=Fi(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),CP=Fi(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),wx=Fi(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),nH=wc(/\{\{[\w\W]*|[\w\W]*\}\}/gm),oH=wc(/<%[\w\W]*|[\w\W]*%>/gm),sH=wc(/\${[\w\W]*}/gm),rH=wc(/^data-[\-\w.\u00B7-\uFFFF]/),iH=wc(/^aria-[\-\w]+$/),SP=wc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),aH=wc(/^(?:\w+script|data):/i),oE=wc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),sE=wc(/^html$/i),yK=wc(/^[a-z][.\w]*(-[.\w]+)+$/i);var rh=Object.freeze({__proto__:null,MUSTACHE_EXPR:nH,ERB_EXPR:oH,TMPLIT_EXPR:sH,DATA_ATTR:rH,ARIA_ATTR:iH,IS_ALLOWED_URI:SP,IS_SCRIPT_OR_DATA:aH,ATTR_WHITESPACE:oE,DOCTYPE_NAME:sE,CUSTOM_ELEMENT:yK});const Lb={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},vK=function(){return typeof window>"u"?null:window},xK=function(n,o){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let r=null;const a="data-tt-policy-suffix";o&&o.hasAttribute(a)&&(r=o.getAttribute(a));const l="dompurify"+(r?"#"+r:"");try{return n.createPolicy(l,{createHTML(d){return d},createScriptURL(d){return d}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}};function cH(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:vK();const n=Cn=>cH(Cn);if(n.version="3.1.7",n.removed=[],!e||!e.document||e.document.nodeType!==Lb.document)return n.isSupported=!1,n;let{document:o}=e;const r=o,a=r.currentScript,{DocumentFragment:l,HTMLTemplateElement:d,Node:p,Element:y,NodeFilter:T,NamedNodeMap:N=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:B,DOMParser:F,trustedTypes:W}=e,K=y.prototype,G=Fb(K,"cloneNode"),Y=Fb(K,"remove"),se=Fb(K,"nextSibling"),le=Fb(K,"childNodes"),pe=Fb(K,"parentNode");if(typeof d=="function"){const Cn=o.createElement("template");Cn.content&&Cn.content.ownerDocument&&(o=Cn.content.ownerDocument)}let he,$e="";const{implementation:Ge,createNodeIterator:ut,createDocumentFragment:Oe,getElementsByTagName:Se}=o,{importNode:He}=r;let mt={};n.isSupported=typeof Ed=="function"&&typeof pe=="function"&&Ge&&Ge.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:kt,ERB_EXPR:mn,TMPLIT_EXPR:pn,DATA_ATTR:Vn,ARIA_ATTR:to,IS_SCRIPT_OR_DATA:ts,ATTR_WHITESPACE:mr,CUSTOM_ELEMENT:ss}=rh;let{IS_ALLOWED_URI:et}=rh,_t=null;const In=po({},[...Z2,...Q2,...Td,...eE,...xP]);let ct=null;const Ft=po({},[...tE,...nE,...CP,...wx]);let jt=Object.seal(yP(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ot=null,hn=null,xn=!0,hs=!0,ao=!1,pr=!0,vi=!1,fl=!0,Mr=!1,ma=!1,Xa=!1,Er=!1,xi=!1,Tt=!1,On=!0,Yo=!1;const gs="user-content-";let Ns=!0,bs=!1,Lo={},Go=null;const ti=po({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ja=null;const ml=po({},["audio","video","img","source","image","track"]);let kc=null;const Rm=po({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ud="http://www.w3.org/1998/Math/MathML",Tu="http://www.w3.org/2000/svg",Hi="http://www.w3.org/1999/xhtml";let _u=Hi,Hh=!1,Nm=null;const bC=po({},[Ud,Tu,Hi],Sx);let Pm=null;const BA=["application/xhtml+xml","text/html"],S$="text/html";let Tr=null,Za=null;const yC=o.createElement("form"),xe=function(we){return we instanceof RegExp||we instanceof Function},ve=function(){let we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Za&&Za===we)){if((!we||typeof we!="object")&&(we={}),we=om(we),Pm=BA.indexOf(we.PARSER_MEDIA_TYPE)===-1?S$:we.PARSER_MEDIA_TYPE,Tr=Pm==="application/xhtml+xml"?Sx:Mb,_t=ol(we,"ALLOWED_TAGS")?po({},we.ALLOWED_TAGS,Tr):In,ct=ol(we,"ALLOWED_ATTR")?po({},we.ALLOWED_ATTR,Tr):Ft,Nm=ol(we,"ALLOWED_NAMESPACES")?po({},we.ALLOWED_NAMESPACES,Sx):bC,kc=ol(we,"ADD_URI_SAFE_ATTR")?po(om(Rm),we.ADD_URI_SAFE_ATTR,Tr):Rm,Ja=ol(we,"ADD_DATA_URI_TAGS")?po(om(ml),we.ADD_DATA_URI_TAGS,Tr):ml,Go=ol(we,"FORBID_CONTENTS")?po({},we.FORBID_CONTENTS,Tr):ti,ot=ol(we,"FORBID_TAGS")?po({},we.FORBID_TAGS,Tr):{},hn=ol(we,"FORBID_ATTR")?po({},we.FORBID_ATTR,Tr):{},Lo=ol(we,"USE_PROFILES")?we.USE_PROFILES:!1,xn=we.ALLOW_ARIA_ATTR!==!1,hs=we.ALLOW_DATA_ATTR!==!1,ao=we.ALLOW_UNKNOWN_PROTOCOLS||!1,pr=we.ALLOW_SELF_CLOSE_IN_ATTR!==!1,vi=we.SAFE_FOR_TEMPLATES||!1,fl=we.SAFE_FOR_XML!==!1,Mr=we.WHOLE_DOCUMENT||!1,Er=we.RETURN_DOM||!1,xi=we.RETURN_DOM_FRAGMENT||!1,Tt=we.RETURN_TRUSTED_TYPE||!1,Xa=we.FORCE_BODY||!1,On=we.SANITIZE_DOM!==!1,Yo=we.SANITIZE_NAMED_PROPS||!1,Ns=we.KEEP_CONTENT!==!1,bs=we.IN_PLACE||!1,et=we.ALLOWED_URI_REGEXP||SP,_u=we.NAMESPACE||Hi,jt=we.CUSTOM_ELEMENT_HANDLING||{},we.CUSTOM_ELEMENT_HANDLING&&xe(we.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(jt.tagNameCheck=we.CUSTOM_ELEMENT_HANDLING.tagNameCheck),we.CUSTOM_ELEMENT_HANDLING&&xe(we.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(jt.attributeNameCheck=we.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),we.CUSTOM_ELEMENT_HANDLING&&typeof we.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(jt.allowCustomizedBuiltInElements=we.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),vi&&(hs=!1),xi&&(Er=!0),Lo&&(_t=po({},xP),ct=[],Lo.html===!0&&(po(_t,Z2),po(ct,tE)),Lo.svg===!0&&(po(_t,Q2),po(ct,nE),po(ct,wx)),Lo.svgFilters===!0&&(po(_t,Td),po(ct,nE),po(ct,wx)),Lo.mathMl===!0&&(po(_t,eE),po(ct,CP),po(ct,wx))),we.ADD_TAGS&&(_t===In&&(_t=om(_t)),po(_t,we.ADD_TAGS,Tr)),we.ADD_ATTR&&(ct===Ft&&(ct=om(ct)),po(ct,we.ADD_ATTR,Tr)),we.ADD_URI_SAFE_ATTR&&po(kc,we.ADD_URI_SAFE_ATTR,Tr),we.FORBID_CONTENTS&&(Go===ti&&(Go=om(Go)),po(Go,we.FORBID_CONTENTS,Tr)),Ns&&(_t["#text"]=!0),Mr&&po(_t,["html","head","body"]),_t.table&&(po(_t,["tbody"]),delete ot.tbody),we.TRUSTED_TYPES_POLICY){if(typeof we.TRUSTED_TYPES_POLICY.createHTML!="function")throw Bb('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof we.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Bb('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');he=we.TRUSTED_TYPES_POLICY,$e=he.createHTML("")}else he===void 0&&(he=xK(W,a)),he!==null&&typeof $e=="string"&&($e=he.createHTML(""));Fi&&Fi(we),Za=we}},tt=po({},["mi","mo","mn","ms","mtext"]),Ke=po({},["annotation-xml"]),Bt=po({},["title","style","font","a","script"]),Bn=po({},[...Q2,...Td,...eH]),Xo=po({},[...eE,...tH]),pl=function(we){let Nt=pe(we);(!Nt||!Nt.tagName)&&(Nt={namespaceURI:_u,tagName:"template"});const fn=Mb(we.tagName),t=Mb(Nt.tagName);return Nm[we.namespaceURI]?we.namespaceURI===Tu?Nt.namespaceURI===Hi?fn==="svg":Nt.namespaceURI===Ud?fn==="svg"&&(t==="annotation-xml"||tt[t]):!!Bn[fn]:we.namespaceURI===Ud?Nt.namespaceURI===Hi?fn==="math":Nt.namespaceURI===Tu?fn==="math"&&Ke[t]:!!Xo[fn]:we.namespaceURI===Hi?Nt.namespaceURI===Tu&&!Ke[t]||Nt.namespaceURI===Ud&&!tt[t]?!1:!Xo[fn]&&(Bt[fn]||!Bn[fn]):!!(Pm==="application/xhtml+xml"&&Nm[we.namespaceURI]):!1},Qa=function(we){Pb(n.removed,{element:we});try{pe(we).removeChild(we)}catch{Y(we)}},Mm=function(we,Nt){try{Pb(n.removed,{attribute:Nt.getAttributeNode(we),from:Nt})}catch{Pb(n.removed,{attribute:null,from:Nt})}if(Nt.removeAttribute(we),we==="is"&&!ct[we])if(Er||xi)try{Qa(Nt)}catch{}else try{Nt.setAttribute(we,"")}catch{}},w$=function(we){let Nt=null,fn=null;if(Xa)we="<remove></remove>"+we;else{const i=vP(we,/^[\r\n\t ]+/);fn=i&&i[0]}Pm==="application/xhtml+xml"&&_u===Hi&&(we='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+we+"</body></html>");const t=he?he.createHTML(we):we;if(_u===Hi)try{Nt=new F().parseFromString(t,Pm)}catch{}if(!Nt||!Nt.documentElement){Nt=Ge.createDocument(_u,"template",null);try{Nt.documentElement.innerHTML=Hh?$e:t}catch{}}const s=Nt.body||Nt.documentElement;return we&&fn&&s.insertBefore(o.createTextNode(fn),s.childNodes[0]||null),_u===Hi?Se.call(Nt,Mr?"html":"body")[0]:Mr?Nt.documentElement:s},E$=function(we){return ut.call(we.ownerDocument||we,we,T.SHOW_ELEMENT|T.SHOW_COMMENT|T.SHOW_TEXT|T.SHOW_PROCESSING_INSTRUCTION|T.SHOW_CDATA_SECTION,null)},FA=function(we){return we instanceof B&&(typeof we.nodeName!="string"||typeof we.textContent!="string"||typeof we.removeChild!="function"||!(we.attributes instanceof N)||typeof we.removeAttribute!="function"||typeof we.setAttribute!="function"||typeof we.namespaceURI!="string"||typeof we.insertBefore!="function"||typeof we.hasChildNodes!="function")},T$=function(we){return typeof p=="function"&&we instanceof p},Au=function(we,Nt,fn){mt[we]&&Nb(mt[we],t=>{t.call(n,Nt,fn,Za)})},_$=function(we){let Nt=null;if(Au("beforeSanitizeElements",we,null),FA(we))return Qa(we),!0;const fn=Tr(we.nodeName);if(Au("uponSanitizeElement",we,{tagName:fn,allowedTags:_t}),we.hasChildNodes()&&!T$(we.firstElementChild)&&Li(/<[/\w]/g,we.innerHTML)&&Li(/<[/\w]/g,we.textContent)||we.nodeType===Lb.progressingInstruction||fl&&we.nodeType===Lb.comment&&Li(/<[/\w]/g,we.data))return Qa(we),!0;if(!_t[fn]||ot[fn]){if(!ot[fn]&&k$(fn)&&(jt.tagNameCheck instanceof RegExp&&Li(jt.tagNameCheck,fn)||jt.tagNameCheck instanceof Function&&jt.tagNameCheck(fn)))return!1;if(Ns&&!Go[fn]){const t=pe(we)||we.parentNode,s=le(we)||we.childNodes;if(s&&t){const i=s.length;for(let c=i-1;c>=0;--c){const u=G(s[c],!0);u.__removalCount=(we.__removalCount||0)+1,t.insertBefore(u,se(we))}}}return Qa(we),!0}return we instanceof y&&!pl(we)||(fn==="noscript"||fn==="noembed"||fn==="noframes")&&Li(/<\/no(script|embed|frames)/i,we.innerHTML)?(Qa(we),!0):(vi&&we.nodeType===Lb.text&&(Nt=we.textContent,Nb([kt,mn,pn],t=>{Nt=Ib(Nt,t," ")}),we.textContent!==Nt&&(Pb(n.removed,{element:we.cloneNode()}),we.textContent=Nt)),Au("afterSanitizeElements",we,null),!1)},A$=function(we,Nt,fn){if(On&&(Nt==="id"||Nt==="name")&&(fn in o||fn in yC))return!1;if(!(hs&&!hn[Nt]&&Li(Vn,Nt))){if(!(xn&&Li(to,Nt))){if(!ct[Nt]||hn[Nt]){if(!(k$(we)&&(jt.tagNameCheck instanceof RegExp&&Li(jt.tagNameCheck,we)||jt.tagNameCheck instanceof Function&&jt.tagNameCheck(we))&&(jt.attributeNameCheck instanceof RegExp&&Li(jt.attributeNameCheck,Nt)||jt.attributeNameCheck instanceof Function&&jt.attributeNameCheck(Nt))||Nt==="is"&&jt.allowCustomizedBuiltInElements&&(jt.tagNameCheck instanceof RegExp&&Li(jt.tagNameCheck,fn)||jt.tagNameCheck instanceof Function&&jt.tagNameCheck(fn))))return!1}else if(!kc[Nt]){if(!Li(et,Ib(fn,mr,""))){if(!((Nt==="src"||Nt==="xlink:href"||Nt==="href")&&we!=="script"&&X6(fn,"data:")===0&&Ja[we])){if(!(ao&&!Li(ts,Ib(fn,mr,"")))){if(fn)return!1}}}}}}return!0},k$=function(we){return we!=="annotation-xml"&&vP(we,ss)},LA=function(we){Au("beforeSanitizeAttributes",we,null);const{attributes:Nt}=we;if(!Nt)return;const fn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ct};let t=Nt.length;for(;t--;){const s=Nt[t],{name:i,namespaceURI:c,value:u}=s,f=Tr(i);let m=i==="value"?u:J6(u);const b=m;if(fn.attrName=f,fn.attrValue=m,fn.keepAttr=!0,fn.forceKeepAttr=void 0,Au("uponSanitizeAttribute",we,fn),m=fn.attrValue,fn.forceKeepAttr)continue;if(!fn.keepAttr){Mm(i,we);continue}if(!pr&&Li(/\/>/i,m)){Mm(i,we);continue}vi&&Nb([kt,mn,pn],A=>{m=Ib(m,A," ")});const S=Tr(we.nodeName);if(!A$(S,f,m)){Mm(i,we);continue}if(Yo&&(f==="id"||f==="name")&&(Mm(i,we),m=gs+m),fl&&Li(/((--!?|])>)|<\/(style|title)/i,m)){Mm(i,we);continue}if(he&&typeof W=="object"&&typeof W.getAttributeType=="function"&&!c)switch(W.getAttributeType(S,f)){case"TrustedHTML":{m=he.createHTML(m);break}case"TrustedScriptURL":{m=he.createScriptURL(m);break}}if(m!==b)try{c?we.setAttributeNS(c,i,m):we.setAttribute(i,m),FA(we)?Qa(we):Cx(n.removed)}catch{}}Au("afterSanitizeAttributes",we,null)},O$=function Cn(we){let Nt=null;const fn=E$(we);for(Au("beforeSanitizeShadowDOM",we,null);Nt=fn.nextNode();)Au("uponSanitizeShadowNode",Nt,null),!_$(Nt)&&(Nt.content instanceof l&&Cn(Nt.content),LA(Nt));Au("afterSanitizeShadowDOM",we,null)};return n.sanitize=function(Cn){let we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Nt=null,fn=null,t=null,s=null;if(Hh=!Cn,Hh&&(Cn="<!-->"),typeof Cn!="string"&&!T$(Cn))if(typeof Cn.toString=="function"){if(Cn=Cn.toString(),typeof Cn!="string")throw Bb("dirty is not a string, aborting")}else throw Bb("toString is not a function");if(!n.isSupported)return Cn;if(ma||ve(we),n.removed=[],typeof Cn=="string"&&(bs=!1),bs){if(Cn.nodeName){const u=Tr(Cn.nodeName);if(!_t[u]||ot[u])throw Bb("root node is forbidden and cannot be sanitized in-place")}}else if(Cn instanceof p)Nt=w$("<!---->"),fn=Nt.ownerDocument.importNode(Cn,!0),fn.nodeType===Lb.element&&fn.nodeName==="BODY"||fn.nodeName==="HTML"?Nt=fn:Nt.appendChild(fn);else{if(!Er&&!vi&&!Mr&&Cn.indexOf("<")===-1)return he&&Tt?he.createHTML(Cn):Cn;if(Nt=w$(Cn),!Nt)return Er?null:Tt?$e:""}Nt&&Xa&&Qa(Nt.firstChild);const i=E$(bs?Cn:Nt);for(;t=i.nextNode();)_$(t)||(t.content instanceof l&&O$(t.content),LA(t));if(bs)return Cn;if(Er){if(xi)for(s=Oe.call(Nt.ownerDocument);Nt.firstChild;)s.appendChild(Nt.firstChild);else s=Nt;return(ct.shadowroot||ct.shadowrootmode)&&(s=He.call(r,s,!0)),s}let c=Mr?Nt.outerHTML:Nt.innerHTML;return Mr&&_t["!doctype"]&&Nt.ownerDocument&&Nt.ownerDocument.doctype&&Nt.ownerDocument.doctype.name&&Li(sE,Nt.ownerDocument.doctype.name)&&(c="<!DOCTYPE "+Nt.ownerDocument.doctype.name+`>
`+c),vi&&Nb([kt,mn,pn],u=>{c=Ib(c,u," ")}),he&&Tt?he.createHTML(c):c},n.setConfig=function(){let Cn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ve(Cn),ma=!0},n.clearConfig=function(){Za=null,ma=!1},n.isValidAttribute=function(Cn,we,Nt){Za||ve({});const fn=Tr(Cn),t=Tr(we);return A$(fn,t,Nt)},n.addHook=function(Cn,we){typeof we=="function"&&(mt[Cn]=mt[Cn]||[],Pb(mt[Cn],we))},n.removeHook=function(Cn){if(mt[Cn])return Cx(mt[Cn])},n.removeHooks=function(Cn){mt[Cn]&&(mt[Cn]=[])},n.removeAllHooks=function(){mt={}},n}var wP=cH();const ca=k.each,Ex=k.trim,_d=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Ad={ftp:21,http:80,https:443,mailto:25},EP=["img","video"],$b=(e,n)=>Je(e)?!e:Je(n)?!en(EP,n):!0,TP=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},os=(e,n,o)=>{const r=TP(n).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(r)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(r)?$b(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)};class Ec{static parseDataUri(n){let o;const r=decodeURIComponent(n).split(","),a=/data:([^;]+)/.exec(r[0]);return a&&(o=a[1]),{type:o,data:r[1]}}static isDomSafe(n,o,r={}){if(r.allow_script_urls)return!0;{const a=mf.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!os(r,a,o)}}static getDocumentBaseUrl(n){var o;let r;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?r=(o=n.href)!==null&&o!==void 0?o:"":r=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(n,o={}){this.path="",this.directory="",n=Ex(n),this.settings=o;const r=o.base_uri,a=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){a.source=n;return}const l=n.indexOf("//")===0;if(n.indexOf("/")===0&&!l&&(n=(r&&r.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const p=r?r.path:new Ec(document.location.href).directory;if((r==null?void 0:r.protocol)==="")n="//mce_host"+a.toAbsPath(p,n);else{const y=/([^#?]*)([#?]?.*)/.exec(n);y&&(n=(r&&r.protocol||"http")+"://mce_host"+a.toAbsPath(p,y[1])+y[2])}}n=n.replace(/@@/g,"(mce_at)");const d=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);d&&ca(_d,(p,y)=>{let T=d[y];T&&(T=T.replace(/\(mce_at\)/g,"@@")),a[p]=T}),r&&(a.protocol||(a.protocol=r.protocol),a.userInfo||(a.userInfo=r.userInfo),!a.port&&a.host==="mce_host"&&(a.port=r.port),(!a.host||a.host==="mce_host")&&(a.host=r.host),a.source=""),l&&(a.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new Ec(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const r=this.getURI(),a=o.getURI();if(r===a||r.charAt(r.length-1)==="/"&&r.substr(0,r.length-1)===a)return r;let l=this.toRelPath(this.path,o.path);return o.query&&(l+="?"+o.query),o.anchor&&(l+="#"+o.anchor),l}toAbsolute(n,o){const r=new Ec(n,{base_uri:this});return r.getURI(o&&this.isSameOrigin(r))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?Ad[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let r=0,a="",l,d;const p=n.substring(0,n.lastIndexOf("/")).split("/"),y=o.split("/");if(p.length>=y.length){for(l=0,d=p.length;l<d;l++)if(l>=y.length||p[l]!==y[l]){r=l+1;break}}if(p.length<y.length){for(l=0,d=y.length;l<d;l++)if(l>=p.length||p[l]!==y[l]){r=l+1;break}}if(r===1)return o;for(l=0,d=p.length-(r-1);l<d;l++)a+="../";for(l=r-1,d=y.length;l<d;l++)l!==r-1?a+="/"+y[l]:a+=y[l];return a}toAbsPath(n,o){let r=0;const a=/\/$/.test(o)?"/":"",l=n.split("/"),d=o.split("/"),p=[];ca(l,B=>{B&&p.push(B)});const y=[];for(let B=d.length-1;B>=0;B--)if(!(d[B].length===0||d[B]===".")){if(d[B]===".."){r++;continue}if(r>0){r--;continue}y.push(d[B])}const T=p.length-r;let N;return T<=0?N=Jo(y).join("/"):N=p.slice(0,T).join("/")+"/"+Jo(y).join("/"),N.indexOf("/")!==0&&(N="/"+N),a&&N.lastIndexOf("/")!==N.length-1&&(N+=a),N}getURI(n=!1){let o;return(!this.source||n)&&(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const lH=k.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),kd="data-mce-type";let sm=0;const rm=(e,n,o,r,a)=>{var l,d,p,y;const T=n.validate,N=o.getSpecialElements();e.nodeType===Do&&!n.allow_conditional_comments&&/^\[if/i.test((l=e.nodeValue)!==null&&l!==void 0?l:"")&&(e.nodeValue=" "+e.nodeValue);const B=(d=a==null?void 0:a.tagName)!==null&&d!==void 0?d:e.nodeName.toLowerCase();if(r!=="html"&&o.isValid(r)){Je(a)&&(a.allowedTags[B]=!0);return}if(e.nodeType!==li||B==="body")return;const F=ee.fromDom(e),W=Oi(F,kd),K=As(F,"data-mce-bogus");if(!W&&te(K)){K==="all"?Ro(F):Vu(F);return}const G=o.getElementRule(B);if(T&&!G){Lt(N,B)?Ro(F):Vu(F);return}else Je(a)&&(a.allowedTags[B]=!0);if(T&&G&&!W){if(De((p=G.attributesForced)!==null&&p!==void 0?p:[],Y=>{_s(F,Y.name,Y.value==="{$uid}"?`mce_${sm++}`:Y.value)}),De((y=G.attributesDefault)!==null&&y!==void 0?y:[],Y=>{Oi(F,Y.name)||_s(F,Y.name,Y.value==="{$uid}"?`mce_${sm++}`:Y.value)}),G.attributesRequired&&!vo(G.attributesRequired,Y=>Oi(F,Y))){Vu(F);return}if(G.removeEmptyAttrs&&Uo(F)){Vu(F);return}G.outputName&&G.outputName!==B&&Hk(F,G.outputName)}},rE=(e,n,o,r,a)=>{const l=e.tagName.toLowerCase(),{attrName:d,attrValue:p}=a;a.keepAttr=Tx(n,o,r,l,d,p),a.keepAttr?(a.allowedAttributes[d]=!0,aE(d,o)&&(a.attrValue=d),n.allow_svg_data_urls&&ns(p,"data:image/svg+xml")&&(a.forceKeepAttr=!0)):iE(e,d)&&(a.forceKeepAttr=!0)},Tx=(e,n,o,r,a,l)=>o!=="html"&&!Mo(r)?!0:!(a in lH&&os(e,l,r))&&(!e.validate||n.isValid(r,a)||ns(a,"data-")||ns(a,"aria-")),iE=(e,n)=>e.hasAttribute(kd)&&(n==="id"||n==="class"||n==="style"),aE=(e,n)=>e in n.getBoolAttrs(),uH=(e,n,o,r)=>{const{attributes:a}=e;for(let l=a.length-1;l>=0;l--){const d=a[l],p=d.name,y=d.value;!Tx(n,o,r,e.tagName.toLowerCase(),p,y)&&!iE(e,p)?e.removeAttribute(p):aE(p,o)&&e.setAttribute(p,p)}},dH=(e,n,o)=>{const r=wP();return r.addHook("uponSanitizeElement",(a,l)=>{rm(a,e,n,o.track(a),l)}),r.addHook("uponSanitizeAttribute",(a,l)=>{rE(a,e,n,o.current(),l)}),r},_P=(e,n)=>{const r={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[],SAFE_FOR_XML:!1}};return r.PARSER_MEDIA_TYPE=n,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},fH=e=>{const n=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(r=>`xlink:${r}`),o={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:n};wP().sanitize(e,o)},mH=(e,n)=>{const o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}},r=wP();r.addHook("uponSanitizeElement",(a,l)=>{var d;const p=(d=l.tagName)!==null&&d!==void 0?d:a.nodeName.toLowerCase(),y=n.allow_mathml_annotation_encodings;if(p==="annotation"&&Zt(y)&&y.length>0){const T=a.getAttribute("encoding");te(T)&&en(y,T)&&(l.allowedTags[p]=!0)}}),r.sanitize(e,o)},pH=e=>n=>{const o=qu(n);if(o==="svg")fH(n);else if(o==="math")mH(n,e);else throw new Error("Not a namespace element")},hH=(e,n)=>{const o=Hq();if(e.sanitize){const r=dH(e,n,o);return{sanitizeHtmlElement:(l,d)=>{r.sanitize(l,_P(e,d)),r.removed=[],o.reset()},sanitizeNamespaceElement:pH(e)}}else return{sanitizeHtmlElement:(l,d)=>{const p=document.createNodeIterator(l,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let y;for(;y=p.nextNode();){const T=o.track(y);rm(y,e,n,T),lt(y)&&uH(y,e,n,T)}o.reset()},sanitizeNamespaceElement:Ot}},AP=k.makeMap,cE=k.extend,kP=(e,n,o,r)=>{const a=e.name,l=a in o&&a!=="title"&&a!=="textarea"&&a!=="noscript",d=n.childNodes;for(let p=0,y=d.length;p<y;p++){const T=d[p],N=new Jr(T.nodeName.toLowerCase(),T.nodeType);if(lt(T)){const B=T.attributes;for(let F=0,W=B.length;F<W;F++){const K=B[F];N.attr(K.name,K.value)}Mo(N.name)&&(r(T),N.value=T.innerHTML)}else Ve(T)?(N.value=T.data,l&&(N.raw=!0)):(qs(T)||mi(T)||cp(T))&&(N.value=T.data);Mo(N.name)||kP(N,T,o,r),e.append(N)}},jb=(e,n,o)=>{const r=[];for(let a=e,l=a;a;l=a,a=a.walk()){const d=a;De(n,p=>p(d)),Qn(d.parent)&&d!==e?a=l:r.push(d)}for(let a=r.length-1;a>=0;a--){const l=r[a];De(o,d=>d(l))}},OP=(e,n,o,r)=>{const a=o.validate,l=n.getNonEmptyElements(),d=n.getWhitespaceElements(),p=cE(AP("script,style,head,html,body,title,meta,param"),n.getBlockElements()),y=_k(n),T=/[ \t\r\n]+/g,N=/^[ \t\r\n]+/,B=/[ \t\r\n]+$/,F=le=>{let pe=le.parent;for(;Je(pe);){if(pe.name in d)return!0;pe=pe.parent}return!1},W=le=>{let pe=le;for(;Je(pe);){if(pe.name in y)return ws(n,l,d,pe);pe=pe.parent}return!1},K=le=>le.name in p||tS(n,le)||Mo(le.name)&&le.parent===e,G=(le,pe)=>{const he=pe?le.prev:le.next;return Je(he)||Qn(le.parent)?!1:K(le.parent)&&(le.parent!==e||r.isRootContent===!0)};return[le=>{var pe;if(le.type===3&&!F(le)){let he=(pe=le.value)!==null&&pe!==void 0?pe:"";he=he.replace(T," "),(d6(le.prev,K)||G(le,!0))&&(he=he.replace(N,"")),he.length===0||he===" "&&le.prev&&le.prev.type===Do&&le.next&&le.next.type===Do?le.remove():le.value=he}},le=>{var pe;if(le.type===1){const he=n.getElementRule(le.name);if(a&&he){const $e=ws(n,l,d,le);he.paddInEmptyBlock&&$e&&W(le)?S2(o,r,K,le):he.removeEmpty&&$e?K(le)?le.remove():le.unwrap():he.paddEmpty&&($e||xd(le))&&S2(o,r,K,le)}}else if(le.type===3&&!F(le)){let he=(pe=le.value)!==null&&pe!==void 0?pe:"";(le.next&&K(le.next)||G(le,!1))&&(he=he.replace(B,"")),he.length===0?le.remove():le.value=he}}]},gH=(e,n)=>{var o;const r=(o=n.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return r===!1?"":r===!0?"p":r},im=(e={},n=no())=>{const o=lP(),r=lP(),a={validate:!0,root_name:"body",sanitize:!0,...e},l=new DOMParser,d=hH(a,n),p=(pe,he,$e="html")=>{const Ge=$e==="xhtml"?"application/xhtml+xml":"text/html",ut=Lt(n.getSpecialElements(),he.toLowerCase()),Oe=ut?`<${he}>${pe}</${he}>`:pe,Se=()=>$e==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Oe}</body></html>`:/^[\s]*<head/i.test(pe)||/^[\s]*<html/i.test(pe)||/^[\s]*<!DOCTYPE/i.test(pe)?`<html>${Oe}</html>`:`<body>${Oe}</body>`,He=l.parseFromString(Se(),Ge).body;return d.sanitizeHtmlElement(He,Ge),ut?He.firstChild:He},y=o.addFilter,T=o.getFilters,N=o.removeFilter,B=r.addFilter,F=r.getFilters,W=r.removeFilter,K=(pe,he)=>{w2(n,pe)&&he.push(pe)},G=(pe,he)=>{const $e=te(he.attr(kd)),Ge=he.type===1&&!Lt(pe,he.name)&&!tS(n,he)&&!Mo(he.name);return he.type===3||Ge&&!$e},Y=(pe,he)=>{const $e=cE(AP("script,style,head,html,body,title,meta,param"),n.getBlockElements()),Ge=/^[ \t\r\n]+/,ut=/[ \t\r\n]+$/;let Oe=pe.firstChild,Se=null;const He=mt=>{var kt,mn;mt&&(Oe=mt.firstChild,Oe&&Oe.type===3&&(Oe.value=(kt=Oe.value)===null||kt===void 0?void 0:kt.replace(Ge,"")),Oe=mt.lastChild,Oe&&Oe.type===3&&(Oe.value=(mn=Oe.value)===null||mn===void 0?void 0:mn.replace(ut,"")))};if(n.isValidChild(pe.name,he.toLowerCase())){for(;Oe;){const mt=Oe.next;G($e,Oe)?(Se||(Se=new Jr(he,1),Se.attr(a.forced_root_block_attrs),pe.insert(Se,Oe)),Se.append(Oe)):(He(Se),Se=null),Oe=mt}He(Se)}},le={schema:n,addAttributeFilter:B,getAttributeFilters:F,removeAttributeFilter:W,addNodeFilter:y,getNodeFilters:T,removeNodeFilter:N,parse:(pe,he={})=>{var $e;const Ge=a.validate,ut=($e=he.context)!==null&&$e!==void 0?$e:a.root_name,Oe=p(pe,ut,he.format);eS(n,Oe);const Se=new Jr(ut,11);kP(Se,Oe,n.getSpecialElements(),d.sanitizeNamespaceElement),Oe.innerHTML="";const[He,mt]=OP(Se,n,a,he),kt=[],mn=Ge?ts=>K(ts,kt):Ot,pn={nodes:{},attributes:{}},Vn=ts=>_N(T(),F(),ts,pn);if(jb(Se,[He,Vn],[mt,mn]),kt.reverse(),Ge&&kt.length>0)if(he.context){const{pass:ts,fail:mr}=tc(kt,ss=>ss.parent===Se);Ln(mr,n,Se,Vn),he.invalid=ts.length>0}else Ln(kt,n,Se,Vn);const to=gH(a,he);return to&&(Se.name==="body"||he.isRootContent)&&Y(Se,to),he.invalid||x2(pn,he),Se}};return X2(le,a),bu(le,a,n),le},bH=e=>Sd(e)?md({validate:!1}).serialize(e):e,lE=(e,n,o)=>{const r=bH(e),a=n(r);if(a.isDefaultPrevented())return a;if(Sd(e))if(a.content!==r){const l=im({validate:!1,forced_root_block:!1,...o}).parse(a.content,{context:e.name});return{...a,content:l}}else return{...a,content:e};else return a},DP=e=>({sanitize:FO(e),sandbox_iframes:jS(e),sandbox_iframes_exclusions:HS(e)}),RP=(e,n)=>{if(n.no_events)return $s.value(n);{const o=gw(e,n);return o.isDefaultPrevented()?$s.error(LD(e,{content:"",...o}).content):$s.value(o)}},uE=(e,n,o)=>o.no_events?n:lE(n,a=>LD(e,{...o,content:a}),DP(e)).content,_x=(e,n)=>{if(n.no_events)return $s.value(n);{const o=lE(n.content,r=>hw(e,{...n,content:r}),DP(e));return o.isDefaultPrevented()?(FD(e,o),$s.error(void 0)):$s.value(o)}},Ax=(e,n,o)=>{o.no_events||FD(e,{...o,content:n})},kx=(e,n,o)=>({element:e,width:n,rows:o}),dE=(e,n)=>({element:e,cells:n}),NP=(e,n)=>({x:e,y:n}),PP=(e,n)=>_a(e,n).bind(eu).getOr(1),yH=(e,n,o,r,a)=>{const l=PP(a,"rowspan"),d=PP(a,"colspan"),p=e.rows;for(let y=o;y<o+l;y++){p[y]||(p[y]=dE(Dv(r),[]));for(let T=n;T<n+d;T++){const N=p[y].cells;N[T]=y===o&&T===n?a:Zu(a)}}},vH=(e,n,o)=>{const r=e.rows;return!!(r[o]?r[o].cells:[])[n]},fE=(e,n,o)=>{for(;vH(e,n,o);)n++;return n},ih=e=>ls(e,(n,o)=>o.cells.length>n?o.cells.length:n,0),mE=(e,n)=>{const o=e.rows;for(let r=0;r<o.length;r++){const a=o[r].cells;for(let l=0;l<a.length;l++)if(Ne(a[l],n))return $.some(NP(l,r))}return $.none()},pE=(e,n,o,r,a)=>{const l=[],d=e.rows;for(let p=o;p<=a;p++){const y=d[p].cells,T=n<r?y.slice(n,r+1):y.slice(r,n+1);l.push(dE(d[p].element,T))}return l},Ox=(e,n,o)=>{const r=n.x,a=n.y,l=o.x,d=o.y,p=a<d?pE(e,r,a,l,d):pE(e,r,d,l,a);return kx(e.element,ih(p),p)},xH=(e,n)=>{const o=Zu(e.element),r=ee.fromTag("tbody");return zu(r,n),Gs(o,r),o},CH=e=>on(e.rows,n=>{const o=on(n.cells,a=>{const l=Dv(a);return sr(l,"colspan"),sr(l,"rowspan"),l}),r=Zu(n.element);return zu(r,o),r}),am=e=>{const n=kx(Zu(e),0,[]);return De(fi(e,"tr"),(o,r)=>{De(fi(o,"td,th"),(a,l)=>{yH(n,fE(n,l,r),r,o,a)})}),kx(n.element,ih(n.rows),n.rows)},hE=e=>xH(e,CH(e)),MP=(e,n,o)=>mE(e,n).bind(r=>mE(e,o).map(a=>Ox(e,r,a))),Hb=e=>Ho(e,n=>gn(n)==="ul"||gn(n)==="ol"),IP=(e,n)=>Ho(e,o=>gn(o)==="li"&&sw(o,n)).fold(it([]),o=>Hb(e).map(r=>{const a=ee.fromTag(gn(r)),l=Xl(BC(r),(d,p)=>ns(p,"list-style"));return bn(a,l),[ee.fromTag("li"),a]}).getOr([])),gE=(e,n)=>{const o=ls(n,(r,a)=>(Gs(a,r),a),e);return n.length>0?b1([o]):o},BP=e=>wf(e)?dn(e).filter(dS).fold(it([]),n=>[e,n]):dS(e)?[e]:[],FP=(e,n,o)=>{const r=ee.fromDom(n.commonAncestorContainer),a=Fl(r,e),l=qt(a,y=>o.isWrapper(gn(y))),d=IP(a,n),p=l.concat(d.length?d:BP(r));return on(p,Zu)},LP=()=>b1([]),SH=(e,n,o)=>gE(ee.fromDom(n.cloneContents()),FP(e,n,o)),wH=(e,n)=>Vs(n,"table",bt(Ne,e)),bE=(e,n)=>wH(e,n[0]).bind(o=>{const r=n[0],a=n[n.length-1],l=am(o);return MP(l,r,a).map(d=>b1([hE(d)]))}).getOrThunk(LP),EH=(e,n,o)=>n.length>0&&n[0].collapsed?LP():SH(e,n[0],o),$P=(e,n,o)=>{const r=gD(n,e);return r.length>0?bE(e,r):EH(e,n,o)},Dx=(e,n)=>n>=0&&n<e.length&&Bf(e.charAt(n)),jP=e=>Qi(e.innerText),TH=e=>e.map(n=>n.nodeName).getOr("div").toLowerCase(),_H=e=>$.from(e.selection.getRng()).map(n=>{var o;const r=$.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),a=e.getBody(),l=TH(r),d=ee.fromDom(n.cloneContents());OR(d),DR(d);const p=e.dom.add(a,l,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},d.dom),y=jP(p),T=Qi((o=p.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(p),Dx(T,0)||Dx(T,T.length-1)){const N=r.getOr(a),B=jP(N),F=B.indexOf(y);if(F===-1)return y;{const W=Dx(B,F-1),K=Dx(B,F+y.length);return(W?" ":"")+y+(K?" ":"")}}else return y}).getOr(""),AH=(e,n)=>{const o=e.selection.getRng(),r=e.dom.create("body"),a=e.selection.getSel(),l=P1(e,i1(a)),d=n.contextual?$P(ee.fromDom(e.getBody()),l,e.schema).dom:o.cloneContents();return d&&r.appendChild(d),e.selection.serializer.serialize(r,n)},kH=(e,n)=>{if(n.format==="text")return _H(e);{const o=AH(e,n);return n.format==="tree"?o:e.selection.isCollapsed()?"":o}},OH=(e,n)=>({...e,format:n,get:!0,selection:!0,getInner:!0}),DH=(e,n,o={})=>{const r=OH(o,n);return RP(e,r).fold(jo,a=>{const l=kH(e,a);return uE(e,l,a)})},yE=0,HP=1,UP=2,Rx=(e,n)=>{const o=e.length+n.length+2,r=new Array(o),a=new Array(o),l=(N,B,F)=>({start:N,end:B,diag:F}),d=(N,B,F,W,K)=>{const G=y(N,B,F,W);if(G===null||G.start===B&&G.diag===B-W||G.end===N&&G.diag===N-F){let Y=N,se=F;for(;Y<B||se<W;)Y<B&&se<W&&e[Y]===n[se]?(K.push([yE,e[Y]]),++Y,++se):B-N>W-F?(K.push([UP,e[Y]]),++Y):(K.push([HP,n[se]]),++se)}else{d(N,G.start,F,G.start-G.diag,K);for(let Y=G.start;Y<G.end;++Y)K.push([yE,e[Y]]);d(G.end,B,G.end-G.diag,W,K)}},p=(N,B,F,W)=>{let K=N;for(;K-B<W&&K<F&&e[K]===n[K-B];)++K;return l(N,K,B)},y=(N,B,F,W)=>{const K=B-N,G=W-F;if(K===0||G===0)return null;const Y=K-G,se=G+K,le=(se%2===0?se:se+1)/2;r[1+le]=N,a[1+le]=B+1;let pe,he,$e,Ge,ut;for(pe=0;pe<=le;++pe){for(he=-pe;he<=pe;he+=2){for($e=he+le,he===-pe||he!==pe&&r[$e-1]<r[$e+1]?r[$e]=r[$e+1]:r[$e]=r[$e-1]+1,Ge=r[$e],ut=Ge-N+F-he;Ge<B&&ut<W&&e[Ge]===n[ut];)r[$e]=++Ge,++ut;if(Y%2!==0&&Y-pe<=he&&he<=Y+pe&&a[$e-Y]<=r[$e])return p(a[$e-Y],he+N-F,B,W)}for(he=Y-pe;he<=Y+pe;he+=2){for($e=he+le-Y,he===Y-pe||he!==Y+pe&&a[$e+1]<=a[$e-1]?a[$e]=a[$e+1]-1:a[$e]=a[$e-1],Ge=a[$e]-1,ut=Ge-N+F-he;Ge>=N&&ut>=F&&e[Ge]===n[ut];)a[$e]=Ge--,ut--;if(Y%2===0&&-pe<=he&&he<=pe&&a[$e]<=r[$e+Y])return p(a[$e],he+N-F,B,W)}}return null},T=[];return d(0,e.length,0,n.length,T),T},Nr=e=>lt(e)?e.outerHTML:Ve(e)?mf.encodeRaw(e.data,!1):qs(e)?"<!--"+e.data+"-->":"",RH=e=>{let n;const o=document.createElement("div"),r=document.createDocumentFragment();for(e&&(o.innerHTML=e);n=o.firstChild;)r.appendChild(n);return r},Nx=(e,n,o)=>{const r=RH(n);if(e.hasChildNodes()&&o<e.childNodes.length){const a=e.childNodes[o];e.insertBefore(r,a)}else e.appendChild(r)},cm=(e,n)=>{if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.removeChild(o)}},zP=(e,n)=>{let o=0;De(e,r=>{r[0]===yE?o++:r[0]===HP?(Nx(n,r[1],o),o++):r[0]===UP&&cm(n,o)})},$i=(e,n)=>qt(on(si(e.childNodes),D(Qi,Nr)),o=>o.length>0),lm=(e,n)=>{const o=on(si(n.childNodes),Nr);return zP(Rx(o,e),n),n},VP=Vi(()=>document.implementation.createHTMLDocument("undo")),NH=e=>e.querySelector("iframe")!==null,WP=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),PH=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),Ub=e=>{const n=e.serializer.getTempAttrs(),o=kR(e.getBody(),n);return NH(o)?WP($i(o)):PH(Qi(o.innerHTML))},um=(e,n,o)=>{const r=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?lm(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:Je(r)&&d4(r)?!r.isFakeCaret:!0}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},zb=e=>e.type==="fragmented"?e.fragments.join(""):e.content,GP=e=>{const n=ee.fromTag("body",VP());return cg(n,zb(e)),De(fi(n,"*[data-mce-bogus]"),Vu),Qo(n)},qP=(e,n)=>zb(e)===zb(n),MH=(e,n)=>GP(e)===GP(n),Vb=(e,n)=>!e||!n?!1:qP(e,n)?!0:MH(e,n),Wb=e=>e.get()===0,Px=(e,n,o)=>{Wb(o)&&(e.typing=n)},KP=(e,n)=>{e.typing&&(Px(e,!1,n),e.add())},YP=e=>{e.typing&&(e.typing=!1,e.add())},sl=(e,n,o)=>{Wb(n)&&o.set(Uv(e.selection))},vE=(e,n,o,r,a,l,d)=>{const p=Ub(e),y=k.extend(l||{},p);if(!Wb(r)||e.removed)return null;const T=n.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:y,lastLevel:T,originalEvent:d}).isDefaultPrevented()||T&&Vb(T,y))return null;n.data[o.get()]&&a.get().each(F=>{n.data[o.get()].beforeBookmark=F});const N=qv(e);if(N&&n.data.length>N){for(let F=0;F<n.data.length-1;F++)n.data[F]=n.data[F+1];n.data.length--,o.set(n.data.length)}y.bookmark=Uv(e.selection),o.get()<n.data.length-1&&(n.data.length=o.get()+1),n.data.push(y),o.set(n.data.length-1);const B={level:y,lastLevel:T,originalEvent:d};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",B),e.dispatch("change",B)):e.dispatch("AddUndo",B),y},IH=(e,n,o)=>{n.data=[],o.set(0),n.typing=!1,e.dispatch("ClearUndos")},Mx=(e,n,o,r,a)=>{if(n.transact(r)){const l=n.data[o.get()].bookmark,d=n.data[o.get()-1];um(e,d,!0),n.transact(a)&&(n.data[o.get()-1].beforeBookmark=l)}},xE=(e,n,o)=>{let r;return n.get()<o.length-1&&(n.set(n.get()+1),r=o[n.get()],um(e,r,!1),e.setDirty(!0),e.dispatch("Redo",{level:r})),r},XP=(e,n,o,r)=>{let a;return n.typing&&(n.add(),n.typing=!1,Px(n,!1,o)),r.get()>0&&(r.set(r.get()-1),a=n.data[r.get()],um(e,a,!0),e.setDirty(!0),e.dispatch("Undo",{level:a})),a},JP=e=>{e.clear(),e.add()},ZP=(e,n,o)=>o.get()>0||n.typing&&n.data[0]&&!Vb(Ub(e),n.data[0]),BH=(e,n)=>n.get()<e.data.length-1&&!e.typing,FH=(e,n,o)=>(KP(e,n),e.beforeChange(),e.ignore(o),e.add()),LH=(e,n)=>{try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},$H=(e,n)=>{const o=e.dom,r=Je(n)?n:e.getBody();De(o.select("table,a",r),a=>{switch(a.nodeName){case"TABLE":const l=NO(e),d=o.getAttrib(a,"border");(!d||d==="0")&&e.hasVisual?o.addClass(a,l):o.removeClass(a,l);break;case"A":if(!o.getAttrib(a,"href")){const p=o.getAttrib(a,"name")||a.id,y=FS(e);p&&e.hasVisual?o.addClass(a,y):o.removeClass(a,y)}break}}),e.dispatch("VisualAid",{element:n,hasVisual:e.hasVisual})},QP=e=>({init:{bindEvents:Ot},undoManager:{beforeChange:(n,o)=>sl(e,n,o),add:(n,o,r,a,l,d)=>vE(e,n,o,r,a,l,d),undo:(n,o,r)=>XP(e,n,o,r),redo:(n,o)=>xE(e,n,o),clear:(n,o)=>IH(e,n,o),reset:n=>JP(n),hasUndo:(n,o)=>ZP(e,n,o),hasRedo:(n,o)=>BH(n,o),transact:(n,o,r)=>FH(n,o,r),ignore:(n,o)=>LH(n,o),extra:(n,o,r,a)=>Mx(e,n,o,r,a)},formatter:{match:(n,o,r,a)=>Tb(e,n,o,r,a),matchAll:(n,o)=>MN(e,n,o),matchNode:(n,o,r,a)=>tl(e,n,o,r,a),canApply:n=>w6(e,n),closest:n=>ox(e,n),apply:(n,o,r)=>H2(e,n,o,r),remove:(n,o,r,a)=>oP(e,n,o,r,a),toggle:(n,o,r)=>yx(e,n,o,r),formatChanged:(n,o,r,a,l)=>V6(e,n,o,r,a,l)},editor:{getContent:n=>_j(e,n),setContent:(n,o)=>Jf(e,n,o),insertContent:(n,o)=>Bi(e,n,o),addVisual:n=>$H(e,n)},selection:{getContent:(n,o)=>DH(e,n,o)},autocompleter:{addDecoration:Ot,removeDecoration:Ot},raw:{getModel:()=>$.none()}}),eM=e=>{const n=T=>It(T)?T:{},{init:o,undoManager:r,formatter:a,editor:l,selection:d,autocompleter:p,raw:y}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:(T,N,B)=>r.transact(B),ignore:(T,N)=>r.ignore(N),extra:(T,N,B,F)=>r.extra(B,F)},formatter:{match:(T,N,B,F)=>a.match(T,n(N),F),matchAll:a.matchAll,matchNode:a.matchNode,canApply:T=>a.canApply(T),closest:T=>a.closest(T),apply:(T,N,B)=>a.apply(T,n(N)),remove:(T,N,B,F)=>a.remove(T,n(N)),toggle:(T,N,B)=>a.toggle(T,n(N)),formatChanged:(T,N,B,F,W)=>a.formatChanged(N,B,F,W)},editor:{getContent:T=>l.getContent(T),setContent:(T,N)=>({content:l.setContent(T,N),html:""}),insertContent:(T,N)=>(l.insertContent(T),""),addVisual:l.addVisual},selection:{getContent:(T,N)=>d.getContent(N)},autocompleter:{addDecoration:p.addDecoration,removeDecoration:p.removeDecoration},raw:{getModel:()=>$.some(y.getRawModel())}}},jH=()=>{const e=it(null),n=it("");return{init:{bindEvents:Ot},undoManager:{beforeChange:Ot,add:e,undo:e,redo:e,clear:Ot,reset:Ot,hasUndo:We,hasRedo:We,transact:e,ignore:Ot,extra:Ot},formatter:{match:We,matchAll:it([]),matchNode:it(void 0),canApply:We,closest:n,apply:Ot,remove:Ot,toggle:Ot,formatChanged:it({unbind:Ot})},editor:{getContent:n,setContent:it({content:"",html:""}),insertContent:it(""),addVisual:Ot},selection:{getContent:n},autocompleter:{addDecoration:Ot,removeDecoration:Ot},raw:{getModel:it($.none())}}},jl=e=>Lt(e.plugins,"rtc"),HH=e=>xo(e.plugins,"rtc").bind(n=>$.from(n.setup)),tM=e=>{const n=e;return HH(e).fold(()=>(n.rtcInstance=QP(e),$.none()),o=>(n.rtcInstance=jH(),$.some(()=>o().then(r=>(n.rtcInstance=eM(r),r.rtc.isRemote)))))},Gb=e=>e.rtcInstance?e.rtcInstance:QP(e),Es=e=>{const n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},nM=(e,n,o)=>{Es(e).undoManager.beforeChange(n,o)},CE=(e,n,o,r,a,l,d)=>Es(e).undoManager.add(n,o,r,a,l,d),oM=(e,n,o,r)=>Es(e).undoManager.undo(n,o,r),sM=(e,n,o)=>Es(e).undoManager.redo(n,o),SE=(e,n,o)=>{Es(e).undoManager.clear(n,o)},rM=(e,n)=>{Es(e).undoManager.reset(n)},iM=(e,n,o)=>Es(e).undoManager.hasUndo(n,o),aM=(e,n,o)=>Es(e).undoManager.hasRedo(n,o),UH=(e,n,o,r)=>Es(e).undoManager.transact(n,o,r),wE=(e,n,o)=>{Es(e).undoManager.ignore(n,o)},zH=(e,n,o,r,a)=>{Es(e).undoManager.extra(n,o,r,a)},Ix=(e,n,o,r,a)=>Es(e).formatter.match(n,o,r,a),VH=(e,n,o)=>Es(e).formatter.matchAll(n,o),WH=(e,n,o,r,a)=>Es(e).formatter.matchNode(n,o,r,a),GH=(e,n)=>Es(e).formatter.canApply(n),cM=(e,n)=>Es(e).formatter.closest(n),lM=(e,n,o,r)=>{Es(e).formatter.apply(n,o,r)},qH=(e,n,o,r,a)=>{Es(e).formatter.remove(n,o,r,a)},KH=(e,n,o,r)=>{Es(e).formatter.toggle(n,o,r)},YH=(e,n,o,r,a,l)=>Es(e).formatter.formatChanged(n,o,r,a,l),XH=(e,n)=>Gb(e).editor.getContent(n),JH=(e,n,o)=>Gb(e).editor.setContent(n,o),uM=(e,n,o)=>Gb(e).editor.insertContent(n,o),CK=(e,n,o)=>Es(e).selection.getContent(n,o),ZH=(e,n)=>Es(e).editor.addVisual(n),dM=e=>Es(e).init.bindEvents(),QH=(e,n={})=>{const o=n.format?n.format:"html";return CK(e,o,n)},fM=e=>e.dom.length===0?(Ro(e),$.none()):$.some(e),e8=(e,n)=>e.filter(o=>jf.isBookmarkNode(o.dom)).bind(n?zo:Co),t8=(e,n,o,r,a)=>{const l=e.dom,d=n.dom,p=r?l.length:d.length;r?(n2(l,d,a,!1,!r),o.setStart(d,p)):(n2(d,l,a,!1,!r),o.setEnd(d,p))},n8=(e,n,o)=>{dn(e).each(r=>{const a=e.dom;n&&lb(r,ke(a,0),o)?L1(a,0,o):!n&&ub(r,ke(a,a.length),o)&&t2(a,a.length,o)})},EE=(e,n,o,r,a)=>{e.bind(l=>((r?t2:L1)(l.dom,r?l.dom.length:0,a),n.filter(zs).map(p=>t8(l,p,o,r,a)))).orThunk(()=>e8(n,r).or(n).filter(zs).map(d=>n8(d,r,a)))},o8=(e,n,o)=>{const r=$.from(n.firstChild).map(ee.fromDom),a=$.from(n.lastChild).map(ee.fromDom);e.deleteContents(),e.insertNode(n);const l=r.bind(Co).filter(zs).bind(fM),d=a.bind(zo).filter(zs).bind(fM);EE(l,r,e,!0,o),EE(d,a,e,!1,o),e.collapse(!1)},s8=(e,n)=>({format:"html",...e,set:!0,selection:!0,content:n}),r8=(e,n)=>{if(n.format!=="raw"){const o=e.selection.getRng(),r=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),a=r?{context:r.nodeName.toLowerCase()}:{},l=e.parser.parse(n.content,{forced_root_block:!1,...a,...n});return md({validate:!1},e.schema).serialize(l)}else return n.content},i8=(e,n,o={})=>{const r=s8(o,n);_x(e,r).each(a=>{const l=r8(e,a),d=e.selection.getRng();o8(d,d.createContextualFragment(l),e.schema),e.selection.setRng(d),pu(e,d),Ax(e,l,a)})},mM=(e,n,o)=>{if(Lt(e,n)){const r=qt(e[n],a=>a!==o);r.length===0?delete e[n]:e[n]=r}};var SK=(e,n)=>{let o,r;const a=(p,y)=>Ho(y,T=>e.is(T,p)),l=p=>e.getParents(p,void 0,e.getRoot()),d=()=>{o={},r={},n.on("NodeChange",p=>{const y=p.element,T=l(y),N={};at(o,(B,F)=>{a(F,T).each(W=>{r[F]||(De(B,K=>{K(!0,{node:W,selector:F,parents:T})}),r[F]=B),N[F]=B})}),at(r,(B,F)=>{N[F]||(delete r[F],De(B,W=>{W(!1,{node:y,selector:F,parents:T})}))})})};return{selectorChangedWithUnbind:(p,y)=>(o||d(),o[p]||(o[p]=[]),o[p].push(y),a(p,l(n.selection.getStart())).each(()=>{r[p]=o[p]}),{unbind:()=>{mM(o,p,y),mM(r,p,y)}})}};const a8=e=>!!(e&&e.ownerDocument)&&wt(ee.fromDom(e.ownerDocument),ee.fromDom(e)),c8=e=>e?a8(e.startContainer)&&a8(e.endContainer):!1,pM=(e,n,o,r)=>{let a,l;const{selectorChangedWithUnbind:d}=SK(e,r),p=(et,_t)=>{const In=e.createRng();Je(et)&&Je(_t)?(In.setStart(et,_t),In.setEnd(et,_t),he(In),se(!1)):(vD(e,In,r.getBody(),!0),he(In))},y=et=>QH(r,et),T=(et,_t)=>i8(r,et,_t),N=et=>bR(r.getBody(),pe(),et),B=et=>yR(r.getBody(),pe(),et),F=(et,_t)=>mr.getBookmark(et,_t),W=et=>mr.moveToBookmark(et),K=(et,_t)=>(xR(e,et,_t).each(he),et),G=()=>{const et=pe(),_t=le();return!et||et.item?!1:et.compareEndPoints?et.compareEndPoints("StartToEnd",et)===0:!_t||et.collapsed},Y=()=>{if(r.mode.isReadOnly())return!1;const et=pe(),_t=r.getBody().querySelectorAll('[data-mce-selected="1"]');return _t.length>0?or(_t,In=>e.isEditable(In.parentElement)):jw(e,et)},se=et=>{const _t=pe();_t.collapse(!!et),he(_t)},le=()=>n.getSelection?n.getSelection():n.document.selection,pe=()=>{let et;const _t=(ct,Ft,jt)=>{try{return Ft.compareBoundaryPoints(ct,jt)}catch{return-1}},In=n.document;if(Je(r.bookmark)&&!Yp(r)){const ct=_1(r);if(ct.isSome())return ct.map(Ft=>P1(r,[Ft])[0]).getOr(In.createRange())}try{const ct=le();ct&&!af(ct.anchorNode)&&(ct.rangeCount>0?et=ct.getRangeAt(0):et=In.createRange(),et=P1(r,[et])[0])}catch{}if(et||(et=In.createRange()),lp(et.startContainer)&&et.collapsed){const ct=e.getRoot();et.setStart(ct,0),et.setEnd(ct,0)}return a&&l&&(_t(et.START_TO_START,et,a)===0&&_t(et.END_TO_END,et,a)===0?et=l:(a=null,l=null)),et},he=(et,_t)=>{if(!c8(et))return;const In=le();if(et=r.dispatch("SetSelectionRange",{range:et,forward:_t}).range,In){l=et;try{In.removeAllRanges(),In.addRange(et)}catch{}_t===!1&&In.extend&&(In.collapse(et.endContainer,et.endOffset),In.extend(et.startContainer,et.startOffset)),a=In.rangeCount>0?In.getRangeAt(0):null}if(!et.collapsed&&et.startContainer===et.endContainer&&(In!=null&&In.setBaseAndExtent)&&et.endOffset-et.startOffset<2&&et.startContainer.hasChildNodes()){const Ft=et.startContainer.childNodes[et.startOffset];Ft&&Ft.nodeName==="IMG"&&(In.setBaseAndExtent(et.startContainer,et.startOffset,et.endContainer,et.endOffset),(In.anchorNode!==et.startContainer||In.focusNode!==et.endContainer)&&In.setBaseAndExtent(Ft,0,Ft,1))}r.dispatch("AfterSetSelectionRange",{range:et,forward:_t})},$e=et=>(T(e.getOuterHTML(et)),et),Ge=()=>gj(r.getBody(),pe()),ut=(et,_t)=>N1(e,pe(),et,_t),Oe=()=>{const et=le(),_t=et==null?void 0:et.anchorNode,In=et==null?void 0:et.focusNode;if(!et||!_t||!In||af(_t)||af(In))return!0;const ct=e.createRng(),Ft=e.createRng();try{ct.setStart(_t,et.anchorOffset),ct.collapse(!0),Ft.setStart(In,et.focusOffset),Ft.collapse(!0)}catch{return!0}return ct.compareBoundaryPoints(ct.START_TO_START,Ft)<=0},ts={dom:e,win:n,serializer:o,editor:r,expand:(et={type:"word"})=>he(Hf(e).expand(pe(),et)),collapse:se,setCursorLocation:p,getContent:y,setContent:T,getBookmark:F,moveToBookmark:W,select:K,isCollapsed:G,isEditable:Y,isForward:Oe,setNode:$e,getNode:Ge,getSel:le,setRng:he,getRng:pe,getStart:N,getEnd:B,getSelectedBlocks:ut,normalize:()=>{const et=pe(),_t=le();if(!p4(_t)&&c1(r)){const In=v1(e,et);return In.each(ct=>{he(ct,Oe())}),In.getOr(et)}return et},selectorChanged:(et,_t)=>(d(et,_t),ts),selectorChangedWithUnbind:d,getScrollContainer:()=>{let et,_t=e.getRoot();for(;_t&&_t.nodeName!=="BODY";){if(_t.scrollHeight>_t.clientHeight){et=_t;break}_t=_t.parentNode}return et},scrollIntoView:(et,_t)=>{Je(et)?oj(r,et,_t):pu(r,pe(),_t)},placeCaretAt:(et,_t)=>he(qp(et,_t,r.getDoc())),getBoundingClientRect:()=>{const et=pe();return et.collapsed?ke.fromRangeStart(et).getClientRects()[0]:et.getBoundingClientRect()},destroy:()=>{n=a=l=null,ss.destroy()}},mr=jf(ts),ss=UD(ts,r);return ts.bookmarkManager=mr,ts.controlSelection=ss,ts},wK=(e,n,o)=>{n.addNodeFilter("br",(r,a,l)=>{const d=k.extend({},o.getBlockElements()),p=o.getNonEmptyElements(),y=o.getWhitespaceElements();d.body=1;const T=N=>N.name in d||tS(o,N);for(let N=0,B=r.length;N<B;N++){let F=r[N],W=F.parent;if(W&&T(W)&&F===W.lastChild){let K=F.prev;for(;K;){const G=K.name;if(G!=="span"||K.attr("data-mce-type")!=="bookmark"){G==="br"&&(F=null);break}K=K.prev}if(F&&(F.remove(),ws(o,p,y,W))){const G=o.getElementRule(W.name);G&&(G.removeEmpty?W.remove():G.paddEmpty&&S2(e,l,T,W))}}else{let K=F;for(;W&&W.firstChild===K&&W.lastChild===K&&(K=W,!d[W.name]);)W=W.parent;if(K===W){const G=new Jr("#text",3);G.value=Bs,F.replace(G)}}}})},l8=(e,n,o)=>{e.addAttributeFilter("data-mce-tabindex",(r,a)=>{let l=r.length;for(;l--;){const d=r[l];d.attr("tabindex",d.attr("data-mce-tabindex")),d.attr(a,null)}}),e.addAttributeFilter("src,href,style",(r,a)=>{const l="data-mce-"+a,d=n.url_converter,p=n.url_converter_scope;let y=r.length;for(;y--;){const T=r[y];let N=T.attr(l);N!==void 0?(T.attr(a,N.length>0?N:null),T.attr(l,null)):(N=T.attr(a),a==="style"?N=o.serializeStyle(o.parseStyle(N),T.name):d&&(N=d.call(p,N,a,T.name)),T.attr(a,N.length>0?N:null))}}),e.addAttributeFilter("class",r=>{let a=r.length;for(;a--;){const l=r[a];let d=l.attr("class");d&&(d=d.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),l.attr("class",d.length>0?d:null))}}),e.addAttributeFilter("data-mce-type",(r,a,l)=>{let d=r.length;for(;d--;){const p=r[d];p.attr("data-mce-type")==="bookmark"&&!l.cleanup&&($.from(p.firstChild).exists(T=>{var N;return!Nv((N=T.value)!==null&&N!==void 0?N:"")})?p.unwrap():p.remove())}}),e.addNodeFilter("script,style",(r,a)=>{var l;const d=y=>y.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let p=r.length;for(;p--;){const y=r[p],T=y.firstChild,N=(l=T==null?void 0:T.value)!==null&&l!==void 0?l:"";if(a==="script"){const B=y.attr("type");B&&y.attr("type",B==="mce-no/type"?null:B.replace(/^mce\-/,"")),n.element_format==="xhtml"&&T&&N.length>0&&(T.value=`// <![CDATA[
`+d(N)+`
// ]]>`)}else n.element_format==="xhtml"&&T&&N.length>0&&(T.value=`<!--
`+d(N)+`
-->`)}}),e.addNodeFilter("#comment",r=>{let a=r.length;for(;a--;){const l=r[a],d=l.value;n.preserve_cdata&&(d==null?void 0:d.indexOf("[CDATA["))===0?(l.name="#cdata",l.type=4,l.value=o.decode(d.replace(/^\[CDATA\[|\]\]$/g,""))):(d==null?void 0:d.indexOf("mce:protected "))===0&&(l.name="#text",l.type=3,l.raw=!0,l.value=unescape(d).substr(14))}}),e.addNodeFilter("xml:namespace,input",(r,a)=>{let l=r.length;for(;l--;){const d=r[l];d.type===7?d.remove():d.type===1&&a==="input"&&!d.attr("type")&&d.attr("type","text")}}),e.addAttributeFilter("data-mce-type",r=>{De(r,a=>{a.attr("data-mce-type")==="format-caret"&&(a.isEmpty(e.schema.getNonEmptyElements())?a.remove():a.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(r,a)=>{let l=r.length;for(;l--;)r[l].attr(a,null)}),n.remove_trailing_brs&&wK(n,e,e.schema)},es=e=>{const n=r=>(r==null?void 0:r.name)==="br",o=e.lastChild;if(n(o)){const r=o.prev;n(r)&&(o.remove(),r.remove())}},TE=(e,n,o)=>{let r;const a=e.dom;let l=n.cloneNode(!0);const d=document.implementation;if(d.createHTMLDocument){const p=d.createHTMLDocument("");k.each(l.nodeName==="BODY"?l.childNodes:[l],y=>{p.body.appendChild(p.importNode(y,!0))}),l.nodeName!=="BODY"?l=p.body.firstChild:l=p.body,r=a.doc,a.doc=p}return d1(e,{...o,node:l}),r&&(a.doc=r),l},EK=(e,n)=>Je(e)&&e.hasEventListeners("PreProcess")&&!n.no_events,u8=(e,n,o)=>EK(e,o)?TE(e,n,o):n,d8=(e,n,o)=>{k.inArray(n,o)===-1&&(e.addAttributeFilter(o,(r,a)=>{let l=r.length;for(;l--;)r[l].attr(a,null)}),n.push(o))},ah=(e,n,o)=>!n.no_events&&e?f1(e,{...n,content:o}).content:o,TK=(e,n,o)=>{const r=Qi(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||Rv(ee.fromDom(n))?r:k.trim(r)},_K=(e,n,o)=>{const r=o.selection?{forced_root_block:!1,...o}:o,a=e.parse(n,r);return es(a),a},wr=(e,n,o)=>md(e,n).serialize(o),hM=(e,n,o,r,a)=>{const l=wr(n,o,r);return ah(e,a,l)},gM=(e,n)=>{const o=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},a=n&&n.dom?n.dom:yo.DOM,l=n&&n.schema?n.schema:no(r),d=im(r,l);l8(d,r,a);const p=(y,T={})=>{const N={format:"html",...T},B=u8(n,y,N),F=TK(a,B,N),W=_K(d,F,N);return N.format==="tree"?W:hM(n,r,l,W,N)};return{schema:l,addNodeFilter:d.addNodeFilter,addAttributeFilter:d.addAttributeFilter,serialize:p,addRules:l.addValidElements,setRules:l.setValidElements,addTempAttr:bt(d8,d,o),getTempAttrs:it(o),getNodeFilters:d.getNodeFilters,getAttributeFilters:d.getAttributeFilters,removeNodeFilter:d.removeNodeFilter,removeAttributeFilter:d.removeAttributeFilter}},_E=(e,n)=>{const o=gM(e,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},f8="html",m8=(e,n)=>({...e,format:n,get:!0,getInner:!0}),Bx=(e,n={})=>{const o=n.format?n.format:f8,r=m8(n,o);return RP(e,r).fold(jo,a=>{const l=XH(e,a);return uE(e,l,a)})},p8="html",AE=(e,n)=>({format:p8,...e,set:!0,content:n}),kE=(e,n,o={})=>{const r=AE(o,n);return _x(e,r).map(a=>{const l=JH(e,a.content,a);return Ax(e,l.html,a),l.content}).getOr(n)},bM="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),yM=[],OE="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),DE=[],Fx=(e,n)=>{const o=qt(n,r=>Lt(e,r));return To(o)},h8=e=>{const n=Fx(e,bM),o=e.forced_root_block;return(o===!1||o==="")&&n.push("forced_root_block (false only)"),To(n)},g8=e=>Fx(e,yM),vM=(e,n)=>{const o=k.makeMap(e.plugins," "),a=qt(n,l=>Lt(o,l));return To(a)},la=e=>vM(e,OE),b8=e=>vM(e,DE.map(n=>n.name)),y8=(e,n)=>{const o=h8(e),r=la(n),a=r.length>0,l=o.length>0,d=n.theme==="mobile";if(a||l||d){const p=`
- `,y=d?`

Themes:${p}mobile`:"",T=a?`

Plugins:${p}${r.join(p)}`:"",N=l?`

Options:${p}${o.join(p)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+y+T+N)}},v8=e=>Ho(DE,n=>n.name===e).fold(()=>e,n=>n.replacedWith?`${e}, replaced by ${n.replacedWith}`:e),x8=(e,n)=>{const o=g8(e),r=b8(n),a=r.length>0,l=o.length>0;if(a||l){const d=`
- `,p=a?`

Plugins:${d}${r.map(v8).join(d)}`:"",y=l?`

Options:${d}${o.join(d)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+p+y)}},C8=(e,n)=>{y8(e,n),x8(e,n)},qb=yo.DOM,S8=e=>{qb.setStyle(e.id,"display",e.orgDisplay)},Lx=e=>$.from(e).each(n=>n.destroy()),w8=e=>{const n=e;n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null;const o=e.selection;if(o){const r=o.dom;n.selection=o.win=o.dom=r.doc=null}},$x=e=>{const n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,delete n._mceOldSubmit),qb.unbind(n,"submit reset",e.formEventDelegate))},E8=e=>{if(!e.removed){const{_selectionOverrides:n,editorUpload:o}=e,r=e.getBody(),a=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&Je(a==null?void 0:a.nextSibling)&&qb.remove(a.nextSibling),_4(e),e.editorManager.remove(e),!e.inline&&r&&S8(e),A4(e),qb.remove(e.getContainer()),Lx(n),Lx(o),e.destroy()}},T8=(e,n)=>{const{selection:o,dom:r}=e;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Lx(o),Lx(r)),$x(e),w8(e),e.destroyed=!0}},ch=(()=>{const e={};return{add:(a,l)=>{e[a]=l},get:a=>e[a]?e[a]:{icons:{}},has:a=>Lt(e,a)}})(),lh=Hr.ModelManager,xM=(e,n)=>n.dom[e],A8=(e,n)=>parseInt(Ws(n,e),10),k8=bt(xM,"clientWidth"),Kb=bt(xM,"clientHeight"),CM=bt(A8,"margin-top"),SM=bt(A8,"margin-left"),O8=e=>e.dom.getBoundingClientRect(),wM=(e,n,o)=>{const r=k8(e),a=Kb(e);return n>=0&&o>=0&&n<=r&&o<=a},D8=(e,n,o,r)=>{const a=O8(n),l=e?a.left+n.dom.clientLeft+SM(n):0,d=e?a.top+n.dom.clientTop+CM(n):0,p=o-l,y=r-d;return{x:p,y}},R8=(e,n,o)=>{const r=ee.fromDom(e.getBody()),a=e.inline?r:Kt(r),l=D8(e.inline,a,n,o);return wM(a,l.x,l.y)},N8=e=>$.from(e).map(ee.fromDom),P8=e=>{const n=e.inline?e.getBody():e.getContentAreaContainer();return N8(n).map(op).getOr(!1)};var EM=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const TM=e=>{const n=[],o=()=>{const F=e.theme;return F&&F.getNotificationManagerImpl?F.getNotificationManagerImpl():EM()},r=()=>$.from(n[0]),a=(F,W)=>F.type===W.type&&F.text===W.text&&!F.progressBar&&!F.timeout&&!W.progressBar&&!W.timeout,l=()=>{r().each(F=>{F.reposition()})},d=F=>{n.push(F)},p=F=>{Yt(n,W=>W===F).each(W=>{n.splice(W,1)})},y=(F,W=!0)=>e.removed||!P8(e)?{}:(W&&e.dispatch("BeforeOpenNotification",{notification:F}),Ho(n,K=>a(o().getArgs(K),F)).getOrThunk(()=>{e.editorManager.setActive(e);const K=o().open(F,()=>{p(K)},()=>hR(e));return d(K),l(),e.dispatch("OpenNotification",{notification:{...K}}),K})),T=()=>{r().each(F=>{o().close(F),p(F),l()})},N=it(n);return(F=>{F.on("SkinLoaded",()=>{const W=NS(F);W&&y({text:W,type:"warning",timeout:0},!1),l()}),F.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(l)}),F.on("remove",()=>{De(n.slice(),W=>{o().close(W)})}),F.on("keydown",W=>{var K;const G=((K=W.key)===null||K===void 0?void 0:K.toLowerCase())==="f12"||W.keyCode===123;W.altKey&&G&&(W.preventDefault(),r().map(Y=>ee.fromDom(Y.getEl())).each(Y=>zf(Y)))})})(e),{open:y,close:T,getNotifications:N}},uh=Hr.PluginManager,rl=Hr.ThemeManager;var _M=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const RE=e=>{let n=[];const o=()=>{const G=e.theme;return G&&G.getWindowManagerImpl?G.getWindowManagerImpl():_M()},r=(G,Y)=>(...se)=>Y?Y.apply(G,se):void 0,a=G=>{e.dispatch("OpenWindow",{dialog:G})},l=G=>{e.dispatch("CloseWindow",{dialog:G})},d=G=>{n.push(G),a(G)},p=G=>{l(G),n=qt(n,Y=>Y!==G),n.length===0&&e.focus()},y=()=>$.from(n[n.length-1]),T=G=>{e.editorManager.setActive(e),rb(e),e.ui.show();const Y=G();return d(Y),Y},N=(G,Y)=>T(()=>o().open(G,Y,p)),B=G=>T(()=>o().openUrl(G,p)),F=(G,Y,se)=>{const le=o();le.alert(G,r(se||le,Y))},W=(G,Y,se)=>{const le=o();le.confirm(G,r(se||le,Y))},K=()=>{y().each(G=>{o().close(G),p(G)})};return e.on("remove",()=>{De(n,G=>{o().close(G)})}),{open:N,openUrl:B,alert:F,confirm:W,close:K}},AM=(e,n)=>{e.notificationManager.open({type:"error",text:n})},jx=(e,n)=>{e._skinLoaded?AM(e,n):e.on("SkinLoaded",()=>{AM(e,n)})},M8=(e,n)=>{jx(e,qc.translate(["Failed to upload image: {0}",n]))},dh=(e,n,o)=>{Ia(e,n,{message:o}),console.error(o)},Yb=(e,n,o)=>o?`Failed to load ${e}: ${o} from url ${n}`:`Failed to load ${e} url: ${n}`,I8=(e,n,o)=>{dh(e,"PluginLoadError",Yb("plugin",n,o))},B8=(e,n,o)=>{dh(e,"IconsLoadError",Yb("icons",n,o))},F8=(e,n,o)=>{dh(e,"LanguageLoadError",Yb("language",n,o))},AK=(e,n,o)=>{dh(e,"ThemeLoadError",Yb("theme",n,o))},il=(e,n,o)=>{dh(e,"ModelLoadError",Yb("model",n,o))},NE=(e,n,o)=>{const r=qc.translate(["Failed to initialize plugin: {0}",n]);Ia(e,"PluginLoadError",{message:r}),Hx(r,o),jx(e,r)},Hx=(e,...n)=>{const o=window.console;o&&(o.error?o.error(e,...n):o.log(e,...n))},L8=e=>/^[a-z0-9\-]+$/i.test(e),PE=e=>"content/"+e+"/content.css",$8=e=>tinymce.Resource.has(PE(e)),Kn=e=>fh(e,y5(e)),j8=e=>fh(e,v5(e)),fh=(e,n)=>{const o=e.editorManager.baseURL+"/skins/content",a=`content${e.editorManager.suffix}.css`;return on(n,l=>$8(l)?l:L8(l)&&!e.inline?`${o}/${l}/${a}`:e.documentBaseURI.toAbsolute(l))},H8=e=>{e.contentCSS=e.contentCSS.concat(Kn(e),j8(e))},U8=e=>e?si(e.getElementsByTagName("img")):[],z8=(e,n)=>{const o={};return{findAll:(a,l=ht)=>{const d=qt(U8(a),y=>{const T=y.src;return y.hasAttribute("data-mce-bogus")||y.hasAttribute("data-mce-placeholder")||!T||T===an.transparentSrc?!1:ns(T,"blob:")?!e.isUploaded(T)&&l(y):ns(T,"data:")?l(y):!1}),p=on(d,y=>{const T=y.src;if(Lt(o,T))return o[T].then(N=>te(N)?N:{image:y,blobInfo:N.blobInfo});{const N=Rb(n,T).then(B=>(delete o[T],{image:y,blobInfo:B})).catch(B=>(delete o[T],B));return o[T]=N,N}});return Promise.all(p)}}},ME=()=>{let o={};const r=(F,W)=>({status:F,resultUri:W}),a=F=>F in o;return{hasBlobUri:a,getResultUri:F=>{const W=o[F];return W?W.resultUri:null},isPending:F=>a(F)?o[F].status===1:!1,isUploaded:F=>a(F)?o[F].status===2:!1,markPending:F=>{o[F]=r(1,null)},markUploaded:(F,W)=>{o[F]=r(2,W)},removeFailed:F=>{delete o[F]},destroy:()=>{o={}}}};let Od=0;const gi=()=>{const e=()=>Math.round(Ov()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},Xb=e=>e+Od+++gi(),Dd=()=>{let e=[];const n=B=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[B.toLowerCase()]||"dat",o=(B,F,W,K,G)=>{if(te(B))return r({id:B,name:K,filename:G,blob:F,base64:W});if(It(B))return r(B);throw new Error("Unknown input type")},r=B=>{if(!B.blob||!B.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const F=B.id||Xb("blobid"),W=B.name||F,K=B.blob;return{id:it(F),name:it(W),filename:it(B.filename||W+"."+n(K.type)),blob:it(K),base64:it(B.base64),blobUri:it(B.blobUri||URL.createObjectURL(K)),uri:it(B.uri)}},a=B=>{d(B.id())||e.push(B)},l=B=>Ho(e,B).getOrUndefined(),d=B=>l(F=>F.id()===B);return{create:o,add:a,get:d,getByUri:B=>l(F=>F.blobUri()===B),getByData:(B,F)=>l(W=>W.base64()===B&&W.blob().type===F),findFirst:l,removeByUri:B=>{e=qt(e,F=>F.blobUri()===B?(URL.revokeObjectURL(F.blobUri()),!1):!0)},destroy:()=>{De(e,B=>{URL.revokeObjectURL(B.blobUri())}),e=[]}}},Hl=(e,n)=>{const o={},r=(G,Y)=>G?G.replace(/\/$/,"")+"/"+Y.replace(/^\//,""):Y,a=(G,Y)=>new Promise((se,le)=>{const pe=new XMLHttpRequest;pe.open("POST",n.url),pe.withCredentials=n.credentials,pe.upload.onprogress=$e=>{Y($e.loaded/$e.total*100)},pe.onerror=()=>{le("Image upload failed due to a XHR Transport error. Code: "+pe.status)},pe.onload=()=>{if(pe.status<200||pe.status>=300){le("HTTP Error: "+pe.status);return}const $e=JSON.parse(pe.responseText);if(!$e||!te($e.location)){le("Invalid JSON: "+pe.responseText);return}se(r(n.basePath,$e.location))};const he=new FormData;he.append("file",G.blob(),G.filename()),pe.send(he)}),l=Rn(n.handler)?n.handler:a,d=()=>new Promise(G=>{G([])}),p=(G,Y)=>({url:Y,blobInfo:G,status:!0}),y=(G,Y)=>({url:"",blobInfo:G,status:!1,error:Y}),T=(G,Y)=>{k.each(o[G],se=>{se(Y)}),delete o[G]},N=(G,Y,se)=>(e.markPending(G.blobUri()),new Promise(le=>{let pe,he;try{const $e=()=>{pe&&(pe.close(),he=Ot)},Ge=Oe=>{$e(),e.markUploaded(G.blobUri(),Oe),T(G.blobUri(),p(G,Oe)),le(p(G,Oe))},ut=Oe=>{$e(),e.removeFailed(G.blobUri()),T(G.blobUri(),y(G,Oe)),le(y(G,Oe))};he=Oe=>{Oe<0||Oe>100||$.from(pe).orThunk(()=>$.from(se).map(Gr)).each(Se=>{pe=Se,Se.progressBar.value(Oe)})},Y(G,he).then(Ge,Oe=>{ut(te(Oe)?{message:Oe}:Oe)})}catch($e){le(y(G,$e))}})),B=G=>G===a,F=G=>{const Y=G.blobUri();return new Promise(se=>{o[Y]=o[Y]||[],o[Y].push(se)})},W=(G,Y)=>(G=k.grep(G,se=>!e.isUploaded(se.blobUri())),Promise.all(k.map(G,se=>e.isPending(se.blobUri())?F(se):N(se,l,Y))));return{upload:(G,Y)=>!n.url&&B(l)?d():W(G,Y)}},mh=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),Ux=(e,n)=>Hl(n,{url:RS(e),basePath:SO(e),credentials:wO(e),handler:EO(e)}),IE=e=>{const n=ME(),o=Ux(e,n);return{upload:(r,a=!0)=>o.upload(r,a?mh(e):void 0)}},kM=(e,n)=>e.dom.isEmpty(n.dom)&&Je(e.schema.getTextBlockElements()[gn(n)]),OM=e=>n=>{kM(e,n)&&Gs(n,ee.fromHtml('<br data-mce-bogus="1" />'))},V8=e=>{const n=Dd();let o,r;const a=ME(),l=[],d=pe=>he=>e.selection?pe(he):[],p=pe=>pe+(pe.indexOf("?")===-1?"?":"&")+new Date().getTime(),y=(pe,he,$e)=>{let Ge=0;do Ge=pe.indexOf(he,Ge),Ge!==-1&&(pe=pe.substring(0,Ge)+$e+pe.substr(Ge+he.length),Ge+=$e.length-he.length+1);while(Ge!==-1);return pe},T=(pe,he,$e)=>{const Ge=`src="${$e}"${$e===an.transparentSrc?' data-mce-placeholder="1"':""}`;return pe=y(pe,`src="${he}"`,Ge),pe=y(pe,'data-mce-src="'+he+'"','data-mce-src="'+$e+'"'),pe},N=(pe,he)=>{De(e.undoManager.data,$e=>{$e.type==="fragmented"?$e.fragments=on($e.fragments,Ge=>T(Ge,pe,he)):$e.content=T($e.content,pe,he)})},B=(pe,he)=>{const $e=e.convertURL(he,"src");N(pe.src,he),kr(ee.fromDom(pe),{src:lr(e)?p(he):he,"data-mce-src":$e})},F=()=>(o||(o=Ux(e,a)),Y().then(d(pe=>{const he=on(pe,$e=>$e.blobInfo);return o.upload(he,mh(e)).then(d($e=>{const Ge=[];let ut=!1;const Oe=on($e,(Se,He)=>{const{blobInfo:mt,image:kt}=pe[He];let mn=!1;return Se.status&&Qs(e)?(Se.url&&!Hs(kt.src,Se.url)&&(ut=!0),n.removeByUri(kt.src),jl(e)||B(kt,Se.url)):Se.error&&(Se.error.remove&&(N(kt.src,an.transparentSrc),Ge.push(kt),mn=!0),M8(e,Se.error.message)),{element:kt,status:Se.status,uploadUri:Se.url,blobInfo:mt,removed:mn}});return Ge.length>0&&!jl(e)?e.undoManager.transact(()=>{De(tv(Ge),Se=>{const He=dn(Se);Ro(Se),He.each(OM(e)),n.removeByUri(Se.dom.src)})}):ut&&e.undoManager.dispatchChange(),Oe}))}))),W=()=>cr(e)?F():Promise.resolve([]),K=pe=>or(l,he=>he(pe)),G=pe=>{l.push(pe)},Y=()=>(r||(r=z8(a,n)),r.findAll(e.getBody(),K).then(d(pe=>{const he=qt(pe,$e=>te($e)?(jx(e,$e),!1):$e.uriType!=="blob");return jl(e)||De(he,$e=>{N($e.image.src,$e.blobInfo.blobUri()),$e.image.src=$e.blobInfo.blobUri(),$e.image.removeAttribute("data-mce-src")}),he}))),se=()=>{n.destroy(),a.destroy(),r=o=null},le=pe=>pe.replace(/src="(blob:[^"]+)"/g,(he,$e)=>{const Ge=a.getResultUri($e);if(Ge)return'src="'+Ge+'"';let ut=n.getByUri($e);return ut||(ut=ls(e.editorManager.get(),(Oe,Se)=>Oe||Se.editorUpload&&Se.editorUpload.blobCache.getByUri($e),void 0)),ut?'src="data:'+ut.blob().type+";base64,"+ut.base64()+'"':he});return e.on("SetContent",()=>{cr(e)?W():Y()}),e.on("RawSaveContent",pe=>{pe.content=le(pe.content)}),e.on("GetContent",pe=>{pe.source_view||pe.format==="raw"||pe.format==="tree"||(pe.content=le(pe.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",pe=>{De(pe,he=>{const $e=he.attr("src");if(!$e||n.getByUri($e))return;const Ge=a.getResultUri($e);Ge&&he.attr("src",Ge)})})}),{blobCache:n,addFilter:G,uploadImages:F,uploadImagesAuto:W,scanForImages:Y,destroy:se}},W8=e=>{const n=e.dom,o=e.schema.type,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:a=>{n.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:a=>{n.setStyle(a,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const a={inline:"span",styles:{textDecoration:"line-through"},exact:!0},l={inline:"strike",remove:"all",preserve_attributes:["class","style"]},d={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[d,a,l]:[a,d,l]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(a,l,d)=>lt(a)&&a.hasAttribute("href"),onformat:(a,l,d)=>{k.each(d,(p,y)=>{n.setAttrib(a,y,p)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":a=>{var l;return(l=a==null?void 0:a.customValue)!==null&&l!==void 0?l:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return k.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),a=>{r[a]={block:a,remove:"all"}}),r},BE={remove_similar:!0,inherit:!1},dm={selector:"td,th",...BE},DM={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...dm},tablecellverticalalign:{styles:{"vertical-align":"%value"},...dm},tablecellbordercolor:{styles:{borderColor:"%value"},...dm},tablecellclass:{classes:["%value"],...dm},tableclass:{selector:"table",classes:["%value"],...BE},tablecellborderstyle:{styles:{borderStyle:"%value"},...dm},tablecellborderwidth:{styles:{borderWidth:"%value"},...dm}},RM=it(DM),FE=e=>{const n={},o=d=>Je(d)?n[d]:n,r=d=>Lt(n,d),a=(d,p)=>{d&&(te(d)?(Zt(p)||(p=[p]),De(p,y=>{nn(y.deep)&&(y.deep=!Pa(y)),nn(y.split)&&(y.split=!Pa(y)||er(y)),nn(y.remove)&&Pa(y)&&!er(y)&&(y.remove="none"),Pa(y)&&er(y)&&(y.mixed=!0,y.block_expand=!0),te(y.classes)&&(y.classes=y.classes.split(/\s+/))}),n[d]=p):at(d,(y,T)=>{a(T,y)}))},l=d=>(d&&n[d]&&delete n[d],n);return a(W8(e)),a(RM()),a(AO(e)),{get:o,has:r,register:a,unregister:l}},LE=k.each,Ha=yo.DOM,NM=e=>Je(e)&&It(e),PM=(e,n)=>{const o=n&&n.schema||no({}),r=(y,T)=>{T.classes.length>0&&Ha.addClass(y,T.classes.join(" ")),Ha.setAttribs(y,T.attrs)},a=y=>{const T=te(y)?{name:y,classes:[],attrs:{}}:y,N=Ha.create(T.name);return r(N,T),N},l=(y,T)=>{const N=o.getElementRule(y.nodeName.toLowerCase()),B=N==null?void 0:N.parentsRequired;return B&&B.length?T&&en(B,T)?T:B[0]:!1},d=(y,T,N)=>{let B;const F=T[0],W=NM(F)?F.name:void 0,K=l(y,W);if(K)W===K?(B=F,T=T.slice(1)):B=K;else if(F)B=F,T=T.slice(1);else if(!N)return y;const G=B?a(B):Ha.create("div");G.appendChild(y),N&&k.each(N,se=>{const le=a(se);G.insertBefore(le,y)});const Y=NM(B)?B.siblings:void 0;return d(G,T,Y)},p=Ha.create("div");if(e.length>0){const y=e[0],T=a(y),N=NM(y)?y.siblings:void 0;p.appendChild(d(T,e.slice(1),N))}return p},G8=e=>{e=k.trim(e);let n="div";const o={name:n,classes:[],attrs:{},selector:e};return e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,a,l,d,p)=>{switch(a){case"#":o.attrs.id=l;break;case".":o.classes.push(l);break;case":":k.inArray("checked disabled enabled read-only required".split(" "),l)!==-1&&(o.attrs[l]=l);break}if(d==="["){const y=p.match(/([\w\-]+)(?:\=\"([^\"]+))?/);y&&(o.attrs[y[1]]=y[2])}return""})),o.name=n||"div",o},Ul=e=>te(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),k.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),n=>{const o=k.map(n.split(/(?:~\+|~|\+)/),G8),r=o.pop();return o.length&&(r.siblings=o),r}).reverse()):[],kK=(e,n)=>{let o="",r=C5(e);if(r==="")return"";const a=F=>te(F)?F.replace(/%(\w+)/g,""):"",l=(F,W)=>Ha.getStyle(W??e.getBody(),F,!0);if(te(n)){const F=e.formatter.get(n);if(!F)return"";n=F[0]}if("preview"in n){const F=n.preview;if(F===!1)return"";r=F||r}let d=n.block||n.inline||"span",p;const y=Ul(n.selector);y.length>0?(y[0].name||(y[0].name=d),d=n.selector,p=PM(y,e)):p=PM([d],e);const T=Ha.select(d,p)[0]||p.firstChild;LE(n.styles,(F,W)=>{const K=a(F);K&&Ha.setStyle(T,W,K)}),LE(n.attributes,(F,W)=>{const K=a(F);K&&Ha.setAttrib(T,W,K)}),LE(n.classes,F=>{const W=a(F);Ha.hasClass(T,W)||Ha.addClass(T,W)}),e.dispatch("PreviewFormats"),Ha.setStyles(p,{position:"absolute",left:-65535}),e.getBody().appendChild(p);const N=l("fontSize"),B=/px$/.test(N)?parseInt(N,10):0;return LE(r.split(" "),F=>{let W=l(F,T);if(!(F==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(W)&&(W=l(F),bg(W).toLowerCase()==="#ffffff"))&&!(F==="color"&&bg(W).toLowerCase()==="#000000")){if(F==="font-size"&&/em|%$/.test(W)){if(B===0)return;W=parseFloat(W)/(/%$/.test(W)?100:1)*B+"px"}F==="border"&&W&&(o+="padding:0 2px;"),o+=F+":"+W+";"}}),e.dispatch("AfterPreviewFormats"),Ha.remove(p),o},OK=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},MM=e=>{const n=FE(e),o=No({});return OK(e),LN(e),jl(e)||H6(o,e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(r,a,l)=>{lM(e,r,a,l)},remove:(r,a,l,d)=>{qH(e,r,a,l,d)},toggle:(r,a,l)=>{KH(e,r,a,l)},match:(r,a,l,d)=>Ix(e,r,a,l,d),closest:r=>cM(e,r),matchAll:(r,a)=>VH(e,r,a),matchNode:(r,a,l,d)=>WH(e,r,a,l,d),canApply:r=>GH(e,r),formatChanged:(r,a,l,d)=>YH(e,o,r,a,l,d),getCssText:bt(kK,e)}},ph=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},q8=(e,n,o)=>{const r=No(!1),a=y=>{Px(n,!1,o),n.add({},y)};e.on("init",()=>{n.add()}),e.on("BeforeExecCommand",y=>{const T=y.command;ph(T)||(KP(n,o),n.beforeChange())}),e.on("ExecCommand",y=>{const T=y.command;ph(T)||a(y)}),e.on("ObjectResizeStart cut",()=>{n.beforeChange()}),e.on("SaveContent ObjectResized blur",a),e.on("dragend",a),e.on("keyup",y=>{const T=y.keyCode;if(y.isDefaultPrevented())return;const N=an.os.isMacOS()&&y.key==="Meta";(T>=33&&T<=36||T>=37&&T<=40||T===45||y.ctrlKey||N)&&(a(),e.nodeChanged()),(T===46||T===8)&&e.nodeChanged(),r.get()&&n.typing&&!Vb(Ub(e),n.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),r.set(!1),e.nodeChanged())}),e.on("keydown",y=>{const T=y.keyCode;if(y.isDefaultPrevented())return;if(T>=33&&T<=36||T>=37&&T<=40||T===45){n.typing&&a(y);return}const N=y.ctrlKey&&!y.altKey||y.metaKey;if((T<16||T>20)&&T!==224&&T!==91&&!n.typing&&!N){n.beforeChange(),Px(n,!0,o),n.add({},y),r.set(!0);return}(an.os.isMacOS()?y.metaKey:y.ctrlKey&&!y.altKey)&&n.beforeChange()}),e.on("mousedown",y=>{n.typing&&a(y)});const l=y=>y.inputType==="insertReplacementText",d=y=>y.inputType==="insertText"&&y.data===null,p=y=>y.inputType==="insertFromPaste"||y.inputType==="insertFromDrop";e.on("input",y=>{y.inputType&&(l(y)||d(y)||p(y))&&a(y)}),e.on("AddUndo Undo Redo ClearUndos",y=>{y.isDefaultPrevented()||e.nodeChanged()})},IM=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},$E=e=>{const n=$r(),o=No(0),r=No(0),a={data:[],typing:!1,beforeChange:()=>{nM(e,o,n)},add:(l,d)=>CE(e,a,r,o,n,l,d),dispatchChange:()=>{e.setDirty(!0);const l=Ub(e);l.bookmark=Uv(e.selection),e.dispatch("change",{level:l,lastLevel:ni(a.data,r.get()).getOrUndefined()})},undo:()=>oM(e,a,o,r),redo:()=>sM(e,r,a.data),clear:()=>{SE(e,a,r)},reset:()=>{rM(e,a)},hasUndo:()=>iM(e,a,r),hasRedo:()=>aM(e,a,r),transact:l=>UH(e,a,o,l),ignore:l=>{wE(e,o,l)},extra:(l,d)=>{zH(e,a,r,l,d)}};return jl(e)||q8(e,a,o),IM(e),a},BM=[9,27,dt.HOME,dt.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,dt.DOWN,dt.UP,dt.LEFT,dt.RIGHT].concat(an.browser.isFirefox()?[224]:[]),FM="data-mce-placeholder",LM=e=>e.type==="keydown"||e.type==="keyup",vu=e=>{const n=e.keyCode;return n===dt.BACKSPACE||n===dt.DELETE},K8=e=>{if(LM(e)){const n=e.keyCode;return!vu(e)&&(dt.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||en(BM,n))}else return!1},Y8=e=>LM(e)&&!(vu(e)||e.type==="keyup"&&e.keyCode===229),X8=(e,n,o)=>{if(e.isEmpty(n,void 0,{skipBogus:!1,includeZwsp:!0})){const r=n.firstElementChild;return r?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:o===r.nodeName.toLowerCase():!0}else return!1},J8=e=>{var n;const o=e.dom,r=Cr(e),a=(n=Pl(e))!==null&&n!==void 0?n:"",l=(d,p)=>{if(K8(d))return;const y=e.getBody(),T=Y8(d)?!1:X8(o,y,r);(o.getAttrib(y,FM)!==""!==T||p)&&(o.setAttrib(y,FM,T?a:null),Dr(e,T),e.on(T?"keydown":"keyup",l),e.off(T?"keyup":"keydown",l))};ys(a)&&e.on("init",d=>{l(d,!0),e.on("change SetContent ExecCommand",l),e.on("paste",p=>sa.setEditorTimeout(e,()=>l(p)))})},Z8=(e,n)=>({block:e,position:n}),Q8=(e,n)=>({from:e,to:n}),jE=(e,n)=>{const o=ee.fromDom(e),r=ee.fromDom(n.container());return qf(o,r).map(a=>Z8(a,n))},e9=e=>!(wt(e.to.block,e.from.block)||wt(e.from.block,e.to.block)),t9=e=>!Ne(e.from.block,e.to.block),Jb=(e,n)=>is(n,a=>Cg(a)||Ie(a.dom),a=>Ne(a,e)).filter(xs).getOr(e),n9=(e,n)=>{const o=ee.fromDom(e);return Ne(Jb(o,n.from.block),Jb(o,n.to.block))},o9=e=>qn(e.from.block.dom)===!1&&qn(e.to.block.dom)===!1,DK=e=>{const n=o=>Sf(o)||cv(o.dom)||wf(o);return n(e.from.block)&&n(e.to.block)},Zb=(e,n,o,r)=>Gn(r.position.getNode())&&!Lr(e,r.block)?$p(!1,r.block.dom).bind(a=>a.isEqual(r.position)?ta(o,n,a).bind(l=>jE(n,l)):$.some(r)).getOr(r):r,s9=(e,n,o,r)=>{const a=jE(n,ke.fromRangeStart(r)),l=a.bind(d=>ta(o,n,d.position).bind(p=>jE(n,p).map(y=>Zb(e,n,o,y))));return V(a,l,Q8).filter(d=>t9(d)&&n9(n,d)&&o9(d)&&DK(d)&&e9(d))},HE=(e,n,o,r)=>r.collapsed?s9(e,n,o,r):$.none(),r9=(e,n)=>{const o=Vo(e);return Yt(o,r=>n.isBlock(gn(r))).fold(it(o),r=>o.slice(0,r))},$M=(e,n)=>{const o=r9(e,n);return De(o,Ro),o},jM=(e,n,o)=>{const r=Fl(o,n);return Ho(r.reverse(),a=>Lr(e,a)).each(Ro)},i9=(e,n)=>qt(Or(n),o=>!Lr(e,o)).length===0,fm=(e,n,o,r,a)=>{if(Lr(r,o))return Ol(o),Vr(o.dom);i9(r,a)&&Lr(r,n)&&Di(a,ee.fromTag("br"));const l=Pi(o.dom,ke.before(a.dom));return De($M(n,r),d=>{Di(a,d)}),jM(r,e,n),l},mm=(e,n)=>e.isInline(gn(n)),zx=(e,n,o,r)=>{if(Lr(r,o)){if(Lr(r,n)){const d=Du((p=>{const y=(T,N)=>Po(T).fold(()=>N,B=>mm(r,B)?y(B,N.concat(Zu(B))):N);return y(p,[])})(o),(p,y)=>(e3(p,y),y),Kc());sp(n),Gs(n,d)}return Ro(o),Vr(n.dom)}const a=yc(o.dom);return De($M(n,r),l=>{Gs(o,l)}),jM(r,e,n),a},Vx=(e,n)=>{const o=Fl(n,e);return $.from(o[o.length-1])},pm=(e,n)=>wt(n,e)?Vx(n,e):$.none(),Rd=(e,n)=>{$p(e,n.dom).bind(o=>$.from(o.getNode())).map(ee.fromDom).filter(cu).each(Ro)},Qb=(e,n,o,r)=>(Rd(!0,n),Rd(!1,o),pm(n,o).fold(bt(zx,e,n,o,r),bt(fm,e,n,o,r))),ey=(e,n,o,r,a)=>n?Qb(e,r,o,a):Qb(e,o,r,a),Wx=(e,n)=>{const o=ee.fromDom(e.getBody());return HE(e.schema,o.dom,n,e.selection.getRng()).map(a=>()=>{ey(o,n,a.from.block,a.to.block,e.schema).each(l=>{e.selection.setRng(l.toRange())})})},UE=(e,n,o)=>{const r=n.getRng();return V(qf(e,ee.fromDom(r.startContainer)),qf(e,ee.fromDom(r.endContainer)),(a,l)=>Ne(a,l)?$.none():$.some(()=>{r.deleteContents(),ey(e,!0,a,l,o).each(d=>{n.setRng(d.toRange())})})).getOr($.none())},Gx=(e,n)=>{const o=ee.fromDom(n),r=bt(Ne,e);return Zo(o,Cg,r).isSome()},HM=(e,n)=>Gx(e,n.startContainer)||Gx(e,n.endContainer),UM=(e,n)=>{const o=Pi(e.dom,ke.fromRangeStart(n)).isNone(),r=hi(e.dom,ke.fromRangeEnd(n)).isNone();return!HM(e,n)&&o&&r},hh=e=>$.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),zM=e=>{const n=ee.fromDom(e.getBody()),o=e.selection.getRng();return UM(n,o)?hh(e):UE(n,e.selection,e.schema)},qx=(e,n)=>e.selection.isCollapsed()?$.none():zM(e),zl=(e,n,o,r,a)=>$.from(n._selectionOverrides.showCaret(e,o,r,a)),Kx=e=>{const n=e.ownerDocument.createRange();return n.selectNode(e),n},gh=(e,n)=>e.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?$.none():$.some(Kx(n)),VM=(e,n,o)=>{const r=qS(1,e.getBody(),n),a=ke.fromRangeStart(r),l=a.getNode();if(id(l))return zl(1,e,l,!a.isAtEnd(),!1);const d=a.getNode(!0);if(id(d))return zl(1,e,d,!1,!1);const p=vc(e.dom.getRoot(),a.getNode());return id(p)?zl(1,e,p,!1,o):$.none()},Yx=(e,n,o)=>n.collapsed?VM(e,n,o).getOr(n):n,WM=e=>hd(e)||Jp(e),xu=e=>gd(e)||ab(e),Nd=(e,n)=>{Ve(n)&&n.data.length===0&&e.remove(n)},Ua=(e,n,o,r,a,l)=>{zl(r,e,l.getNode(!a),a,!0).each(d=>{if(n.collapsed){const p=n.cloneRange();a?p.setEnd(d.startContainer,d.startOffset):p.setStart(d.endContainer,d.endOffset),p.deleteContents()}else n.deleteContents();e.selection.setRng(d)}),Nd(e.dom,o)},a9=(e,n)=>{const o=e.selection.getRng();if(!Ve(o.commonAncestorContainer))return $.none();const r=n?dr.Forwards:dr.Backwards,a=Xc(e.getBody()),l=bt(KS,n?a.next:a.prev),d=n?WM:xu,p=Fg(r,e.getBody(),o),y=l(p),T=y&&Fa(n,y);if(!T||!$g(p,T))return $.none();if(d(T))return $.some(()=>Ua(e,o,p.getNode(),r,n,T));const N=l(T);return N&&d(N)&&$g(T,N)?$.some(()=>Ua(e,o,p.getNode(),r,n,N)):$.none()},zE=(e,n)=>a9(e,n),VE=(e,n)=>{const o=e.getBody();return n?Vr(o).filter(hd):yc(o).filter(gd)},WE=e=>{const n=e.selection.getRng();return!n.collapsed&&(VE(e,!0).exists(o=>o.isEqual(ke.fromRangeStart(n)))||VE(e,!1).exists(o=>o.isEqual(ke.fromRangeEnd(n))))},c9=e=>Je(e)&&(Cg(ee.fromDom(e))||wf(ee.fromDom(e))),ua=hc.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),l9=(e,n)=>{const o=n.getNode(!e),r=e?"after":"before";return lt(o)&&o.getAttribute("data-mce-caret")===r},u9=(e,n,o,r,a)=>{const l=d=>a.isInline(d.nodeName.toLowerCase())&&!Yc(o,r,e);return JO(!n,o).fold(()=>JO(n,r).fold(We,l),l)},GM=(e,n,o,r,a)=>{const l=a.getNode(!o);return qf(ee.fromDom(n),ee.fromDom(r.getNode())).map(d=>Lr(e,d)?ua.remove(d.dom):ua.moveToElement(l)).orThunk(()=>$.some(ua.moveToElement(l)))},qM=(e,n,o,r)=>ta(n,e,o).bind(a=>c9(a.getNode())||u9(e,n,o,a,r)?$.none():n&&qn(a.getNode())||!n&&qn(a.getNode(!0))?GM(r,e,n,o,a):n&&gd(o)||!n&&hd(o)?$.some(ua.moveToPosition(a)):$.none()),d9=(e,n)=>Qn(n)?$.none():e&&qn(n.nextSibling)?$.some(ua.moveToElement(n.nextSibling)):!e&&qn(n.previousSibling)?$.some(ua.moveToElement(n.previousSibling)):$.none(),f9=(e,n,o)=>o.fold(r=>$.some(ua.remove(r)),r=>$.some(ua.moveToElement(r)),r=>Yc(n,r,e)?$.none():$.some(ua.moveToPosition(r))),GE=(e,n,o,r)=>l9(n,o)?d9(n,o.getNode(!n)).orThunk(()=>qM(e,n,o,r)):qM(e,n,o,r).bind(a=>f9(e,o,a)),qE=(e,n,o,r)=>{const a=qS(n?1:-1,e,o),l=ke.fromRangeStart(a),d=ee.fromDom(e);return!n&&gd(l)?$.some(ua.remove(l.getNode(!0))):n&&hd(l)?$.some(ua.remove(l.getNode())):!n&&hd(l)&&F1(d,l,r)?zt(d,l,r).map(p=>ua.remove(p.getNode())):n&&gd(l)&&Yw(d,l,r)?$j(d,l,r).map(p=>ua.remove(p.getNode())):GE(e,n,l,r)},KM=(e,n)=>o=>(e._selectionOverrides.hideFakeCaret(),Wf(e,n,ee.fromDom(o)),!0),m9=(e,n)=>o=>{const r=n?ke.before(o):ke.after(o);return e.selection.setRng(r.toRange()),!0},p9=e=>n=>(e.selection.setRng(n.toRange()),!0),KE=(e,n)=>$.from(vc(e.getBody(),n)),YM=(e,n)=>{const o=e.selection.getNode();return KE(e,o).filter(qn).fold(()=>qE(e.getBody(),n,e.selection.getRng(),e.schema).map(r=>()=>r.fold(KM(e,n),m9(e,n),p9(e))),()=>$.some(Ot))},YE=e=>{De(fi(e,".mce-offscreen-selection"),Ro)},XM=(e,n)=>{const o=e.selection.getNode();return qn(o)&&!iv(o)?KE(e,o.parentNode).filter(qn).fold(()=>$.some(()=>{YE(ee.fromDom(e.getBody())),Wf(e,n,ee.fromDom(e.selection.getNode())),bd(e)}),()=>$.some(Ot)):WE(e)?$.some(()=>{ra(e,e.selection.getRng(),ee.fromDom(e.getBody()))}):$.none()},XE=e=>{const n=e.dom,o=e.selection,r=vc(e.getBody(),o.getNode());if(Ie(r)&&n.isBlock(r)&&n.isEmpty(r)){const a=n.create("br",{"data-mce-bogus":"1"});n.setHTML(r,""),r.appendChild(a),o.setRng(ke.before(a).toRange())}return!0},ty=(e,n)=>e.selection.isCollapsed()?YM(e,n):XM(e,n),JM=e=>e.hasOwnProperty("text"),ZM=e=>e.hasOwnProperty("marker"),al=(e,n)=>{const o=(l,d)=>{if(Ve(l))return{text:l,offset:d};{const p=n(),y=l.childNodes;return d<y.length?(l.insertBefore(p,y[d]),{marker:p,before:!0}):(l.appendChild(p),{marker:p,before:!1})}},r=o(e.endContainer,e.endOffset);return{start:o(e.startContainer,e.startOffset),end:r}},za=e=>{var n,o;const{start:r,end:a}=e,l=new window.Range;return JM(r)?l.setStart(r.text,r.offset):ZM(r)&&(r.before?l.setStartBefore(r.marker):l.setStartAfter(r.marker),(n=r.marker.parentNode)===null||n===void 0||n.removeChild(r.marker)),JM(a)?l.setEnd(a.text,a.offset):ZM(a)&&(a.before?l.setEndBefore(a.marker):l.setEndAfter(a.marker),(o=a.marker.parentNode)===null||o===void 0||o.removeChild(a.marker)),l},bh=(e,n)=>{var o;const r=e.dom,a=r.getParent(e.selection.getStart(),r.isBlock),l=r.getParent(e.selection.getEnd(),r.isBlock),d=e.getBody();if(((o=a==null?void 0:a.nodeName)===null||o===void 0?void 0:o.toLowerCase())==="div"&&a&&l&&a===d.firstChild&&l===d.lastChild&&!r.isEmpty(d)){const y=a.cloneNode(!1),T=()=>{if(n?iN(e):Ll(e),d.firstChild!==a){const N=al(e.selection.getRng(),()=>document.createElement("span"));Array.from(d.childNodes).forEach(B=>y.appendChild(B)),d.appendChild(y),e.selection.setRng(za(N))}};return $.some(T)}return $.none()},QM=(e,n)=>{const o=ke.fromRangeStart(e.selection.getRng());return ta(n,e.getBody(),o).filter(r=>n?Rt(r):$R(r)).bind(r=>WS(n?0:-1,r)).map(r=>()=>e.selection.select(r))},yh=(e,n)=>e.selection.isCollapsed()?QM(e,n):$.none(),hm=Ve,JE=e=>hm(e)&&e.data[0]===Zs,ZE=e=>hm(e)&&e.data[e.data.length-1]===Zs,QE=e=>{var n;return((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Zs)},eI=e=>{var n;if(hm(e.previousSibling))return ZE(e.previousSibling)||e.previousSibling.appendData(Zs),e.previousSibling;if(hm(e))return JE(e)||e.insertData(0,Zs),e;{const o=QE(e);return(n=e.parentNode)===null||n===void 0||n.insertBefore(o,e),o}},tI=e=>{var n,o;if(hm(e.nextSibling))return JE(e.nextSibling)||e.nextSibling.insertData(0,Zs),e.nextSibling;if(hm(e))return ZE(e)||e.appendData(Zs),e;{const r=QE(e);return e.nextSibling?(n=e.parentNode)===null||n===void 0||n.insertBefore(r,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(r),r}},gm=(e,n)=>e?eI(n):tI(n),eT=bt(gm,!0),h9=bt(gm,!1),nI=(e,n)=>Ve(e.container())?gm(n,e.container()):gm(n,e.getNode()),oI=(e,n)=>{const o=n.get();return o&&e.container()===o&&Dl(o)},tT=(e,n)=>n.fold(o=>{Pp(e.get());const r=eT(o);return e.set(r),$.some(ke(r,r.length-1))},o=>Vr(o).map(r=>{if(oI(r,e)){const a=e.get();return ke(a,1)}else{Pp(e.get());const a=nI(r,!0);return e.set(a),ke(a,1)}}),o=>yc(o).map(r=>{if(oI(r,e)){const a=e.get();return ke(a,a.length-1)}else{Pp(e.get());const a=nI(r,!1);return e.set(a),ke(a,a.length-1)}}),o=>{Pp(e.get());const r=h9(o);return e.set(r),$.some(ke(r,1))}),nT=(e,n)=>{for(let o=0;o<e.length;o++){const r=e[o].apply(null,n);if(r.isSome())return r}return $.none()},Qr=hc.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),sI=(e,n)=>{const o=bc(n,e);return o||e},oT=(e,n,o)=>{const r=oN(o),a=sI(n,r.container());return hu(e,a,r).fold(()=>hi(a,r).bind(bt(hu,e,a)).map(l=>Qr.before(l)),$.none)},g9=(e,n)=>Mf(e,n)===null,rI=(e,n,o)=>hu(e,n,o).filter(bt(g9,n)),b9=(e,n,o)=>{const r=sN(o);return rI(e,n,r).bind(a=>Pi(a,r).isNone()?$.some(Qr.start(a)):$.none())},y9=(e,n,o)=>{const r=oN(o);return rI(e,n,r).bind(a=>hi(a,r).isNone()?$.some(Qr.end(a)):$.none())},v9=(e,n,o)=>{const r=sN(o),a=sI(n,r.container());return hu(e,a,r).fold(()=>Pi(a,r).bind(bt(hu,e,a)).map(l=>Qr.after(l)),$.none)},iI=e=>!o2(vh(e)),Vl=(e,n,o)=>nT([oT,b9,y9,v9],[e,n,o]).filter(iI),vh=e=>e.fold(jo,jo,jo,jo),Xx=e=>e.fold(it("before"),it("start"),it("end"),it("after")),Jx=e=>e.fold(Qr.before,Qr.before,Qr.after,Qr.after),sT=e=>e.fold(Qr.start,Qr.start,Qr.end,Qr.end),x9=(e,n)=>Xx(e)===Xx(n)&&vh(e)===vh(n),C9=(e,n,o,r,a,l)=>V(hu(n,o,r),hu(n,o,a),(d,p)=>d!==p&&nN(o,d,p)?Qr.after(e?d:p):l).getOr(l),aI=(e,n)=>e.fold(ht,o=>!x9(o,n)),S9=(e,n,o,r,a)=>{const l=Fa(e,a);return ta(e,o,l).map(bt(Fa,e)).fold(()=>r.map(Jx),y=>Vl(n,o,y).map(bt(C9,e,n,o,l,y)).filter(bt(aI,r))).filter(iI)},w9=(e,n)=>e?n.fold(D($.some,Qr.start),$.none,D($.some,Qr.after),$.none):n.fold($.none,D($.some,Qr.before),$.none,D($.some,Qr.end)),rT=(e,n,o,r)=>{const a=Fa(e,r),l=Vl(n,o,a);return Vl(n,o,a).bind(bt(w9,e)).orThunk(()=>S9(e,n,o,l,r))},E9=e=>Rn(e.selection.getSel().modify),cI=(e,n,o)=>{const r=e?1:-1;return n.setRng(ke(o.container(),o.offset()+r).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},T9=(e,n)=>{const o=n.selection.getRng(),r=e?ke.fromRangeEnd(o):ke.fromRangeStart(o);return E9(n)?e&&Op(r)?cI(!0,n.selection,r):!e&&lu(r)?cI(!1,n.selection,r):!1:!1};var Wl;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Wl||(Wl={}));const Zx=(e,n)=>e===dr.Backwards?Jo(n):n,_9=(e,n,o)=>e===dr.Forwards?n.next(o):n.prev(o),A9=(e,n,o,r)=>Gn(r.getNode(n===dr.Forwards))?Wl.Br:Yc(o,r)===!1?Wl.Block:Wl.Wrap,ny=(e,n,o,r)=>{const a=Xc(o);let l=r;const d=[];for(;l;){const p=_9(n,a,l);if(!p)break;if(Gn(p.getNode(!1)))return n===dr.Forwards?{positions:Zx(n,d).concat([p]),breakType:Wl.Br,breakAt:$.some(p)}:{positions:Zx(n,d),breakType:Wl.Br,breakAt:$.some(p)};if(!p.isVisible()){l=p;continue}if(e(l,p)){const y=A9(o,n,l,p);return{positions:Zx(n,d),breakType:y,breakAt:$.some(p)}}d.push(p),l=p}return{positions:Zx(n,d),breakType:Wl.Eol,breakAt:$.none()}},oy=(e,n,o,r)=>n(o,r).breakAt.map(a=>{const l=n(o,a).positions;return e===dr.Backwards?l.concat(a):[a].concat(l)}).getOr([]),iT=(e,n)=>ls(e,(o,r)=>o.fold(()=>$.some(r),a=>V(us(a.getClientRects()),us(r.getClientRects()),(l,d)=>{const p=Math.abs(n-l.left);return Math.abs(n-d.left)<=p?r:a}).or(o)),$.none()),Qx=(e,n)=>us(n.getClientRects()).bind(o=>iT(e,o.left)),Pd=bt(ny,ke.isAbove,-1),sy=bt(ny,ke.isBelow,1),lI=bt(oy,-1,Pd),uI=bt(oy,1,sy),dI=(e,n)=>Pd(e,n).breakAt.isNone(),fI=(e,n)=>sy(e,n).breakAt.isNone(),k9=e=>Vr(e).map(n=>[n].concat(sy(e,n).positions)).getOr([]),O9=e=>yc(e).map(n=>Pd(e,n).positions.concat(n)).getOr([]),D9=(e,n)=>Qx(lI(e,n),n),R9=(e,n)=>Qx(uI(e,n),n),N9=qn,mI=(e,n)=>Math.abs(e.left-n),P9=(e,n)=>Math.abs(e.right-n),Tc=e=>ya(e,"node"),e0=(e,n)=>Zl(e,(o,r)=>{const a=Math.min(mI(o,n),P9(o,n)),l=Math.min(mI(r,n),P9(r,n));return l===a&&Tc(r)&&N9(r.node)||l<a?r:o}),pI=e=>{const n=o=>on(o,r=>{const a=ed(r);return a.node=e,a});if(lt(e))return n(e.getClientRects());if(Ve(e)){const o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),n(o.getClientRects())}else return[]},aT=e=>Ei(e,pI);var ry;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(ry||(ry={}));const hI=(e,n,o,r)=>{let a=r;for(;a=Bg(a,e,Zk,n);)if(o(a))return},gI=(e,n,o,r,a,l)=>{let d=0;const p=[],y=B=>{let F=aT([B]);e===-1&&(F=F.reverse());for(let W=0;W<F.length;W++){const K=F[W];if(!o(K,T)){if(p.length>0&&n(K,zi(p))&&d++,K.line=d,a(K))return!0;p.push(K)}}return!1},T=zi(l.getClientRects());if(!T)return p;const N=l.getNode();return N&&(y(N),hI(e,r,y,N)),p},bI=(e,n)=>n.line>e,M9=(e,n)=>n.line===e,I9=bt(gI,ry.Up,wo,wg),B9=bt(gI,ry.Down,wg,wo),bm=e=>zi(e.getClientRects()),yI=(e,n,o,r)=>{const a=Xc(n);let l,d,p,y;const T=[];let N=0;e===1?(l=a.next,d=wg,p=wo,y=ke.after(r)):(l=a.prev,d=wo,p=wg,y=ke.before(r));const B=bm(y);do{if(!y.isVisible())continue;const F=bm(y);if(p(F,B))continue;T.length>0&&d(F,zi(T))&&N++;const W=ed(F);if(W.position=y,W.line=N,o(W))return T;T.push(W)}while(y=l(y));return T},cT=e=>n=>bI(e,n),t0=e=>n=>M9(e,n),cl=(e,n)=>{e.selection.setRng(n),pu(e,e.selection.getRng())},lT=(e,n,o)=>$.some(Yx(e,n,o)),vI=(e,n,o,r,a,l)=>{const d=n===dr.Forwards,p=Xc(e.getBody()),y=bt(KS,d?p.next:p.prev),T=d?r:a;if(!o.collapsed){const K=Mv(o);if(l(K))return zl(n,e,K,n===dr.Backwards,!1);if(WE(e)){const G=o.cloneRange();return G.collapse(n===dr.Backwards),$.from(G)}}const N=Fg(n,e.getBody(),o);if(T(N))return gh(e,N.getNode(!d));let B=y(N);const F=Oo(o);if(B)B=Fa(d,B);else return F?$.some(o):$.none();if(T(B))return zl(n,e,B.getNode(!d),d,!1);const W=y(B);return W&&T(W)&&$g(B,W)?zl(n,e,W.getNode(!d),d,!1):F?lT(e,B.toRange(),!1):$.none()},xI=(e,n,o,r,a,l)=>{const d=Fg(n,e.getBody(),o),p=zi(d.getClientRects()),y=n===ry.Down,T=e.getBody();if(!p)return $.none();if(WE(e)){const Y=y?ke.fromRangeEnd(o):ke.fromRangeStart(o);return(y?R9:D9)(T,Y).orThunk(()=>$.from(Y)).map(le=>le.toRange())}const B=(y?B9:I9)(T,cT(1),d),F=qt(B,t0(1)),W=p.left,K=e0(F,W);if(K&&l(K.node)){const Y=Math.abs(W-K.left),se=Math.abs(W-K.right);return zl(n,e,K.node,Y<se,!1)}let G;if(r(d)?G=d.getNode():a(d)?G=d.getNode(!0):G=Mv(o),G){const Y=yI(n,T,cT(1),G);let se=e0(qt(Y,t0(1)),W);if(se||(se=zi(qt(Y,t0(0))),se))return lT(e,se.position.toRange(),!1)}return F.length===0?uT(e,y).filter(y?a:r).map(Y=>Yx(e,Y.toRange(),!1)):$.none()},uT=(e,n)=>{const o=e.selection.getRng(),r=n?ke.fromRangeEnd(o):ke.fromRangeStart(o),a=c4(r.container(),e.getBody());if(n){const l=sy(a,r);return oi(l.positions)}else{const l=Pd(a,r);return us(l.positions)}},F9=(e,n,o)=>uT(e,n).filter(o).exists(r=>(e.selection.setRng(r.toRange()),!0)),dT=(e,n)=>{const o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},L9=(e,n)=>{e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},Va=(e,n,o)=>tT(n,o).map(r=>(dT(e,r),o)),$9=(e,n,o)=>{const r=ke.fromRangeStart(e);if(e.collapsed)return r;{const a=ke.fromRangeEnd(e);return o?Pi(n,a).getOr(a):hi(n,r).getOr(r)}},j9=(e,n,o)=>{const r=e.getBody(),a=$9(e.selection.getRng(),r,o),l=bt(Gf,e);return rT(o,l,r,a).bind(p=>Va(e,n,p))},ym=(e,n,o)=>{const r=on(fi(ee.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),d=>d.dom),a=qt(r,e),l=qt(o,e);De(Yd(a,l),bt(L9,!1)),De(Yd(l,a),bt(L9,!0))},CI=(e,n)=>{const o=n.get();if(e.selection.isCollapsed()&&!e.composing&&o){const r=ke.fromRangeStart(e.selection.getRng());ke.isTextPosition(r)&&!Zr(r)&&(dT(e,Q5(o,r)),n.set(null))}},H9=(e,n,o,r)=>{if(n.selection.isCollapsed()){const a=qt(r,e);De(a,l=>{const d=ke.fromRangeStart(n.selection.getRng());Vl(e,n.getBody(),d).bind(p=>Va(n,o,p))})}},iy=(e,n,o)=>Rg(e)?j9(e,n,o).isSome():!1,SI=(e,n,o)=>Rg(n)?T9(e,n):!1,U9=e=>{const n=No(null),o=bt(Gf,e);return e.on("NodeChange",r=>{Rg(e)&&(ym(o,e.dom,r.parents),CI(e,n),H9(o,e,n,r.parents))}),n},z9=bt(SI,!0),V9=bt(SI,!1),ay=(e,n,o)=>{if(Rg(e)){const r=uT(e,n).getOrThunk(()=>{const a=e.selection.getRng();return n?ke.fromRangeEnd(a):ke.fromRangeStart(a)});return Vl(bt(Gf,e),e.getBody(),r).exists(a=>{const l=Jx(a);return tT(o,l).exists(d=>(dT(e,d),!0))})}else return!1},W9=(e,n)=>{const o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o},Cu=e=>V(Vr(e),yc(e),(n,o)=>{const r=Fa(!0,n),a=Fa(!1,o);return hi(e,r).forall(l=>l.isEqual(a))}).getOr(!0),n0=(e,n)=>o=>tT(n,o).map(r=>()=>dT(e,r)),wI=(e,n,o,r)=>{const a=e.getBody(),l=bt(Gf,e);e.undoManager.ignore(()=>{e.selection.setRng(W9(o,r)),Ll(e),Vl(l,a,ke.fromRangeStart(e.selection.getRng())).map(sT).bind(n0(e,n)).each(Ic)}),e.nodeChanged()},G9=(e,n)=>{const o=bc(n,e);return o||e},q9=(e,n,o,r)=>{const a=G9(e.getBody(),r.container()),l=bt(Gf,e),d=Vl(l,a,r);return d.bind(y=>o?y.fold(it($.some(sT(y))),$.none,it($.some(Jx(y))),$.none):y.fold($.none,it($.some(Jx(y))),$.none,it($.some(sT(y))))).map(n0(e,n)).getOrThunk(()=>{const y=Lp(o,a,r),T=y.bind(N=>Vl(l,a,N));return V(d,T,()=>hu(l,a,r).bind(N=>Cu(N)?$.some(()=>{Wf(e,o,ee.fromDom(N))}):$.none())).getOrThunk(()=>T.bind(()=>y.map(N=>()=>{o?wI(e,n,r,N):wI(e,n,N,r)})))})},fT=(e,n,o)=>{if(e.selection.isCollapsed()&&Rg(e)){const r=ke.fromRangeStart(e.selection.getRng());return q9(e,n,o,r)}return $.none()},K9=e=>RC(e)>1,o0=(e,n)=>{const o=ee.fromDom(e.getBody()),r=ee.fromDom(e.selection.getStart()),a=Fl(r,o);return Yt(a,n).fold(it(a),l=>a.slice(0,l))},mT=e=>RC(e)===1,pT=e=>o0(e,n=>e.schema.isBlock(gn(n))||K9(n)),EI=e=>o0(e,n=>e.schema.isBlock(gn(n))),hT=(e,n)=>{const o=bt(M2,e);return Ei(n,r=>o(r)?[r.dom]:[])},gT=e=>{const n=EI(e);return hT(e,n)},Y9=(e,n,o,r)=>{const a=hT(n,r);if(a.length===0)Wf(n,e,o);else{const l=ax(o.dom,a);n.selection.setRng(l.toRange())}},cy=(e,n)=>{const o=qt(pT(e),mT);return oi(o).bind(r=>{const a=ke.fromRangeStart(e.selection.getRng());return aN(n,a,r.dom)&&!fw(r)?$.some(()=>Y9(n,e,r,o)):$.none()})},s0=(e,n)=>{const o=n.parentElement;return Gn(n)&&!_(o)&&e.dom.isEmpty(o)},TI=e=>fw(ee.fromDom(e)),bT=(e,n)=>{const o=e.selection.getStart(),r=s0(e,o)||TI(o)?ax(o,n):$N(e.selection.getRng(),n);e.selection.setRng(r.toRange())},_I=(e,n)=>{const o=Yd(n,gT(e));o.length>0&&bT(e,o)},yT=e=>Ve(e.startContainer),r0=e=>e.startOffset===0&&yT(e),vT=(e,n)=>{const o=n.startContainer.parentElement;return!_(o)&&M2(e,ee.fromDom(o))},ly=e=>{const n=e.startContainer.parentNode,o=e.endContainer.parentNode;return!_(n)&&!_(o)&&n.isEqualNode(o)},X9=e=>{const n=e.endContainer;return e.endOffset===(Ve(n)?n.length:n.childNodes.length)},AI=e=>ly(e)&&X9(e),J9=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),Z9=e=>AI(e)||J9(e),kI=e=>{const n=e.selection.getRng();return r0(n)&&vT(e,n)&&Z9(n)},Q9=e=>{if(kI(e)){const n=gT(e);return $.some(()=>{Ll(e),_I(e,n)})}else return $.none()},i0=(e,n)=>e.selection.isCollapsed()?cy(e,n):Q9(e),RK=(e,n)=>zC(e,o=>Na(o.dom),o=>n.isBlock(gn(o))),e7=e=>RK(ee.fromDom(e.selection.getStart()),e.schema),t7=e=>{const n=e.selection.getRng();return n.collapsed&&(yT(n)||e.dom.isEmpty(n.startContainer))&&!e7(e)},uy=e=>(t7(e)&&bT(e,[]),!0),xT=(e,n,o)=>Je(o)?$.some(()=>{e._selectionOverrides.hideFakeCaret(),Wf(e,n,ee.fromDom(o))}):$.none(),n7=(e,n)=>{const o=n?Jp:ab,r=n?dr.Forwards:dr.Backwards,a=Fg(r,e.getBody(),e.selection.getRng());return o(a)?xT(e,n,a.getNode(!n)):$.from(Fa(n,a)).filter(l=>o(l)&&$g(a,l)).bind(l=>xT(e,n,l.getNode(!n)))},o7=(e,n)=>{const o=e.selection.getNode();return Fr(o)?xT(e,n,o):$.none()},CT=(e,n)=>e.selection.isCollapsed()?n7(e,n):o7(e,n),s7=e=>is(e,n=>Ie(n.dom)||qn(n.dom)).exists(n=>Ie(n.dom)),a0=e=>eu(e??"").getOr(0),OI=(e,n)=>{const o=e||B3(n)?"margin":"padding",r=Ws(n,"direction")==="rtl"?"-right":"-left";return o+r},vm=(e,n,o,r,a,l)=>{const d=OI(o,ee.fromDom(l)),p=a0(e.getStyle(l,d));if(n==="outdent"){const y=Math.max(0,p-r);e.setStyle(l,d,y?y+a:"")}else{const y=p+r+a;e.setStyle(l,d,y)}},DI=(e,n)=>or(n,o=>{const r=OI(g5(e),o),a=Qy(o,r).map(a0).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&a>0}),c0=e=>{const n=Su(e);return!e.mode.isReadOnly()&&(n.length>1||DI(e,n))},ST=e=>dS(e)||wf(e),wT=e=>dn(e).exists(ST),Su=e=>qt(tv(e.selection.getSelectedBlocks()),n=>!ST(n)&&!wT(n)&&s7(n)),ET=(e,n)=>{var o,r;if(e.mode.isReadOnly())return;const{dom:a}=e,l=b5(e),d=(r=(o=/[a-z%]+$/i.exec(l))===null||o===void 0?void 0:o[0])!==null&&r!==void 0?r:"px",p=a0(l),y=g5(e);De(Su(e),T=>{vm(a,n,y,p,d,T.dom)})},Wa=e=>ET(e,"indent"),Md=e=>ET(e,"outdent"),l0=e=>{if(e.selection.isCollapsed()&&c0(e)){const n=e.dom,o=e.selection.getRng(),r=ke.fromRangeStart(o),a=n.getParent(o.startContainer,n.isBlock);if(a!==null&&B1(ee.fromDom(a),r,e.schema))return $.some(()=>Md(e))}return $.none()},RI=(e,n,o)=>nc([l0,ty,zE,(r,a)=>fT(r,n,a),Wx,J1,yh,CT,qx,i0,bh],r=>r(e,o)).filter(r=>e.selection.isEditable()),NI=(e,n)=>{RI(e,n,!1).fold(()=>{e.selection.isEditable()&&(Ll(e),bd(e))},Ic)},r7=(e,n)=>{RI(e,n,!0).fold(()=>{e.selection.isEditable()&&iN(e)},Ic)},i7=(e,n)=>{e.addCommand("delete",()=>{NI(e,n)}),e.addCommand("forwardDelete",()=>{r7(e,n)})},PI=5,a7=400,MI=e=>e.touches===void 0||e.touches.length!==1?$.none():$.some(e.touches[0]),II=(e,n)=>{const o=Math.abs(e.clientX-n.x),r=Math.abs(e.clientY-n.y);return o>PI||r>PI},c7=e=>{const n=$r(),o=No(!1),r=_v(a=>{e.dispatch("longpress",{...a,type:"longpress"}),o.set(!0)},a7);e.on("touchstart",a=>{MI(a).each(l=>{r.cancel();const d={x:l.clientX,y:l.clientY,target:a.target};r.throttle(a),o.set(!1),n.set(d)})},!0),e.on("touchmove",a=>{r.cancel(),MI(a).each(l=>{n.on(d=>{II(l,d)&&(n.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",a=>{r.cancel(),a.type!=="touchcancel"&&n.get().filter(l=>l.target.isEqualNode(a.target)).each(()=>{o.get()?a.preventDefault():e.dispatch("tap",{...a,type:"tap"})})},!0)},TT=(e,n)=>Lt(e,n.nodeName),xh=(e,n)=>Ve(n)?!0:lt(n)?!TT(e.getBlockElements(),n)&&!Mi(n)&&!uf(e,n)&&!JC(n):!1,u0=(e,n,o)=>vo(cb(ee.fromDom(o),ee.fromDom(n)),r=>TT(e,r.dom)),BI=(e,n)=>{if(Ve(n)){if(n.data.length===0)return!0;if(/^\s+$/.test(n.data))return!n.nextSibling||TT(e,n.nextSibling)||JC(n.nextSibling)}return!1},d0=e=>e.dom.create(Cr(e),Nf(e)),_T=e=>{const n=e.dom,o=e.selection,r=e.schema,a=r.getBlockElements(),l=o.getStart(),d=e.getBody();let p,y,T=null;const N=Cr(e);if(!l||!lt(l))return;const B=d.nodeName.toLowerCase();if(!r.isValidChild(B,N.toLowerCase())||u0(a,d,l))return;if(d.firstChild===d.lastChild&&Gn(d.firstChild)){p=d0(e),p.appendChild(Kc().dom),d.replaceChild(p,d.firstChild),e.selection.setCursorLocation(p,0),e.nodeChanged();return}let F=d.firstChild;for(;F;)if(lt(F)&&l3(r,F),xh(r,F)){if(BI(a,F)){y=F,F=F.nextSibling,n.remove(y);continue}if(!p){if(!T&&e.hasFocus()&&(T=al(e.selection.getRng(),()=>document.createElement("span"))),!F.parentNode){F=null;break}p=d0(e),d.insertBefore(p,F)}y=F,F=F.nextSibling,p.appendChild(y)}else p=null,F=F.nextSibling;T&&(e.selection.setRng(za(T)),e.nodeChanged())},FI=(e,n,o)=>{const r=ee.fromDom(d0(e)),a=Kc();Gs(r,a),o(n,r);const l=document.createRange();return l.setStartBefore(a.dom),l.setEndBefore(a.dom),l},l7=e=>{e.on("NodeChange",()=>_T(e))},LI=e=>n=>(" "+n.attr("class")+" ").indexOf(e)!==-1,u7=(e,n,o)=>function(r){const a=arguments,l=a[a.length-2],d=l>0?n.charAt(l-1):"";if(d==='"')return r;if(d===">"){const p=n.lastIndexOf("<",l);if(p!==-1&&n.substring(p,l).indexOf('contenteditable="false"')!==-1)return r}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(a[0])+'">'+e.dom.encode(typeof a[1]=="string"?a[1]:a[0])+"</span>"},d7=(e,n,o)=>{let r=n.length,a=o.content;if(o.format!=="raw"){for(;r--;)a=a.replace(n[r],u7(e,a,BO(e)));o.content=a}},f7=(e,n)=>or(e,o=>{const r=n.match(o);return r!==null&&r[0].length===n.length}),m7=e=>{const n="contenteditable",o=" "+k.trim(gc(e))+" ",r=" "+k.trim(BO(e))+" ",a=LI(o),l=LI(r),d=Xv(e);d.length>0&&e.on("BeforeSetContent",p=>{d7(e,d,p)}),e.parser.addAttributeFilter("class",p=>{let y=p.length;for(;y--;){const T=p[y];a(T)?T.attr(n,"true"):l(T)&&T.attr(n,"false")}}),e.serializer.addAttributeFilter(n,p=>{let y=p.length;for(;y--;){const T=p[y];if(!a(T)&&!l(T))continue;const N=T.attr("data-mce-content");d.length>0&&N?f7(d,N)?(T.name="#text",T.type=3,T.raw=!0,T.value=N):T.remove():T.attr(n,null)}})},$I=e=>Pt(ee.fromDom(e.getBody()),"*[data-mce-caret]").map(n=>n.dom).getOrNull(),jI=(e,n)=>{n.hasAttribute("data-mce-caret")&&(Sg(n),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(n))},p7=(e,n)=>{const o=$I(e);if(o){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),jI(e,o);return}Gk(o)&&(jI(e,o),e.undoManager.add())}},da=e=>{e.on("keyup compositionstart",bt(p7,e))},HI=qn,AT=(e,n,o)=>vI(n,e,o,hd,gd,HI),UI=(e,n,o)=>xI(n,e,o,l=>hd(l)||I1(l),l=>gd(l)||qw(l),HI),kT=e=>{const n=e.dom.create(Cr(e));return n.innerHTML='<br data-mce-bogus="1">',n},zI=(e,n,o)=>{const r=Xc(e.getBody()),a=bt(KS,n===1?r.next:r.prev);if(o.collapsed){const l=e.dom.getParent(o.startContainer,"PRE");if(!l)return;if(!a(ke.fromRangeStart(o))){const p=ee.fromDom(kT(e));n===1?Cl(ee.fromDom(l),p):Di(ee.fromDom(l),p),e.selection.select(p.dom,!0),e.selection.collapse()}}},h7=(e,n)=>{const o=n?dr.Forwards:dr.Backwards,r=e.selection.getRng();return AT(o,e,r).orThunk(()=>(zI(e,o,r),$.none()))},g7=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return UI(o,e,r).orThunk(()=>(zI(e,o,r),$.none()))},b7=(e,n)=>{const o=n?e.getEnd(!0):e.getStart(!0);return o2(o)?!n:n},VI=(e,n)=>h7(e,b7(e.selection,n)).exists(o=>(cl(e,o),!0)),OT=(e,n)=>g7(e,n).exists(o=>(cl(e,o),!0)),WI=(e,n)=>F9(e,n,n?gd:hd),f0=(e,n)=>VE(e,!n).map(o=>{const r=o.toRange(),a=e.selection.getRng();return n?r.setStart(a.startContainer,a.startOffset):r.setEnd(a.endContainer,a.endOffset),r}).exists(o=>(cl(e,o),!0)),dy=e=>en(["figcaption"],gn(e)),wu=(e,n,o)=>{const r=bt(Ne,n);return is(ee.fromDom(e.container()),a=>o.isBlock(gn(a)),r).filter(dy)},xm=(e,n,o)=>n?fI(e.dom,o):dI(e.dom,o),m0=(e,n)=>{const o=ee.fromDom(e.getBody()),r=ke.fromRangeStart(e.selection.getRng());return wu(r,o,e.schema).exists(()=>{if(xm(o,n,r)){const l=FI(e,o,n?Gs:ev);return e.selection.setRng(l),!0}else return!1})},p0=(e,n)=>e.selection.isCollapsed()?m0(e,n):!1,DT=(e,n,o)=>{const r=e.selection.getRng(),a=ke.fromRangeStart(r);return e.getBody().firstChild===n&&dI(o,a)?(e.execCommand("InsertNewBlockBefore"),!0):!1},GI=(e,n)=>{const o=e.selection.getRng(),r=ke.fromRangeStart(o);return e.getBody().lastChild===n&&fI(n,r)?(e.execCommand("InsertNewBlockAfter"),!0):!1},y7=(e,n)=>n?$.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>GI(e,o)).getOr(!1):$.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>$.from(e.dom.getParent(o,"details")).map(r=>DT(e,r,o))).getOr(!1),RT=(e,n)=>y7(e,n),NT={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},v7=e=>on(e,n=>({...NT,...n})),x7=e=>on(e,n=>({...NT,...n})),qI=(e,n)=>n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey,C7=(e,n)=>Ei(v7(e),o=>qI(o,n)?[o]:[]),S7=(e,n)=>Ei(x7(e),o=>qI(o,n)?[o]:[]),Jt=(e,...n)=>()=>e.apply(null,n),Ch=(e,n)=>Ho(C7(e,n),o=>o.action()),PT=(e,n)=>nc(S7(e,n),o=>o.action()),w7=(e,n)=>{const o=n?dr.Forwards:dr.Backwards,r=e.selection.getRng();return vI(e,o,r,Jp,ab,Fr).exists(a=>(cl(e,a),!0))},E7=(e,n)=>{const o=n?1:-1,r=e.selection.getRng();return xI(e,o,r,Jp,ab,Fr).exists(a=>(cl(e,a),!0))},T7=(e,n)=>F9(e,n,n?ab:Jp),KI=hc.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),h0={...KI,none:e=>KI.none(e)},_7=(e,n)=>YI(e,n,ht),YI=(e,n,o)=>Ei(Vo(e),r=>ne(r,n)?o(r)?[r]:[]:YI(r,n,o)),NK=(e,n,o=We)=>{if(o(n))return $.none();if(en(e,gn(n)))return $.some(n);const r=a=>ne(a,"table")||o(a);return Vs(n,e.join(","),r)},A7=(e,n)=>NK(["td","th"],e,n),bi=e=>_7(e,"th,td"),MT=(e,n)=>Uu(e,"table",n),Cm=(e,n,o,r,a=ht)=>{const l=r===1;if(!l&&o<=0)return h0.first(e[0]);if(l&&o>=e.length-1)return h0.last(e[e.length-1]);{const d=o+r,p=e[d];return a(p)?h0.middle(n,p):Cm(e,n,d,r,a)}},XI=(e,n)=>MT(e,n).bind(o=>{const r=bi(o);return Yt(r,l=>Ne(e,l)).map(l=>({index:l,all:r}))}),JI=(e,n,o)=>XI(e,o).fold(()=>h0.none(e),a=>Cm(a.all,e,a.index,1,n)),ZI=(e,n,o)=>XI(e,o).fold(()=>h0.none(),a=>Cm(a.all,e,a.index,-1,n)),QI=e=>zk(e).filter(n=>n.trim().length!==0||n.indexOf(Bs)>-1).isSome(),IT=e=>Lu(e)&&As(e,"contenteditable")==="false",eB=["img","br"],k7=e=>QI(e)||en(eB,gn(e))||IT(e),tB=e=>MC(e,k7),O7=(e,n)=>({left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}),D7=(e,n)=>Ei(n,o=>{const r=O7(ed(o.getBoundingClientRect()),-1);return[{x:r.left,y:e(r),cell:o},{x:r.right,y:e(r),cell:o}]}),R7=(e,n,o)=>ls(e,(r,a)=>r.fold(()=>$.some(a),l=>{const d=Math.sqrt(Math.abs(l.x-n)+Math.abs(l.y-o)),p=Math.sqrt(Math.abs(a.x-n)+Math.abs(a.y-o));return $.some(p<d?a:l)}),$.none()),g0=(e,n,o,r,a)=>{const l=fi(ee.fromDom(o),"td,th,caption").map(p=>p.dom),d=qt(D7(e,l),p=>n(p,a));return R7(d,r,a).map(p=>p.cell)},N7=e=>e.bottom,P7=e=>e.top,PK=(e,n)=>e.y<n,M7=(e,n)=>e.y>n,nB=bt(g0,N7,PK),MK=bt(g0,P7,M7),I7=(e,n)=>us(n.getClientRects()).bind(o=>nB(e,o.left,o.top)).bind(o=>Qx(O9(o),n)),B7=(e,n)=>oi(n.getClientRects()).bind(o=>MK(e,o.left,o.top)).bind(o=>Qx(k9(o),n)),F7=(e,n,o)=>o.breakAt.exists(r=>e(n,r).breakAt.isSome()),BT=e=>e.breakType===Wl.Wrap&&e.positions.length===0,b0=e=>e.breakType===Wl.Br&&e.positions.length===1,FT=(e,n,o)=>{const r=e(n,o);return BT(r)||!Gn(o.getNode())&&b0(r)?!F7(e,n,r):r.breakAt.isNone()},oB=bt(FT,Pd),L7=bt(FT,sy),$7=(e,n,o)=>{const r=ke.fromRangeStart(n);return $p(!e,o).exists(a=>a.isEqual(r))},LT=(e,n,o,r)=>{const a=e.selection.getRng(),l=n?1:-1;return GO()&&$7(n,a,o)?(zl(l,e,o,!n,!1).each(d=>{cl(e,d)}),!0):!1},j7=(e,n,o)=>I7(n,o).orThunk(()=>us(o.getClientRects()).bind(r=>iT(lI(e,ke.before(n)),r.left))).getOr(ke.before(n)),H7=(e,n,o)=>B7(n,o).orThunk(()=>us(o.getClientRects()).bind(r=>iT(uI(e,ke.after(n)),r.left))).getOr(ke.after(n)),sB=(e,n)=>{const o=n.getNode(e);return Uc(o)?$.some(o):$.none()},U7=(e,n,o)=>{n.undoManager.transact(()=>{const r=e?Cl:Di,a=FI(n,ee.fromDom(o),r);cl(n,a)})},Ga=(e,n,o)=>{const r=sB(!!n,o),a=n===!1;r.fold(()=>cl(e,o.toRange()),l=>$p(a,e.getBody()).filter(d=>d.isEqual(o)).fold(()=>cl(e,o.toRange()),d=>U7(n,e,l)))},rB=(e,n,o,r)=>{const a=e.selection.getRng(),l=ke.fromRangeStart(a),d=e.getBody();if(!n&&oB(r,l)){const p=j7(d,o,l);return Ga(e,n,p),!0}else if(n&&L7(r,l)){const p=H7(d,o,l);return Ga(e,n,p),!0}else return!1},$T=(e,n,o)=>$.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>$.from(e.dom.getParent(r,"table")).map(a=>o(e,n,a,r))).getOr(!1),z7=(e,n)=>$T(e,n,LT),iB=(e,n)=>$T(e,n,rB),IK=e=>{const n=tb.exact(e,0,e,0);return W4(n)},V7=(e,n,o)=>o.fold($.none,$.none,(r,a)=>tB(a).map(l=>IK(l)),r=>e.mode.isReadOnly()?$.none():(e.execCommand("mceTableInsertRowAfter"),aB(e,n,r))),aB=(e,n,o)=>V7(e,n,JI(o,ac)),y0=(e,n,o)=>V7(e,n,ZI(o,ac)),cB=(e,n)=>{const o=["table","li","dl"],r=ee.fromDom(e.getBody()),a=p=>{const y=gn(p);return Ne(p,r)||en(o,y)},l=e.selection.getRng(),d=ee.fromDom(n?l.endContainer:l.startContainer);return A7(d,a).map(p=>(MT(p,a).each(N=>{e.model.table.clearSelectedCells(N.dom)}),e.selection.collapse(!n),(n?aB:y0)(e,a,p).each(N=>{e.selection.setRng(N)}),!0)).getOr(!1)},jT=(e,n,o)=>{const r=an.os.isMacOS()||an.os.isiOS();Ch([{keyCode:dt.RIGHT,action:Jt(VI,e,!0)},{keyCode:dt.LEFT,action:Jt(VI,e,!1)},{keyCode:dt.UP,action:Jt(OT,e,!1)},{keyCode:dt.DOWN,action:Jt(OT,e,!0)},...r?[{keyCode:dt.UP,action:Jt(f0,e,!1),metaKey:!0,shiftKey:!0},{keyCode:dt.DOWN,action:Jt(f0,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:dt.RIGHT,action:Jt(z7,e,!0)},{keyCode:dt.LEFT,action:Jt(z7,e,!1)},{keyCode:dt.UP,action:Jt(iB,e,!1)},{keyCode:dt.DOWN,action:Jt(iB,e,!0)},{keyCode:dt.UP,action:Jt(iB,e,!1)},{keyCode:dt.UP,action:Jt(RT,e,!1)},{keyCode:dt.DOWN,action:Jt(RT,e,!0)},{keyCode:dt.RIGHT,action:Jt(w7,e,!0)},{keyCode:dt.LEFT,action:Jt(w7,e,!1)},{keyCode:dt.UP,action:Jt(E7,e,!1)},{keyCode:dt.DOWN,action:Jt(E7,e,!0)},{keyCode:dt.RIGHT,action:Jt(iy,e,n,!0)},{keyCode:dt.LEFT,action:Jt(iy,e,n,!1)},{keyCode:dt.RIGHT,ctrlKey:!r,altKey:r,action:Jt(z9,e,n)},{keyCode:dt.LEFT,ctrlKey:!r,altKey:r,action:Jt(V9,e,n)},{keyCode:dt.UP,action:Jt(p0,e,!1)},{keyCode:dt.DOWN,action:Jt(p0,e,!0)}],o).each(a=>{o.preventDefault()})},lB=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||jT(e,n,o)})},_c=(e,n)=>({container:e,offset:n}),fy=yo.DOM,v0=e=>n=>e===n?-1:0,W7=e=>n=>e.isBlock(n)||en(["BR","IMG","HR","INPUT"],n.nodeName)||e.getContentEditable(n)==="false",HT=(e,n,o)=>{if(Ve(e)&&n>=0)return $.some(_c(e,n));{const r=Cf(fy);return $.from(r.backwards(e,n,v0(e),o)).map(a=>_c(a.container,a.container.data.length))}},G7=(e,n,o)=>{if(Ve(e)&&n>=e.length)return $.some(_c(e,n));{const r=Cf(fy);return $.from(r.forwards(e,n,v0(e),o)).map(a=>_c(a.container,0))}},Sh=(e,n,o)=>{if(!Ve(e))return $.none();const r=e.data;if(n>=0&&n<=r.length)return $.some(_c(e,n));{const a=Cf(fy);return $.from(a.backwards(e,n,v0(e),o)).bind(l=>{const d=l.container.data;return Sh(l.container,n+d.length,o)})}},uB=(e,n,o)=>{if(!Ve(e))return $.none();const r=e.data;if(n<=r.length)return $.some(_c(e,n));{const a=Cf(fy);return $.from(a.forwards(e,n,v0(e),o)).bind(l=>uB(l.container,n-r.length,o))}},UT=(e,n,o,r,a)=>{const l=Cf(e,W7(e));return $.from(l.backwards(n,o,r,a))},q7=e=>e.collapsed&&Ve(e.startContainer),zT=e=>Qi(e.toString().replace(/\u00A0/g," ")),dB=e=>e!==""&&` Â \uFEFF\f
\r	\v`.indexOf(e)!==-1,K7=(e,n)=>e.substring(n.length),fB=(e,n,o,r=!1)=>{let a;const l=o.charAt(0);for(a=n-1;a>=0;a--){const d=e.charAt(a);if(!r&&dB(d))return $.none();if(l===d&&Hs(e,o,a,n))break}return $.some(a)},VT=(e,n,o,r=!1)=>{if(!q7(n))return $.none();const a={text:"",offset:0},l=(p,y,T)=>(a.text=T+a.text,a.offset+=y,fB(a.text,a.offset,o,r).getOr(y)),d=e.getParent(n.startContainer,e.isBlock)||e.getRoot();return UT(e,n.startContainer,n.startOffset,l,d).bind(p=>{const y=n.cloneRange();if(y.setStart(p.container,p.offset),y.setEnd(n.endContainer,n.endOffset),y.collapsed)return $.none();const T=zT(y);return T.lastIndexOf(o)!==0?$.none():$.some({text:K7(T,o),range:y,trigger:o})})},Y7=e=>e.nodeType===Tn,X7=e=>e.nodeType===li,mB=e=>{if(Y7(e))return _c(e,e.data.length);{const n=e.childNodes;return n.length>0?mB(n[n.length-1]):_c(e,n.length)}},pB=(e,n)=>{const o=e.childNodes;return o.length>0&&n<o.length?pB(o[n],0):o.length>0&&X7(e)&&o.length===n?mB(o[o.length-1]):_c(e,n)},J7=(e,n)=>{var o;const r=(o=e.getParent(n.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return UT(e,n.container,n.offset,(a,l)=>l===0?-1:l,r).filter(a=>{const l=a.container.data.charAt(a.offset-1);return!dB(l)}).isSome()},WT=e=>n=>{const o=pB(n.startContainer,n.startOffset);return!J7(e,o)},Z7=(e,n,o)=>nc(o.triggers,r=>VT(e,n,r)),hB=(e,n)=>{const o=n(),r=e.selection.getRng();return Z7(e.dom,r,o).bind(a=>gB(e,n,a))},gB=(e,n,o,r={})=>{var a;const l=n(),p=(a=e.selection.getRng().startContainer.nodeValue)!==null&&a!==void 0?a:"",y=qt(l.lookupByTrigger(o.trigger),N=>o.text.length>=N.minChars&&N.matches.getOrThunk(()=>WT(e.dom))(o.range,p,o.text));if(y.length===0)return $.none();const T=Promise.all(on(y,N=>N.fetch(o.text,N.maxResults,r).then(F=>({matchText:o.text,items:F,columns:N.columns,onAction:N.onAction,highlightOn:N.highlightOn}))));return $.some({lookupData:T,context:o})};var ll;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(ll||(ll={}));const GT=(e,n,o)=>e.stype===ll.Error?n(e.serror):o(e.svalue),Q7=e=>{const n=[],o=[];return De(e,r=>{GT(r,a=>o.push(a),a=>n.push(a))}),{values:n,errors:o}},eU=(e,n)=>e.stype===ll.Error?{stype:ll.Error,serror:n(e.serror)}:e,tU=(e,n)=>e.stype===ll.Value?{stype:ll.Value,svalue:n(e.svalue)}:e,Ds=(e,n)=>e.stype===ll.Value?n(e.svalue):e,nU=(e,n)=>e.stype===ll.Error?n(e.serror):e,bB=e=>({stype:ll.Value,svalue:e}),yB=e=>({stype:ll.Error,serror:e}),fr={fromResult:e=>e.fold(yB,bB),toResult:e=>GT(e,$s.error,$s.value),svalue:bB,partition:Q7,serror:yB,bind:Ds,bindError:nU,map:tU,mapError:eU,fold:GT},Gl=e=>It(e)&&hr(e).length>100?" removed due to size":JSON.stringify(e,null,2),qT=e=>{const n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:it("... (only showing first ten failures)")}]):e;return on(n,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},my=(e,n)=>fr.serror([{path:e,getErrorInfo:n}]),KT=(e,n,o)=>my(e,()=>'Could not find valid *required* value for "'+n+'" in '+Gl(o)),YT=(e,n)=>my(e,()=>'Choice schema did not contain choice key: "'+n+'"'),XT=(e,n,o)=>my(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+Gl(n)),xB=(e,n)=>my(e,it(n)),x0=(e,n,o,r)=>xo(o,r).fold(()=>XT(e,o,r),l=>l.extract(e.concat(["branch: "+r]),n)),C0=(e,n)=>({extract:(a,l)=>xo(l,e).fold(()=>YT(a,e),p=>x0(a,l,n,p)),toString:()=>"chooseOn("+e+"). Possible values: "+hr(n)}),py=(e,n)=>n,hy=(e,n)=>An(e)&&An(n)?Id(e,n):n,qa=e=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let r=0;r<n.length;r++){const a=n[r];for(const l in a)Lt(a,l)&&(o[l]=e(o[l],a[l]))}return o},Id=qa(hy),JT=qa(py),ZT=()=>({tag:"required",process:{}}),sU=e=>({tag:"defaultedThunk",process:e}),QT=e=>sU(it(e)),rU=()=>({tag:"option",process:{}}),iU=(e,n)=>e.length>0?fr.svalue(Id(n,JT.apply(void 0,e))):fr.svalue(n),wh=e=>D(fr.serror,Ar)(e),aU={consolidateObj:(e,n)=>{const o=fr.partition(e);return o.errors.length>0?wh(o.errors):iU(o.values,n)},consolidateArr:e=>{const n=fr.partition(e);return n.errors.length>0?wh(n.errors):fr.svalue(n.values)}},cU=(e,n,o,r)=>({tag:"field",key:e,newKey:n,presence:o,prop:r}),lU=(e,n)=>({tag:"custom",newKey:e,instantiator:n}),CB=(e,n,o)=>{switch(e.tag){case"field":return n(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},e_=e=>{const n=(r,a)=>fr.bindError(e(a),l=>xB(r,l)),o=it("val");return{extract:n,toString:o}},uU=e_(fr.svalue),dU=(e,n,o,r)=>xo(n,o).fold(()=>KT(e,o,n),r),SB=(e,n,o,r)=>{const a=xo(e,n).getOrThunk(()=>o(e));return r(a)},fU=(e,n,o)=>o(xo(e,n)),mU=(e,n,o,r)=>{const a=xo(e,n).map(l=>l===!0?o(e):l);return r(a)},pU=(e,n,o,r,a)=>{const l=p=>a.extract(n.concat([r]),p),d=p=>p.fold(()=>fr.svalue($.none()),y=>{const T=a.extract(n.concat([r]),y);return fr.map(T,$.some)});switch(e.tag){case"required":return dU(n,o,r,l);case"defaultedThunk":return SB(o,r,e.process,l);case"option":return fU(o,r,d);case"defaultedOptionThunk":return mU(o,r,e.process,d);case"mergeWithThunk":return SB(o,r,it({}),p=>{const y=Id(e.process(o),p);return l(y)})}},hU=(e,n,o)=>{const r={},a=[];for(const l of o)CB(l,(d,p,y,T)=>{const N=pU(y,e,n,d,T);fr.fold(N,B=>{a.push(...B)},B=>{r[p]=B})},(d,p)=>{r[d]=p(n)});return a.length>0?fr.serror(a):fr.svalue(r)},S0=e=>({extract:(r,a)=>hU(r,a,e),toString:()=>`obj{
`+on(e,a=>CB(a,(l,d,p,y)=>l+" -> "+y.toString(),(l,d)=>"state("+l+")")).join(`
`)+"}"}),t_=e=>({extract:(r,a)=>{const l=on(a,(d,p)=>e.extract(r.concat(["["+p+"]"]),d));return aU.consolidateArr(l)},toString:()=>"array("+e.toString()+")"}),wB=e=>e_(n=>e(n).fold(fr.serror,fr.svalue)),gU=(e,n,o)=>{const r=n.extract([e],o);return fr.mapError(r,a=>({input:o,errors:a}))},bU=(e,n,o)=>fr.toResult(gU(e,n,o)),yU=e=>`Errors: 
`+qT(e.errors).join(`
`)+`

Input object: `+Gl(e.input),EB=(e,n)=>C0(e,jn(n,S0)),TB=it(uU),w0=(e,n)=>e_(o=>{const r=typeof o;return e(o)?fr.svalue(o):fr.serror(`Expected type: ${n} but got: ${r}`)}),_B=w0($n,"number"),E0=w0(te,"string"),AB=w0(At,"boolean"),T0=w0(Rn,"function"),gy=cU,kB=lU,vU=e=>wB(n=>en(e,n)?$s.value(n):$s.error(`Unsupported value: "${n}", choose one of "${e.join(", ")}".`)),OB=(e,n)=>gy(e,e,ZT(),n),n_=e=>OB(e,E0),DB=e=>OB(e,T0),xU=(e,n)=>gy(e,e,ZT(),t_(n)),_0=(e,n)=>gy(e,e,rU(),n),A0=e=>_0(e,E0),CU=e=>_0(e,T0),RB=(e,n)=>gy(e,e,QT(n),TB()),Eh=(e,n,o)=>gy(e,e,QT(n),o),NB=(e,n)=>Eh(e,n,_B),PB=(e,n)=>Eh(e,n,E0),o_=(e,n,o)=>Eh(e,n,vU(o)),k0=(e,n)=>Eh(e,n,AB),s_=(e,n)=>Eh(e,n,T0),SU=(e,n,o)=>Eh(e,n,t_(o)),wU=n_("type"),EU=DB("fetch"),r_=DB("onAction"),TU=s_("onSetup",()=>Ot),_U=A0("text"),AU=A0("icon"),LK=A0("tooltip"),kU=A0("label"),O0=k0("active",!1),MB=k0("enabled",!0),i_=k0("primary",!1),OU=e=>RB("columns",e),Th=e=>PB("type",e),IB=S0([wU,n_("trigger"),NB("minChars",1),OU(1),NB("maxResults",10),CU("matches"),EU,r_,SU("highlightOn",[],E0)]),DU=e=>bU("Autocompleter",IB,e),a_=[MB,LK,AU,_U,TU,PB("context","mode:design")],BB=[O0].concat(a_),FB=[s_("predicate",We),o_("scope","node",["node","editor"]),o_("position","selection",["node","selection","line"])],RU=a_.concat([Th("contextformbutton"),i_,r_,kB("original",jo)]),c_=BB.concat([Th("contextformbutton"),i_,r_,kB("original",jo)]),NU=a_.concat([Th("contextformbutton")]),PU=BB.concat([Th("contextformtogglebutton")]),MU=EB("type",{contextformbutton:RU,contextformtogglebutton:c_});S0([Th("contextform"),s_("initValue",it("")),kU,xU("commands",MU),_0("launch",EB("type",{contextformbutton:NU,contextformtogglebutton:PU}))].concat(FB));const LB=e=>{const n=e.ui.registry.getAll().popups,o=jn(n,d=>DU(d).fold(p=>{throw new Error(yU(p))},jo)),r=Nu(Jl(o,d=>d.trigger)),a=Hm(o);return{dataset:o,triggers:r,lookupByTrigger:d=>qt(a,p=>p.trigger===d)}},IU=(e,n)=>{const o=_v(n.load,50);e.on("input",r=>{r.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",r=>{const a=r.which;a===8?o.throttle():a===27?(o.cancel(),n.cancelIfNecessary()):(a===38||a===40)&&o.cancel()},!0),e.on("remove",o.cancel)},BU=e=>{const n=$r(),o=No(!1),r=n.isSet,a=()=>{r()&&($D(e),o.set(!1),n.clear())},l=B=>{r()||n.set({trigger:B.trigger,matchLength:B.text.length})},d=Vi(()=>LB(e)),p=B=>n.get().map(F=>VT(e.dom,e.selection.getRng(),F.trigger,!0).bind(W=>gB(e,d,W,B))).getOrThunk(()=>hB(e,d)),y=B=>{p(B).fold(a,F=>{l(F.context),F.lookupData.then(W=>{n.get().map(K=>{const G=F.context;K.trigger===G.trigger&&(n.set({...K,matchLength:G.text.length}),o.get()?(Zg(e,{range:G.range}),R4(e,{lookupData:W})):(o.set(!0),Zg(e,{range:G.range}),bw(e,{lookupData:W})))})})})},T=(B,F)=>{const W=B.compareBoundaryPoints(window.Range.START_TO_START,F),K=B.compareBoundaryPoints(window.Range.END_TO_END,F);return W>=0&&K<=0},N=()=>n.get().bind(({trigger:B})=>{const F=e.selection.getRng();return VT(e.dom,F,B,o.get()).filter(({range:W})=>T(F,W)).map(({range:W})=>W)});e.addCommand("mceAutocompleterReload",(B,F)=>{const W=It(F)?F.fetchOptions:{};y(W)}),e.addCommand("mceAutocompleterClose",a),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{N().each(B=>{Zg(e,{range:B})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>N().isSome()),IU(e,{cancelIfNecessary:a,load:y})},FU=wa().browser.isSafari(),$B=e=>Ol(ee.fromDom(e)),Rs=(e,n)=>{var o;return e.startOffset===0&&e.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},Ka=(e,n)=>$.from(e.getParent(n.container(),"details")),jB=(e,n)=>Ka(e,n).isSome(),jK=(e,n)=>{const o=$.from(e.getParent(n.startContainer,"details")),r=$.from(e.getParent(n.endContainer,"details"));if(o.isSome()||r.isSome()){const a=o.bind(l=>$.from(e.select("summary",l)[0]));return $.some({startSummary:a,startDetails:o,endDetails:r})}else return $.none()},LU=(e,n)=>Vr(n).exists(o=>o.isEqual(e)),$U=(e,n)=>yc(n).exists(o=>Gn(o.getNode())&&Pi(n,o).exists(r=>r.isEqual(e))||o.isEqual(e)),jU=(e,n)=>n.startSummary.exists(o=>LU(e,o)),HU=(e,n)=>n.startSummary.exists(o=>$U(e,o)),HB=(e,n)=>n.startDetails.exists(o=>Pi(o,e).forall(r=>n.startSummary.exists(a=>!a.contains(e.container())&&a.contains(r.container())))),_h=(e,n,o)=>o.startDetails.exists(r=>hi(e,n).forall(a=>!r.contains(a.container()))),UU=(e,n)=>{const o=n.getNode();nn(o)||e.selection.setCursorLocation(o,n.offset())},UB=(e,n,o)=>{const r=e.dom.getParent(n.container(),"details");if(r&&!r.open){const a=e.dom.select("summary",r)[0];a&&(o?Vr(a):yc(a)).each(d=>UU(e,d))}else UU(e,n)},zU=(e,n)=>{const o=y=>y.contains(e.startContainer),r=y=>y.contains(e.endContainer),a=n.startSummary.exists(o),l=n.startSummary.exists(r),d=n.startDetails.forall(y=>n.endDetails.forall(T=>y!==T));return(a||l)&&!(a&&l)||d},Ac=(e,n,o)=>{const{dom:r,selection:a}=e,l=e.getBody();if(o==="character"){const d=ke.fromRangeStart(a.getRng()),p=r.getParent(d.container(),r.isBlock),y=Ka(r,d),T=p&&r.isEmpty(p),N=_(p==null?void 0:p.previousSibling),B=_(p==null?void 0:p.nextSibling);return T&&(n?B:N)&&Lp(!n,l,d).exists(K=>jB(r,K)&&!H(y,Ka(r,K)))?!0:Lp(n,l,d).fold(We,F=>{const W=Ka(r,F);if(jB(r,F)&&!H(y,W)){if(n||UB(e,F,!1),p&&T){if(n&&N)return!0;if(!n&&B)return!0;UB(e,F,n),e.dom.remove(p)}return!0}else return!1})}else return!1},VU=(e,n,o,r)=>{const l=e.selection.getRng(),d=ke.fromRangeStart(l),p=e.getBody();return r==="selection"?zU(l,n):o?HU(d,n)||_h(p,d,n):jU(d,n)||HB(d,n)},WU=(e,n,o)=>jK(e.dom,e.selection.getRng()).fold(()=>Ac(e,n,o),r=>VU(e,r,n,o)||Ac(e,n,o)),zB=(e,n,o)=>{const r=e.selection,a=r.getNode(),l=r.getRng(),d=ke.fromRangeStart(l);return Wu(a)?(o==="selection"&&Rs(l,a)||aN(n,d,a)?$B(a):e.undoManager.transact(()=>{const p=r.getSel();let{anchorNode:y,anchorOffset:T,focusNode:N,focusOffset:B}=p??{};const F=()=>{Je(y)&&Je(T)&&Je(N)&&Je(B)&&(p==null||p.setBaseAndExtent(y,T,N,B))},W=()=>{y=p==null?void 0:p.anchorNode,T=p==null?void 0:p.anchorOffset,N=p==null?void 0:p.focusNode,B=p==null?void 0:p.focusOffset},K=(Y,se)=>{De(Y.childNodes,le=>{Vg(le)&&se.appendChild(le)})},G=e.dom.create("span",{"data-mce-bogus":"1"});K(a,G),a.appendChild(G),F(),(o==="word"||o==="line")&&(p==null||p.modify("extend",n?"right":"left",o)),!r.isCollapsed()&&Rs(r.getRng(),G)?$B(a):(e.execCommand(n?"ForwardDelete":"Delete"),W(),K(G,a),F()),e.dom.remove(G)}),!0):!1},Sm=(e,n,o)=>WU(e,n,o)||FU&&zB(e,n,o)?$.some(Ot):$.none(),D0=e=>(n,o,r={})=>{const a=n.getBody(),l={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:a,currentTarget:a,eventPhase:Event.AT_TARGET,originalTarget:a,explicitOriginalTarget:a,isTrusted:!1,srcElement:a,cancelable:!1,preventDefault:Ot,inputType:o},d=Rk(new InputEvent(e));return n.dispatch(e,{...d,...l,...r})},fa=D0("input"),by=D0("beforeinput"),l_=wa(),VB=l_.os,yy=VB.isMacOS()||VB.isiOS(),GB=l_.browser.isFirefox(),qB=(e,n,o)=>{const r=o.keyCode===dt.BACKSPACE?"deleteContentBackward":"deleteContentForward",a=e.selection.isCollapsed(),l=a?"character":"selection",d=p=>a?p?"word":"line":"selection";PT([{keyCode:dt.BACKSPACE,action:Jt(l0,e)},{keyCode:dt.BACKSPACE,action:Jt(ty,e,!1)},{keyCode:dt.DELETE,action:Jt(ty,e,!0)},{keyCode:dt.BACKSPACE,action:Jt(zE,e,!1)},{keyCode:dt.DELETE,action:Jt(zE,e,!0)},{keyCode:dt.BACKSPACE,action:Jt(fT,e,n,!1)},{keyCode:dt.DELETE,action:Jt(fT,e,n,!0)},{keyCode:dt.BACKSPACE,action:Jt(J1,e,!1)},{keyCode:dt.DELETE,action:Jt(J1,e,!0)},{keyCode:dt.BACKSPACE,action:Jt(Sm,e,!1,l)},{keyCode:dt.DELETE,action:Jt(Sm,e,!0,l)},...yy?[{keyCode:dt.BACKSPACE,altKey:!0,action:Jt(Sm,e,!1,d(!0))},{keyCode:dt.DELETE,altKey:!0,action:Jt(Sm,e,!0,d(!0))},{keyCode:dt.BACKSPACE,metaKey:!0,action:Jt(Sm,e,!1,d(!1))}]:[{keyCode:dt.BACKSPACE,ctrlKey:!0,action:Jt(Sm,e,!1,d(!0))},{keyCode:dt.DELETE,ctrlKey:!0,action:Jt(Sm,e,!0,d(!0))}],{keyCode:dt.BACKSPACE,action:Jt(yh,e,!1)},{keyCode:dt.DELETE,action:Jt(yh,e,!0)},{keyCode:dt.BACKSPACE,action:Jt(CT,e,!1)},{keyCode:dt.DELETE,action:Jt(CT,e,!0)},{keyCode:dt.BACKSPACE,action:Jt(qx,e,!1)},{keyCode:dt.DELETE,action:Jt(qx,e,!0)},{keyCode:dt.BACKSPACE,action:Jt(Wx,e,!1)},{keyCode:dt.DELETE,action:Jt(Wx,e,!0)},{keyCode:dt.BACKSPACE,action:Jt(i0,e,!1)},{keyCode:dt.DELETE,action:Jt(i0,e,!0)},{keyCode:dt.BACKSPACE,action:Jt(bh,e,!1)},{keyCode:dt.DELETE,action:Jt(bh,e,!0)}],o).filter(p=>e.selection.isEditable()).each(p=>{o.preventDefault(),by(e,r).isDefaultPrevented()||(p(),fa(e,r))})},GU=(e,n,o)=>Ch([{keyCode:dt.BACKSPACE,action:Jt(XE,e)},{keyCode:dt.DELETE,action:Jt(XE,e)},...yy?[{keyCode:dt.BACKSPACE,altKey:!0,action:Jt(uy,e)},{keyCode:dt.DELETE,altKey:!0,action:Jt(uy,e)},...o?[{keyCode:GB?224:91,action:Jt(uy,e)}]:[]]:[{keyCode:dt.BACKSPACE,ctrlKey:!0,action:Jt(uy,e)},{keyCode:dt.DELETE,ctrlKey:!0,action:Jt(uy,e)}]],n),qU=(e,n)=>{let o=!1;e.on("keydown",r=>{o=r.keyCode===dt.BACKSPACE,r.isDefaultPrevented()||qB(e,n,r)}),e.on("keyup",r=>{r.isDefaultPrevented()||GU(e,r,o),o=!1})},KU=e=>{for(;e;){if(lt(e)||Ve(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},Ah=(e,n)=>{const o=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const l=KU(n.firstChild);l&&/^(UL|OL|DL)$/.test(l.nodeName)&&n.insertBefore(o.doc.createTextNode(Bs),n.firstChild)}const a=o.createRng();if(n.normalize(),n.hasChildNodes()){const l=new ir(n,n);let d=n,p;for(;p=l.current();){if(Ve(p)){a.setStart(p,0),a.setEnd(p,0);break}if(r[p.nodeName.toLowerCase()]){a.setStartBefore(p),a.setEndBefore(p);break}d=p,p=l.next()}p||(a.setStart(d,0),a.setEnd(d,0))}else Gn(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)):(a.setStart(n,0),a.setEnd(n,0));e.selection.setRng(a),pu(e,a)},vy=(e,n)=>{const o=e.getRoot();let r,a=n;for(;a!==o&&a&&e.getContentEditable(a)!=="false";){if(e.getContentEditable(a)==="true"){r=a;break}a=a.parentNode}return a!==o?r:o},R0=e=>$.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),YU=e=>R0(e).fold(it(""),n=>n.nodeName.toUpperCase()),XU=e=>R0(e).filter(n=>wf(ee.fromDom(n))).isSome(),u_=e=>{e.innerHTML='<br data-mce-bogus="1">'},JU=(e,n,o)=>{const r=e.dom;$.from(o.style).map(r.parseStyle).each(y=>{const N={...BC(ee.fromDom(n)),...y};r.setStyles(n,N)});const a=$.from(o.class).map(y=>y.split(/\s+/)),l=$.from(n.className).map(y=>qt(y.split(/\s+/),T=>T!==""));V(a,l,(y,T)=>{const N=qt(T,F=>!en(y,F)),B=[...y,...N];r.setAttrib(n,"class",B.join(" "))});const d=["style","class"],p=Xl(o,(y,T)=>!en(d,T));r.setAttribs(n,p)},xy=(e,n)=>{if(Cr(e).toLowerCase()===n.tagName.toLowerCase()){const r=Nf(e);JU(e,n,r)}},d_=(e,n,o,r,a=!0,l,d)=>{const p=e.dom,y=e.schema,T=Cr(e),N=o?o.nodeName.toUpperCase():"";let B=n;const F=y.getTextInlineElements();let W;l||N==="TABLE"||N==="HR"?W=p.create(l||T,d||{}):W=o.cloneNode(!1);let K=W;if(!a)p.setAttrib(W,"style",null),p.setAttrib(W,"class",null);else do if(F[B.nodeName]){if(Na(B)||Mi(B))continue;const G=B.cloneNode(!1);p.setAttrib(G,"id",""),W.hasChildNodes()?(G.appendChild(W.firstChild),W.appendChild(G)):(K=G,W.appendChild(G))}while((B=B.parentNode)&&B!==r);return xy(e,W),u_(K),W},KB=(e,n)=>e.dom.getParent(n,KC),ZU=(e,n,o)=>{let r=n;for(;r&&r!==e&&_(r.nextSibling);){const a=r.parentElement;if(!a||!o(a))return KC(a);r=a}return!1},QU=(e,n,o)=>!n&&o.nodeName.toLowerCase()===Cr(e)&&e.dom.isEmpty(o)&&ZU(e.getBody(),o,r=>Lt(e.schema.getTextBlockElements(),r.nodeName.toLowerCase())),HK=(e,n,o)=>{var r,a,l;const d=n(Cr(e)),p=KB(e,o);p&&(e.dom.insertAfter(d,p),Ah(e,d),((l=(a=(r=o.parentElement)===null||r===void 0?void 0:r.childNodes)===null||a===void 0?void 0:a.length)!==null&&l!==void 0?l:0)>1&&e.dom.remove(o))},f_=(e,n)=>e.firstChild&&e.firstChild.nodeName===n,ez=e=>{var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},YB=(e,n)=>{const o=e==null?void 0:e.parentNode;return Je(o)&&o.nodeName===n},XB=e=>Je(e)&&/^(OL|UL|LI)$/.test(e.nodeName),N0=e=>Je(e)&&/^(LI|DT|DD)$/.test(e.nodeName),tz=e=>XB(e)&&XB(e.parentNode),Cy=e=>{const n=e.parentNode;return N0(n)?n:e},P0=(e,n,o)=>{let r=e[o?"firstChild":"lastChild"];for(;r&&!lt(r);)r=r[o?"nextSibling":"previousSibling"];return r===n},JB=e=>ls(Jl(BC(ee.fromDom(e)),(n,o)=>`${o}: ${n};`),(n,o)=>n+o,""),UK=(e,n,o,r,a)=>{const l=e.dom,d=e.selection.getRng(),p=o.parentNode;if(o===e.getBody()||!p)return;tz(o)&&(a="LI");const y=N0(r)?JB(r):void 0;let T=N0(r)&&y?n(a,{style:JB(r)}):n(a);if(P0(o,r,!0)&&P0(o,r,!1))if(YB(o,"LI")){const N=Cy(o);l.insertAfter(T,N),ez(o)?l.remove(N):l.remove(o)}else l.replace(T,o);else if(P0(o,r,!0))YB(o,"LI")?(l.insertAfter(T,Cy(o)),T.appendChild(l.doc.createTextNode(" ")),T.appendChild(o)):p.insertBefore(T,o),l.remove(r);else if(P0(o,r,!1))l.insertAfter(T,Cy(o)),l.remove(r);else{o=Cy(o);const N=d.cloneRange();N.setStartAfter(r),N.setEndAfter(o);const B=N.extractContents();if(a==="LI"&&f_(B,"LI")){const F=qt(on(T.children,ee.fromDom),uo(Kr("br")));T=B.firstChild,l.insertAfter(B,o),De(F,W=>ev(ee.fromDom(T),W)),y&&T.setAttribute("style",y)}else l.insertAfter(B,o),l.insertAfter(T,o);l.remove(r)}Ah(e,T)},Pr=e=>{De(UC(ee.fromDom(e),zs),n=>{const o=n.dom;o.nodeValue=Qi(o.data)})},nz=(e,n)=>{const o=e.dom.getParent(n,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},oz=(e,n)=>n&&n.nodeName==="A"&&e.isEmpty(n),m_=(e,n)=>e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n,sz=(e,n)=>e.nodeName===n||e.nextSibling&&e.nextSibling.nodeName===n,p_=(e,n)=>Je(n)&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.isEditable(n.parentNode)&&e.getContentEditable(n)!=="false",rz=(e,n,o)=>{var r;const a=[];if(!o)return;let l=o;for(;l=l.firstChild;){if(e.isBlock(l))return;lt(l)&&!n[l.nodeName.toLowerCase()]&&a.push(l)}let d=a.length;for(;d--;)l=a[d],(!l.hasChildNodes()||l.firstChild===l.lastChild&&((r=l.firstChild)===null||r===void 0?void 0:r.nodeValue)===""||oz(e,l))&&e.remove(l)},h_=(e,n,o)=>Ve(n)?e?o===1&&n.data.charAt(o-1)===Zs?0:o:o===n.data.length-1&&n.data.charAt(o)===Zs?n.data.length:o:o,M0=e=>{const n=e.cloneRange();return n.setStart(e.startContainer,h_(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,h_(!1,e.endContainer,e.endOffset)),n},iz=e=>{let n=e;do Ve(n)&&(n.data=n.data.replace(/^[\r\n]+/,"")),n=n.firstChild;while(n)},az=(e,n,o,r,a)=>{var l,d;const p=e.dom,y=(l=vy(p,r))!==null&&l!==void 0?l:p.getRoot();let T=p.getParent(r,p.isBlock);if(!T||!p_(p,T)){if(T=T||y,!T.hasChildNodes()){const W=p.create(n);return xy(e,W),T.appendChild(W),o.setStart(W,0),o.setEnd(W,0),W}let N=r;for(;N&&N.parentNode!==T;)N=N.parentNode;let B;for(;N&&!p.isBlock(N);)B=N,N=N.previousSibling;const F=(d=B==null?void 0:B.parentElement)===null||d===void 0?void 0:d.nodeName;if(B&&F&&e.schema.isValidChild(F,n.toLowerCase())){const W=B.parentNode,K=p.create(n);for(xy(e,K),W.insertBefore(K,B),N=B;N&&!p.isBlock(N);){const G=N.nextSibling;K.appendChild(N),N=G}o.setStart(r,a),o.setEnd(r,a)}}return r},g_=(e,n)=>{n.normalize();const o=n.lastChild;(!o||lt(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(n,"br")},b_=(e,n)=>{const o=Os(e);return Qn(n)?!1:te(o)?en(k.explode(o),n.nodeName.toLowerCase()):o},cz={insert:(e,n)=>{let o,r,a,l,d=!1;const p=e.dom,y=e.schema,T=y.getNonEmptyElements(),N=e.selection.getRng(),B=Cr(e),F=ee.fromDom(N.startContainer),W=rr(F,N.startOffset),K=W.exists(He=>Lu(He)&&!ac(He)),G=N.collapsed&&K,Y=(He,mt)=>d_(e,o,Ge,$e,ks(e),He,mt),se=He=>{const mt=h_(He,o,r);if(Ve(o)&&(He?mt>0:mt<o.data.length))return!1;if((o.parentNode===Ge||o===Ge)&&d&&!He||He&&lt(o)&&o===Ge.firstChild)return!0;if(m_(o,"TABLE")||m_(o,"HR"))return sz(o,"BR")?!He:d&&!He||!d&&He;const kt=new ir(o,Ge);Ve(o)&&(He&&mt===0?kt.prev():!He&&mt===o.data.length&&kt.next());let mn;for(;mn=kt.current();){if(lt(mn)){if(!mn.getAttribute("data-mce-bogus")){const pn=mn.nodeName.toLowerCase();if(T[pn]&&pn!=="br")return!1}}else if(Ve(mn)&&!Aa(mn.data))return!1;He?kt.prev():kt.next()}return!0},le=()=>{let He;return/^(H[1-6]|PRE|FIGURE)$/.test(a)&&ut!=="HGROUP"?He=Y(B):He=Y(),b_(e,l)&&p_(p,l)&&p.isEmpty(Ge,void 0,{includeZwsp:!0})?He=p.split(l,Ge):p.insertAfter(He,Ge),Ah(e,He),He};v1(p,N).each(He=>{N.setStart(He.startContainer,He.startOffset),N.setEnd(He.endContainer,He.endOffset)}),o=N.startContainer,r=N.startOffset;const pe=!!(n&&n.shiftKey),he=!!(n&&n.ctrlKey);lt(o)&&o.hasChildNodes()&&!G&&(d=r>o.childNodes.length-1,o=o.childNodes[Math.min(r,o.childNodes.length-1)]||o,d&&Ve(o)?r=o.data.length:r=0);const $e=vy(p,o);if(!$e||nz(e,o))return;pe||(o=az(e,B,N,o,r));let Ge=p.getParent(o,p.isBlock)||p.getRoot();l=Je(Ge==null?void 0:Ge.parentNode)?p.getParent(Ge.parentNode,p.isBlock):null,a=Ge?Ge.nodeName.toUpperCase():"";const ut=l?l.nodeName.toUpperCase():"";if(ut==="LI"&&!he){const He=l;Ge=He,l=He.parentNode,a=ut}if(lt(l)&&QU(e,pe,Ge))return HK(e,Y,Ge);if(/^(LI|DT|DD)$/.test(a)&&lt(l)&&p.isEmpty(Ge)){UK(e,Y,l,Ge,B);return}if(!G&&(Ge===e.getBody()||!p_(p,Ge)))return;const Oe=Ge.parentNode;let Se;if(G)Se=Y(B),W.fold(()=>{Gs(F,ee.fromDom(Se))},He=>{Di(He,ee.fromDom(Se))}),e.selection.setCursorLocation(Se,0);else if(Ef(Ge))Se=Sg(Ge),p.isEmpty(Ge)&&u_(Ge),xy(e,Se),Ah(e,Se);else if(se(!1))Se=le();else if(se(!0)&&Oe){const He=ke.fromRangeStart(N),mt=qw(He),kt=ee.fromDom(Ge),pn=F1(kt,He,e.schema)?zt(kt,He,e.schema).bind(to=>$.from(to.getNode())):$.none();Se=Oe.insertBefore(Y(),Ge);const Vn=m_(Ge,"HR")||mt?Se:pn.getOr(Ge);Ah(e,Vn)}else{const He=M0(N).cloneRange();He.setEndAfter(Ge);const mt=He.extractContents();Pr(mt),iz(mt),Se=mt.firstChild,p.insertAfter(mt,Ge),rz(p,T,Se),g_(p,Ge),p.isEmpty(Ge)&&u_(Ge),Se.normalize(),p.isEmpty(Se)?(p.remove(Se),le()):(xy(e,Se),Ah(e,Se))}p.setAttrib(Se,"id",""),e.dispatch("NewBlock",{newBlock:Se})},fakeEventName:"insertParagraph"},VK=(e,n,o)=>{const r=new ir(n,o);let a;const l=e.getNonEmptyElements();for(;a=r.next();)if(l[a.nodeName.toLowerCase()]||Ve(a)&&a.length>0)return!0;return!1},ZB=(e,n,o)=>{const r=e.dom.createRng();o?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.selection.setRng(r),pu(e,r)},lz=(e,n)=>{const o=e.selection,r=e.dom,a=o.getRng();let l,d=!1;v1(r,a).each(W=>{a.setStart(W.startContainer,W.startOffset),a.setEnd(W.endContainer,W.endOffset)});let p=a.startOffset,y=a.startContainer;if(lt(y)&&y.hasChildNodes()){const W=p>y.childNodes.length-1;y=y.childNodes[Math.min(p,y.childNodes.length-1)]||y,W&&Ve(y)?p=y.data.length:p=0}let T=r.getParent(y,r.isBlock);const N=T&&T.parentNode?r.getParent(T.parentNode,r.isBlock):null,B=N?N.nodeName.toUpperCase():"",F=!!(n&&n.ctrlKey);B==="LI"&&!F&&(T=N),Ve(y)&&p>=y.data.length&&(VK(e.schema,y,T||r.getRoot())||(l=r.create("br"),a.insertNode(l),a.setStartAfter(l),a.setEndAfter(l),d=!0)),l=r.create("br"),$v(r,a,l),ZB(e,l,d),e.undoManager.add()},WK=(e,n)=>{const o=ee.fromTag("br");Di(ee.fromDom(n),o),e.undoManager.add()},uz=(e,n)=>{dz(e.getBody(),n)||Cl(ee.fromDom(n),ee.fromTag("br"));const o=ee.fromTag("br");Cl(ee.fromDom(n),o),ZB(e,o.dom,!1),e.undoManager.add()},ul=e=>Gn(e.getNode()),dz=(e,n)=>ul(ke.after(n))?!0:hi(e,ke.after(n)).map(o=>Gn(o.getNode())).getOr(!1),y_=e=>e&&e.nodeName==="A"&&"href"in e,fz=e=>e.fold(We,y_,y_,We),mz=e=>{const n=bt(Gf,e),o=ke.fromRangeStart(e.selection.getRng());return Vl(n,e.getBody(),o).filter(fz)},pz=(e,n)=>{n.fold(Ot,bt(WK,e),bt(uz,e),Ot)},QB={insert:(e,n)=>{const o=mz(e);o.isSome()?o.each(bt(pz,e)):lz(e,n)},fakeEventName:"insertLineBreak"},eF=(e,n)=>R0(e).filter(o=>n.length>0&&ne(ee.fromDom(o),n)).isSome(),v_=e=>eF(e,m5(e)),tF=e=>eF(e,p5(e)),ei=hc.generate([{br:[]},{block:[]},{none:[]}]),hz=(e,n)=>tF(e),nF=e=>(n,o)=>XU(n)===e,oF=(e,n)=>(o,r)=>YU(o)===e.toUpperCase()===n,gz=e=>{const n=vy(e.dom,e.selection.getStart());return Qn(n)},Sy=e=>oF("pre",e),sF=()=>oF("summary",!0),I0=e=>(n,o)=>xO(n)===e,rF=(e,n)=>v_(e),wy=(e,n)=>n,bz=e=>{const n=Cr(e),o=vy(e.dom,e.selection.getStart());return Je(o)&&e.schema.isValidChild(o.nodeName,n)},yz=e=>{const n=e.selection.getRng(),o=ee.fromDom(n.startContainer),a=rr(o,n.startOffset).map(l=>Lu(l)&&!ac(l));return n.collapsed&&a.getOr(!0)},ji=(e,n)=>(o,r)=>ls(e,(l,d)=>l&&d(o,r),!0)?$.some(n):$.none(),vz=(e,n)=>nT([ji([hz],ei.none()),ji([Sy(!0),gz],ei.none()),ji([sF()],ei.br()),ji([Sy(!0),I0(!1),wy],ei.br()),ji([Sy(!0),I0(!1)],ei.block()),ji([Sy(!0),I0(!0),wy],ei.block()),ji([Sy(!0),I0(!0)],ei.br()),ji([nF(!0),wy],ei.br()),ji([nF(!0)],ei.block()),ji([rF],ei.br()),ji([wy],ei.br()),ji([bz],ei.block()),ji([yz],ei.block())],[e,!!(n&&n.shiftKey)]).getOr(ei.none()),B0=(e,n,o)=>{n.mode.isReadOnly()||(n.selection.isCollapsed()||a6(n),!(Je(o)&&by(n,e.fakeEventName).isDefaultPrevented())&&(e.insert(n,o),Je(o)&&fa(n,e.fakeEventName)))},Ey=(e,n)=>{if(e.mode.isReadOnly())return;const o=()=>B0(QB,e,n),r=()=>B0(cz,e,n),a=vz(e,n);switch(CO(e)){case"linebreak":a.fold(o,o,Ot);break;case"block":a.fold(r,r,Ot);break;case"invert":a.fold(r,o,Ot);break;default:a.fold(o,r,Ot);break}},iF=wa(),x_=iF.os.isiOS()&&iF.browser.isSafari(),F0=(e,n)=>{n.isDefaultPrevented()||(n.preventDefault(),YP(e.undoManager),e.undoManager.transact(()=>{Ey(e,n)}))},aF=e=>{if(!e.collapsed)return!1;const n=e.startContainer;if(Ve(n)){const o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,r=n.data.charAt(e.startOffset-1);return o.test(r)}else return!1},xz=e=>{let n=$.none();const o=a=>{n=$.some(a.selection.getBookmark()),a.undoManager.add()},r=(a,l)=>{a.undoManager.undo(),n.fold(Ot,d=>a.selection.moveToBookmark(d)),F0(a,l),n=$.none()};e.on("keydown",a=>{a.keyCode===dt.ENTER&&(x_&&aF(e.selection.getRng())?o(e):F0(e,a))}),e.on("keyup",a=>{a.keyCode===dt.ENTER&&n.each(()=>r(e,a))})},KK=(e,n,o)=>{const r=an.os.isMacOS()||an.os.isiOS();Ch([{keyCode:dt.END,action:Jt(WI,e,!0)},{keyCode:dt.HOME,action:Jt(WI,e,!1)},...r?[]:[{keyCode:dt.HOME,action:Jt(f0,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:dt.END,action:Jt(f0,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:dt.END,action:Jt(T7,e,!0)},{keyCode:dt.HOME,action:Jt(T7,e,!1)},{keyCode:dt.END,action:Jt(ay,e,!0,n)},{keyCode:dt.HOME,action:Jt(ay,e,!1,n)}],o).each(a=>{o.preventDefault()})},Bd=(e,n)=>{e.on("keydown",o=>{o.isDefaultPrevented()||KK(e,n,o)})},Cz=e=>{e.on("input",n=>{n.isComposing||XR(e)})},Sz=wa(),wz=(e,n,o)=>{Ch([{keyCode:dt.PAGE_UP,action:Jt(ay,e,!1,n)},{keyCode:dt.PAGE_DOWN,action:Jt(ay,e,!0,n)}],o)},Ty=e=>e.stopImmediatePropagation(),C_=e=>e.keyCode===dt.PAGE_UP||e.keyCode===dt.PAGE_DOWN,S_=(e,n,o)=>{o&&!e.get()?n.on("NodeChange",Ty,!0):!o&&e.get()&&n.off("NodeChange",Ty),e.set(o)},Ez=(e,n)=>{if(Sz.os.isMacOS())return;const o=No(!1);e.on("keydown",r=>{C_(r)&&S_(o,e,!0)}),e.on("keyup",r=>{r.isDefaultPrevented()||wz(e,n,r),C_(r)&&o.get()&&(S_(o,e,!1),e.nodeChanged())})},cF=e=>{e.on("beforeinput",n=>{(!e.selection.isEditable()||vo(n.getTargetRanges(),o=>!jw(e.dom,o)))&&n.preventDefault()})},lF=(e,n)=>{const o=n.container(),r=n.offset();return Ve(o)?(o.insertData(r,e),$.some(ke(o,r+e.length))):Lg(n).map(a=>{const l=ee.fromText(e);return n.isAtEnd()?Cl(a,l):Di(a,l),ke(l.dom,e.length)})},uF=bt(lF,Bs),dF=bt(lF," "),w_=(e,n,o)=>WR(e,n,o)?uF(n):dF(n),E_=e=>n=>n.fold(o=>Pi(e.dom,ke.before(o)),o=>Vr(o),o=>yc(o),o=>hi(e.dom,ke.after(o))),Tz=(e,n,o)=>r=>WR(e,r,o)?uF(n):dF(n),L0=e=>n=>{e.selection.setRng(n.toRange()),e.nodeChanged()},fF=(e,n)=>e.isEditable(e.getParent(n,"summary")),$0=e=>{const n=ke.fromRangeStart(e.selection.getRng()),o=ee.fromDom(e.getBody());if(e.selection.isCollapsed()){const r=bt(Gf,e),a=ke.fromRangeStart(e.selection.getRng());return Vl(r,e.getBody(),a).bind(E_(o)).map(l=>()=>Tz(o,n,e.schema)(l).each(L0(e)))}else return $.none()},mF=e=>{const n=()=>{const o=ee.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const r=ke.fromRangeStart(e.selection.getRng());w_(o,r,e.schema).each(L0(e))};return ce(an.browser.isFirefox()&&e.selection.isEditable()&&fF(e.dom,e.selection.getRng().startContainer),n)},pF=(e,n)=>{PT([{keyCode:dt.SPACEBAR,action:Jt($0,e)},{keyCode:dt.SPACEBAR,action:Jt(mF,e)}],n).each(o=>{n.preventDefault(),by(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),fa(e,"insertText",{data:" "}))})},_z=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||pF(e,n)})},Az=e=>W5(e)?[{keyCode:dt.TAB,action:Jt(cB,e,!0)},{keyCode:dt.TAB,shiftKey:!0,action:Jt(cB,e,!1)}]:[],j0=(e,n)=>{Ch([...Az(e)],n).each(o=>{n.preventDefault()})},hF=e=>{e.on("keydown",n=>{n.isDefaultPrevented()||j0(e,n)})},kz=e=>{if(e.addShortcut("Meta+P","","mcePrint"),BU(e),jl(e))return No(null);{const n=U9(e);return cF(e),da(e),lB(e,n),qU(e,n),xz(e),_z(e),Cz(e),hF(e),Bd(e,n),Ez(e,n),n}};class Oz{constructor(n){this.lastPath=[],this.editor=n;let o;const r=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",a=>{const l=n.selection.getRng(),d={startContainer:l.startContainer,startOffset:l.startOffset,endContainer:l.endContainer,endOffset:l.endOffset};(a.type==="nodechange"||!_w(d,o))&&n.dispatch("SelectionChange"),o=d}),n.on("contextmenu",()=>{rb(n),n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const a=n.selection.getStart(!0);a&&c1(n)&&!r.isSameElementPath(a)&&n.dom.isChildOf(a,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",a=>{!a.isDefaultPrevented()&&c1(n)&&(n.selection.getNode().nodeName==="IMG"?sa.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor,r=o.selection;let a;if(o.initialized&&r&&!A5(o)){const l=o.getBody();a=r.getStart(!0)||l,(a.ownerDocument!==o.getDoc()||!o.dom.isChildOf(a,l))&&(a=l);const d=[];o.dom.getParent(a,p=>p===l?!0:(d.push(p),!1)),o.dispatch("NodeChange",{...n,element:a,parents:d})}}isSameElementPath(n){let o;const r=this.editor,a=Jo(r.dom.getParents(n,ht,r.getBody()));if(a.length===this.lastPath.length){for(o=a.length;o>=0&&a[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=a,!0}return this.lastPath=a,!1}}const T_=xg("image"),Dz=e=>{const n=e;return $.from(n[T_])},Rz=(e,n)=>{const o=e;o[T_]=n},__=xg("event"),Nz=e=>{const n=e;return $.from(n[__])},H0=e=>n=>{const o=n;o[__]=e},gF=(e,n)=>H0(n)(e),bF=H0(0),yF=H0(2),Pz=H0(1),Mz=(e=>n=>{const o=n;return $.from(o[__]).exists(r=>r===e)})(0),Iz=()=>Object.freeze({length:0,item:e=>null}),A_=xg("mode"),kh=e=>{const n=e;return $.from(n[A_])},U0=e=>n=>{const o=n;o[A_]=e},vF=(e,n)=>U0(n)(e),k_=U0(0),O_=U0(2),Bz=U0(1),xF=e=>n=>{const o=n;return $.from(o[A_]).exists(r=>r===e)},wm=xF(0),CF=xF(1),Fz=(e,n)=>({...n,get length(){return n.length},add:(o,r)=>{if(wm(e))if(te(o)){if(!nn(r))return n.add(o,r)}else return n.add(o);return null},remove:o=>{wm(e)&&n.remove(o)},clear:()=>{wm(e)&&n.clear()}}),XK=["none","copy","link","move"],z0=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],D_=()=>{const e=new window.DataTransfer;let n="move",o="all";const r={get dropEffect(){return n},set dropEffect(a){en(XK,a)&&(n=a)},get effectAllowed(){return o},set effectAllowed(a){Mz(r)&&en(z0,a)&&(o=a)},get items(){return Fz(r,e.items)},get files(){return CF(r)?Iz():e.files},get types(){return e.types},setDragImage:(a,l,d)=>{wm(r)&&(Rz(r,{image:a,x:l,y:d}),e.setDragImage(a,l,d))},getData:a=>CF(r)?"":e.getData(a),setData:(a,l)=>{wm(r)&&e.setData(a,l)},clearData:a=>{wm(r)&&e.clearData(a)}};return k_(r),r},Lz=e=>{const n=D_(),o=kh(e);return O_(e),bF(n),n.dropEffect=e.dropEffect,n.effectAllowed=e.effectAllowed,Dz(e).each(r=>n.setDragImage(r.image,r.x,r.y)),De(e.types,r=>{r!=="Files"&&n.setData(r,e.getData(r))}),De(e.files,r=>n.items.add(r)),Nz(e).each(r=>{gF(n,r)}),o.each(r=>{vF(e,r),vF(n,r)}),n},$z=e=>{const n=e.getData("text/html");return n===""?$.none():$.some(n)},SF=(e,n)=>e.setData("text/html",n),wF="x-tinymce/html",V0=it(wF),R_="<!-- "+wF+" -->",jz=e=>R_+e,Hz=e=>e.replace(R_,""),EF=e=>e.indexOf(R_)!==-1,Uz=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),zz=(e,n)=>{let o="<"+e;const r=Jl(n,(a,l)=>l+'="'+mf.encodeAllRaw(a)+'"');return r.length&&(o+=" "+r.join(" ")),o+">"},Vz=(e,n,o)=>{const r=e.split(/\n\n/),a=zz(n,o),l="</"+n+">",d=on(r,y=>y.split(/\n/).join("<br />")),p=y=>a+y+l;return d.length===1?d[0]:on(d,p).join("")},lo="%MCEPASTEBIN%",Wz=(e,n)=>{const{dom:o,selection:r}=e,a=e.getBody();n.set(r.getRng());const l=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},lo);an.browser.isFirefox()&&o.setStyle(l,"left",o.getStyle(a,"direction",!0)==="rtl"?65535:-65535),o.bind(l,"beforedeactivate focusin focusout",d=>{d.stopPropagation()}),l.focus(),r.select(l,!0)},TF=(e,n)=>{const o=e.dom;if(N_(e)){let r;const a=n.get();for(;r=N_(e);)o.remove(r),o.unbind(r);a&&e.selection.setRng(a)}n.set(null)},N_=e=>e.dom.get("mcepastebin"),P_=e=>Je(e)&&e.id==="mcepastebin",_F=e=>{const n=e.dom,o=(d,p)=>{d.appendChild(p),n.remove(p,!0)},[r,...a]=qt(e.getBody().childNodes,P_);De(a,d=>{o(r,d)});const l=n.select("div[id=mcepastebin]",r);for(let d=l.length-1;d>=0;d--){const p=n.create("div");r.insertBefore(p,l[d]),o(p,l[d])}return r?r.innerHTML:""},AF=e=>e===lo,Gz=e=>{const n=No(null);return{create:()=>Wz(e,n),remove:()=>TF(e,n),getEl:()=>N_(e),getHtml:()=>_F(e),getLastRng:n.get}},M_=(e,n)=>(k.each(n,o=>{Qe(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),I_=e=>{const n=no(),o=im({},n);let r="";const a=n.getVoidElements(),l=k.makeMap("script noscript style textarea video audio iframe object"," "),d=n.getBlockElements(),p=y=>{const T=y.name,N=y;if(T==="br"){r+=`
`;return}if(T!=="wbr"){if(a[T]&&(r+=" "),l[T]){r+=" ";return}if(y.type===3&&(r+=y.value),!(y.name in n.getVoidElements())){let B=y.firstChild;if(B)do p(B);while(B=B.next)}d[T]&&N.next&&(r+=`
`,T==="p"&&(r+=`
`))}};return e=M_(e,[/<!\[[^\]]+\]>/g]),p(o.parse(e)),r},kF=e=>(e=M_(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,r,a)=>!r&&!a?" ":Bs],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),qz=e=>{let n=0;return()=>e+n++},Kz=e=>{const n=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return k.hasOwn(o,n)?"image/"+o[n]:"image/"+n},OF=(e,n)=>{const o=im({sanitize:FO(e),sandbox_iframes:jS(e),sandbox_iframes_exclusions:HS(e),convert_unsafe_embeds:K5(e)},e.schema);o.addNodeFilter("meta",a=>{k.each(a,l=>{l.remove()})});const r=o.parse(n,{forced_root_block:!1,isRootContent:!0});return md({validate:!0},e.schema).serialize(r)},DF=(e,n)=>({content:e,cancelled:n}),Yz=(e,n,o)=>{const r=e.dom.create("div",{style:"display:none"},n),a=yw(e,r,o);return DF(a.node.innerHTML,a.isDefaultPrevented())},Oh=(e,n,o)=>{const r=jD(e,n,o),a=OF(e,r.content);return e.hasEventListeners("PastePostProcess")&&!r.isDefaultPrevented()?Yz(e,a,o):DF(a,r.isDefaultPrevented())},Xz=(e,n,o)=>Oh(e,n,o),Fd=(e,n)=>(e.insertContent(n,{merge:H5(e),paste:!0}),!0),Em=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),Jz=(e,n)=>Em(n)&&vo(LO(e),o=>qm(n.toLowerCase(),`.${o.toLowerCase()}`)),Zz=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.insertContent('<img src="'+n+'">')}),!0),Dh=(e,n,o)=>(e.undoManager.extra(()=>{o(e,n)},()=>{e.execCommand("mceInsertLink",!1,n)}),!0),Qz=(e,n,o)=>!e.selection.isCollapsed()&&Em(n)?Dh(e,n,o):!1,B_=(e,n,o)=>Jz(e,n)?Zz(e,n,o):!1,eV=(e,n)=>{k.each([Qz,B_,Fd],o=>!o(e,n,Fd))},RF=(e,n,o)=>{o||!PO(e)?Fd(e,n):eV(e,n)},NF=qz("mceclip"),F_=e=>{const n=D_();return SF(n,e),O_(n),n},L_=(e,n,o,r,a)=>{const l=Xz(e,n,o);if(!l.cancelled){const d=l.content,p=()=>RF(e,d,r);a?by(e,"insertFromPaste",{dataTransfer:F_(d)}).isDefaultPrevented()||(p(),fa(e,"insertFromPaste")):p()}},W0=(e,n,o,r)=>{const a=o||EF(n);L_(e,Hz(n),a,!1,r)},$_=(e,n,o)=>{const r=e.dom.encode(n).replace(/\r\n/g,`
`),a=cc(r,Np(e)),l=Vz(a,Cr(e),Nf(e));L_(e,l,!1,!0,o)},j_=e=>{const n={};if(e&&e.types)for(let o=0;o<e.types.length;o++){const r=e.types[o];try{n[r]=e.getData(r)}catch{n[r]=""}}return n},Ld=(e,n)=>n in e&&e[n].length>0,H_=e=>Ld(e,"text/html")||Ld(e,"text/plain"),U_=(e,n)=>{const o=n.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Je(o)?e.dom.encode(o[1]):void 0},PF=(e,n,o,r)=>{const a=NF(),l=lr(e)&&Je(o.name),d=l?U_(e,o.name):a,p=l?o.name:void 0,y=n.create(a,o,r,d,p);return n.add(y),y},tV=(e,n)=>{em(n.uri).each(({data:o,type:r,base64Encoded:a})=>{const l=a?o:btoa(o),d=n.file,p=e.editorUpload.blobCache,y=p.getByData(l,r),T=y??PF(e,p,d,l);W0(e,`<img src="${T.blobUri()}">`,!1,!0)})},nV=e=>e.type==="paste",oV=e=>Promise.all(on(e,n=>mP(n).then(o=>({file:n,uri:o})))),MF=e=>{const n=LO(e);return o=>ns(o.type,"image/")&&vo(n,r=>Kz(r)===o.type)},z_=(e,n)=>{const o=n.items?Ei(si(n.items),a=>a.kind==="file"?[a.getAsFile()]:[]):[],r=n.files?si(n.files):[];return qt(o.length>0?o:r,MF(e))},IF=(e,n,o)=>{const r=nV(n)?n.clipboardData:n.dataTransfer;if(Yv(e)&&r){const a=z_(e,r);if(a.length>0)return n.preventDefault(),oV(a).then(l=>{o&&e.selection.setRng(o),De(l,d=>{tV(e,d)})}),!0}return!1},BF=e=>{var n,o;return an.os.isAndroid()&&((o=(n=e.clipboardData)===null||n===void 0?void 0:n.items)===null||o===void 0?void 0:o.length)===0},FF=e=>dt.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,V_=(e,n,o,r,a)=>{let l=kF(o);const d=Ld(n,V0())||EF(o),p=!d&&Uz(l),y=Em(l);(AF(l)||!l.length||p&&!y)&&(r=!0),(r||y)&&(Ld(n,"text/plain")&&p?l=n["text/plain"]:l=I_(l)),!AF(l)&&(r?$_(e,l,a):W0(e,l,d,a))},LF=(e,n,o)=>{let r;const a=()=>n.getLastRng()||e.selection.getRng();e.on("keydown",l=>{FF(l)&&!l.isDefaultPrevented()&&(r=l.shiftKey&&l.keyCode===86)}),e.on("paste",l=>{if(l.isDefaultPrevented()||BF(l))return;const d=o.get()==="text"||r;r=!1;const p=j_(l.clipboardData);!H_(p)&&IF(e,l,a())||(Ld(p,"text/html")?(l.preventDefault(),V_(e,p,p["text/html"],d,!0)):Ld(p,"text/plain")&&Ld(p,"text/uri-list")?(l.preventDefault(),V_(e,p,p["text/plain"],d,!0)):(n.create(),sa.setEditorTimeout(e,()=>{const y=n.getHtml();n.remove(),V_(e,p,y,d,!1)},0)))})},sV=e=>{const n=a=>ns(a,"webkit-fake-url"),o=a=>ns(a,"data:"),r=a=>{var l;return((l=a.data)===null||l===void 0?void 0:l.paste)===!0};e.parser.addNodeFilter("img",(a,l,d)=>{if(!Yv(e)&&r(d))for(const p of a){const y=p.attr("src");te(y)&&!p.attr("data-mce-object")&&y!==an.transparentSrc&&(n(y)||!IO(e)&&o(y))&&p.remove()}})},rV=(e,n,o)=>{LF(e,n,o),sV(e)},iV=(e,n)=>{n.get()==="text"?(n.set("html"),p1(e,!1)):(n.set("text"),p1(e,!0)),e.focus()},aV=(e,n)=>{e.addCommand("mceTogglePlainTextPaste",()=>{iV(e,n)}),e.addCommand("mceInsertClipboardContent",(o,r)=>{r.html&&W0(e,r.html,r.internal,!1),r.text&&$_(e,r.text,!1)})},cV=(e,n,o)=>{if(e)try{return e.clearData(),e.setData("text/html",n),e.setData("text/plain",o),e.setData(V0(),n),!0}catch{return!1}else return!1},_y=(e,n,o,r)=>{cV(e.clipboardData,n.html,n.text)?(e.preventDefault(),r()):o(n.html,r)},$F=e=>(n,o)=>{const{dom:r,selection:a}=e,l=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),d=r.create("div",{contenteditable:"true"},n);r.setStyles(l,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),l.appendChild(d),r.add(e.getBody(),l);const p=a.getRng();d.focus();const y=r.createRng();y.selectNodeContents(d),a.setRng(y),sa.setEditorTimeout(e,()=>{a.setRng(p),r.remove(l),o()},0)},W_=e=>({html:jz(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),lV=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),jF=e=>!e.selection.isCollapsed()||lV(e),HF=e=>n=>{!n.isDefaultPrevented()&&jF(e)&&e.selection.isEditable()&&_y(n,W_(e),$F(e),()=>{if(an.browser.isChromium()||an.browser.isFirefox()){const o=e.selection.getRng();sa.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},UF=e=>n=>{!n.isDefaultPrevented()&&jF(e)&&_y(n,W_(e),$F(e),Ot)},uV=e=>{e.on("cut",HF(e)),e.on("copy",UF(e))},zF=(e,n)=>{var o,r;return Hf.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(r=n.clientY)!==null&&r!==void 0?r:0,e.getDoc())},dV=e=>{const n=e["text/plain"];return n?n.indexOf("file://")===0:!1},VF=(e,n)=>{e.focus(),n&&e.selection.setRng(n)},fV=e=>vo(e.files,n=>/^image\//.test(n.type)),WF=(e,n,o,r)=>{const a=e.getParent(o,d=>uf(n,d));if(!_(e.getParent(o,"summary")))return!0;if(a&&Lt(r,"text/html")){const d=new DOMParser().parseFromString(r["text/html"],"text/html").body;return!_(d.querySelector(a.nodeName.toLowerCase()))}else return!1},mV=e=>{e.on("input",n=>{const o=r=>_(r.querySelector("summary"));if(n.inputType==="deleteByDrag"){const r=qt(e.dom.select("details"),o);De(r,a=>{Gn(a.firstChild)&&a.firstChild.remove();const l=e.dom.create("summary");l.appendChild(Kc().dom),a.prepend(l)})}})},pV=(e,n)=>{I5(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),Yv(e)||e.on("drop",o=>{const r=o.dataTransfer;r&&fV(r)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;const r=zF(e,o);if(Qn(r))return;const a=j_(o.dataTransfer),l=Ld(a,V0());if((!H_(a)||dV(a))&&IF(e,o,r))return;const d=a[V0()],p=d||a["text/html"]||a["text/plain"],y=WF(e.dom,e.schema,r.startContainer,a),T=n.get();T&&!y||p&&(o.preventDefault(),sa.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(d||T&&y)&&e.execCommand("Delete"),VF(e,r);const N=kF(p);a["text/html"]?W0(e,N,l,!0):$_(e,N,!0)})}))}),e.on("dragstart",o=>{n.set(!0)}),e.on("dragover dragend",o=>{Yv(e)&&!n.get()&&(o.preventDefault(),VF(e,zF(e,o))),o.type==="dragend"&&n.set(!1)}),mV(e)},hV=e=>{const n=a=>l=>{a(e,l)},o=B5(e);Rn(o)&&e.on("PastePreProcess",n(o));const r=F5(e);Rn(r)&&e.on("PastePostProcess",n(r))},gV=(e,n)=>{e.on("PastePreProcess",o=>{o.content=n(e,o.content,o.internal)})},bV=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,GF=e=>k.trim(e).replace(bV,bg).toLowerCase(),yV=(e,n,o)=>{const r=$5(e);if(o||r==="all"||!j5(e))return n;const a=r?r.split(/[, ]/):[];if(a&&r!=="none"){const l=e.dom,d=e.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(p,y,T,N)=>{const B=l.parseStyle(l.decode(T)),F={};for(let K=0;K<a.length;K++){const G=B[a[K]];let Y=G,se=l.getStyle(d,a[K],!0);/color/.test(a[K])&&(Y=GF(Y),se=GF(se)),se!==Y&&(F[a[K]]=G)}const W=l.serializeStyle(F,"span");return W?y+' style="'+W+'"'+N:y+N})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(l,d,p,y)=>d+' style="'+p+'"'+y),n},vV=e=>{(an.browser.isChromium()||an.browser.isSafari())&&gV(e,yV)},qF=e=>{const n=No(!1),o=No(MO(e)?"text":"html"),r=Gz(e);vV(e),aV(e,o),hV(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>o.get()==="text"),e.on("PreInit",()=>{uV(e),pV(e,n),rV(e,r,o)})},KF=e=>{e.on("click",n=>{e.dom.getParent(n.target,"details")&&n.preventDefault()})},xV=e=>{e.parser.addNodeFilter("details",n=>{const o=G5(e);De(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})}),e.serializer.addNodeFilter("details",n=>{const o=q5(e);De(n,r=>{o==="expanded"?r.attr("open","open"):o==="collapsed"&&r.attr("open",null)})})},CV=e=>{KF(e),xV(e)},SV=Gn,YF=Ve,wV=e=>qn(e.dom),EV=e=>Ie(e.dom),XF=e=>n=>Ne(ee.fromDom(e),n),G0=(e,n,o)=>is(ee.fromDom(e),r=>EV(r)||o.isBlock(gn(r)),XF(n)).getOr(ee.fromDom(n)).dom,G_=(e,n)=>is(ee.fromDom(e),wV,XF(n)),JF=(e,n,o)=>{const r=new ir(e,n),a=o?r.next.bind(r):r.prev.bind(r);let l=e;for(let d=o?e:a();d&&!SV(d);d=a())fc(d)&&(l=d);return l},ZF=(e,n,o)=>{const a=ke.fromRangeStart(e).getNode(),l=G0(a,n,o),d=JF(a,l,!1),p=JF(a,l,!0),y=document.createRange();return G_(d,l).fold(()=>{YF(d)?y.setStart(d,0):y.setStartBefore(d)},T=>y.setStartBefore(T.dom)),G_(p,l).fold(()=>{YF(p)?y.setEnd(p,p.data.length):y.setEndAfter(p)},T=>y.setEndAfter(T.dom)),y},QF=e=>{const n=ZF(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(Z1(n))},q_=e=>{e.on("mousedown",n=>{n.detail>=3&&(n.preventDefault(),QF(e))})};var Rh;(function(e){e.Before="before",e.After="after"})(Rh||(Rh={}));const eL=(e,n)=>Math.abs(e.left-n),TV=(e,n)=>Math.abs(e.right-n),tL=(e,n)=>e>=n.top&&e<=n.bottom,_V=(e,n)=>e.top<n.bottom&&e.bottom>n.top,nL=(e,n)=>{const o=dc(e,n)/Math.min(e.height,n.height);return _V(e,n)&&o>.5},AV=(e,n)=>{const o=qt(e,r=>tL(n,r));return U3(o).fold(()=>[[],e],r=>{const{pass:a,fail:l}=tc(e,d=>nL(d,r));return[a,l]})},kV=(e,n)=>({node:e.node,position:eL(e,n)<TV(e,n)?Rh.Before:Rh.After}),OV=(e,n,o)=>n>e.left&&n<e.right?0:Math.min(Math.abs(e.left-n),Math.abs(e.right-n)),Tm=(e,n,o,r)=>{const a=B=>fc(B.node)?$.some(B):lt(B.node)?Tm(si(B.node.childNodes),n,o,!1):$.none(),l=(B,F,W)=>a(F).filter(K=>Math.abs(W(B,n,o)-W(K,n,o))<2&&Ve(K.node)),d=(B,F)=>{const W=To(B,(K,G)=>F(K,n,o)-F(G,n,o));return nc(W,a).map(K=>r&&!Ve(K.node)&&W.length>1?l(K,W[1],F).getOr(K):K)},[p,y]=AV(aT(e),o),{pass:T,fail:N}=tc(y,B=>B.top<o);return d(p,OV).orThunk(()=>d(N,Af)).orThunk(()=>d(T,Af))},DV=(e,n,o,r)=>{const a=(l,d)=>{const p=T=>lt(T)&&T.classList.contains("mce-drag-container"),y=qt(l.dom.childNodes,uo(p));return d.fold(()=>Tm(y,o,r,!0),T=>{const N=qt(y,B=>B!==T.dom);return Tm(N,o,r,!0)}).orThunk(()=>(Ne(l,e)?$.none():Nn(l)).bind(N=>a(N,$.some(l))))};return a(n,$.none())},RV=(e,n,o)=>{const r=ee.fromDom(e),a=tn(r),d=ee.fromPoint(a,n,o).filter(p=>wt(r,p)).getOr(r);return DV(r,d,n,o)},K_=(e,n,o)=>RV(e,n,o).filter(r=>Pg(r.node)).map(r=>kV(r,n)),oL=e=>{var n,o;const r=e.getBoundingClientRect(),a=e.ownerDocument,l=a.documentElement,d=a.defaultView;return{top:r.top+((n=d==null?void 0:d.scrollY)!==null&&n!==void 0?n:0)-l.clientTop,left:r.left+((o=d==null?void 0:d.scrollX)!==null&&o!==void 0?o:0)-l.clientLeft}},NV=e=>e.inline?oL(e.getBody()):{left:0,top:0},PV=e=>{const n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},MV=e=>{const n=e.getBody(),o=e.getDoc().documentElement,r={left:n.scrollLeft,top:n.scrollTop},a={left:n.scrollLeft||o.scrollLeft,top:n.scrollTop||o.scrollTop};return e.inline?r:a},IV=(e,n)=>{if(n.target.ownerDocument!==e.getDoc()){const o=oL(e.getContentAreaContainer()),r=MV(e);return{left:n.pageX-o.left+r.left,top:n.pageY-o.top+r.top}}return{left:n.pageX,top:n.pageY}},q0=(e,n,o)=>({pageX:o.left-e.left+n.left,pageY:o.top-e.top+n.top}),sL=(e,n)=>q0(NV(e),PV(e),IV(e,n)),Y_=e=>({target:e,srcElement:e}),BV=(e,n,o,r)=>({...n,dataTransfer:r,type:e,...Y_(o)}),FV=(e,n,o)=>{const r=Ms("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:r,initEvent:r,preventDefault:Ot,stopImmediatePropagation:Ot,stopPropagation:Ot,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:r,initMouseEvent:r,getModifierState:r,dataTransfer:o,...Y_(n)}},LV=(e,n)=>{const o=Lz(e);return n==="dragstart"?(bF(o),k_(o)):n==="drop"?(yF(o),O_(o)):(Pz(o),Bz(o)),o},JK=(e,n,o,r)=>{const a=LV(o,e);return nn(r)?FV(e,n,a):BV(e,r,n,a)},K0=32,rL=100,Nh=8,_m=16,iL=qn,$V=V3(iL,Ie),aL=(e,n,o)=>iL(o)&&o!==n&&e.isEditable(o.parentElement),jV=(e,n,o)=>Qn(n)||n===o||e.dom.isChildOf(n,o)?!1:e.dom.isEditable(n),X_=(e,n,o,r)=>{const a=e.dom,l=n.cloneNode(!0);a.setStyles(l,{width:o,height:r}),a.setAttrib(l,"data-mce-selected",null);const d=a.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return a.setStyles(d,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:r}),a.setStyles(l,{margin:0,boxSizing:"border-box"}),d.appendChild(l),d},cL=(e,n)=>{e.parentNode!==n&&n.appendChild(e)},Y0=(e,n)=>o=>()=>{const r=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:r+n,behavior:"smooth"})},lL=Y0("left",-K0),J_=Y0("left",K0),uL=Y0("top",-K0),HV=Y0("top",K0),UV=(e,n,o,r,a,l,d,p,y,T,N,B)=>{let F=0,W=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+o>a&&(F=n.pageX+o-a),n.pageY+r>l&&(W=n.pageY+r-l),e.style.width=o-F+"px",e.style.height=r-W+"px";const K=y.clientHeight,G=y.clientWidth,Y=d+y.getBoundingClientRect().top,se=p+y.getBoundingClientRect().left;N.on(le=>{le.intervalId.clear(),le.dragging&&B&&(d+Nh>=K?le.intervalId.set(HV(T)):d-Nh<=0?le.intervalId.set(uL(T)):p+Nh>=G?le.intervalId.set(J_(T)):p-Nh<=0?le.intervalId.set(lL(T)):Y+_m>=window.innerHeight?le.intervalId.set(HV(window)):Y-_m<=0?le.intervalId.set(uL(window)):se+_m>=window.innerWidth?le.intervalId.set(J_(window)):se-_m<=0&&le.intervalId.set(lL(window)))})},dL=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},zV=(e,n)=>{const o=e.getParent(n.parentNode,e.isBlock);dL(n),o&&o!==e.getRoot()&&e.isEmpty(o)&&Ol(ee.fromDom(o))},fL=e=>e.button===0,VV=(e,n)=>({pageX:n.pageX-e.relX,pageY:n.pageY+5}),mL=(e,n)=>o=>{if(fL(o)){const r=Ho(n.dom.getParents(o.target),$V).getOr(null);if(Je(r)&&aL(n.dom,n.getBody(),r)){const a=n.dom.getPos(r),l=n.getBody(),d=n.getDoc().documentElement;e.set({element:r,dataTransfer:D_(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(n.inline?l.scrollWidth:d.offsetWidth)-2,maxY:(n.inline?l.scrollHeight:d.offsetHeight)-2,relX:o.pageX-a.x,relY:o.pageY-a.y,width:r.offsetWidth,height:r.offsetHeight,ghost:X_(n,r,r.offsetWidth,r.offsetHeight),intervalId:fs(rL)})}}},WV=(e,n,o)=>{e._selectionOverrides.hideFakeCaret(),K_(e.getBody(),n,o).fold(()=>e.selection.placeCaretAt(n,o),r=>{const a=e._selectionOverrides.showCaret(1,r.node,r.position===Rh.Before,!1);a?e.selection.setRng(a):e.selection.placeCaretAt(n,o)})},Ay=(e,n,o,r,a)=>{n==="dragstart"&&SF(r,e.dom.getOuterHTML(o));const l=JK(n,o,r,a);return e.dispatch(n,l)},GV=(e,n)=>{const o=wp((a,l)=>WV(n,a,l),0);n.on("remove",o.cancel);const r=e;return a=>e.on(l=>{const d=Math.max(Math.abs(a.screenX-l.screenX),Math.abs(a.screenY-l.screenY));if(!l.dragging&&d>10){const p=Ay(n,"dragstart",l.element,l.dataTransfer,a);if(Je(p.dataTransfer)&&(l.dataTransfer=p.dataTransfer),p.isDefaultPrevented())return;l.dragging=!0,n.focus()}if(l.dragging){const p=a.currentTarget===n.getDoc().documentElement,y=VV(l,sL(n,a));cL(l.ghost,n.getBody()),UV(l.ghost,y,l.width,l.height,l.maxX,l.maxY,a.clientY,a.clientX,n.getContentAreaContainer(),n.getWin(),r,p),o.throttle(a.clientX,a.clientY)}})},qV=e=>{const n=e.getSel();if(Je(n)){const r=n.getRangeAt(0).startContainer;return Ve(r)?r.parentNode:r}else return null},KV=(e,n)=>o=>{e.on(r=>{var a;if(r.intervalId.clear(),r.dragging){if(jV(n,qV(n.selection),r.element)){const l=(a=n.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&a!==void 0?a:n.getBody();Ay(n,"drop",l,r.dataTransfer,o).isDefaultPrevented()||n.undoManager.transact(()=>{zV(n.dom,r.element),$z(r.dataTransfer).each(p=>n.insertContent(p)),n._selectionOverrides.hideFakeCaret()})}Ay(n,"dragend",n.getBody(),r.dataTransfer,o)}}),pL(e)},Z_=(e,n,o)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&o.fold(()=>Ay(n,"dragend",r.element,r.dataTransfer),a=>Ay(n,"dragend",r.element,r.dataTransfer,a))}),pL(e)},ZK=(e,n)=>o=>Z_(e,n,$.some(o)),pL=e=>{e.on(n=>{n.intervalId.clear(),dL(n.ghost)}),e.clear()},hL=e=>{const n=$r(),o=yo.DOM,r=document,a=mL(n,e),l=GV(n,e),d=KV(n,e),p=ZK(n,e);e.on("mousedown",a),e.on("mousemove",l),e.on("mouseup",d),o.bind(r,"mousemove",l),o.bind(r,"mouseup",p),e.on("remove",()=>{o.unbind(r,"mousemove",l),o.unbind(r,"mouseup",p)}),e.on("keydown",y=>{y.keyCode===dt.ESC&&Z_(n,e,$.none())})},YV=e=>{const n=a=>{if(!a.isDefaultPrevented()){const l=a.dataTransfer;l&&(en(l.types,"Files")||l.files.length>0)&&(a.preventDefault(),a.type==="drop"&&jx(e,"Dropped file type is not supported"))}},o=a=>{k1(e,a.target)&&n(a)},r=()=>{const a=yo.DOM,l=e.dom,d=document,p=e.inline?e.getBody():e.getDoc(),y=["drop","dragover"];De(y,T=>{a.bind(d,T,o),l.bind(p,T,n)}),e.on("remove",()=>{De(y,T=>{a.unbind(d,T,o),l.unbind(p,T,n)})})};e.on("init",()=>{sa.setEditorTimeout(e,r,0)})},Q_=e=>{hL(e),Xr(e)&&YV(e)},XV=e=>{const n=wp(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const o=e.selection.getRng();if(o.collapsed){const r=Yx(e,o,!1);e.selection.setRng(r)}}},0);e.on("focus",()=>{n.throttle()}),e.on("blur",()=>{n.cancel()})},JV=e=>{e.on("init",()=>{e.on("focusin",n=>{const o=n.target;if(Fr(o)){const r=vc(e.getBody(),o),a=qn(r)?r:o;e.selection.getNode()!==a&&gh(e,a).each(l=>e.selection.setRng(l))}})})},ky=qn,eA=(e,n)=>vc(e.getBody(),n),X0=e=>{const n=e.selection,o=e.dom,r=e.getBody(),a=o4(e,r,o.isBlock,()=>Yp(e)),l="sel-"+o.uniqueId(),d="data-mce-selected";let p;const y=ut=>Je(ut)&&o.hasClass(ut,"mce-offscreen-selection"),T=ut=>ut!==r&&(ky(ut)||Fr(ut))&&o.isChildOf(ut,r)&&o.isEditable(ut.parentNode),N=ut=>{ut&&n.setRng(ut)},B=(ut,Oe,Se,He=!0)=>e.dispatch("ShowCaret",{target:Oe,direction:ut,before:Se}).isDefaultPrevented()?null:(He&&n.scrollIntoView(Oe,ut===-1),a.show(Se,Oe)),F=ut=>{ut.hasAttribute("data-mce-caret")&&(Sg(ut),n.scrollIntoView(ut))},W=()=>{e.on("click",Oe=>{o.isEditable(Oe.target)||(Oe.preventDefault(),e.focus())}),e.on("blur NewBlock",he),e.on("ResizeWindow FullscreenStateChanged",a.reposition),e.on("tap",Oe=>{const Se=Oe.target,He=eA(e,Se);ky(He)?(Oe.preventDefault(),gh(e,He).each(pe)):T(Se)&&gh(e,Se).each(pe)},!0),e.on("mousedown",Oe=>{const Se=Oe.target;if(Se!==r&&Se.nodeName!=="HTML"&&!o.isChildOf(Se,r)||!R8(e,Oe.clientX,Oe.clientY))return;he(),Ge();const He=eA(e,Se);ky(He)?(Oe.preventDefault(),gh(e,He).each(pe)):K_(r,Oe.clientX,Oe.clientY).each(mt=>{Oe.preventDefault();const kt=B(1,mt.node,mt.position===Rh.Before,!1);N(kt),lc(He)?He.focus():e.getBody().focus()})}),e.on("keypress",Oe=>{dt.modifierPressed(Oe)||ky(n.getNode())&&Oe.preventDefault()}),e.on("GetSelectionRange",Oe=>{let Se=Oe.range;if(p){if(!p.parentNode){p=null;return}Se=Se.cloneRange(),Se.selectNode(p),Oe.range=Se}}),e.on("SetSelectionRange",Oe=>{Oe.range=Y(Oe.range);const Se=pe(Oe.range,Oe.forward);Se&&(Oe.range=Se)});const ut=Oe=>lt(Oe)&&Oe.id==="mcepastebin";e.on("AfterSetSelectionRange",Oe=>{const Se=Oe.range,He=Se.startContainer.parentElement;!G(Se)&&!ut(He)&&Ge(),y(He)||he()}),Q_(e),XV(e),JV(e)},K=ut=>Da(ut)||kn(ut)||Ur(ut),G=ut=>K(ut.startContainer)||K(ut.endContainer),Y=ut=>{const Oe=e.schema.getVoidElements(),Se=o.createRng(),He=ut.startContainer,mt=ut.startOffset,kt=ut.endContainer,mn=ut.endOffset;return Lt(Oe,He.nodeName.toLowerCase())?mt===0?Se.setStartBefore(He):Se.setStartAfter(He):Se.setStart(He,mt),Lt(Oe,kt.nodeName.toLowerCase())?mn===0?Se.setEndBefore(kt):Se.setEndAfter(kt):Se.setEnd(kt,mn),Se},se=(ut,Oe)=>{const Se=ee.fromDom(e.getBody()),He=e.getDoc(),mt=Pt(Se,"#"+l).getOrThunk(()=>{const pn=ee.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',He);return _s(pn,"id",l),Gs(Se,pn),pn}),kt=o.createRng();sp(mt),zu(mt,[ee.fromText(Bs,He),ee.fromDom(Oe),ee.fromText(Bs,He)]),kt.setStart(mt.dom.firstChild,1),kt.setEnd(mt.dom.lastChild,0),bn(mt,{top:o.getPos(ut,e.getBody()).y+"px"}),zf(mt);const mn=n.getSel();return mn&&(mn.removeAllRanges(),mn.addRange(kt)),kt},le=ut=>{const Oe=ut.cloneNode(!0),Se=e.dispatch("ObjectSelected",{target:ut,targetClone:Oe});if(Se.isDefaultPrevented())return null;const He=se(ut,Se.targetClone),mt=ee.fromDom(ut);return De(fi(ee.fromDom(e.getBody()),`*[${d}]`),kt=>{Ne(mt,kt)||sr(kt,d)}),o.getAttrib(ut,d)||ut.setAttribute(d,"1"),p=ut,Ge(),He},pe=(ut,Oe)=>{if(!ut)return null;if(ut.collapsed){if(!G(ut)){const kt=Oe?1:-1,mn=Fg(kt,r,ut),pn=mn.getNode(!Oe);if(Je(pn)){if(Pg(pn))return B(kt,pn,Oe?!mn.isAtEnd():!1,!1);if(Dl(pn)&&qn(pn.nextSibling)){const to=o.createRng();return to.setStart(pn,0),to.setEnd(pn,0),to}}const Vn=mn.getNode(Oe);if(Je(Vn)){if(Pg(Vn))return B(kt,Vn,Oe?!1:!mn.isAtEnd(),!1);if(Dl(Vn)&&qn(Vn.previousSibling)){const to=o.createRng();return to.setStart(Vn,1),to.setEnd(Vn,1),to}}}return null}let Se=ut.startContainer,He=ut.startOffset;const mt=ut.endOffset;if(Ve(Se)&&He===0&&ky(Se.parentNode)&&(Se=Se.parentNode,He=o.nodeIndex(Se),Se=Se.parentNode),!lt(Se))return null;if(mt===He+1&&Se===ut.endContainer){const kt=Se.childNodes[He];if(T(kt))return le(kt)}return null},he=()=>{p&&p.removeAttribute(d),Pt(ee.fromDom(e.getBody()),"#"+l).each(Ro),p=null},$e=()=>{a.destroy(),p=null},Ge=()=>{a.hide()};return jl(e)||W(),{showCaret:B,showBlockCaretContainer:F,hideFakeCaret:Ge,destroy:$e}},gL=(e,n)=>{let o=n;for(let r=e.previousSibling;Ve(r);r=r.previousSibling)o+=r.data.length;return o},tA=(e,n,o,r,a)=>{if(Ve(o)&&(r<0||r>o.data.length))return[];const l=a&&Ve(o)?[gL(o,r)]:[r];let d=o;for(;d!==n&&d.parentNode;)l.push(e.nodeIndex(d,a)),d=d.parentNode;return d===n?l.reverse():[]},nA=(e,n,o,r,a,l,d=!1)=>{const p=tA(e,n,o,r,d),y=tA(e,n,a,l,d);return{start:p,end:y}},bL=(e,n)=>{const o=n.slice(),r=o.pop();return $n(r)?ls(o,(l,d)=>l.bind(p=>$.from(p.childNodes[d])),$.some(e)).bind(l=>Ve(l)&&(r<0||r>l.data.length)?$.none():$.some({node:l,offset:r})):$.none()},oA=(e,n)=>bL(e,n.start).bind(({node:o,offset:r})=>bL(e,n.end).map(({node:a,offset:l})=>{const d=document.createRange();return d.setStart(o,r),d.setEnd(a,l),d})),ZV=(e,n,o,r=!1)=>nA(e,n,o.startContainer,o.startOffset,o.endContainer,o.endOffset,r),Ph=(e,n,o)=>{if(n&&e.isEmpty(n)&&!o(n)){const r=n.parentNode;e.remove(n,Ve(n.firstChild)&&Aa(n.firstChild.data)),Ph(e,r,o)}},J0=(e,n,o,r=!0)=>{const a=n.startContainer.parentNode,l=n.endContainer.parentNode;n.deleteContents(),r&&!o(n.startContainer)&&(Ve(n.startContainer)&&n.startContainer.data.length===0&&e.remove(n.startContainer),Ve(n.endContainer)&&n.endContainer.data.length===0&&e.remove(n.endContainer),Ph(e,a,o),a!==l&&Ph(e,l,o))},Mh=(e,n)=>$.from(e.dom.getParent(n.startContainer,e.dom.isBlock)),sA=(e,n,o)=>{const r=e.dynamicPatternsLookup({text:o,block:n});return{...e,blockPatterns:hO(r).concat(e.blockPatterns),inlinePatterns:nd(r).concat(e.inlinePatterns)}},rA=(e,n,o,r)=>{const a=e.createRng();return a.setStart(n,0),a.setEnd(o,r),a.toString()},yL=(e,n)=>e.create("span",{"data-mce-type":"bookmark",id:n}),Z0=(e,n)=>{const o=e.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},vL=(e,n,o)=>{const r=oA(e.getRoot(),o).getOrDie("Unable to resolve path range"),a=r.startContainer,l=r.endContainer,d=r.endOffset===0?l:l.splitText(r.endOffset),p=r.startOffset===0?a:a.splitText(r.startOffset),y=p.parentNode,T=d.parentNode;return{prefix:n,end:T.insertBefore(yL(e,n+"-end"),d),start:y.insertBefore(yL(e,n+"-start"),p)}},xL=(e,n,o)=>{Ph(e,e.get(n.prefix+"-end"),o),Ph(e,e.get(n.prefix+"-start"),o)},Q0=e=>e.start.length===0,CL=e=>(n,o)=>{const a=n.data.substring(0,o),l=a.lastIndexOf(e.charAt(e.length-1)),d=a.lastIndexOf(e);return d!==-1?d+e.length:l!==-1?l+1:-1},eC=(e,n,o,r)=>{const a=n.start;return UT(e,r.container,r.offset,CL(a),o).bind(d=>{var p,y;const T=(y=(p=o.textContent)===null||p===void 0?void 0:p.indexOf(a))!==null&&y!==void 0?y:-1;if(T!==-1&&d.offset>=T+a.length){const B=e.createRng();return B.setStart(d.container,d.offset-a.length),B.setEnd(d.container,d.offset),$.some(B)}else{const B=d.offset-a.length;return Sh(d.container,B,o).map(F=>{const W=e.createRng();return W.setStart(F.container,F.offset),W.setEnd(d.container,d.offset),W}).filter(F=>F.toString()===a).orThunk(()=>eC(e,n,o,_c(d.container,0)))}})},iA=(e,n,o,r,a,l=!1)=>{if(n.start.length===0&&!l){const d=e.createRng();return d.setStart(o,r),d.setEnd(o,r),$.some(d)}return HT(o,r,a).bind(d=>eC(e,n,a,d).bind(y=>{var T;if(l){if(y.endContainer===d.container&&y.endOffset===d.offset)return $.none();if(d.offset===0&&((T=y.endContainer.textContent)===null||T===void 0?void 0:T.length)===y.endOffset)return $.none()}return $.some(y)}))},QV=(e,n,o,r)=>{const a=e.dom,l=a.getRoot(),d=o.pattern,p=o.position.container,y=o.position.offset;return Sh(p,y-o.pattern.end.length,n).bind(T=>{const N=nA(a,l,T.container,T.offset,p,y,r);if(Q0(d))return $.some({matches:[{pattern:d,startRng:N,endRng:N}],position:T});{const B=Ih(e,o.remainingPatterns,T.container,T.offset,n,r),F=B.getOr({matches:[],position:T}),W=F.position;return iA(a,d,W.container,W.offset,n,B.isNone()).map(G=>{const Y=ZV(a,l,G,r);return{matches:F.matches.concat([{pattern:d,startRng:Y,endRng:N}]),position:_c(G.startContainer,G.startOffset)}})}})},Ih=(e,n,o,r,a,l)=>{const d=e.dom;return HT(o,r,d.getRoot()).bind(p=>{const y=rA(d,a,o,r);for(let T=0;T<n.length;T++){const N=n[T];if(!qm(y,N.end))continue;const B=n.slice();B.splice(T,1);const F=QV(e,a,{pattern:N,remainingPatterns:B,position:p},l);if(F.isNone()&&r>0)return Ih(e,n,o,r-1,a,l);if(F.isSome())return F}return $.none()})},SL=(e,n,o)=>{e.selection.setRng(o),n.type==="inline-format"?De(n.format,r=>{e.formatter.apply(r)}):e.execCommand(n.cmd,!1,n.value)},eW=(e,n,o,r)=>{const a=Z0(e.dom,o);J0(e.dom,a,r),SL(e,n,a)},wL=(e,n,o,r,a)=>{const l=e.dom,d=Z0(l,r),p=Z0(l,o);J0(l,p,a),J0(l,d,a);const y={prefix:o.prefix,start:o.end,end:r.start},T=Z0(l,y);SL(e,n,T)},tW=(e,n)=>{const o=xg("mce_textpattern"),r=Du(n,(a,l)=>{const d=vL(e,o+`_end${a.length}`,l.endRng);return a.concat([{...l,endMarker:d}])},[]);return Du(r,(a,l)=>{const d=r.length-a.length-1,p=Q0(l.pattern)?l.endMarker:vL(e,o+`_start${d}`,l.startRng);return a.concat([{...l,startMarker:p}])},[])},nW=e=>To(e,(n,o)=>o.end.length-n.end.length),oW=(e,n)=>{const o=or(e,r=>vo(n,a=>r.pattern.start===a.pattern.start&&r.pattern.end===a.pattern.end));return e.length===n.length?o?e:n:e.length>n.length?e:n},EL=(e,n,o,r,a,l)=>{const d=Ih(e,a.inlinePatterns,o,r,n,l).fold(()=>[],y=>y.matches),p=Ih(e,nW(a.inlinePatterns),o,r,n,l).fold(()=>[],y=>y.matches);return oW(d,p)},TL=(e,n)=>{if(n.length===0)return;const o=e.dom,r=e.selection.getBookmark(),a=tW(o,n);De(a,l=>{const d=o.getParent(l.startMarker.start,o.isBlock),p=y=>y===d;Q0(l.pattern)?eW(e,l.pattern,l.endMarker,p):wL(e,l.pattern,l.startMarker,l.endMarker,p),xL(o,l.endMarker,p),xL(o,l.startMarker,p)}),e.selection.moveToBookmark(r)},_L=(e,n,o)=>G7(n,0,n).map(r=>{const a=r.container;return uB(a,o.start.length,n).each(l=>{const d=e.createRng();d.setStart(a,0),d.setEnd(l.container,l.offset),J0(e,d,p=>p===n)}),a}),AL=e=>(n,o)=>{const r=n.dom,a=o.pattern,l=oA(r.getRoot(),o.range).getOrDie("Unable to resolve path range"),d=(p,y)=>{const T=y.get(p);return Zt(T)&&us(T).exists(N=>Lt(N,"block"))};return Mh(n,l).each(p=>{a.type==="block-format"?d(a.format,n.formatter)&&n.undoManager.transact(()=>{e(n.dom,p,a),n.formatter.apply(a.format)}):a.type==="block-command"&&n.undoManager.transact(()=>{e(n.dom,p,a),n.execCommand(a.cmd,!1,a.value)})}),!0},sW=e=>To(e,(n,o)=>o.start.length-n.start.length),aA=e=>(n,o)=>{const r=sW(n),a=o.replace(Bs," ");return Ho(r,l=>e(l,o,a))},kL=(e,n)=>(o,r,a,l,d)=>{var p;d===void 0&&(d=(p=r.textContent)!==null&&p!==void 0?p:"");const y=o.dom,T=Cr(o);return y.is(r,T)?e(a.blockPatterns,d).map(N=>n&&k.trim(d).length===N.start.length?[]:[{pattern:N,range:nA(y,y.getRoot(),r,0,r,0,l)}]).getOr([]):[]},cA=e=>/^\s[^\s]/.test(e),rW=AL((e,n,o)=>{_L(e,n,o).each(r=>{const a=ee.fromDom(r),l=_p(a);cA(l)&&Vk(a,l.slice(1))})}),iW=aA((e,n,o)=>n.indexOf(e.start)===0||o.indexOf(e.start)===0),aW=kL(iW,!0),cW=(e,n)=>{const o=e.selection.getRng();return Mh(e,o).map(r=>{var a;const l=Math.max(0,o.startOffset),d=sA(n,r,(a=r.textContent)!==null&&a!==void 0?a:""),p=EL(e,r,o.startContainer,l,d,!0),y=aW(e,r,d,!0);return{inlineMatches:p,blockMatches:y}}).filter(({inlineMatches:r,blockMatches:a})=>a.length>0||r.length>0)},lW=(e,n)=>{if(n.length===0)return;const o=e.selection.getBookmark();De(n,r=>rW(e,r)),e.selection.moveToBookmark(o)},tC=AL(_L),uW=aA((e,n,o)=>n===e.start||o===e.start),dW=kL(uW,!1),fW=(e,n)=>{const o=e.selection.getRng();return Mh(e,o).map(r=>{const a=Math.max(0,o.startOffset),l=rA(e.dom,r,o.startContainer,a),d=sA(n,r,l);return dW(e,r,d,!1,l)}).filter(r=>r.length>0)},mW=(e,n)=>{De(n,o=>tC(e,o))},pW=(e,n)=>cW(e,n).fold(We,({inlineMatches:o,blockMatches:r})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{$3(e),TL(e,o),lW(e,r);const a=e.selection.getRng(),l=HT(a.startContainer,a.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),l.each(d=>{const p=d.container;p.data.charAt(d.offset-1)===dg&&(p.deleteData(d.offset-1,1),Ph(e.dom,p.parentNode,y=>y===e.dom.getRoot()))})}),!0)),hW=(e,n)=>{const o=e.selection.getRng();Mh(e,o).map(r=>{const a=Math.max(0,o.startOffset-1),l=rA(e.dom,r,o.startContainer,a),d=sA(n,r,l),p=EL(e,r,o.startContainer,a,d,!1);p.length>0&&e.undoManager.transact(()=>{TL(e,p)})})},gW=(e,n)=>fW(e,n).fold(We,o=>(e.undoManager.transact(()=>{mW(e,o)}),!0)),OL=(e,n,o)=>{for(let r=0;r<e.length;r++)if(o(e[r],n))return!0;return!1},bW=(e,n)=>OL(e,n,(o,r)=>o===r.keyCode&&!dt.modifierPressed(r)),DL=(e,n)=>OL(e,n,(o,r)=>o.charCodeAt(0)===r.charCode),yW=e=>{const n=[",",".",";",":","!","?"],o=[32],r=()=>vr(U5(e).filter(d=>d.type==="inline-command"||d.type==="block-command"?e.queryCommandSupported(d.cmd):!0),z5(e)),a=()=>$S(e);e.on("keydown",d=>{if(d.keyCode===13&&!dt.modifierPressed(d)&&e.selection.isCollapsed()&&e.selection.isEditable()){const p=Nl(r(),"enter");(p.inlinePatterns.length>0||p.blockPatterns.length>0||a())&&pW(e,p)&&d.preventDefault()}},!0),e.on("keydown",d=>{if(d.keyCode===32&&e.selection.isCollapsed()&&e.selection.isEditable()){const p=Nl(r(),"space");(p.blockPatterns.length>0||a())&&gW(e,p)&&d.preventDefault()}},!0);const l=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){const d=Nl(r(),"space");(d.inlinePatterns.length>0||a())&&hW(e,d)}};e.on("keyup",d=>{bW(o,d)&&l()}),e.on("keypress",d=>{DL(n,d)&&sa.setEditorTimeout(e,l)})},RL=e=>{yW(e)},vW=e=>{const n=k.each,o=dt.BACKSPACE,r=dt.DELETE,a=e.dom,l=e.selection,d=e.parser,p=an.browser,y=p.isFirefox(),T=p.isChromium()||p.isSafari(),N=an.deviceType.isiPhone()||an.deviceType.isiPad(),B=an.os.isMacOS()||an.os.isiOS(),F=(ct,Ft)=>{try{e.getDoc().execCommand(ct,!1,String(Ft))}catch{}},W=ct=>ct.isDefaultPrevented(),K=()=>{const ct=jt=>{const ot=a.create("body"),hn=jt.cloneContents();return ot.appendChild(hn),l.serializer.serialize(ot,{format:"html"})},Ft=jt=>{const ot=ct(jt),hn=a.createRng();hn.selectNode(e.getBody());const xn=ct(hn);return ot===xn};e.on("keydown",jt=>{const ot=jt.keyCode;if(!W(jt)&&(ot===r||ot===o)&&e.selection.isEditable()){const hn=e.selection.isCollapsed(),xn=e.getBody();if(hn&&!Ys(e.schema,xn)||!hn&&!Ft(e.selection.getRng()))return;jt.preventDefault(),e.setContent(""),xn.firstChild&&a.isBlock(xn.firstChild)?e.selection.setCursorLocation(xn.firstChild,0):e.selection.setCursorLocation(xn,0),e.nodeChanged()}})},G=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},Y=()=>{e.inline||a.bind(e.getDoc(),"mousedown mouseup",ct=>{let Ft;if(ct.target===e.getDoc().documentElement)if(Ft=l.getRng(),e.getBody().focus(),ct.type==="mousedown"){if(Da(Ft.startContainer))return;l.placeCaretAt(ct.clientX,ct.clientY)}else l.setRng(Ft)})},se=()=>{e.on("keydown",ct=>{if(!W(ct)&&ct.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(l.isCollapsed()&&l.getRng().startOffset===0){const Ft=l.getNode(),jt=Ft.previousSibling;if(Ft.nodeName==="HR"){a.remove(Ft),ct.preventDefault();return}jt&&jt.nodeName&&jt.nodeName.toLowerCase()==="hr"&&(a.remove(jt),ct.preventDefault())}}})},le=()=>{Range.prototype.getClientRects||e.on("mousedown",ct=>{if(!W(ct)&&ct.target.nodeName==="HTML"){const Ft=e.getBody();Ft.blur(),sa.setEditorTimeout(e,()=>{Ft.focus()})}})},pe=()=>{const ct=FS(e);e.on("click",Ft=>{const jt=Ft.target;/^(IMG|HR)$/.test(jt.nodeName)&&a.isEditable(jt)&&(Ft.preventDefault(),e.selection.select(jt),e.nodeChanged()),jt.nodeName==="A"&&a.hasClass(jt,ct)&&jt.childNodes.length===0&&a.isEditable(jt.parentNode)&&(Ft.preventDefault(),l.select(jt))})},he=()=>{const ct=()=>{const jt=a.getAttribs(l.getStart().cloneNode(!1));return()=>{const ot=l.getStart();ot!==e.getBody()&&(a.setAttrib(ot,"style",null),n(jt,hn=>{ot.setAttributeNode(hn.cloneNode(!0))}))}},Ft=()=>!l.isCollapsed()&&a.getParent(l.getStart(),a.isBlock)!==a.getParent(l.getEnd(),a.isBlock);e.on("keypress",jt=>{let ot;return!W(jt)&&(jt.keyCode===8||jt.keyCode===46)&&Ft()?(ot=ct(),e.getDoc().execCommand("delete",!1),ot(),jt.preventDefault(),!1):!0}),a.bind(e.getDoc(),"cut",jt=>{if(!W(jt)&&Ft()){const ot=ct();sa.setEditorTimeout(e,()=>{ot()})}})},$e=()=>{e.on("keydown",ct=>{if(!W(ct)&&ct.keyCode===o&&l.isCollapsed()&&l.getRng().startOffset===0){const Ft=l.getNode().previousSibling;if(Ft&&Ft.nodeName&&Ft.nodeName.toLowerCase()==="table")return ct.preventDefault(),!1}return!0})},Ge=()=>{e.on("keydown",ct=>{if(W(ct)||ct.keyCode!==dt.BACKSPACE)return;let Ft=l.getRng();const jt=Ft.startContainer,ot=Ft.startOffset,hn=a.getRoot();let xn=jt;if(!(!Ft.collapsed||ot!==0)){for(;xn.parentNode&&xn.parentNode.firstChild===xn&&xn.parentNode!==hn;)xn=xn.parentNode;xn.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,xn),Ft=a.createRng(),Ft.setStart(jt,0),Ft.setEnd(jt,0),l.setRng(Ft))}})},ut=()=>{const ct=()=>{F("StyleWithCSS",!1),F("enableInlineTableEditing",!1),Dg(e)||F("enableObjectResizing",!1)};OO(e)||e.on("BeforeExecCommand mousedown",ct)},Oe=()=>{const ct=()=>{n(a.select("a:not([data-mce-block])"),Ft=>{var jt;let ot=Ft.parentNode;const hn=a.getRoot();if((ot==null?void 0:ot.lastChild)===Ft){for(;ot&&!a.isBlock(ot);){if(((jt=ot.parentNode)===null||jt===void 0?void 0:jt.lastChild)!==ot||ot===hn)return;ot=ot.parentNode}a.add(ot,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",Ft=>{(Ft.type==="setcontent"||Ft.command==="mceInsertLink")&&ct()})},Se=()=>{e.on("init",()=>{F("DefaultParagraphSeparator",Cr(e))})},He=ct=>{const Ft=ct.getBody(),jt=ct.selection.getRng();return jt.startContainer===jt.endContainer&&jt.startContainer===Ft&&jt.startOffset===0&&jt.endOffset===Ft.childNodes.length},mt=()=>{e.on("keyup focusin mouseup",ct=>{!dt.modifierPressed(ct)&&!He(e)&&l.normalize()},!0)},kt=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},mn=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},pn=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",ct=>{let Ft;ct.target.nodeName==="HTML"&&(Ft=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Ft),e.selection.normalize(),e.nodeChanged())}))},Vn=()=>{B&&e.on("keydown",ct=>{dt.metaKeyPressed(ct)&&!ct.shiftKey&&(ct.keyCode===37||ct.keyCode===39)&&(ct.preventDefault(),e.selection.getSel().modify("move",ct.keyCode===37?"backward":"forward","lineboundary"))})},to=()=>{e.on("click",ct=>{let Ft=ct.target;do if(Ft.tagName==="A"){ct.preventDefault();return}while(Ft=Ft.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},ts=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",ct=>{ct.preventDefault()})})},mr=()=>{d.addNodeFilter("br",ct=>{let Ft=ct.length;for(;Ft--;)ct[Ft].attr("class")==="Apple-interchange-newline"&&ct[Ft].remove()})},ss=Ot,et=()=>{if(!y||e.removed)return!1;const ct=e.selection.getSel();return!ct||!ct.rangeCount||ct.rangeCount===0},_t=()=>{T&&(Y(),pe(),ts(),G(),N&&(mn(),pn(),to())),y&&(le(),ut(),kt(),Vn())},In=()=>{Ge(),K(),an.windowsPhone||mt(),T&&(Y(),pe(),Se(),ts(),$e(),mr(),N?(mn(),pn(),to()):G()),y&&(se(),le(),he(),ut(),Oe(),kt(),Vn(),$e())};return jl(e)?_t():In(),{refreshContentEditable:ss,isHidden:et}},xW=e=>e.toLowerCase()==="gpl",NL=e=>e.length>=64&&e.length<=255,Oy=e=>xW(e)||NL(e)?"VALID":"INVALID",CW=e=>{const n=$O(e);!te(Y5(e))&&(nn(n)||Oy(n)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},nC=yo.DOM,SW=(e,n)=>{const o=ee.fromDom(e.getBody()),r=Jy(xl(o)),a=ee.fromTag("style");_s(a,"type","text/css"),Gs(a,ee.fromText(n)),Gs(r,a),e.on("remove",()=>{Ro(a)})},wW=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,lA=e=>Xl(e,n=>nn(n)===!1),PL=e=>{const n=e.options.get,o=e.editorUpload.blobCache;return lA({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_mathml_annotation_encodings:n("allow_mathml_annotation_encodings"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_unsafe_embeds:n("convert_unsafe_embeds"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:wW(e),sandbox_iframes:n("sandbox_iframes"),sandbox_iframes_exclusions:HS(e),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},uA=e=>{const n=e.options.get;return lA({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},EW=e=>{const n=e.options.get;return{...PL(e),...uA(e),...lA({remove_trailing_brs:n("remove_trailing_brs"),pad_empty_with_br:n("pad_empty_with_br"),url_converter:n("url_converter"),url_converter_scope:n("url_converter_scope"),element_format:n("element_format"),entities:n("entities"),entity_encoding:n("entity_encoding"),indent:n("indent"),indent_after:n("indent_after"),indent_before:n("indent_before")})}},ML=e=>{const n=im(PL(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",(o,r)=>{const a=e.dom,l="data-mce-"+r;let d=o.length;for(;d--;){const p=o[d];let y=p.attr(r);if(y&&!p.attr(l)){if(y.indexOf("data:")===0||y.indexOf("blob:")===0)continue;r==="style"?(y=a.serializeStyle(a.parseStyle(y),p.name),y.length||(y=null),p.attr(l,y),p.attr(r,y)):r==="tabindex"?(p.attr(l,y),p.attr(r,null)):p.attr(l,e.convertURL(y,r,p.name))}}}),n.addNodeFilter("script",o=>{let r=o.length;for(;r--;){const a=o[r],l=a.attr("type")||"no/type";l.indexOf("mce-")!==0&&a.attr("type","mce-"+l)}}),Jv(e)&&n.addNodeFilter("#cdata",o=>{var r;let a=o.length;for(;a--;){const l=o[a];l.type=8,l.name="#comment",l.value="[CDATA["+e.dom.encode((r=l.value)!==null&&r!==void 0?r:"")+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let r=o.length;const a=e.schema.getNonEmptyElements();for(;r--;){const l=o[r];l.isEmpty(a)&&l.getAll("br").length===0&&l.append(new Jr("br",1))}}),n},TW=e=>{const n=N5(e);n&&sa.setEditorTimeout(e,()=>{let o;n===!0?o=e:o=e.editorManager.get(n),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},_W=e=>{const n=e.dom.getRoot();!e.inline&&(!c1(e)||e.selection.getStart(!0)===n)&&Vr(n).each(o=>{const r=o.getNode(),a=Uc(r)?Vr(r).getOr(o):o;e.selection.setRng(a.toRange())})},AW=e=>{e.bindPendingEventDelegates(),e.initialized=!0,m1(e),e.focus(!0),_W(e),e.nodeChanged({initial:!0});const n=D5(e);Rn(n)&&n.call(e,e),TW(e)},dA=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,kW=(e,n,o)=>{const{pass:r,fail:a}=tc(n,p=>tinymce.Resource.has(PE(p))),d=[...r.map(p=>{const y=tinymce.Resource.get(PE(p));return te(y)?Promise.resolve(dA(e).loadRawCss(p,y)):Promise.resolve()}),dA(e).loadAll(a)];return e.inline?d:d.concat([e.ui.styleSheetLoader.loadAll(o)])},IL=e=>{const n=dA(e),o=v5(e),r=e.contentCSS,a=()=>{n.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(o)},l=()=>{e.removed?a():e.on("remove",a)};if(e.contentStyles.length>0){let y="";k.each(e.contentStyles,T=>{y+=T+`\r
`}),e.dom.addStyle(y)}const d=Promise.all(kW(e,r,o)).then(l).catch(l),p=Ni(e);return p&&SW(e,p),d},OW=e=>{const n=e.getDoc(),o=e.getBody();BD(e),P5(e)||(n.body.spellcheck=!1,nC.setAttrib(o,"spellcheck","false")),e.quirks=vW(e),D4(e);const r=x5(e);r!==void 0&&(o.dir=r);const a=M5(e);a&&e.on("BeforeSetContent",l=>{k.each(a,d=>{l.content=l.content.replace(d,p=>"<!--mce:protected "+escape(p)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",l=>{e.composing=l.type==="compositionstart"})},DW=e=>{jl(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},fA=e=>{e.removed!==!0&&(DW(e),AW(e))},BL=e=>{let n=!1;const o=setTimeout(()=>{n||e.setProgressState(!0)},500);return()=>{clearTimeout(o),n=!0,e.setProgressState(!1)}},oC=e=>{const n=e.getElement();let o=e.getDoc();e.inline&&(nC.addClass(n,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=n,e.contentAreaContainer=n);const r=e.getBody();r.disabled=!0,e.readonly=OO(e),e._editableRoot=k5(e),e.hasEditableRoot()&&(e.inline&&nC.getStyle(r,"position",!0)==="static"&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=V8(e),e.schema=no(uA(e)),e.dom=yo(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:TO(e),referrerPolicy:Og(e),onSetAttrib:d=>{e.dispatch("SetAttrib",d)}}),e.parser=ML(e),e.serializer=_E(EW(e),e),e.selection=pM(e.dom,e.getWin(),e.serializer,e),e.annotator=Xg(e),e.formatter=MM(e),e.undoManager=$E(e),e._nodeChangeDispatcher=new Oz(e),e._selectionOverrides=X0(e),c7(e),CV(e),m7(e),jl(e)||(q_(e),RL(e));const a=kz(e);i7(e,a),l7(e),J8(e),qF(e);const l=tM(e);OW(e),CW(e),l.fold(()=>{const d=BL(e);IL(e).then(()=>{fA(e),d()})},d=>{e.setProgressState(!0),IL(e).then(()=>{d().then(p=>{e.setProgressState(!1),fA(e),dM(e)},p=>{e.notificationManager.open({type:"error",text:String(p)}),fA(e),dM(e)})})})},FL=ht,LL=(e,n,o)=>n3(e,n,FL,o),mA=yo.DOM,RW=(e,n,o,r)=>{const a=ee.fromTag("iframe");return r.each(l=>_s(a,"tabindex",l)),kr(a,o),kr(a,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),yl(a,"tox-edit-area__iframe"),a},NW=e=>{let n=xr(e)+"<html><head>";yO(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const o=od(e),r=vO(e),a=e.translate(Ng(e));return OS(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+OS(e)+'" />'),n+=`</head><body id="${o}" class="mce-content-body ${r}" data-id="${e.id}" aria-label="${a}"><br></body></html>`,n},$L=(e,n)=>{const o=an.browser.isFirefox()?Ng(e):"Rich Text Area",r=e.translate(o),a=_a(ee.fromDom(e.getElement()),"tabindex").bind(eu),l=RW(e.id,r,f5(e),a).dom;l.onload=()=>{l.onload=null,e.dispatch("load")},e.contentAreaContainer=n.iframeContainer,e.iframeElement=l,e.iframeHTML=NW(e),mA.add(n.iframeContainer,l)},jL=e=>{const n=e.iframeElement,o=()=>{e.contentDocument=n.contentDocument,oC(e)};if(du(e)||an.browser.isFirefox()){const r=e.getDoc();r.open(),r.write(e.iframeHTML),r.close(),o()}else{const r=LL(ee.fromDom(n),"load",()=>{r.unbind(),o()});n.srcdoc=e.iframeHTML}},PW=(e,n)=>{$L(e,n),n.editorContainer&&(n.editorContainer.style.display=e.orgDisplay,e.hidden=mA.isHidden(n.editorContainer)),e.getElement().style.display="none",mA.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,jL(e)},HL=yo.DOM,pA=(e,n,o)=>{const r=uh.get(o),a=uh.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=k.trim(o),r&&k.inArray(n,o)===-1){if(e.plugins[o])return;try{const l=r(e,a)||{};e.plugins[o]=l,Rn(l.init)&&(l.init(e,a),n.push(o))}catch(l){NE(e,o,l)}}},sC=e=>e.replace(/^\-/,""),rC=e=>{const n=[];De(Kv(e),o=>{pA(e,n,sC(o))})},Eu=e=>{const n=k.trim(Ss(e)),o=e.ui.registry.getAll().icons,r={...ch.get("default").icons,...ch.get(n).icons};at(r,(a,l)=>{Lt(o,l)||e.ui.registry.addIcon(l,a)})},iC=e=>{const n=sd(e);if(te(n)){const o=rl.get(n);e.theme=o(e,rl.urls[n])||{},Rn(e.theme.init)&&e.theme.init(e,rl.urls[n]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},Bh=e=>{const n=Gv(e),o=lh.get(n);e.model=o(e,lh.urls[n])},UL=e=>{const n=e.theme.renderUI;return n?n():WL(e)},MW=e=>{const n=e.getElement(),r=sd(e)(e,n);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:n.offsetHeight,r},zL=(e,n)=>({editorContainer:e,iframeContainer:n,api:{}}),VL=e=>{const n=HL.create("div");return HL.insertAfter(n,e),zL(n,n)},WL=e=>{const n=e.getElement();return e.inline?zL(null):VL(n)},hA=e=>{const n=e.getElement();return e.orgDisplay=n.style.display,te(sd(e))?UL(e):Rn(sd(e))?MW(e):WL(e)},aC=(e,n)=>{const o={show:$.from(n.show).getOr(Ot),hide:$.from(n.hide).getOr(Ot),isEnabled:$.from(n.isEnabled).getOr(ht),setEnabled:r=>{r&&e.mode.get()==="readonly"||$.from(n.setEnabled).each(l=>l(r))}};e.ui={...e.ui,...o}},$d=async e=>{e.dispatch("ScriptsLoaded"),Eu(e),iC(e),Bh(e),rC(e);const n=await hA(e);aC(e,$.from(n.api).getOr({})),e.editorContainer=n.editorContainer,H8(e),e.inline?oC(e):PW(e,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},Ya=yo.DOM,gA=e=>e.charAt(0)==="-",IW=(e,n)=>{const o=Wv(n),r=h5(n);if(!qc.hasCode(o)&&o!=="en"){const a=ys(r)?r:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(a).catch(()=>{F8(n,a,o)})}},BW=(e,n)=>{const o=sd(e);if(te(o)&&!gA(o)&&!Lt(rl.urls,o)){const r=_O(e),a=r?e.documentBaseURI.toAbsolute(r):`themes/${o}/theme${n}.js`;rl.load(o,a).catch(()=>{AK(e,a,o)})}},FW=(e,n)=>{const o=Gv(e);if(o!=="plugin"&&!Lt(lh.urls,o)){const r=PS(e),a=te(r)?e.documentBaseURI.toAbsolute(r):`models/${o}/model${n}.js`;lh.load(o,a).catch(()=>{il(e,a,o)})}},LW=e=>$.from(DS(e)).filter(ys).map(n=>({url:n,name:$.none()})),GL=(e,n,o)=>$.from(n).filter(r=>ys(r)&&!ch.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${o}.js`,name:$.some(r)})),$W=(e,n,o)=>{const r=GL(n,"default",o),a=LW(n).orThunk(()=>GL(n,Ss(n),""));De(U([r,a]),l=>{e.add(l.url).catch(()=>{B8(n,l.url,l.name.getOrUndefined())})})},qL=(e,n)=>{const o=(r,a)=>{uh.load(r,a).catch(()=>{I8(e,a,r)})};at(RO(e),(r,a)=>{o(a,r),e.options.set("plugins",Kv(e).concat(a))}),De(Kv(e),r=>{r=k.trim(r),r&&!uh.urls[r]&&!gA(r)&&o(r,`plugins/${r}/plugin${n}.js`)})},jW=e=>{const n=sd(e);return!te(n)||Je(rl.get(n))},HW=e=>{const n=Gv(e);return Je(lh.get(n))},UW=(e,n)=>{const o=kl.ScriptLoader,r=()=>{!e.removed&&jW(e)&&HW(e)&&$d(e)};BW(e,n),FW(e,n),IW(o,e),$W(o,e,n),qL(e,n),o.loadQueue().then(r,r)},eY=(e,n)=>nS.forElement(e,{contentCssCors:DO(n),referrerPolicy:Og(n)}),zW=e=>{const n=e.id;qc.setCode(Wv(e));const o=()=>{Ya.unbind(window,"ready",o),e.render()};if(!gf.Event.domLoaded){Ya.bind(window,"ready",o);return}if(!e.getElement())return;const r=ee.fromDom(e.getElement()),a=$u(r);e.on("remove",()=>{qr(r.dom.attributes,d=>sr(r,d.name)),kr(r,a)}),e.ui.styleSheetLoader=eY(r,e),MS(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const l=e.getElement().form||Ya.getParent(n,"form");l&&(e.formElement=l,IS(e)&&!qo(e.getElement())&&(Ya.insertAfter(Ya.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=d=>{e.dispatch(d.type,d)},Ya.bind(l,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),T5(e)&&!l.submit.nodeType&&!l.submit.length&&!l._mceOldSubmit&&(l._mceOldSubmit=l.submit,l.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),l._mceOldSubmit(l)))),e.windowManager=RE(e),e.notificationManager=TM(e),Zv(e)&&e.on("GetContent",d=>{d.save&&(d.content=Ya.encode(d.content))}),kO(e)&&e.on("submit",()=>{e.initialized&&e.save()}),_5(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),UW(e,e.suffix)},bA=(e,n)=>{e._editableRoot!==n&&(e._editableRoot=n,e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged(),fo(e,n))},VW=e=>e._editableRoot,WW=(e,n)=>({sections:it(e),options:it(n)}),yA=wa().deviceType,KL=yA.isPhone(),YL=yA.isTablet(),Dy=e=>{if(Qn(e))return[];{const n=Zt(e)?e:e.split(/[ ,]/),o=on(n,va);return qt(o,ys)}},vA=(e,n)=>{const o=js(n,(r,a)=>en(e,a));return WW(o.t,o.f)},GW=(e,n,o={})=>{const r=e.sections(),a=xo(r,n).getOr({});return k.extend({},o,a)},xA=(e,n)=>Lt(e.sections(),n),qW=(e,n)=>xA(e,n)?e.sections()[n]:{},KW=(e,n)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:xo(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...n?{menubar:!1}:{}}),XL=(e,n)=>{var o;const r=(o=n.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?k.extend({},e.external_plugins,r):r},CA=(e,n)=>[...Dy(e),...Dy(n)],JL=(e,n,o,r)=>e&&xA(n,"mobile")?r:o,SA=(e,n,o,r)=>{const a=Dy(o.forced_plugins),l=Dy(r.plugins),d=qW(n,"mobile"),p=d.plugins?Dy(d.plugins):l,y=JL(e,n,l,p),T=CA(a,y);return k.extend(r,{forced_plugins:a,plugins:T})},YW=(e,n)=>e&&xA(n,"mobile"),tY=(e,n,o,r,a)=>{var l;const d=e?{mobile:KW((l=a.mobile)!==null&&l!==void 0?l:{},n)}:{},p=vA(["mobile"],Id(d,a)),y=k.extend(o,r,p.options(),YW(e,p)?GW(p,"mobile"):{},{external_plugins:XL(r,p.options())});return SA(e,p,r,y)},nY=(e,n)=>{const o=JT(n);return tY(KL||YL,KL,o,e,o)},XW=(e,n)=>ZH(e,n),ZL=e=>{const n=(r,a)=>{e.formatter.toggle(r,a),e.nodeChanged()},o=r=>()=>{De("left,center,right,justify".split(","),a=>{r!==a&&e.formatter.remove("align"+a)}),r!=="none"&&n("align"+r)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},JW=e=>{const n=o=>()=>{const r=e.selection,a=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks();return vo(a,l=>Je(e.formatter.matchNode(l,o)))};e.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")},ZW=e=>{ZL(e),JW(e)},QW=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const o=e.getDoc();let r;try{o.execCommand(n)}catch{r=!0}if(n==="paste"&&!o.queryCommandEnabled(n)&&(r=!0),r||!o.queryCommandSupported(n)){let a=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(an.os.isMacOS()||an.os.isiOS())&&(a=a.replace(/Ctrl\+/g,"â+")),e.notificationManager.open({text:a,type:"error"})}}})},oY=(e,n,o,r)=>{const a=ee.fromDom(e.getRoot());return lb(a,ke.fromRangeStart(n),r)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),ub(a,ke.fromRangeEnd(n),r)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},sY=e=>{if(typeof e!="string"){const n=k.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},QL=(e,n)=>{const o=e.selection,r=e.dom;return/^ | $/.test(n)?oY(r,o.getRng(),n,e.schema):n},Ry=(e,n)=>{if(e.selection.isEditable()){const{content:o,details:r}=sY(n);_x(e,{...r,content:QL(e,o),format:"html",set:!1,selection:!0}).each(a=>{const l=uM(e,a.content,r);Ax(e,l,a),e.addVisual()})}},eG=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const n=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(n)},insertImage:(n,o,r)=>{Ry(e,e.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,o,r)=>{Ry(e,e.dom.encode(r))},insertHTML:(n,o,r)=>{Ry(e,r)},mceInsertContent:(n,o,r)=>{Ry(e,r)},mceSetContent:(n,o,r)=>{e.setContent(r)},mceReplaceContent:(n,o,r)=>{e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(L5(e))}})},tG={"font-size":"size","font-family":"face"},nG=Kr("font"),rY=(e,n,o)=>{const r=l=>Qy(l,e).orThunk(()=>nG(l)?xo(tG,e).bind(d=>_a(l,d)):$.none()),a=l=>Ne(ee.fromDom(n),l);return Sb(ee.fromDom(o),l=>r(l),a)},iY=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),aY=(e,n)=>$.from(yo.DOM.getStyle(n,e,!0)),e$=e=>(n,o)=>$.from(o).map(ee.fromDom).filter(xs).bind(r=>rY(e,n,r.dom).or(aY(e,r.dom))).getOr(""),cY=e$("font-size"),oG=D(iY,e$("font-family")),Am=e=>Vr(e.getBody()).bind(n=>{const o=n.container();return $.from(Ve(o)?o.parentNode:o)}),wA=e=>$.from(e.selection.getRng()).bind(n=>{const o=e.getBody();return n.startContainer===o&&n.startOffset===0?$.none():$.from(e.selection.getStart(!0))}),cC=(e,n)=>wA(e).orThunk(bt(Am,e)).map(ee.fromDom).filter(xs).bind(n),lC=(e,n)=>cC(e,cs($.some,n)),EA=(e,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const r=V5(e),a=rd(e);return a.length>0?a[o-1]||n:r[o-1]||n}else return n}else return n},t$=e=>{const n=e.split(/\s*,\s*/);return on(n,o=>o.indexOf(" ")!==-1&&!(ns(o,'"')||ns(o,"'"))?`'${o}'`:o).join(",")},sG=(e,n)=>{const o=EA(e,n);e.formatter.toggle("fontname",{value:t$(o)}),e.nodeChanged()},rG=e=>lC(e,n=>oG(e.getBody(),n.dom)).getOr(""),iG=(e,n)=>{e.formatter.toggle("fontsize",{value:EA(e,n)}),e.nodeChanged()},aG=e=>lC(e,n=>cY(e.getBody(),n.dom)).getOr(""),cG=e=>lC(e,n=>{const o=ee.fromDom(e.getBody()),r=Sb(n,l=>Qy(l,"line-height"),bt(Ne,o)),a=()=>{const l=parseFloat(Ws(n,"line-height")),d=parseFloat(Ws(n,"font-size"));return String(l/d)};return r.getOrThunk(a)}).getOr(""),lG=(e,n)=>{e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},jd=e=>{const n=(o,r)=>{e.formatter.toggle(o,r),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{n(o)},"ForeColor,HiliteColor":(o,r,a)=>{n(o,{value:a})},BackColor:(o,r,a)=>{n("hilitecolor",{value:a})},FontName:(o,r,a)=>{sG(e,a)},FontSize:(o,r,a)=>{iG(e,a)},LineHeight:(o,r,a)=>{lG(e,a)},Lang:(o,r,a)=>{var l;n(o,{value:a.code,customValue:(l=a.customCode)!==null&&l!==void 0?l:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(o,r,a)=>{n(te(a)?a:"p")},mceToggleFormat:(o,r,a)=>{n(a)}})},uG=e=>{const n=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>n(o),mceBlockQuote:()=>n("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>rG(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>aG(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>cG(e))},n$=e=>{jd(e),uG(e)},dG=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},uC=e=>{e.editorCommands.addCommands({Indent:()=>{Wa(e)},Outdent:()=>{Md(e)}}),e.editorCommands.addCommands({Outdent:()=>c0(e)},"state")},fG=e=>{const n=(o,r,a)=>{if(e.mode.isReadOnly())return;const l=te(a)?{href:a}:a,d=e.dom.getParent(e.selection.getNode(),"a");It(l)&&te(l.href)&&(l.href=l.href.replace(/ /g,"%20"),(!d||!l.href)&&e.formatter.remove("link"),l.href&&e.formatter.apply("link",l,d))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:n,createLink:n})},mG=(e,n,o,r)=>{const a=e.dom,l=p=>a.isBlock(p)&&p.parentElement===o,d=l(n)?n:a.getParent(r,l,o);return $.from(d).map(ee.fromDom)},o$=(e,n)=>{if(e.mode.isReadOnly())return;const o=e.dom,r=e.selection.getRng(),a=n?e.selection.getStart():e.selection.getEnd(),l=n?r.startContainer:r.endContainer,d=vy(o,l);if(!d||!d.isContentEditable)return;const p=n?Di:Cl,y=Cr(e);mG(e,a,d,l).each(T=>{const N=d_(e,l,T.dom,d,!1,y);p(T,ee.fromDom(N)),e.selection.setCursorLocation(N,0),e.dispatch("NewBlock",{newBlock:N}),fa(e,"insertParagraph")})},s$=e=>o$(e,!0),pG=e=>o$(e,!1),hG=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{s$(e)},InsertNewBlockAfter:()=>{pG(e)}})},gG=e=>{e.editorCommands.addCommands({insertParagraph:()=>{B0(cz,e)},mceInsertNewLine:(n,o,r)=>{Ey(e,r)},InsertLineBreak:(n,o,r)=>{B0(QB,e)}})},bG=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(n,o,r)=>{let a=0;e.dom.getParent(e.selection.getNode(),l=>lt(l)&&a++===r?(e.selection.select(l),!1):!0,e.getBody())},mceSelectNode:(n,o,r)=>{e.selection.select(r)},selectAll:()=>{const n=e.dom.getParent(e.selection.getStart(),Ie);if(n){const o=e.dom.createRng();o.selectNodeContents(n),e.selection.setRng(o)}}})},TA=e=>{e.editorCommands.addCommands({mceRemoveNode:(n,o,r)=>{const a=r??e.selection.getNode();if(a!==e.getBody()){const l=e.selection.getBookmark();e.dom.remove(a,!0),e.selection.moveToBookmark(l)}},mcePrint:()=>{e.getWin().print()},mceFocus:(n,o,r)=>{gR(e,r===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},yG=e=>{ZW(e),QW(e),dG(e),bG(e),eG(e),fG(e),uC(e),hG(e),gG(e),n$(e),TA(e)},vG=["toggleview"],Ts=e=>en(vG,e.toLowerCase());class r${constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,r,a){const l=this.editor,d=n.toLowerCase(),p=a==null?void 0:a.skip_focus;if(l.removed||(d!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(d)&&!p?l.focus():A1(l)),l.dispatch("BeforeExecCommand",{command:n,ui:o,value:r}).isDefaultPrevented()))return!1;const T=this.commands.exec[d];return Rn(T)?(T(d,o,r),l.dispatch("ExecCommand",{command:n,ui:o,value:r}),!0):!1}queryCommandState(n){if(!Ts(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),r=this.commands.state[o];return Rn(r)?r(o):!1}queryCommandValue(n){if(!Ts(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),r=this.commands.value[o];return Rn(r)?r(o):""}addCommands(n,o="exec"){const r=this.commands;at(n,(a,l)=>{De(l.toLowerCase().split(","),d=>{r[o][d]=a})})}addCommand(n,o,r){const a=n.toLowerCase();this.commands.exec[a]=(l,d,p)=>o.call(r??this.editor,d,p)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,r){this.commands.state[n.toLowerCase()]=()=>o.call(r??this.editor)}addQueryValueHandler(n,o,r){this.commands.value[n.toLowerCase()]=()=>o.call(r??this.editor)}}const xG=(e,n,o)=>{Hu(e,n)&&!o?$c(e,n):o&&yl(e,n)},Ny=(e,n,o)=>{try{e.getDoc().execCommand(n,!1,String(o))}catch{}},_A=(e,n)=>{e.dom.contentEditable="true"},AA=e=>{$.from(e.selection.getNode()).each(n=>{n.removeAttribute("data-mce-selected")})},CG=e=>{e.selection.setRng(e.selection.getRng())},SG=(e,n)=>{Ny(e,"StyleWithCSS",n),Ny(e,"enableInlineTableEditing",n),Ny(e,"enableObjectResizing",n)},wG=e=>{e.readonly=!0,e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),AA(e)},EG=(e,n)=>{e.readonly=!1,e.hasEditableRoot()&&_A(n),SG(e,!1),hR(e)&&e.focus(),CG(e),e.nodeChanged()},TG=(e,n)=>{const o=ee.fromDom(e.getBody());xG(o,"mce-content-readonly",n),n?(wG(e),e.hasEditableRoot()&&_A(o)):EG(e,o)},Fh=e=>e.readonly,_G=e=>e.type==="click",AG=["copy"],Lh=e=>en(AG,e.type),dl=(e,n)=>Uu(n,"a",r=>Ne(r,ee.fromDom(e.getBody()))).bind(r=>_a(r,"href")),kG=(e,n)=>{if(_G(n)&&!dt.metaKeyPressed(n)){const o=ee.fromDom(n.target);dl(e,o).each(r=>{if(n.preventDefault(),/^#/.test(r)){const a=e.dom.select(`${r},[name="${Gm(r,"#")}"]`);a.length&&e.selection.scrollIntoView(a[0],!0)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Lh(n)&&e.dispatch(n.type,n)},OG=e=>{e.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",n=>{Fh(e)&&n.preventDefault()}),e.on("BeforeExecCommand",n=>{(n.command==="Undo"||n.command==="Redo")&&Fh(e)&&n.preventDefault()}),e.on("input",n=>{if(!n.isComposing&&Fh(e)){const o=e.undoManager.add();Je(o)&&e.undoManager.undo()}}),e.on("compositionend",()=>{if(Fh(e)){const n=e.undoManager.add();Je(n)&&e.undoManager.undo()}})},DG=k.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class kA{static isNative(n){return!!DG[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||We}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const r=n.toLowerCase(),a=yg(r,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(a);const l=this.bindings[r];if(l)for(let d=0,p=l.length;d<p;d++){const y=l[d];if(!y.removed){if(y.once&&this.off(r,y.func),a.isImmediatePropagationStopped())return a;if(y.func.call(this.scope,a)===!1)return a.preventDefault(),a}}return a}on(n,o,r,a){if(o===!1&&(o=We),o){const l={func:o,removed:!1};a&&k.extend(l,a);const d=n.toLowerCase().split(" ");let p=d.length;for(;p--;){const y=d[p];let T=this.bindings[y];T||(T=[],this.toggleEvent(y,!0)),r?T=[l,...T]:T=[...T,l],this.bindings[y]=T}}return this}off(n,o){if(n){const r=n.toLowerCase().split(" ");let a=r.length;for(;a--;){const l=r[a];let d=this.bindings[l];if(!l)return at(this.bindings,(p,y)=>{this.toggleEvent(y,!1),delete this.bindings[y]}),this;if(d){if(!o)d.length=0;else{const p=tc(d,y=>y.func===o);d=p.fail,this.bindings[l]=d,De(p.pass,y=>{y.removed=!0})}d.length||(this.toggleEvent(n,!1),delete this.bindings[l])}}}else at(this.bindings,(r,a)=>{this.toggleEvent(a,!1)}),this.bindings={};return this}once(n,o,r){return this.on(n,o,r,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const Py=e=>(e._eventDispatcher||(e._eventDispatcher=new kA({scope:e,toggleEvent:(n,o)=>{kA.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher),OA={fire(e,n,o){return this.dispatch(e,n,o)},dispatch(e,n,o){const r=this;if(r.removed&&e!=="remove"&&e!=="detach")return yg(e.toLowerCase(),n??{},r);const a=Py(r).dispatch(e,n);if(o!==!1&&r.parent){let l=r.parent();for(;l&&!a.isPropagationStopped();)l.dispatch(e,a,!1),l=l.parent?l.parent():void 0}return a},on(e,n,o){return Py(this).on(e,n,o)},off(e,n){return Py(this).off(e,n)},once(e,n){return Py(this).once(e,n)},hasEventListeners(e){return Py(this).has(e)}},dC=yo.DOM;let km;const fC=(e,n)=>{if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return e.getDoc().documentElement;const o=zr(e);return o?(e.eventRoot||(e.eventRoot=dC.select(o)[0]),e.eventRoot):e.getBody()},lY=e=>!e.hidden,i$=(e,n,o)=>{lY(e)?e.dispatch(n,o):Fh(e)&&kG(e,o)},a$=(e,n)=>{if(e.delegates||(e.delegates={}),e.delegates[n]||e.removed)return;const o=fC(e,n);if(zr(e)){if(km||(km={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||km&&(at(km,(a,l)=>{e.dom.unbind(fC(e,l))}),km=null)})),km[n])return;const r=a=>{const l=a.target,d=e.editorManager.get();let p=d.length;for(;p--;){const y=d[p].getBody();(y===l||dC.isChildOf(l,y))&&i$(d[p],n,a)}};km[n]=r,dC.bind(o,n,r)}else{const r=a=>{i$(e,n,a)};dC.bind(o,n,r),e.delegates[n]=r}},c$={...OA,bindPendingEventDelegates(){const e=this;k.each(e._pendingNativeEvents,n=>{a$(e,n)})},toggleNativeEvent(e,n){const o=this;e==="focus"||e==="blur"||o.removed||(n?o.initialized?a$(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(fC(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){const e=this,n=e.getBody(),o=e.dom;e.delegates&&(at(e.delegates,(r,a)=>{e.dom.unbind(fC(e,a),a,r)}),delete e.delegates),!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}},RG=e=>te(e)?{value:e.split(/[ ,]/),valid:!0}:ln(e,te)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},NG=e=>{const n=(()=>{switch(e){case"array":return Zt;case"boolean":return At;case"function":return Rn;case"number":return $n;case"object":return It;case"string":return te;case"string[]":return RG;case"object[]":return o=>ln(o,It);case"regexp":return o=>Qe(o,RegExp);default:return ht}})();return o=>DA(o,n,`The value must be a ${e}.`)},PG=e=>te(e.processor),l$=(e,n)=>{const o=Ai(n.message)?"":`. ${n.message}`;return e+o},u$=e=>e.valid,DA=(e,n,o="")=>{const r=n(e);return At(r)?r?{value:e,valid:!0}:{valid:!1,message:o}:r},MG=(e,n,o)=>{if(!nn(n)){const r=DA(n,o);if(u$(r))return r.value;console.error(l$(`Invalid default value passed for the "${e}" option`,r))}},IG=(e,n,o=n)=>{const r={},a={},l=(W,K,G)=>{const Y=DA(K,G);return u$(Y)?(a[W]=Y.value,!0):(console.warn(l$(`Invalid value passed for the ${W} option`,Y)),!1)},d=(W,K)=>{const G=PG(K)?NG(K.processor):K.processor,Y=MG(W,K.default,G);r[W]={...K,default:Y,processor:G},xo(a,W).orThunk(()=>xo(n,W)).each(le=>l(W,le,G))},p=W=>Lt(r,W);return{register:d,isRegistered:p,get:W=>xo(a,W).orThunk(()=>xo(r,W).map(K=>K.default)).getOrUndefined(),set:(W,K)=>{if(p(W)){const G=r[W];return G.immutable?(console.error(`"${W}" is an immutable option and cannot be updated`),!1):l(W,K,G.processor)}else return console.warn(`"${W}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:W=>{const K=p(W);return K&&delete a[W],K},isSet:W=>Lt(a,W),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(W,K)=>At(K)||$n(K)||te(K)||_(K)||Zt(K)||An(K)?K:Object.prototype.toString.call(K))))}catch(W){console.error(W)}}}},BG=["design","readonly"],d$=(e,n,o,r)=>{const a=o[n.get()],l=o[r];try{l.activate()}catch(d){console.error(`problem while activating editor mode ${r}:`,d);return}a.deactivate(),a.editorReadOnly!==l.editorReadOnly&&TG(e,l.editorReadOnly),n.set(r),k4(e,r)},FG=(e,n,o,r)=>{if(r!==o.get()){if(!Lt(n,r))throw new Error(`Editor mode '${r}' is invalid`);e.initialized?d$(e,o,n,r):e.on("init",()=>d$(e,o,n,r))}},LG=(e,n,o)=>{if(en(BG,n))throw new Error(`Cannot override default mode ${n}`);return{...e,[n]:{...o,deactivate:()=>{try{o.deactivate()}catch(r){console.error(`problem while deactivating editor mode ${n}:`,r)}}}}},$G=e=>{const n=No("design"),o=No({design:{activate:Ot,deactivate:Ot,editorReadOnly:!1},readonly:{activate:Ot,deactivate:Ot,editorReadOnly:!0}});return OG(e),{isReadOnly:()=>Fh(e),set:r=>FG(e,o.get(),n,r),get:()=>n.get(),register:(r,a)=>{o.set(LG(o.get(),r,a))}}},RA=k.each,NA=k.explode,jG={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},f$=k.makeMap("alt,ctrl,shift,meta,access"),HG=e=>e in f$,UG=e=>{const n={},o=an.os.isMacOS()||an.os.isiOS();RA(NA(e.toLowerCase(),"+"),l=>{HG(l)?n[l]=!0:/^[0-9]{2,}$/.test(l)?n.keyCode=parseInt(l,10):(n.charCode=l.charCodeAt(0),n.keyCode=jG[l]||l.toUpperCase().charCodeAt(0))});const r=[n.keyCode];let a;for(a in f$)n[a]?r.push(a):n[a]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class m${constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",r=>{(o.hasModifier(r)||o.isFunctionKey(r))&&!r.isDefaultPrevented()&&(RA(o.shortcuts,a=>{o.matchShortcut(r,a)&&(o.pendingPatterns=a.subpatterns.slice(0),r.type==="keydown"&&o.executeShortcutAction(a))}),o.matchShortcut(r,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&r.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,r,a){const l=this,d=l.normalizeCommandFunc(r);return RA(NA(k.trim(n)),p=>{const y=l.createShortcut(p,o,d,a);l.shortcuts[y.id]=y}),!0}remove(n){const o=this.createShortcut(n);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(n){const o=this,r=n;return typeof r=="string"?()=>{o.editor.execCommand(r,!1,null)}:k.isArray(r)?()=>{o.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(n,o,r,a){const l=k.map(NA(n,">"),UG);return l[l.length-1]=k.extend(l[l.length-1],{func:r,scope:a||this.editor}),k.extend(l[0],{desc:this.editor.translate(o),subpatterns:l.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!o||o.ctrl!==n.ctrlKey||o.meta!==n.metaKey||o.alt!==n.altKey||o.shift!==n.shiftKey?!1:n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode?(n.preventDefault(),!0):!1}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const p$=()=>{const e={},n={},o={},r={},a={},l={},d={},p={},y={},T=(F,W)=>(K,G)=>{F[K.toLowerCase()]={...G,type:W}},N=(F,W)=>r[F.toLowerCase()]=W,B=(F,W)=>d[F.toLowerCase()]=W;return{addButton:T(e,"button"),addGroupToolbarButton:T(e,"grouptoolbarbutton"),addToggleButton:T(e,"togglebutton"),addMenuButton:T(e,"menubutton"),addSplitButton:T(e,"splitbutton"),addMenuItem:T(n,"menuitem"),addNestedMenuItem:T(n,"nestedmenuitem"),addToggleMenuItem:T(n,"togglemenuitem"),addAutocompleter:T(o,"autocompleter"),addContextMenu:T(a,"contextmenu"),addContextToolbar:T(l,"contexttoolbar"),addContextForm:T(l,"contextform"),addSidebar:T(p,"sidebar"),addView:T(y,"views"),addIcon:N,addContext:B,getAll:()=>({buttons:e,menuItems:n,icons:r,popups:o,contextMenus:a,contextToolbars:l,sidebars:p,views:y,contexts:d})}},zG=()=>{const e=p$();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},Om=yo.DOM,h$=k.extend,VG=k.each;class mC{constructor(n,o,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,h$(this,c$);const a=this;this.id=n,this.hidden=!1;const l=nY(r.defaultOptions,o);this.options=IG(a,l,o),bO(a);const d=this.options.get;d("deprecation_warnings")&&C8(o,l);const p=d("suffix");p&&(r.suffix=p),this.suffix=r.suffix;const y=d("base_url");y&&r._setBaseUrl(y),this.baseUri=r.baseURI;const T=Og(a);T&&(kl.ScriptLoader._setReferrerPolicy(T),yo.DOM.styleSheetLoader._setReferrerPolicy(T));const N=DO(a);Je(N)&&yo.DOM.styleSheetLoader._setContentCssCors(N),Hr.languageLoad=d("language_load"),Hr.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new Ec(yO(a),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=MS(a),this.hasVisual=BS(a),this.shortcuts=new m$(this),this.editorCommands=new r$(this),yG(this);const B=d("cache_suffix");B&&(an.cacheSuffix=B.replace(/^[\?\&]+/,"")),this.ui={registry:zG(),styleSheetLoader:void 0,show:Ot,hide:Ot,setEnabled:Ot,isEnabled:ht},this.mode=$G(a),r.dispatch("SetupEditor",{editor:this});const F=O5(a);Rn(F)&&F.call(a,a)}render(){zW(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return Yp(this)}translate(n){return qc.translate(n)}getParam(n,o,r){const a=this.options;return a.isRegistered(n)||(Je(r)?a.register(n,{processor:r,default:o}):a.register(n,{processor:ht,default:o})),!a.isSet(n)&&!nn(o)?o:a.get(n)}hasPlugin(n,o){return en(Kv(this),n)?o?uh.get(n)!==void 0:!0:!1}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,r){this.editorCommands.addCommand(n,o,r)}addQueryStateHandler(n,o,r){this.editorCommands.addQueryStateHandler(n,o,r)}addQueryValueHandler(n,o,r){this.editorCommands.addQueryValueHandler(n,o,r)}addShortcut(n,o,r,a){this.shortcuts.add(n,o,r,a)}execCommand(n,o,r,a){return this.editorCommands.execCommand(n,o,r,a)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(Om.show(n.getContainer()),Om.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(Om.hide(n.getContainer()),Om.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,r=o.getElement();if(o.removed)return"";if(r){const a={...n,load:!0},l=qo(r)?r.value:r.innerHTML,d=o.setContent(l,a);return a.no_events||o.dispatch("LoadContent",{...a,element:r}),d}else return""}save(n={}){const o=this;let r=o.getElement();if(!r||!o.initialized||o.removed)return"";const a={...n,save:!0,element:r};let l=o.getContent(a);const d={...a,content:l};if(d.no_events||o.dispatch("SaveContent",d),d.format==="raw"&&o.dispatch("RawSaveContent",d),l=d.content,qo(r))r.value=l;else{(n.is_removing||!o.inline)&&(r.innerHTML=l);const p=Om.getParent(o.id,"form");p&&VG(p.elements,y=>y.name===o.id?(y.value=l,!1):!0)}return d.element=a.element=r=null,d.set_dirty!==!1&&o.setDirty(!1),l}setContent(n,o){return kE(this,n,o)}getContent(n){return Bx(this,n)}insertContent(n,o){o&&(n=h$({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?kE(this,this.startContent,{format:"raw"}):kE(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||Om.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Om.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const r=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:r==null?void 0:r.body)!==null&&o!==void 0?o:null}convertURL(n,o,r){const a=this,l=a.options.get,d=R5(a);if(Rn(d))return d.call(a,n,r,!0,o);if(!l("convert_urls")||r==="link"||It(r)&&r.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0)return n;const p=new Ec(n);return p.protocol!=="http"&&p.protocol!=="https"&&p.protocol!==""?n:l("relative_urls")?a.documentBaseURI.toRelative(n):(n=a.documentBaseURI.toAbsolute(n,l("remove_script_host")),n)}addVisual(n){XW(this,n)}setEditableRoot(n){bA(this,n)}hasEditableRoot(){return VW(this)}remove(){E8(this)}destroy(n){T8(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const $h=yo.DOM,pC=k.each;let g$=!1,My,yi=[];const hC=e=>{const n=e.type;pC(Hd.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},b$=e=>{if(e!==g$){const n=yo.DOM;e?(n.bind(window,"resize",hC),n.bind(window,"scroll",hC)):(n.unbind(window,"resize",hC),n.unbind(window,"scroll",hC)),g$=e}},y$=e=>{const n=yi;return yi=qt(yi,o=>e!==o),Hd.activeEditor===e&&(Hd.activeEditor=yi.length>0?yi[0]:null),Hd.focusedEditor===e&&(Hd.focusedEditor=null),n.length!==yi.length},WG=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(y$(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},GG=document.compatMode!=="CSS1Compat",Hd={...OA,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"5.1",releaseDate:"TBD",i18n:qc,activeEditor:null,focusedEditor:null,setup(){const e=this;let n="",o="",r=Ec.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const a=window.tinymce||window.tinyMCEPreInit;if(a)n=a.base||a.baseURL,o=a.suffix;else{const l=document.getElementsByTagName("script");for(let d=0;d<l.length;d++){const p=l[d].src||"";if(p==="")continue;const y=p.substring(p.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(p)){y.indexOf(".min")!==-1&&(o=".min"),n=p.substring(0,p.lastIndexOf("/"));break}}if(!n&&document.currentScript){const d=document.currentScript.src;d.indexOf(".min")!==-1&&(o=".min"),n=d.substring(0,d.lastIndexOf("/"))}}e.baseURL=new Ec(r).toAbsolute(n),e.documentBaseURL=r,e.baseURI=new Ec(e.baseURL),e.suffix=o,fj(e)},overrideDefaults(e){const n=e.base_url;n&&this._setBaseUrl(n);const o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;const r=e.plugin_base_urls;r!==void 0&&at(r,(a,l)=>{Hr.PluginManager.urls[l]=a})},init(e){const n=this;let o;const r=k.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),a=(N,B)=>N.inline&&B.tagName.toLowerCase()in r,l=N=>{let B=N.id;return B||(B=xo(N,"name").filter(F=>!$h.get(F)).getOrThunk($h.uniqueId),N.setAttribute("id",B)),B},d=N=>{const B=e[N];if(B)return B.apply(n,[])},p=N=>an.browser.isIE()||an.browser.isEdge()?(Hx("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):GG?(Hx("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):te(N.selector)?$h.select(N.selector):Je(N.target)?[N.target]:[];let y=N=>{o=N};const T=()=>{let N=0;const B=[];let F;const W=(K,G,Y)=>{const se=new mC(K,G,n);B.push(se),se.on("init",()=>{++N===F.length&&y(B)}),se.targetElm=se.targetElm||Y,se.render()};$h.unbind(window,"ready",T),d("onpageload"),F=Ru(p(e)),k.each(F,K=>{WG(n.get(K.id))}),F=k.grep(F,K=>!n.get(K.id)),F.length===0?y([]):pC(F,K=>{a(e,K)?Hx("Could not initialize inline editor on invalid inline target element",K):W(l(K),e,K)})};return $h.bind(window,"ready",T),new Promise(N=>{o?N(o):y=B=>{N(B)}})},get(e){return arguments.length===0?yi.slice(0):te(e)?Ho(yi,n=>n.id===e).getOr(null):$n(e)&&yi[e]?yi[e]:null},add(e){const n=this,o=n.get(e.id);return o===e||(o===null&&yi.push(e),b$(!0),n.activeEditor=e,n.dispatch("AddEditor",{editor:e}),My||(My=r=>{const a=n.dispatch("BeforeUnload");if(a.returnValue)return r.preventDefault(),r.returnValue=a.returnValue,a.returnValue},window.addEventListener("beforeunload",My))),e},createEditor(e,n){return this.add(new mC(e,n,this))},remove(e){const n=this;let o;if(!e){for(let r=yi.length-1;r>=0;r--)n.remove(yi[r]);return}if(te(e)){pC($h.select(e),r=>{o=n.get(r.id),o&&n.remove(o)});return}return o=e,_(n.get(o.id))?null:(y$(o)&&n.dispatch("RemoveEditor",{editor:o}),yi.length===0&&window.removeEventListener("beforeunload",My),o.remove(),b$(yi.length>0),o)},execCommand(e,n,o){var r;const a=this,l=It(o)?(r=o.id)!==null&&r!==void 0?r:o.index:o;switch(e){case"mceAddEditor":{if(!a.get(l)){const d=o.options;new mC(l,d,a).render()}return!0}case"mceRemoveEditor":{const d=a.get(l);return d&&d.remove(),!0}case"mceToggleEditor":{const d=a.get(l);return d?(d.isHidden()?d.show():d.hide(),!0):(a.execCommand("mceAddEditor",!1,o),!0)}}return a.activeEditor?a.activeEditor.execCommand(e,n,o):!1},triggerSave:()=>{pC(yi,e=>{e.save()})},addI18n:(e,n)=>{qc.add(e,n)},translate:e=>qc.translate(e),setActive(e){const n=this.activeEditor;this.activeEditor!==e&&(n&&n.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Ec(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Ec(this.baseURL)}};Hd.setup();const v$=(()=>{const e=$r(),n=l=>({items:l,types:hr(l),getType:d=>xo(l,d).getOrUndefined()}),o=l=>{e.set(l)},r=()=>e.get().getOrUndefined(),a=e.clear;return{FakeClipboardItem:n,write:o,read:r,clear:a}})(),qG=Math.min,Dm=Math.max,gC=Math.round,PA=(e,n,o)=>{let r=n.x,a=n.y;const l=e.w,d=e.h,p=n.w,y=n.h,T=(o||"").split("");return T[0]==="b"&&(a+=y),T[1]==="r"&&(r+=p),T[0]==="c"&&(a+=gC(y/2)),T[1]==="c"&&(r+=gC(p/2)),T[3]==="b"&&(a-=d),T[4]==="r"&&(r-=l),T[3]==="c"&&(a-=gC(d/2)),T[4]==="c"&&(r-=gC(l/2)),jh(r,a,l,d)},KG=(e,n,o,r)=>{for(let a=0;a<r.length;a++){const l=PA(e,n,r[a]);if(l.x>=o.x&&l.x+l.w<=o.w+o.x&&l.y>=o.y&&l.y+l.h<=o.h+o.y)return r[a]}return null},YG=(e,n,o)=>jh(e.x-n,e.y-o,e.w+n*2,e.h+o*2),XG=(e,n)=>{const o=Dm(e.x,n.x),r=Dm(e.y,n.y),a=qG(e.x+e.w,n.x+n.w),l=qG(e.y+e.h,n.y+n.h);return a-o<0||l-r<0?null:jh(o,r,a-o,l-r)},JG=(e,n,o)=>{let r=e.x,a=e.y,l=e.x+e.w,d=e.y+e.h;const p=n.x+n.w,y=n.y+n.h,T=Dm(0,n.x-r),N=Dm(0,n.y-a),B=Dm(0,l-p),F=Dm(0,d-y);return r+=T,a+=N,o&&(l+=T,d+=N,r-=B,a-=F),l-=B,d-=F,jh(r,a,l-r,d-a)},jh=(e,n,o,r)=>({x:e,y:n,w:o,h:r}),MA={inflate:YG,relativePosition:PA,findBestRelativePosition:KG,intersect:XG,clamp:JG,create:jh,fromClientRect:e=>jh(e.left,e.top,e.width,e.height)},IA=(e,n,o=1e3)=>{let r=!1,a=null;const l=T=>(...N)=>{r||(r=!0,a!==null&&(clearTimeout(a),a=null),T.apply(null,N))},d=l(e),p=l(n);return{start:(...T)=>{!r&&a===null&&(a=setTimeout(()=>p.apply(null,T),o))},resolve:d,reject:p}},x$=(()=>{const e={},n={},o={};return{load:(y,T)=>{const N=`Script at URL "${T}" failed to load`,B=`Script at URL "${T}" did not call \`tinymce.Resource.add('${y}', data)\` within 1 second`;if(e[y]!==void 0)return e[y];{const F=new Promise((W,K)=>{const G=IA(W,K);n[y]=G.resolve,kl.ScriptLoader.loadScript(T).then(()=>G.start(B),()=>G.reject(N))});return e[y]=F,F}},add:(y,T)=>{n[y]!==void 0&&(n[y](T),delete n[y]),e[y]=Promise.resolve(T),o[y]=T},has:y=>y in o,get:y=>o[y],unload:y=>{delete e[y],delete o[y]}}})(),ZG=()=>(()=>{let e={},n=[];const o={getItem:r=>{const a=e[r];return a||null},setItem:(r,a)=>{n.push(r),e[r]=String(a)},key:r=>n[r],removeItem:r=>{n=n.filter(a=>a===r),delete e[r]},clear:()=>{n=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),o})();let Iy;try{const e="__storage_test__";Iy=window.localStorage,Iy.setItem(e,e),Iy.removeItem(e)}catch{Iy=ZG()}var QG=Iy;const eq={geom:{Rect:MA},util:{Delay:sa,Tools:k,VK:dt,URI:Ec,EventDispatcher:kA,Observable:OA,I18n:qc,LocalStorage:QG,ImageUploader:IE},dom:{EventUtils:gf,TreeWalker:ir,TextSeeker:Cf,DOMUtils:yo,ScriptLoader:kl,RangeUtils:Hf,Serializer:_E,StyleSheetLoader:mp,ControlSelection:UD,BookmarkManager:jf,Selection:pM,Event:gf.Event},html:{Styles:Ju,Entities:mf,Node:Jr,Schema:no,DomParser:im,Writer:Vw,Serializer:md},Env:an,AddOnManager:Hr,Annotator:Xg,Formatter:MM,UndoManager:$E,EditorCommands:r$,WindowManager:RE,NotificationManager:TM,EditorObservable:c$,Shortcuts:m$,Editor:mC,FocusManager:Mw,EditorManager:Hd,DOM:yo.DOM,ScriptLoader:kl.ScriptLoader,PluginManager:uh,ThemeManager:rl,ModelManager:lh,IconManager:ch,Resource:x$,FakeClipboard:v$,trim:k.trim,isArray:k.isArray,is:k.is,toArray:k.toArray,makeMap:k.makeMap,each:k.each,map:k.map,grep:k.grep,inArray:k.inArray,extend:k.extend,walk:k.walk,resolve:k.resolve,explode:k.explode,_addCacheSuffix:k._addCacheSuffix},C$=k.extend(Hd,eq),tq=e=>{try{x.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(C$),tq(C$)})()})(jX);var WZ=jX.exports;const GZ=Dq(WZ);(function(){const x=Object.getPrototypeOf,h=(t,s,i)=>{var c;return i(t,s.prototype)?!0:((c=t.constructor)===null||c===void 0?void 0:c.name)===s.name},v=t=>{const s=typeof t;return t===null?"null":s==="object"&&Array.isArray(t)?"array":s==="object"&&h(t,String,(i,c)=>c.isPrototypeOf(i))?"string":s},w=t=>s=>v(s)===t,E=t=>s=>typeof s===t,R=t=>s=>t===s,I=(t,s)=>J(t)&&h(t,s,(i,c)=>x(i)===c),j=w("string"),J=w("object"),Q=t=>I(t,Object),oe=w("array"),re=R(null),Ce=E("boolean"),Le=R(void 0),ie=t=>t==null,ae=t=>!ie(t),Pe=E("function"),Ae=E("number"),Qe=(t,s)=>{if(oe(t)){for(let i=0,c=t.length;i<c;++i)if(!s(t[i]))return!1;return!0}return!1},te=()=>{},It=t=>()=>t(),An=(t,s)=>(...i)=>t(s.apply(null,i)),Zt=(t,s)=>i=>t(s(i)),_=t=>()=>t,At=t=>t,nn=(t,s)=>t===s;function Qn(t,...s){return(...i)=>{const c=s.concat(i);return t.apply(null,c)}}const Je=t=>s=>!t(s),Rn=t=>()=>{throw new Error(t)},$n=t=>t(),ln=_(!1),Ot=_(!0);class D{constructor(s,i){this.tag=s,this.value=i}static some(s){return new D(!0,s)}static none(){return D.singletonNone}fold(s,i){return this.tag?i(this.value):s()}isSome(){return this.tag}isNone(){return!this.tag}map(s){return this.tag?D.some(s(this.value)):D.none()}bind(s){return this.tag?s(this.value):D.none()}exists(s){return this.tag&&s(this.value)}forall(s){return!this.tag||s(this.value)}filter(s){return!this.tag||s(this.value)?this:D.none()}getOr(s){return this.tag?this.value:s}or(s){return this.tag?this:s}getOrThunk(s){return this.tag?this.value:s()}orThunk(s){return this.tag?this:s()}getOrDie(s){if(this.tag)return this.value;throw new Error(s??"Called getOrDie on None")}static from(s){return ae(s)?D.some(s):D.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(s){this.tag&&s(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}D.singletonNone=new D(!1);const cs=Array.prototype.slice,it=Array.prototype.indexOf,jo=Array.prototype.push,Kl=(t,s)=>it.call(t,s),bt=(t,s)=>{const i=Kl(t,s);return i===-1?D.none():D.some(i)},uo=(t,s)=>Kl(t,s)>-1,Ms=(t,s)=>{for(let i=0,c=t.length;i<c;i++){const u=t[i];if(s(u,i))return!0}return!1},Gr=(t,s)=>{const i=[];for(let c=0;c<t;c++)i.push(s(c));return i},Ic=(t,s)=>{const i=[];for(let c=0;c<t.length;c+=s){const u=cs.call(t,c,c+s);i.push(u)}return i},We=(t,s)=>{const i=t.length,c=new Array(i);for(let u=0;u<i;u++){const f=t[u];c[u]=s(f,u)}return c},ht=(t,s)=>{for(let i=0,c=t.length;i<c;i++){const u=t[i];s(u,i)}},$=(t,s)=>{for(let i=t.length-1;i>=0;i--){const c=t[i];s(c,i)}},Kd=(t,s)=>{const i=[],c=[];for(let u=0,f=t.length;u<f;u++){const m=t[u];(s(m,u)?i:c).push(m)}return{pass:i,fail:c}},eo=(t,s)=>{const i=[];for(let c=0,u=t.length;c<u;c++){const f=t[c];s(f,c)&&i.push(f)}return i},Ou=(t,s,i)=>($(t,(c,u)=>{i=s(i,c,u)}),i),rs=(t,s,i)=>(ht(t,(c,u)=>{i=s(i,c,u)}),i),jm=(t,s,i)=>{for(let c=0,u=t.length;c<u;c++){const f=t[c];if(s(f,c))return D.some(f);if(i(f,c))break}return D.none()},en=(t,s)=>jm(t,s,ln),vo=(t,s)=>{for(let i=0,c=t.length;i<c;i++){const u=t[i];if(s(u,i))return D.some(i)}return D.none()},on=t=>{const s=[];for(let i=0,c=t.length;i<c;++i){if(!oe(t[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+t);jo.apply(s,t[i])}return s},De=(t,s)=>on(We(t,s)),qr=(t,s)=>{for(let i=0,c=t.length;i<c;++i){const u=t[i];if(s(u,i)!==!0)return!1}return!0},tc=t=>{const s=cs.call(t,0);return s.reverse(),s},qt=(t,s)=>eo(t,i=>!uo(s,i)),Du=(t,s)=>{const i={};for(let c=0,u=t.length;c<u;c++){const f=t[c];i[String(f)]=s(f,c)}return i},ls=t=>[t],Yl=(t,s)=>{const i=cs.call(t,0);return i.sort(s),i},Ho=(t,s)=>s>=0&&s<t.length?D.some(t[s]):D.none(),Yt=t=>Ho(t,0),Ar=t=>Ho(t,t.length-1),Ei=Pe(Array.from)?Array.from:t=>cs.call(t),or=(t,s)=>{for(let i=0;i<t.length;i++){const c=s(t[i],i);if(c.isSome())return c}return D.none()},Jo=Object.keys,Yd=Object.hasOwnProperty,Is=(t,s)=>{const i=Jo(t);for(let c=0,u=i.length;c<u;c++){const f=i[c],m=t[f];s(m,f)}},To=(t,s)=>ni(t,(i,c)=>({k:c,v:s(i,c)})),ni=(t,s)=>{const i={};return Is(t,(c,u)=>{const f=s(c,u);i[f.k]=f.v}),i},us=t=>(s,i)=>{t[i]=s},oi=(t,s,i,c)=>{Is(t,(u,f)=>{(s(u,f)?i:c)(u,f)})},si=(t,s)=>{const i={},c={};return oi(t,s,us(i),us(c)),{t:i,f:c}},nc=(t,s)=>{const i={};return oi(t,s,us(i),te),i},Ru=(t,s)=>{const i=[];return Is(t,(c,u)=>{i.push(s(c,u))}),i},hr=(t,s)=>{const i=Jo(t);for(let c=0,u=i.length;c<u;c++){const f=i[c],m=t[f];if(s(m,f,t))return D.some(m)}return D.none()},Wh=t=>Ru(t,At),at=(t,s)=>jn(t,s)?D.from(t[s]):D.none(),jn=(t,s)=>Yd.call(t,s),Ti=(t,s)=>jn(t,s)&&t[s]!==void 0&&t[s]!==null,ri=(t,s,i=nn)=>t.exists(c=>i(c,s)),_i=(t,s,i=nn)=>Jl(t,s,i).getOr(t.isNone()&&s.isNone()),js=t=>{const s=[],i=c=>{s.push(c)};for(let c=0;c<t.length;c++)t[c].each(i);return s},Xl=t=>{const s=[];for(let i=0;i<t.length;i++){const c=t[i];if(c.isSome())s.push(c.getOrDie());else return D.none()}return D.some(s)},Jl=(t,s,i)=>t.isSome()&&s.isSome()?D.some(i(t.getOrDie(),s.getOrDie())):D.none(),Hm=(t,s,i,c)=>t.isSome()&&s.isSome()&&i.isSome()?D.some(c(t.getOrDie(),s.getOrDie(),i.getOrDie())):D.none(),xo=(t,s)=>t!=null?D.some(s(t)):D.none(),Lt=(t,s)=>t?D.some(s):D.none(),ya=(t,s)=>t+s,Gh=(t,s)=>t.substring(s),Nu=(t,s,i)=>s===""||t.length>=s.length&&t.substr(i,i+s.length)===s,qh=(t,s)=>Xd(t,s)?Gh(t,s.length):t,Kh=(t,s)=>Pu(t,s)?t:ya(t,s),Br=(t,s,i=0,c)=>{const u=t.indexOf(s,i);return u!==-1?Le(c)?!0:u+s.length<=c:!1},Xd=(t,s)=>Nu(t,s,0),Pu=(t,s)=>Nu(t,s,t.length-s.length),zm=(t=>s=>s.replace(t,""))(/^\s+|\s+$/g),Zl=t=>t.length>0,oc=t=>!Zl(t),zi=t=>t.style!==void 0&&Pe(t.style.getPropertyValue),Vi=(t,s)=>{const c=(s||document).createElement("div");if(c.innerHTML=t,!c.hasChildNodes()||c.childNodes.length>1){const u="HTML does not have a single root node";throw console.error(u,t),new Error(u)}return Mu(c.childNodes[0])},Yh=(t,s)=>{const c=(s||document).createElement(t);return Mu(c)},Vm=(t,s)=>{const c=(s||document).createTextNode(t);return Mu(c)},Mu=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},nt={fromHtml:Vi,fromTag:Yh,fromText:Vm,fromDom:Mu,fromPoint:(t,s,i)=>D.from(t.dom.elementFromPoint(s,i)).map(Mu)},Wm=typeof window<"u"?window:Function("return this;")(),Iu=(t,s)=>{let i=s??Wm;for(let c=0;c<t.length&&i!==void 0&&i!==null;++c)i=i[t[c]];return i},Xh=(t,s)=>{const i=t.split(".");return Iu(i,s)},Jh=(t,s)=>Xh(t,s),kC=(t,s)=>{const i=Jh(t,s);if(i==null)throw new Error(t+" not available on this browser");return i},Zh=Object.getPrototypeOf,OC=t=>kC("HTMLElement",t),zy=t=>{const s=Xh("ownerDocument.defaultView",t);return J(t)&&(OC(s).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(Zh(t).constructor.name))},Gm=9,Hs=11,ns=1,qm=3,ds=t=>t.dom.nodeName.toLowerCase(),va=t=>t.dom.nodeType,Ql=t=>s=>va(s)===t,Qh=t=>ys(t)&&zy(t.dom),ys=Ql(ns),Ai=Ql(qm),Vy=Ql(Gm),eu=Ql(Hs),Jd=t=>s=>ys(s)&&ds(s)===t,ii=(t,s)=>{const i=t.dom;if(i.nodeType!==ns)return!1;{const c=i;if(c.matches!==void 0)return c.matches(s);if(c.msMatchesSelector!==void 0)return c.msMatchesSelector(s);if(c.webkitMatchesSelector!==void 0)return c.webkitMatchesSelector(s);if(c.mozMatchesSelector!==void 0)return c.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")}},Wy=t=>t.nodeType!==ns&&t.nodeType!==Gm&&t.nodeType!==Hs||t.childElementCount===0,xa=(t,s)=>{const i=s===void 0?document:s.dom;return Wy(i)?[]:We(i.querySelectorAll(t),nt.fromDom)},Km=(t,s)=>{const i=s===void 0?document:s.dom;return Wy(i)?D.none():D.from(i.querySelector(t)).map(nt.fromDom)},Yn=(t,s)=>t.dom===s.dom,Zd=(t,s)=>{const i=t.dom,c=s.dom;return i===c?!1:i.contains(c)},Wi=t=>nt.fromDom(t.dom.ownerDocument),sc=t=>Vy(t)?t:Wi(t),rc=t=>nt.fromDom(sc(t).dom.documentElement),bl=t=>nt.fromDom(sc(t).dom.defaultView),Ca=t=>D.from(t.dom.parentNode).map(nt.fromDom),Bu=t=>Ca(t),Sa=t=>D.from(t.dom.parentElement).map(nt.fromDom),Ym=(t,s)=>{const i=Pe(s)?s:ln;let c=t.dom;const u=[];for(;c.parentNode!==null&&c.parentNode!==void 0;){const f=c.parentNode,m=nt.fromDom(f);if(u.push(m),i(m)===!0)break;c=f}return u},Xm=t=>D.from(t.dom.offsetParent).map(nt.fromDom),eg=t=>D.from(t.dom.nextSibling).map(nt.fromDom),Gi=t=>We(t.dom.childNodes,nt.fromDom),Bc=(t,s)=>{const i=t.dom.childNodes;return D.from(i[s]).map(nt.fromDom)},Jm=t=>Bc(t,0),tg=(t,s)=>({element:t,offset:s}),Qd=(t,s)=>{const i=Gi(t);return i.length>0&&s<i.length?tg(i[s],0):tg(t,s)},ng=t=>eu(t)&&ae(t.dom.host),gr=t=>nt.fromDom(t.dom.getRootNode()),tu=t=>ng(t)?t:nt.fromDom(sc(t).dom.body),ek=t=>og(t).isSome(),og=t=>{const s=gr(t);return ng(s)?D.some(s):D.none()},Gy=t=>nt.fromDom(t.dom.host),DC=t=>{if(ae(t.target)){const s=nt.fromDom(t.target);if(ys(s)&&wa(s)&&t.composed&&t.composedPath){const i=t.composedPath();if(i)return Yt(i)}}return D.from(t.target)},wa=t=>ae(t.dom.shadowRoot),ai=t=>{const s=Ai(t)?t.dom.parentNode:t.dom;if(s==null||s.ownerDocument===null)return!1;const i=s.ownerDocument;return og(nt.fromDom(s)).fold(()=>i.body.contains(s),Zt(ai,Gy))},Ea=()=>qi(nt.fromDom(document)),qi=t=>{const s=t.dom.body;if(s==null)throw new Error("Body is not available yet");return nt.fromDom(s)},Ki=(t,s,i)=>{if(j(i)||Ce(i)||Ae(i))t.setAttribute(s,i+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",i,":: Element ",t),new Error("Attribute value was not simple")},$t=(t,s,i)=>{Ki(t.dom,s,i)},Zm=(t,s)=>{const i=t.dom;Is(s,(c,u)=>{Ki(i,u,c)})},an=(t,s)=>{const i=t.dom.getAttribute(s);return i===null?void 0:i},Us=(t,s)=>D.from(an(t,s)),sg=(t,s)=>{const i=t.dom;return i&&i.hasAttribute?i.hasAttribute(s):!1},_o=(t,s)=>{t.dom.removeAttribute(s)},qy=t=>rs(t.dom.attributes,(s,i)=>(s[i.name]=i.value,s),{}),ef=(t,s,i)=>{if(!j(i))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",i,":: Element ",t),new Error("CSS value must be a string: "+i);zi(t)&&t.style.setProperty(s,i)},Ky=(t,s)=>{zi(t)&&t.style.removeProperty(s)},rn=(t,s,i)=>{const c=t.dom;ef(c,s,i)},Fu=(t,s)=>{const i=t.dom;Is(s,(c,u)=>{ef(i,u,c)})},g=(t,s)=>{const i=t.dom;Is(s,(c,u)=>{c.fold(()=>{Ky(i,u)},f=>{ef(i,u,f)})})},C=(t,s)=>{const i=t.dom,u=window.getComputedStyle(i).getPropertyValue(s);return u===""&&!ai(t)?k(i,s):u},k=(t,s)=>zi(t)?t.style.getPropertyValue(s):"",P=(t,s)=>{const i=t.dom,c=k(i,s);return D.from(c).filter(u=>u.length>0)},H=t=>{const s={},i=t.dom;if(zi(i))for(let c=0;c<i.style.length;c++){const u=i.style.item(c);s[u]=i.style[u]}return s},U=(t,s,i)=>{const c=nt.fromTag(t);return rn(c,s,i),P(c,s).isSome()},V=(t,s)=>{const i=t.dom;Ky(i,s),ri(Us(t,"style").map(zm),"")&&_o(t,"style")},me=t=>t.dom.offsetWidth,ce=(t,s)=>{const i=(b,S)=>{if(!Ae(S)&&!S.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+S);const A=b.dom;zi(A)&&(A.style[t]=S+"px")},c=b=>{const S=s(b);if(S<=0||S===null){const A=C(b,t);return parseFloat(A)||0}return S},u=c,f=(b,S)=>rs(S,(A,O)=>{const M=C(b,O),L=M===void 0?0:parseInt(M,10);return isNaN(L)?A:A+L},0);return{set:i,get:c,getOuter:u,aggregate:f,max:(b,S,A)=>{const O=f(b,A);return S>O?S-O:0}}},ye=ce("height",t=>{const s=t.dom;return ai(t)?s.getBoundingClientRect().height:s.offsetHeight}),Be=t=>ye.get(t),Xe=t=>ye.getOuter(t),je=(t,s)=>{const i=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],c=ye.max(t,s,i);rn(t,"max-height",c+"px")},Ct=(t,s)=>({left:t,top:s,translate:(c,u)=>Ct(t+c,s+u)}),Ht=Ct,go=t=>{const s=t.getBoundingClientRect();return Ht(s.left,s.top)},Un=(t,s)=>t!==void 0?t:s!==void 0?s:0,Do=t=>{const s=t.dom.ownerDocument,i=s.body,c=s.defaultView,u=s.documentElement;if(i===t.dom)return Ht(i.offsetLeft,i.offsetTop);const f=Un(c==null?void 0:c.pageYOffset,u.scrollTop),m=Un(c==null?void 0:c.pageXOffset,u.scrollLeft),b=Un(u.clientTop,i.clientTop),S=Un(u.clientLeft,i.clientLeft);return vs(t).translate(m-S,f-b)},vs=t=>{const s=t.dom,c=s.ownerDocument.body;return c===s?Ht(c.offsetLeft,c.offsetTop):ai(t)?go(s):Ht(0,0)},ci=ce("width",t=>t.dom.offsetWidth),li=(t,s)=>ci.set(t,s),Tn=t=>ci.get(t),gn=t=>ci.getOuter(t),bo=(t,s)=>{const i=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],c=ci.max(t,s,i);rn(t,"max-width",c+"px")},Ao=t=>{let s=!1,i;return(...c)=>(s||(s=!0,i=t.apply(null,c)),i)},tf=(t,s,i,c)=>{const u=t.isiOS()&&/ipad/i.test(i)===!0,f=t.isiOS()&&!u,m=t.isiOS()||t.isAndroid(),b=m||c("(pointer:coarse)"),S=u||!f&&m&&c("(min-device-width:768px)"),A=f||m&&!S,O=s.isSafari()&&t.isiOS()&&/safari/i.test(i)===!1,M=!A&&!S&&!O;return{isiPad:_(u),isiPhone:_(f),isTablet:_(S),isPhone:_(A),isTouch:_(b),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:_(O),isDesktop:_(M)}},Lu=(t,s)=>{for(let i=0;i<t.length;i++){const c=t[i];if(c.test(s))return c}},xs=(t,s)=>{const i=Lu(t,s);if(!i)return{major:0,minor:0};const c=u=>Number(s.replace(i,"$"+u));return ic(c(1),c(2))},zs=(t,s)=>{const i=String(s).toLowerCase();return t.length===0?Ta():xs(t,i)},Ta=()=>ic(0,0),ic=(t,s)=>({major:t,minor:s}),Kr={nu:ic,detect:zs,unknown:Ta},ki=(t,s)=>or(s.brands,i=>{const c=i.brand.toLowerCase();return en(t,u=>{var f;return c===((f=u.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(u=>({current:u.name,version:Kr.nu(parseInt(i.version,10),0)}))}),_s=(t,s)=>{const i=String(s).toLowerCase();return en(t,c=>c.search(i))},kr=(t,s)=>_s(t,s).map(i=>{const c=Kr.detect(i.versionRegexes,s);return{current:i.name,version:c}}),As=(t,s)=>_s(t,s).map(i=>{const c=Kr.detect(i.versionRegexes,s);return{current:i.name,version:c}}),_a=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Oi=t=>s=>Br(s,t),sr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>Br(t,"edge/")&&Br(t,"chrome")&&Br(t,"safari")&&Br(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,_a],search:t=>Br(t,"chrome")&&!Br(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>Br(t,"msie")||Br(t,"trident")},{name:"Opera",versionRegexes:[_a,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Oi("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Oi("firefox")},{name:"Safari",versionRegexes:[_a,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(Br(t,"safari")||Br(t,"mobile/"))&&Br(t,"applewebkit")}],Uo=[{name:"Windows",search:Oi("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>Br(t,"iphone")||Br(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Oi("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Oi("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Oi("linux"),versionRegexes:[]},{name:"Solaris",search:Oi("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Oi("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Oi("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],$u={browsers:_(sr),oses:_(Uo)},ui="Edge",nu="Chromium",Yy="IE",ju="Opera",Qm="Firefox",Fc="Safari",ep=()=>Lc({current:void 0,version:Kr.unknown()}),Lc=t=>{const s=t.current,i=t.version,c=u=>()=>s===u;return{current:s,version:i,isEdge:c(ui),isChromium:c(nu),isIE:c(Yy),isOpera:c(ju),isFirefox:c(Qm),isSafari:c(Fc)}},yl={unknown:ep,nu:Lc,edge:_(ui),chromium:_(nu),ie:_(Yy),opera:_(ju),firefox:_(Qm),safari:_(Fc)},ou="Windows",$c="iOS",nf="Android",Hu="Linux",Xy="macOS",of="Solaris",tp="FreeBSD",vl="ChromeOS",tk=()=>ee({current:void 0,version:Kr.unknown()}),ee=t=>{const s=t.current,i=t.version,c=u=>()=>s===u;return{current:s,version:i,isWindows:c(ou),isiOS:c($c),isAndroid:c(nf),isMacOS:c(Xy),isLinux:c(Hu),isSolaris:c(of),isFreeBSD:c(tp),isChromeOS:c(vl)}},np={unknown:tk,nu:ee,windows:_(ou),ios:_($c),android:_(nf),linux:_(Hu),macos:_(Xy),solaris:_(of),freebsd:_(tp),chromeos:_(vl)},be={detect:(t,s,i)=>{const c=$u.browsers(),u=$u.oses(),f=s.bind(S=>ki(c,S)).orThunk(()=>kr(c,t)).fold(yl.unknown,yl.nu),m=As(u,t).fold(np.unknown,np.nu),b=tf(m,f,t,i);return{browser:f,os:m,deviceType:b}}},Fe=t=>window.matchMedia(t).matches;let Ue=Ao(()=>be.detect(window.navigator.userAgent,D.from(window.navigator.userAgentData),Fe));const Ne=()=>Ue(),wt=(t,s,i,c,u,f,m)=>({target:t,x:s,y:i,stop:c,prevent:u,kill:f,raw:m}),Vt=t=>{const s=nt.fromDom(DC(t).getOr(t.target)),i=()=>t.stopPropagation(),c=()=>t.preventDefault(),u=An(c,i);return wt(s,t.clientX,t.clientY,i,c,u,t)},tn=(t,s)=>i=>{t(i)&&s(Vt(i))},Kt=(t,s,i,c,u)=>{const f=tn(i,c);return t.dom.addEventListener(s,f,u),{unbind:Qn(Nn,t,s,f,u)}},Xn=(t,s,i,c)=>Kt(t,s,i,c,!1),dn=(t,s,i,c)=>Kt(t,s,i,c,!0),Nn=(t,s,i,c)=>{t.dom.removeEventListener(s,i,c)},Wn=(t,s)=>{Ca(t).each(c=>{c.dom.insertBefore(s.dom,t.dom)})},wn=(t,s)=>{eg(t).fold(()=>{Ca(t).each(u=>{zo(u,s)})},c=>{Wn(c,s)})},Co=(t,s)=>{Jm(t).fold(()=>{zo(t,s)},c=>{t.dom.insertBefore(s.dom,c.dom)})},zo=(t,s)=>{t.dom.appendChild(s.dom)},Or=(t,s,i)=>{Bc(t,i).fold(()=>{zo(t,s)},c=>{Wn(c,s)})},di=(t,s)=>{ht(s,i=>{zo(t,i)})},Vo=t=>{t.dom.textContent="",ht(Gi(t),s=>{rr(s)})},rr=t=>{const s=t.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},Po=t=>{const s=t!==void 0?t.dom:document,i=s.body.scrollLeft||s.documentElement.scrollLeft,c=s.body.scrollTop||s.documentElement.scrollTop;return Ht(i,c)},rg=(t,s,i)=>{const u=(i!==void 0?i.dom:document).defaultView;u&&u.scrollTo(t,s)},RC=t=>{const s=t===void 0?window:t;return Ne().browser.isFirefox()?D.none():D.from(s.visualViewport)},nk=(t,s,i,c)=>({x:t,y:s,width:i,height:c,right:t+i,bottom:s+c}),ig=t=>{const s=t===void 0?window:t,i=s.document,c=Po(nt.fromDom(i));return RC(s).fold(()=>{const u=s.document.documentElement,f=u.clientWidth,m=u.clientHeight;return nk(c.left,c.top,f,m)},u=>nk(Math.max(u.pageLeft,c.left),Math.max(u.pageTop,c.top),u.width,u.height))},xl=()=>nt.fromDom(document),Jy=(t,s)=>t.view(s).fold(_([]),c=>{const u=t.owner(c),f=Jy(t,u);return[c].concat(f)}),X$=(t,s)=>{const i=s.owner(t),c=Jy(s,i);return D.some(c)};var ok=Object.freeze({__proto__:null,view:t=>{var s;return(t.dom===document?D.none():D.from((s=t.dom.defaultView)===null||s===void 0?void 0:s.frameElement)).map(nt.fromDom)},owner:t=>Wi(t)});const NC=t=>{const s=xl(),i=Po(s);return X$(t,ok).fold(Qn(Do,t),u=>{const f=vs(t),m=Ou(u,(b,S)=>{const A=vs(S);return{left:b.left+A.left,top:b.top+A.top}},{left:0,top:0});return Ht(m.left+f.left+i.left,m.top+f.top+i.top)})},op=(t,s,i)=>({point:t,width:s,height:i}),sk=(t,s,i,c)=>({x:t,y:s,width:i,height:c}),Zo=(t,s,i,c)=>({x:t,y:s,width:i,height:c,right:t+i,bottom:s+c}),is=t=>{const s=Do(t),i=gn(t),c=Xe(t);return Zo(s.left,s.top,i,c)},sf=t=>{const s=NC(t),i=gn(t),c=Xe(t);return Zo(s.left,s.top,i,c)},PC=(t,s)=>{const i=Math.max(t.x,s.x),c=Math.max(t.y,s.y),u=Math.min(t.right,s.right),f=Math.min(t.bottom,s.bottom),m=u-i,b=f-c;return Zo(i,c,m,b)},MC=(t,s)=>rs(s,(i,c)=>PC(i,c),t),Vs=()=>ig(window),Pt=t=>{let s=t;return{get:()=>s,set:u=>{s=u}}},Uu=t=>{const s=Pt(D.none()),i=()=>s.get().each(t);return{clear:()=>{i(),s.set(D.none())},isSet:()=>s.get().isSome(),get:()=>s.get(),set:b=>{i(),s.set(D.some(b))}}},J$=()=>Uu(t=>t.destroy()),ac=()=>Uu(t=>t.unbind()),So=()=>{const t=Uu(te);return{...t,on:i=>t.get().each(i)}};var ag=tinymce.util.Tools.resolve("tinymce.ThemeManager");const IC=t=>{const s=f=>f(t),i=_(t),c=()=>u,u={tag:!0,inner:t,fold:(f,m)=>m(t),isValue:Ot,isError:ln,map:f=>bn.value(f(t)),mapError:c,bind:s,exists:s,forall:s,getOr:i,or:c,getOrThunk:i,orThunk:c,getOrDie:i,each:f=>{f(t)},toOptional:()=>D.some(t)};return u},rk=t=>{const s=()=>i,i={tag:!1,inner:t,fold:(c,u)=>c(t),isValue:ln,isError:Ot,map:s,mapError:c=>bn.error(c(t)),bind:s,exists:ln,forall:Ot,getOr:At,or:At,getOrThunk:$n,orThunk:$n,getOrDie:Rn(String(t)),each:te,toOptional:D.none};return i},bn={value:IC,error:rk,fromOption:(t,s)=>t.fold(()=>rk(s),IC)};var Ws;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Ws||(Ws={}));const Zy=(t,s,i)=>t.stype===Ws.Error?s(t.serror):i(t.svalue),Qy=t=>{const s=[],i=[];return ht(t,c=>{Zy(c,u=>i.push(u),u=>s.push(u))}),{values:s,errors:i}},BC=(t,s)=>t.stype===Ws.Error?{stype:Ws.Error,serror:s(t.serror)}:t,ik=(t,s)=>t.stype===Ws.Value?{stype:Ws.Value,svalue:s(t.svalue)}:t,Q$=(t,s)=>t.stype===Ws.Value?s(t.svalue):t,Di=(t,s)=>t.stype===Ws.Error?s(t.serror):t,Cl=t=>({stype:Ws.Value,svalue:t}),ev=t=>({stype:Ws.Error,serror:t}),Cs={fromResult:t=>t.fold(ev,Cl),toResult:t=>Zy(t,bn.error,bn.value),svalue:Cl,partition:Qy,serror:ev,bind:Q$,bindError:Di,map:ik,mapError:BC,fold:Zy},zu=(t,s,i,c)=>({tag:"field",key:t,newKey:s,presence:i,prop:c}),sp=(t,s)=>({tag:"custom",newKey:t,instantiator:s}),Ro=(t,s,i)=>{switch(t.tag){case"field":return s(t.key,t.newKey,t.presence,t.prop);case"custom":return i(t.newKey,t.instantiator)}},Vu=(t,s)=>s,t3=(t,s)=>Q(t)&&Q(s)?Qo(t,s):s,tv=t=>(...s)=>{if(s.length===0)throw new Error("Can't merge zero objects");const i={};for(let c=0;c<s.length;c++){const u=s[c];for(const f in u)jn(u,f)&&(i[f]=t(i[f],u[f]))}return i},Qo=tv(t3),cg=tv(Vu),jc=()=>({tag:"required",process:{}}),nv=t=>({tag:"defaultedThunk",process:t}),ov=t=>nv(_(t)),FC=()=>({tag:"option",process:{}}),LC=t=>({tag:"mergeWithThunk",process:t}),n3=t=>LC(_(t)),o3=(t,s)=>t.length>0?Cs.svalue(Qo(s,cg.apply(void 0,t))):Cs.svalue(s),$C=t=>An(Cs.serror,on)(t),ug={consolidateObj:(t,s)=>{const i=Cs.partition(t);return i.errors.length>0?$C(i.errors):o3(i.values,s)},consolidateArr:t=>{const s=Cs.partition(t);return s.errors.length>0?$C(s.errors):Cs.svalue(s.values)}},jC=t=>J(t)&&Jo(t).length>100?" removed due to size":JSON.stringify(t,null,2),HC=t=>{const s=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:_("... (only showing first ten failures)")}]):t;return We(s,i=>"Failed path: ("+i.path.join(" > ")+`)
`+i.getErrorInfo())},rf=(t,s)=>Cs.serror([{path:t,getErrorInfo:s}]),ak=(t,s,i)=>rf(t,()=>'Could not find valid *required* value for "'+s+'" in '+jC(i)),ck=(t,s)=>rf(t,()=>'Choice schema did not contain choice key: "'+s+'"'),s3=(t,s,i)=>rf(t,()=>'The chosen schema: "'+i+'" did not exist in branches: '+jC(s)),lk=(t,s)=>rf(t,()=>"There are unsupported fields: ["+s.join(", ")+"] specified"),uk=(t,s)=>rf(t,_(s)),rp=t=>{const s=(c,u)=>Cs.bindError(t(u),f=>uk(c,f)),i=_("val");return{extract:s,toString:i}},UC=rp(Cs.svalue),fi=(t,s,i,c)=>at(s,i).fold(()=>ak(t,i,s),c),zC=(t,s,i,c)=>{const u=at(t,s).getOrThunk(()=>i(t));return c(u)},r3=(t,s,i)=>i(at(t,s)),dk=(t,s,i,c)=>{const u=at(t,s).map(f=>f===!0?i(t):f);return c(u)},ir=(t,s,i,c,u)=>{const f=b=>u.extract(s.concat([c]),b),m=b=>b.fold(()=>Cs.svalue(D.none()),S=>{const A=u.extract(s.concat([c]),S);return Cs.map(A,D.some)});switch(t.tag){case"required":return fi(s,i,c,f);case"defaultedThunk":return zC(i,c,t.process,f);case"option":return r3(i,c,m);case"defaultedOptionThunk":return dk(i,c,t.process,m);case"mergeWithThunk":return zC(i,c,_({}),b=>{const S=Qo(t.process(i),b);return f(S)})}},dg=(t,s,i)=>{const c={},u=[];for(const f of i)Ro(f,(m,b,S,A)=>{const O=ir(S,t,s,m,A);Cs.fold(O,M=>{u.push(...M)},M=>{c[b]=M})},(m,b)=>{c[m]=b(s)});return u.length>0?Cs.serror(u):Cs.svalue(c)},Bs=t=>({extract:(c,u)=>t().extract(c,u),toString:()=>t().toString()}),VC=t=>Jo(nc(t,ae)),Yi=t=>{const s=Wt(t),i=Ou(t,(u,f)=>Ro(f,m=>Qo(u,{[m]:!0}),_(u)),{});return{extract:(u,f)=>{const m=Ce(f)?[]:VC(f),b=eo(m,S=>!Ti(i,S));return b.length===0?s.extract(u,f):lk(u,b)},toString:s.toString}},Wt=t=>({extract:(c,u)=>dg(c,u,t),toString:()=>`obj{
`+We(t,u=>Ro(u,(f,m,b,S)=>f+" -> "+S.toString(),(f,m)=>"state("+f+")")).join(`
`)+"}"}),Aa=t=>({extract:(c,u)=>{const f=We(u,(m,b)=>t.extract(c.concat(["["+b+"]"]),m));return ug.consolidateArr(f)},toString:()=>"array("+t.toString()+")"}),WC=(t,s)=>{const i=s!==void 0?s:At;return{extract:(f,m)=>{const b=[];for(const S of t){const A=S.extract(f,m);if(A.stype===Ws.Value)return{stype:Ws.Value,svalue:i(A.svalue)};b.push(A)}return ug.consolidateArr(b)},toString:()=>"oneOf("+We(t,f=>f.toString()).join(", ")+")"}},i3=(t,s)=>{const i=(f,m)=>Aa(rp(t)).extract(f,m);return{extract:(f,m)=>{const b=Jo(m),S=i(f,b);return Cs.bind(S,A=>{const O=We(A,M=>zu(M,M,jc(),s));return Wt(O).extract(f,m)})},toString:()=>"setOf("+s.toString()+")"}},fk=(t,s)=>{const i=Ao(s);return{extract:(f,m)=>i().extract(f,m),toString:()=>i().toString()}},GC=An(Aa,Wt),cc=_(UC),Sl=(t,s)=>rp(i=>{const c=typeof i;return t(i)?Cs.svalue(i):Cs.serror(`Expected type: ${s} but got: ${c}`)}),af=Sl(Ae,"number"),lt=Sl(j,"string"),lc=Sl(Ce,"boolean"),qC=Sl(Pe,"function"),ip=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(s=>ip(t[s]));default:return!1}},Hc=rp(t=>ip(t)?Cs.svalue(t):Cs.serror("Expected value to be acceptable for sending via postMessage")),sv=(t,s,i,c)=>at(i,c).fold(()=>s3(t,i,c),f=>f.extract(t.concat(["branch: "+c]),s)),ap=(t,s)=>({extract:(u,f)=>at(f,t).fold(()=>ck(u,t),b=>sv(u,f,s,b)),toString:()=>"chooseOn("+t+"). Possible values: "+Jo(s)}),cf=()=>Aa(UC),fg=t=>rp(s=>t(s).fold(Cs.serror,Cs.svalue)),Uc=(t,s)=>i3(i=>Cs.fromResult(t(i)),s),mk=(t,s,i)=>{const c=s.extract([t],i);return Cs.mapError(c,u=>({input:i,errors:u}))},qo=(t,s,i)=>Cs.toResult(mk(t,s,i)),Ve=t=>t.fold(s=>{throw new Error(cp(s))},At),mi=(t,s,i)=>Ve(qo(t,s,i)),cp=t=>`Errors: 
`+HC(t.errors).join(`
`)+`

Input object: `+jC(t.input),qs=(t,s)=>ap(t,To(s,Wt)),lp=(t,s)=>fk(t,s),Ks=zu,Gn=sp,rv=t=>fg(s=>uo(t,s)?bn.value(s):bn.error(`Unsupported value: "${s}", choose one of "${t.join(", ")}".`)),Ie=t=>Ks(t,t,jc(),cc()),qn=(t,s)=>Ks(t,t,jc(),s),iv=t=>qn(t,af),Fs=t=>qn(t,lt),Fr=(t,s)=>Ks(t,t,jc(),rv(s)),uc=t=>qn(t,qC),KC=(t,s)=>Ks(t,t,FC(),rp(i=>Cs.serror("The field: "+t+" is forbidden. "+s))),Wu=(t,s)=>Ks(t,t,jc(),Wt(s)),YC=(t,s)=>Ks(t,t,jc(),GC(s)),Xi=(t,s)=>Ks(t,t,jc(),Aa(s)),Hn=t=>Ks(t,t,FC(),cc()),wl=(t,s)=>Ks(t,t,FC(),s),mg=t=>wl(t,af),Ls=t=>wl(t,lt),pk=(t,s)=>wl(t,rv(s)),Gu=t=>wl(t,qC),av=(t,s)=>wl(t,Aa(s)),Ys=(t,s)=>wl(t,Wt(s)),Lr=(t,s)=>wl(t,Yi(s)),ge=(t,s)=>Ks(t,t,ov(s),cc()),No=(t,s,i)=>Ks(t,t,ov(s),i),XC=(t,s)=>No(t,s,af),fs=(t,s)=>No(t,s,lt),$r=(t,s,i)=>No(t,s,rv(i)),br=(t,s)=>No(t,s,lc),Mo=(t,s)=>No(t,s,qC),JC=(t,s)=>No(t,s,Hc),qu=(t,s,i)=>No(t,s,Aa(i)),ZC=(t,s,i)=>No(t,s,Wt(i)),Ri={generate:t=>{if(!oe(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const s=[],i={};return ht(t,(c,u)=>{const f=Jo(c);if(f.length!==1)throw new Error("one and only one name per case");const m=f[0],b=c[m];if(i[m]!==void 0)throw new Error("duplicate key detected:"+m);if(m==="cata")throw new Error("cannot have a case named cata (sorry)");if(!oe(b))throw new Error("case arguments must be an array");s.push(m),i[m]=(...S)=>{const A=S.length;if(A!==b.length)throw new Error("Wrong number of arguments to case "+m+". Expected "+b.length+" ("+b+"), got "+A);return{fold:(...M)=>{if(M.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+M.length);return M[u].apply(null,S)},match:M=>{const L=Jo(M);if(s.length!==L.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+L.join(","));if(!qr(s,q=>uo(L,q)))throw new Error("Not all branches were specified when using match. Specified: "+L.join(", ")+`
Required: `+s.join(", "));return M[m].apply(null,S)},log:M=>{console.log(M,{constructors:s,constructor:m,params:S})}}}}),i}};Ri.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const a3=t=>{const s=[],i=[];return ht(t,c=>{c.fold(u=>{s.push(u)},u=>{i.push(u)})}),{errors:s,values:i}},QC=(t,s)=>{const i={};return Is(t,(c,u)=>{uo(s,u)||(i[u]=c)}),i},hk=(t,s)=>({[t]:s}),gk=t=>{const s={};return ht(t,i=>{s[i.key]=i.value}),s},bk=(t,s)=>QC(t,s),lf=(t,s)=>hk(t,s),up=t=>gk(t),c3=(t,s)=>t.length===0?bn.value(s):bn.value(Qo(s,cg.apply(void 0,t))),eS=t=>bn.error(on(t)),l3=(t,s)=>{const i=a3(t);return i.errors.length>0?eS(i.errors):c3(i.values,s)},yk=t=>Pe(t)?t:ln,cv=(t,s,i)=>{let c=t.dom;const u=yk(i);for(;c.parentNode;){c=c.parentNode;const f=nt.fromDom(c),m=s(f);if(m.isSome())return m;if(u(f))break}return D.none()},dp=(t,s,i)=>{const c=s(t),u=yk(i);return c.orThunk(()=>u(t)?D.none():cv(t,s,u))},lv=(t,s)=>Yn(t.element,s.event.target),uf={can:Ot,abort:ln,run:te},fp=t=>{if(!Ti(t,"can")&&!Ti(t,"abort")&&!Ti(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...uf,...t}},tS=(t,s)=>(...i)=>rs(t,(c,u)=>c&&s(u).apply(void 0,i),!0),u3=(t,s)=>(...i)=>rs(t,(c,u)=>c||s(u).apply(void 0,i),!1),vk=t=>Pe(t)?{can:Ot,abort:ln,run:t}:t,d3=t=>{const s=tS(t,u=>u.can),i=u3(t,u=>u.abort);return{can:s,abort:i,run:(...u)=>{ht(t,f=>{f.run.apply(void 0,u)})}}},ar=_,su=ar("touchstart"),mp=ar("touchmove"),pp=ar("touchend"),nS=ar("touchcancel"),Ji=ar("mousedown"),pg=ar("mousemove"),uv=ar("mouseout"),dv=ar("mouseup"),El=ar("mouseover"),zc=ar("focusin"),xk=ar("focusout"),ka=ar("keydown"),f3=ar("keyup"),Tl=ar("input"),ru=ar("change"),df=ar("click"),m3=ar("transitioncancel"),hg=ar("transitionend"),ff=ar("transitionstart"),p3=ar("selectstart"),ms=t=>_("alloy."+t),Ck={tap:ms("tap")},_l=ms("focus"),hp=ms("blur.post"),oS=ms("paste.post"),Ku=ms("receive"),pi=ms("execute"),fv=ms("focus.item"),mv=Ck.tap,mf=ms("longpress"),Xs=ms("sandbox.close"),pv=ms("typeahead.cancel"),hv=ms("system.init"),h3=ms("system.touchmove"),g3=ms("system.touchend"),gv=ms("system.scroll"),gp=ms("system.resize"),Oa=ms("system.attached"),iu=ms("system.detached"),Yu=ms("system.dismissRequested"),Sk=ms("system.repositionRequested"),bv=ms("focusmanager.shifted"),gg=ms("slotcontainer.visibility"),wk=ms("system.external.element.scroll"),Ek=ms("change.tab"),Tk=ms("dismiss.tab"),sS=ms("highlight"),bp=ms("dehighlight"),Sn=(t,s)=>{vv(t,t.element,s,{})},Et=(t,s,i)=>{vv(t,t.element,s,i)},Xu=t=>{Sn(t,pi())},yv=(t,s,i)=>{vv(t,s,i,{})},vv=(t,s,i,c)=>{const u={target:s,...c};t.getSystem().triggerEvent(i,s,u)},_k=(t,s,i,c)=>{const u={...c,target:s};t.getSystem().triggerEvent(i,s,u)},xv=(t,s,i,c)=>{t.getSystem().triggerEvent(i,s,c.event)},no=t=>up(t),Ak=(t,s)=>({key:t,value:fp({abort:s})}),b3=(t,s)=>({key:t,value:fp({can:s})}),rS=t=>({key:t,value:fp({run:(s,i)=>{i.event.prevent()}})}),Me=(t,s)=>({key:t,value:fp({run:s})}),Cv=(t,s,i)=>({key:t,value:fp({run:(c,u)=>{s.apply(void 0,[c,u].concat(i))}})}),kk=t=>s=>Me(t,s),Sv=t=>s=>({key:t,value:fp({run:(i,c)=>{lv(i,c)&&s(i,c)}})}),Ok=(t,s)=>Me(t,(i,c)=>{i.getSystem().getByUid(s).each(u=>{xv(u,u.element,t,c)})}),yp=(t,s,i)=>{const c=s.partUids[i];return Ok(t,c)},wv=(t,s)=>Me(t,(i,c)=>{const u=c.event,f=i.getSystem().getByDom(u.target).getOrThunk(()=>dp(u.target,b=>i.getSystem().getByDom(b).toOptional(),ln).getOr(i));s(i,f,c)}),pf=t=>Me(t,(s,i)=>{i.cut()}),bg=t=>Me(t,(s,i)=>{i.stop()}),Ju=(t,s)=>Sv(t)(s),ko=Sv(Oa()),Al=Sv(iu()),Dk=Sv(hv()),au=kk(pi()),Rk=(t,s,i)=>{const c=i.toString(),u=c.indexOf(")")+1,f=c.indexOf("("),m=c.substring(f+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:yg(m.slice(0,1).concat(m.slice(3)))}),t},yg=t=>We(t,s=>Pu(s,"/*")?s.substring(0,s.length-2):s),iS=(t,s)=>{const i=t.toString(),c=i.indexOf(")")+1,u=i.indexOf("("),f=i.substring(u+1,c-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:s,parameters:yg(f)}),t},y3=(t,s)=>{const i=s.toString(),c=i.indexOf(")")+1,u=i.indexOf("("),f=i.substring(u+1,c-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:yg(f.slice(1))}),t},Zi=t=>({classes:Le(t.classes)?[]:t.classes,attributes:Le(t.attributes)?{}:t.attributes,styles:Le(t.styles)?{}:t.styles}),Ev=(t,s)=>({...t,attributes:{...t.attributes,...s.attributes},styles:{...t.styles,...s.styles},classes:t.classes.concat(s.classes)}),v3=(t,s,i)=>au(c=>{i(c,t,s)}),hf=(t,s,i)=>Dk((c,u)=>{i(c,t,s)}),x3=(t,s,i,c,u,f)=>{const m=Yi(t),b=Ys(s,[Lr("config",t)]);return Tv(m,b,s,i,c,u,f)},gf=(t,s,i,c,u,f)=>{const m=t,b=Ys(s,[wl("config",t)]);return Tv(m,b,s,i,c,u,f)},aS=(t,s,i)=>Rk((u,...f)=>{const m=[u].concat(f);return u.config({name:_(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+i)},b=>{const S=Array.prototype.slice.call(m,1);return s.apply(void 0,[u,b.config,b.state].concat(S))})},i,s),C3=t=>({key:t,value:void 0}),Tv=(t,s,i,c,u,f,m)=>{const b=M=>Ti(M,i)?M[i]():D.none(),S=To(u,(M,L)=>aS(i,M,L)),O={...To(f,(M,L)=>iS(M,L)),...S,revoke:Qn(C3,i),config:M=>{const L=mi(i+"-config",t,M);return{key:i,value:{config:L,me:O,configAsRaw:Ao(()=>mi(i+"-config",t,M)),initialConfig:M,state:m}}},schema:_(s),exhibit:(M,L)=>Jl(b(M),at(c,"exhibit"),(z,q)=>q(L,z.config,z.state)).getOrThunk(()=>Zi({})),name:_(i),handlers:M=>b(M).map(L=>at(c,"events").getOr(()=>({}))(L.config,L.state)).getOr({})};return O},Vc={init:()=>jr({readState:_("No State required")})},jr=t=>t,qe=t=>up(t),vp=Yi([Ie("fields"),Ie("name"),ge("active",{}),ge("apis",{}),ge("state",Vc),ge("extra",{})]),Js=t=>{const s=mi("Creating behaviour: "+t.name,vp,t);return x3(s.fields,s.name,s.active,s.apis,s.extra,s.state)},S3=Yi([Ie("branchKey"),Ie("branches"),Ie("name"),ge("active",{}),ge("apis",{}),ge("state",Vc),ge("extra",{})]),cS=t=>{const s=mi("Creating behaviour: "+t.name,S3,t);return gf(qs(s.branchKey,s.branches),s.name,s.active,s.apis,s.extra,s.state)},w3=_(void 0),yo=(t,s)=>{const i=an(t,s);return i===void 0||i===""?[]:i.split(" ")},E3=(t,s,i)=>{const u=yo(t,s).concat([i]);return $t(t,s,u.join(" ")),!0},T3=(t,s,i)=>{const c=eo(yo(t,s),u=>u!==i);return c.length>0?$t(t,s,c.join(" ")):_o(t,s),!1},xp=t=>t.dom.classList!==void 0,Cp=t=>yo(t,"class"),lS=(t,s)=>E3(t,"class",s),kl=(t,s)=>T3(t,"class",s),_3=(t,s)=>uo(Cp(t),s)?kl(t,s):lS(t,s),ps=(t,s)=>{xp(t)?t.dom.classList.add(s):lS(t,s)},Nk=t=>{(xp(t)?t.dom.classList:Cp(t)).length===0&&_o(t,"class")},Io=(t,s)=>{xp(t)?t.dom.classList.remove(s):kl(t,s),Nk(t)},uS=(t,s)=>{const i=xp(t)?t.dom.classList.toggle(s):_3(t,s);return Nk(t),i},Yr=(t,s)=>xp(t)&&t.dom.classList.contains(s),Sp=(t,s)=>{ht(s,i=>{ps(t,i)})},Wc=(t,s)=>{ht(s,i=>{Io(t,i)})},Uq=(t,s)=>{ht(s,i=>{uS(t,i)})},zq=(t,s)=>qr(s,i=>Yr(t,i)),Vq=t=>{const s=t.dom.classList,i=new Array(s.length);for(let c=0;c<s.length;c++){const u=s.item(c);u!==null&&(i[c]=u)}return i},A3=t=>xp(t)?Vq(t):Cp(t),Gc=(t,s,i,c,u)=>{const f=m=>m+"px";return{position:t,left:s.map(f),top:i.map(f),right:c.map(f),bottom:u.map(f)}},qc=t=>({...t,position:D.some(t.position)}),Hr=(t,s)=>{g(t,qc(s))},wp=t=>(ri(P(t,"position"),"fixed")?D.none():Xm(t)).orThunk(()=>{const c=nt.fromTag("span");return Ca(t).bind(u=>{zo(u,c);const f=Xm(c);return rr(c),f})}),_v=t=>wp(t).map(Do).getOrThunk(()=>Ht(0,0)),k3=(t,s)=>{const i=t.element;ps(i,s.transitionClass),Io(i,s.fadeOutClass),ps(i,s.fadeInClass),s.onShow(t)},vg=(t,s)=>{const i=t.element;ps(i,s.transitionClass),Io(i,s.fadeInClass),ps(i,s.fadeOutClass),s.onHide(t)},bf=(t,s)=>t.y<s.bottom&&t.bottom>s.y,yf=(t,s)=>t.y>=s.y,Ep=(t,s)=>t.bottom<=s.bottom,vf=(t,s,i)=>({location:"top",leftX:s,topY:i.bounds.y-t.y}),xf=(t,s,i)=>({location:"bottom",leftX:s,bottomY:t.bottom-i.bounds.bottom}),Av=t=>t.box.x-t.win.x,Pk=(t,s,i)=>{const c=s.win,u=s.box,f=Av(s);return or(t,m=>{switch(m){case"bottom":return Ep(u,i.bounds)?D.none():D.some(xf(c,f,i));case"top":return yf(u,i.bounds)?D.none():D.some(vf(c,f,i));default:return D.none()}}).getOr({location:"no-dock"})},O3=(t,s,i)=>qr(t,c=>{switch(c){case"bottom":return Ep(s,i.bounds);case"top":return yf(s,i.bounds)}}),Mk=(t,s)=>{const i=s.optScrollEnv.fold(_(t.bounds.y),c=>c.scrollElmTop+(t.bounds.y-c.currentScrollTop));return Ht(t.bounds.x,i)},Ik=(t,s)=>{const i=s.optScrollEnv.fold(_(t.y),c=>t.y+c.currentScrollTop-c.scrollElmTop);return Ht(t.x,i)},kv=(t,s,i)=>i.getInitialPos().map(c=>{const u=Mk(c,s);return{box:Zo(u.left,u.top,Tn(t),Be(t)),location:c.location}}),Bk=(t,s,i,c,u)=>{const f=Ik(s,i),m=Zo(f.left,f.top,s.width,s.height);c.setInitialPos({style:H(t),position:C(t,"position")||"static",bounds:m,location:u.location})},D3=(t,s,i,c,u)=>{c.getInitialPos().fold(()=>Bk(t,s,i,c,u),()=>te)},Fk=(t,s,i)=>i.getInitialPos().bind(c=>{var u;switch(i.clearInitialPos(),c.position){case"static":return D.some({morph:"static"});case"absolute":const f=wp(t).getOr(Ea()),m=is(f),b=(u=f.dom.scrollTop)!==null&&u!==void 0?u:0;return D.some({morph:"absolute",positionCss:Gc("absolute",at(c.style,"left").map(S=>s.x-m.x),at(c.style,"top").map(S=>s.y-m.y+b),at(c.style,"right").map(S=>m.right-s.right),at(c.style,"bottom").map(S=>m.bottom-s.bottom))});default:return D.none()}}),R3=(t,s,i)=>kv(t,s,i).filter(({box:c})=>O3(i.getModes(),c,s)).bind(({box:c})=>Fk(t,c,i)),Ov=t=>{switch(t.location){case"top":return D.some({morph:"fixed",positionCss:Gc("fixed",D.some(t.leftX),D.some(t.topY),D.none(),D.none())});case"bottom":return D.some({morph:"fixed",positionCss:Gc("fixed",D.some(t.leftX),D.none(),D.none(),D.some(t.bottomY))});default:return D.none()}},Lk=(t,s,i)=>{const c=is(t),u=Vs(),f=Pk(i.getModes(),{win:u,box:c},s);return f.location==="top"||f.location==="bottom"?(Bk(t,c,s,i,f),Ov(f)):D.none()},xg=(t,s,i)=>R3(t,s,i).orThunk(()=>s.optScrollEnv.bind(c=>kv(t,s,i)).bind(({box:c,location:u})=>{const f=Vs(),m=Av({win:f,box:c}),b=u==="top"?vf(f,m,s):xf(f,m,s);return Ov(b)})),N3=(t,s,i)=>{const c=t.element;return ri(P(c,"position"),"fixed")?xg(c,s,i):Lk(c,s,i)},P3=(t,s,i)=>{const c=t.element;return kv(c,s,i).bind(({box:u})=>Fk(c,u,i))},$k=(t,s,i,c)=>{const u=is(t),f=Vs(),m=Av({win:f,box:u}),b=c(f,m,s);return b.location==="bottom"||b.location==="top"?(D3(t,u,s,i,b),Ov(b)):D.none()},Zu=(t,s,i)=>{i.setDocked(!1),ht(["left","right","top","bottom","position"],c=>V(t.element,c)),s.onUndocked(t)},Dv=(t,s,i,c)=>{const u=c.position==="fixed";i.setDocked(u),Hr(t.element,c),(u?s.onDocked:s.onUndocked)(t)},jk=(t,s,i,c,u=!1)=>{s.contextual.each(f=>{f.lazyContext(t).each(m=>{const b=bf(m,c.bounds);b!==i.isVisible()&&(i.setVisible(b),u&&!b?(Sp(t.element,[f.fadeOutClass]),f.onHide(t)):(b?k3:vg)(t,f))})})},Hk=(t,s,i,c,u)=>{jk(t,s,i,c,!0),Dv(t,s,i,u.positionCss)},Uk=(t,s,i,c,u)=>{switch(u.morph){case"static":return Zu(t,s,i);case"absolute":return Dv(t,s,i,u.positionCss);case"fixed":return Hk(t,s,i,c,u)}},Cf=(t,s,i)=>{const c=s.lazyViewport(t);jk(t,s,i,c),N3(t,c,i).each(u=>{Uk(t,s,i,c,u)})},Wq=(t,s,i)=>{const c=t.element;i.setDocked(!1);const u=s.lazyViewport(t);P3(t,u,i).each(f=>{switch(f.morph){case"static":{Zu(t,s,i);break}case"absolute":{Dv(t,s,i,f.positionCss);break}}}),i.setVisible(!0),s.contextual.each(f=>{Wc(c,[f.fadeInClass,f.fadeOutClass,f.transitionClass]),f.onShow(t)}),Tp(t,s,i)},Tp=(t,s,i)=>{t.getSystem().isConnected()&&Cf(t,s,i)},_p=(t,s,i)=>{i.isDocked()&&Wq(t,s,i)},zk=t=>(s,i,c)=>{const u=i.lazyViewport(s);$k(s.element,u,c,t).each(m=>{Hk(s,i,c,u,m)})},Vk=zk(vf),M3=zk(xf);var I3=Object.freeze({__proto__:null,refresh:Tp,reset:_p,isDocked:(t,s,i)=>i.isDocked(),getModes:(t,s,i)=>i.getModes(),setModes:(t,s,i,c)=>i.setModes(c),forceDockToTop:Vk,forceDockToBottom:M3}),Ap=Object.freeze({__proto__:null,events:(t,s)=>no([Ju(hg(),(i,c)=>{t.contextual.each(u=>{Yr(i.element,u.transitionClass)&&(Wc(i.element,[u.transitionClass,u.fadeInClass]),(s.isVisible()?u.onShown:u.onHidden)(i)),c.stop()})}),Me(gv(),(i,c)=>{Tp(i,t,s)}),Me(wk(),(i,c)=>{Tp(i,t,s)}),Me(gp(),(i,c)=>{_p(i,t,s)})])});const B3=(t,s)=>{const c=(s||document).createElement("div");return c.innerHTML=t,Gi(nt.fromDom(c))},cu=t=>t.dom.innerHTML,Sf=(t,s)=>{const c=Wi(t).dom,u=nt.fromDom(c.createDocumentFragment()),f=B3(s,c);di(u,f),Vo(t),zo(t,u)},dS=t=>{const s=nt.fromTag("div"),i=nt.fromDom(t.dom.cloneNode(!0));return zo(s,i),cu(s)},wf=(t,s)=>nt.fromDom(t.dom.cloneNode(s)),F3=t=>wf(t,!1),Cg=t=>wf(t,!0),Rv=t=>{if(ng(t))return"#shadow-root";{const s=F3(t);return dS(s)}},Qu=t=>Rv(t),Wk="unknown";var Kc;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(Kc||(Kc={}));const Ol=Pt({}),L3=(t,s)=>{const i=[],c=new Date().getTime();return{logEventCut:(u,f,m)=>{i.push({outcome:"cut",target:f,purpose:m})},logEventStopped:(u,f,m)=>{i.push({outcome:"stopped",target:f,purpose:m})},logNoParent:(u,f,m)=>{i.push({outcome:"no-parent",target:f,purpose:m})},logEventNoHandlers:(u,f)=>{i.push({outcome:"no-handlers-left",target:f})},logEventResponse:(u,f,m)=>{i.push({outcome:"response",purpose:m,target:f})},write:()=>{const u=new Date().getTime();uo(["mousemove","mouseover","mouseout",hv()],t)||console.log(t,{event:t,time:u-c,target:s.dom,sequence:We(i,f=>uo(["cut","stopped","response"],f.outcome)?"{"+f.purpose+"} "+f.outcome+" at ("+Qu(f.target)+")":f.outcome)})}}},Zs=(t,s,i)=>{switch(at(Ol.get(),t).orThunk(()=>{const u=Jo(Ol.get());return or(u,f=>t.indexOf(f)>-1?D.some(Ol.get()[f]):D.none())}).getOr(Kc.NORMAL)){case Kc.NORMAL:return i(kp());case Kc.LOGGING:{const u=L3(t,s),f=i(u);return u.write(),f}case Kc.STOP:return!0}},Nv=["alloy/data/Fields","alloy/debugging/Debugging"],Qi=()=>{const t=new Error;if(t.stack!==void 0){const s=t.stack.split(`
`);return en(s,i=>i.indexOf("alloy")>0&&!Ms(Nv,c=>i.indexOf(c)>-1)).getOr(Wk)}else return Wk},$3={logEventCut:te,logEventStopped:te,logNoParent:te,logEventNoHandlers:te,logEventResponse:te,write:te},fS=(t,s,i)=>Zs(t,s,i),kp=_($3),Ef=_([Ie("menu"),Ie("selectedMenu")]),Dl=_([Ie("item"),Ie("selectedItem")]);_(Wt(Dl().concat(Ef())));const Da=_(Wt(Dl())),Gk=Wu("initSize",[Ie("numColumns"),Ie("numRows")]),j3=()=>qn("markers",Da()),Op=()=>Wu("markers",[Ie("backgroundMenu")].concat(Ef()).concat(Dl())),lu=t=>Wu("markers",We(t,Ie)),Pv=(t,s,i)=>(Qi(),Ks(s,s,i,fg(c=>bn.value((...u)=>c.apply(void 0,u))))),kn=t=>Pv("onHandler",t,ov(te)),Ur=t=>Pv("onKeyboardHandler",t,ov(D.none)),Tf=t=>Pv("onHandler",t,jc()),Sg=t=>Pv("onKeyboardHandler",t,jc()),Oo=(t,s)=>Gn(t,_(s)),_f=t=>Gn(t,At),ed=_(Gk);var qk=[Ys("contextual",[Fs("fadeInClass"),Fs("fadeOutClass"),Fs("transitionClass"),uc("lazyContext"),kn("onShow"),kn("onShown"),kn("onHide"),kn("onHidden")]),Mo("lazyViewport",()=>({bounds:Vs(),optScrollEnv:D.none()})),qu("modes",["top","bottom"],lt),kn("onDocked"),kn("onUndocked")],Kk=Object.freeze({__proto__:null,init:t=>{const s=Pt(!1),i=Pt(!0),c=So(),u=Pt(t.modes),f=()=>`docked:  ${s.get()}, visible: ${i.get()}, modes: ${u.get().join(",")}`;return jr({isDocked:s.get,setDocked:s.set,getInitialPos:c.get,setInitialPos:c.set,clearInitialPos:c.clear,isVisible:i.get,setVisible:i.set,getModes:u.get,setModes:u.set,readState:f})}});const wo=Js({fields:qk,name:"docking",active:Ap,apis:I3,state:Kk}),wg=(t,s,i)=>Yn(s,t.element)&&!Yn(s,i),H3=no([b3(_l(),(t,s)=>{const i=s.event,c=i.originator,u=i.target;return wg(t,c,u)?(console.warn(_l()+` did not get interpreted by the desired target. 
Originator: `+Qu(c)+`
Target: `+Qu(u)+`
Check the `+_l()+" event handlers"),!1):!0})]);var U3=Object.freeze({__proto__:null,events:H3});const Af=(t,s,i,c)=>{const u=t+s;return u>c?i:u<i?c:u},dc=(t,s,i)=>Math.min(Math.max(t,s),i),Mv=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let uu=0;const yt=t=>{const i=new Date().getTime(),c=Math.floor(Mv()*1e9);return uu++,t+"_"+c+uu+String(i)},z3=_("alloy-id-"),Yk=_("data-alloy-id"),V3=z3(),Xk=Yk(),Jk=(t,s)=>{const i=yt(V3+t);return mS(s,i),i},mS=(t,s)=>{Object.defineProperty(t.dom,Xk,{value:s,writable:!0})},Eg=t=>{const s=ys(t)?t.dom[Xk]:null;return D.from(s)},Dp=t=>yt(t),W3=At,Tg=t=>{const s=u=>`The component must be in a context to execute: ${u}`+(t?`
`+Qu(t().element)+" is not in context.":""),i=u=>()=>{throw new Error(s(u))},c=u=>()=>{console.warn(s(u))};return{debugInfo:_("fake"),triggerEvent:c("triggerEvent"),triggerFocus:c("triggerFocus"),triggerEscape:c("triggerEscape"),broadcast:c("broadcast"),broadcastOn:c("broadcastOn"),broadcastEvent:c("broadcastEvent"),build:i("build"),buildOrPatch:i("buildOrPatch"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:ln}},G3=Tg(),Iv=yt("alloy-premade"),fc=t=>(Object.defineProperty(t.element.dom,Iv,{value:t.uid,writable:!0}),lf(Iv,t)),q3=t=>jn(t.dom,Iv),Bv=t=>at(t,Iv),Fv=t=>y3((s,...i)=>t(s.getApis(),s,...i),t),K3=(t,s)=>{const i=We(s,u=>Ys(u.name(),[Ie("config"),ge("state",Vc)])),c=qo("component.behaviours",Wt(i),t.behaviours).fold(u=>{throw new Error(cp(u)+`
Complete spec:
`+JSON.stringify(t,null,2))},At);return{list:s,data:To(c,u=>{const f=u.map(m=>({config:m.config,state:m.state.init(m.config)}));return _(f)})}},Y3=t=>t.list,Zk=t=>t.data,pS=(t,s)=>{const i={};return Is(t,(c,u)=>{Is(c,(f,m)=>{const b=at(i,m).getOr([]);i[m]=b.concat([s(u,f)])})}),i},X3=(t,s,i,c)=>{const u={...s};ht(i,O=>{u[O.name()]=O.exhibit(t,c)});const f=pS(u,(O,M)=>({name:O,modification:M})),m=O=>Ou(O,(M,L)=>({...L.modification,...M}),{}),b=Ou(f.classes,(O,M)=>M.modification.concat(O),[]),S=m(f.attributes),A=m(f.styles);return Zi({classes:b,attributes:S,styles:A})},Qk=(t,s,i,c)=>{try{const u=Yl(i,(f,m)=>{const b=f[s],S=m[s],A=c.indexOf(b),O=c.indexOf(S);if(A===-1)throw new Error("The ordering for "+t+" does not have an entry for "+b+`.
Order specified: `+JSON.stringify(c,null,2));if(O===-1)throw new Error("The ordering for "+t+" does not have an entry for "+S+`.
Order specified: `+JSON.stringify(c,null,2));return A<O?-1:O<A?1:0});return bn.value(u)}catch(u){return bn.error([u])}},J3=(t,s)=>({handler:t,purpose:s}),_g=(t,s)=>({cHandler:t,purpose:s}),Z3=(t,s)=>_g(Qn.apply(void 0,[t.handler].concat(s)),t.purpose),kf=t=>t.cHandler,hS=(t,s)=>({name:t,handler:s}),eO=(t,s)=>{const i={};return ht(t,c=>{i[c.name()]=c.handlers(s)}),i},Lv=(t,s,i)=>{const c={...i,...eO(s,t)};return pS(c,hS)},gS=(t,s,i,c)=>{const u=Lv(t,i,c);return Q3(u,s)},bS=t=>{const s=vk(t);return(i,c,...u)=>{const f=[i,c].concat(u);s.abort.apply(void 0,f)?c.stop():s.can.apply(void 0,f)&&s.run.apply(void 0,f)}},tO=(t,s)=>bn.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(We(s,i=>i.name),null,2)]),yS=(t,s,i)=>{const c=s[i];return c?Qk("Event: "+i,"name",t,c).map(u=>{const f=We(u,m=>m.handler);return d3(f)}):tO(i,t)},Q3=(t,s)=>{const i=Ru(t,(c,u)=>(c.length===1?bn.value(c[0].handler):yS(c,s,u)).map(m=>{const b=bS(m),S=c.length>1?eo(s[u],A=>Ms(c,O=>O.name===A)).join(" > "):c[0].name;return lf(u,J3(b,S))}));return l3(i,{})},Of="alloy.base.behaviour",nO=Wt([Ks("dom","dom",jc(),Wt([Ie("tag"),ge("styles",{}),ge("classes",[]),ge("attributes",{}),Hn("value"),Hn("innerHtml")])),Ie("components"),Ie("uid"),ge("events",{}),ge("apis",{}),Ks("eventOrder","eventOrder",n3({[pi()]:["disabling",Of,"toggling","typeaheadevents"],[_l()]:[Of,"focusing","keying"],[hv()]:[Of,"disabling","toggling","representing","tooltipping"],[Tl()]:[Of,"representing","streaming","invalidating"],[iu()]:[Of,"representing","item-events","toolbar-button-events","tooltipping"],[Ji()]:["focusing",Of,"item-type-events"],[su()]:["focusing",Of,"item-type-events"],[El()]:["item-type-events","tooltipping"],[Ku()]:["receiving","reflecting","tooltipping"]}),cc()),Hn("domModification")]),td=t=>qo("custom.definition",nO,t),Df=t=>({...t.dom,uid:t.uid,domChildren:We(t.components,s=>s.element)}),e5=t=>t.domModification.fold(()=>Zi({}),Zi),ke=t=>t.events,mc=t=>t.dom.value,Rf=(t,s)=>{if(s===void 0)throw new Error("Value.set was undefined");t.dom.value=s},t5=(t,s,i)=>Bc(t,s).map(u=>{if(i.exists(m=>!Yn(m,u))){const m=i.map(ds).getOr("span"),b=nt.fromTag(m);return Wn(u,b),b}else return u}),$v=(t,s,i)=>{i.fold(()=>zo(t,s),c=>{Yn(c,s)||(Wn(c,s),rr(c))})},pc=(t,s,i)=>{const c=We(s,i),u=Gi(t);return ht(u.slice(c.length),rr),c},vS=(t,s,i,c)=>{const u=Bc(t,s),f=c(i,u),m=t5(t,s,u);return $v(t,f.element,m),f},oO=(t,s,i)=>pc(t,s,(c,u)=>vS(t,u,c,i)),sO=(t,s)=>pc(t,s,(i,c)=>{const u=Bc(t,c);return $v(t,i,u),i}),jv=(t,s)=>{const i=Jo(t),c=Jo(s),u=qt(c,i),f=si(t,(m,b)=>!jn(s,b)||m!==s[b]).t;return{toRemove:u,toSet:f}},n5=(t,s)=>{const{class:i,style:c,...u}=qy(s),{toSet:f,toRemove:m}=jv(t.attributes,u),b=()=>{ht(m,de=>_o(s,de)),Zm(s,f)},S=H(s),{toSet:A,toRemove:O}=jv(t.styles,S),M=()=>{ht(O,de=>V(s,de)),Fu(s,A)},L=A3(s),z=qt(L,t.classes),q=qt(t.classes,L),X=()=>{Sp(s,q),Wc(s,z)},fe=de=>{Sf(s,de)},Z=()=>{const de=t.domChildren;sO(s,de)},ue=()=>{const de=s,Ee=t.value.getOrUndefined();Ee!==mc(de)&&Rf(de,Ee??"")};return b(),X(),M(),t.innerHtml.fold(Z,fe),ue(),s},rO=t=>{const s=nt.fromTag(t.tag);Zm(s,t.attributes),Sp(s,t.classes),Fu(s,t.styles),t.innerHtml.each(c=>Sf(s,c));const i=t.domChildren;return di(s,i),t.value.each(c=>{Rf(s,c)}),s},o5=(t,s)=>{try{const i=n5(t,s);return D.some(i)}catch{return D.none()}},iO=t=>t.innerHtml.isSome()&&t.domChildren.length>0,s5=(t,s)=>{const i=u=>ds(u)===t.tag&&!iO(t)&&!q3(u),c=s.filter(i).bind(u=>o5(t,u)).getOrThunk(()=>rO(t));return mS(c,t.uid),c},aO=t=>{const s=at(t,"behaviours").getOr({});return De(Jo(s),i=>{const c=s[i];return ae(c)?[c.me]:[]})},r5=(t,s)=>K3(t,s),i5=t=>{const s=aO(t);return r5(t,s)},cO=(t,s,i)=>{const c=Df(t),u=e5(t),f={"alloy.base.modification":u},m=s.length>0?X3(i,f,s,c):u;return Ev(c,m)},Hv=(t,s,i)=>{const c={"alloy.base.behaviour":ke(t)};return gS(i,t.eventOrder,s,c).getOrDie()},a5=(t,s)=>{const i=()=>de,c=Pt(G3),u=Ve(td(t)),f=i5(t),m=Y3(f),b=Zk(f),S=cO(u,m,b),A=s5(S,s),O=Hv(u,m,b),M=Pt(u.components),L=Ee=>{c.set(Ee)},z=()=>{c.set(Tg(i))},q=()=>{const Ee=Gi(A),_e=De(Ee,Ze=>c.get().getByDom(Ze).fold(()=>[],ls));M.set(_e)},X=Ee=>{const _e=b;return(Pe(_e[Ee.name()])?_e[Ee.name()]:()=>{throw new Error("Could not find "+Ee.name()+" in "+JSON.stringify(t,null,2))})()},fe=Ee=>Pe(b[Ee.name()]),Z=()=>u.apis,ue=Ee=>b[Ee]().map(_e=>_e.state.readState()).getOr("not enabled"),de={uid:t.uid,getSystem:c.get,config:X,hasConfigured:fe,spec:t,readState:ue,getApis:Z,connect:L,disconnect:z,element:A,syncComponents:q,components:M.get,events:O};return de},lO=(t,s)=>{const i=at(t,"components").getOr([]);return s.fold(()=>We(i,yr),c=>We(i,(u,f)=>CS(u,Bc(c,f))))},c5=(t,s)=>{const{events:i,...c}=W3(t),u=lO(c,s),f={...c,events:{...U3,...i},components:u};return bn.value(a5(f,s))},Wo=t=>{const s=nt.fromText(t);return xS({element:s})},xS=t=>{const s=mi("external.component",Yi([Ie("element"),Hn("uid")]),t),i=Pt(Tg()),c=b=>{i.set(b)},u=()=>{i.set(Tg(()=>m))},f=s.uid.getOrThunk(()=>Dp("external"));mS(s.element,f);const m={uid:f,getSystem:i.get,config:D.none,hasConfigured:ln,connect:c,disconnect:u,getApis:()=>({}),element:s.element,spec:t,readState:_("No state"),syncComponents:te,components:_([]),events:{}};return fc(m)},uO=Dp,dO=t=>jn(t,"uid"),CS=(t,s)=>Bv(t).getOrThunk(()=>{const i=dO(t)?t:{uid:uO(""),...t};return c5(i,s).getOrDie()}),yr=t=>CS(t,D.none()),ea=fc;var fO=(t,s,i,c,u)=>t(i,c)?D.some(i):Pe(u)&&u(i)?D.none():s(i,c,u);const SS=(t,s,i)=>{let c=t.dom;const u=Pe(i)?i:ln;for(;c.parentNode;){c=c.parentNode;const f=nt.fromDom(c);if(s(f))return D.some(f);if(u(f))break}return D.none()},wS=(t,s,i)=>fO((u,f)=>f(u),SS,t,s,i),l5=(t,s)=>{const i=t.dom;return i.parentNode?Uv(nt.fromDom(i.parentNode),c=>!Yn(t,c)&&s(c)):D.none()},Uv=(t,s)=>{const i=u=>s(nt.fromDom(u));return en(t.dom.childNodes,i).map(nt.fromDom)},mO=(t,s)=>{const i=c=>{for(let u=0;u<c.childNodes.length;u++){const f=nt.fromDom(c.childNodes[u]);if(s(f))return D.some(f);const m=i(c.childNodes[u]);if(m.isSome())return m}return D.none()};return i(t.dom)},ES=(t,s,i)=>wS(t,s,i).isSome(),Jq=t=>Km(t),$s=(t,s,i)=>SS(t,c=>ii(c,s),i),Zq=(t,s)=>l5(t,i=>ii(i,s)),hc=(t,s)=>Uv(t,i=>ii(i,s)),Bo=(t,s)=>Km(s,t),Rl=(t,s,i)=>fO((u,f)=>ii(u,f),$s,t,s,i),Ag="aria-controls",u5=t=>wS(t,i=>{if(!ys(i))return!1;const c=an(i,"id");return c!==void 0&&c.indexOf(Ag)>-1}).bind(i=>{const c=an(i,"id"),u=gr(i);return Bo(u,`[${Ag}="${c}"]`)}),pO=()=>{const t=yt(Ag);return{id:t,link:c=>{$t(c,Ag,t)},unlink:c=>{_o(c,Ag)}}},hO=(t,s)=>u5(s).exists(i=>nd(t,i)),nd=(t,s)=>ES(s,i=>Yn(i,t.element),ln)||hO(t,s),vr=(t,s,i,c,u,f,m,b=!1)=>({x:t,y:s,bubble:i,direction:c,placement:u,restriction:f,label:`${m}-${u}`,alwaysFit:b}),Nl=Ri.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),gO=(t,s,i,c,u,f,m,b,S)=>t.fold(s,i,c,u,f,m,b,S),d5=(t,s,i,c)=>t.fold(s,s,c,c,s,c,i,i),TS=(t,s,i,c)=>t.fold(s,c,s,c,i,i,s,c),zv=Nl.southeast,_S=Nl.southwest,AS=Nl.northeast,Vv=Nl.northwest,vt=Nl.south,kg=Nl.north,kS=Nl.east,bO=Nl.west,f5=(t,s)=>{switch(s){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},xr=(t,s)=>Du(["left","right","top","bottom"],i=>at(s,i).map(c=>f5(t,c))),yO=(t,s,i)=>{const c=(S,A)=>s[S].map(O=>{const M=S==="top"||S==="bottom",L=M?i.top:i.left,q=(S==="left"||S==="top"?Math.max:Math.min)(O,A)+L;return M?dc(q,t.y,t.bottom):dc(q,t.x,t.right)}).getOr(A),u=c("left",t.x),f=c("top",t.y),m=c("right",t.right),b=c("bottom",t.bottom);return Zo(u,f,m-u,b-f)},od="layout",vO=t=>t.x,OS=(t,s)=>t.x+t.width/2-s.width/2,xO=(t,s)=>t.x+t.width-s.width,Cr=(t,s)=>t.y-s.height,Nf=t=>t.y+t.height,CO=(t,s)=>t.y+t.height/2-s.height/2,m5=t=>t.x+t.width,p5=(t,s)=>t.x-s.width,ks=(t,s,i)=>vr(vO(t),Nf(t),i.southeast(),zv(),"southeast",xr(t,{left:1,top:3}),od),Os=(t,s,i)=>vr(xO(t,s),Nf(t),i.southwest(),_S(),"southwest",xr(t,{right:0,top:3}),od),cr=(t,s,i)=>vr(vO(t),Cr(t,s),i.northeast(),AS(),"northeast",xr(t,{left:1,bottom:2}),od),lr=(t,s,i)=>vr(xO(t,s),Cr(t,s),i.northwest(),Vv(),"northwest",xr(t,{right:0,bottom:2}),od),Qs=(t,s,i)=>vr(OS(t,s),Cr(t,s),i.north(),kg(),"north",xr(t,{bottom:2}),od),Ss=(t,s,i)=>vr(OS(t,s),Nf(t),i.south(),vt(),"south",xr(t,{top:3}),od),DS=(t,s,i)=>vr(m5(t),CO(t,s),i.east(),kS(),"east",xr(t,{left:0}),od),RS=(t,s,i)=>vr(p5(t,s),CO(t,s),i.west(),bO(),"west",xr(t,{right:1}),od),SO=()=>[ks,Os,cr,lr,Ss,Qs,DS,RS],wO=()=>[Os,ks,lr,cr,Ss,Qs,DS,RS],EO=()=>[cr,lr,ks,Os,Qs,Ss],TO=()=>[lr,cr,Os,ks,Qs,Ss],Og=()=>[ks,Os,cr,lr,Ss,Qs],Wv=()=>[Os,ks,lr,cr,Ss,Qs],h5=(t,s)=>s.universal?t:eo(t,i=>uo(s.channels,i));var b5=Object.freeze({__proto__:null,events:t=>no([Me(Ku(),(s,i)=>{const c=t.channels,u=Jo(c),f=i,m=h5(u,f);ht(m,b=>{const S=c[b],A=S.schema,O=mi("channel["+b+`] data
Receiver: `+Qu(s.element),A,f.data);S.onReceive(s,O)})})])}),y5=[qn("channels",Uc(bn.value,Yi([Tf("onReceive"),ge("schema",cc())])))];const Ni=Js({fields:y5,name:"receiving",active:b5});var x5=Object.freeze({__proto__:null,exhibit:(t,s)=>Zi({classes:[],styles:s.useFixed()?{}:{position:"relative"}})});const Ra=(t,s=!1)=>t.dom.focus({preventScroll:s}),Dg=t=>t.dom.blur(),Rp=t=>{const s=gr(t).dom;return t.dom===s.activeElement},Pl=(t=xl())=>D.from(t.dom.activeElement).map(nt.fromDom),zr=t=>Pl(gr(t)).filter(s=>t.dom.contains(s.dom)),NS=(t,s)=>{const i=gr(s),c=Pl(i).bind(f=>{const m=b=>Yn(f,b);return m(s)?D.some(s):mO(s,m)}),u=t(s);return c.each(f=>{Pl(i).filter(m=>Yn(m,f)).fold(()=>{Ra(f)},te)}),u},sd=Ri.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),_O=(t,s,i,c,u,f)=>{const m=s.rect,b=m.x-i,S=m.y-c,A=m.width,O=m.height,M=u-(b+A),L=f-(S+O),z=D.some(b),q=D.some(S),X=D.some(M),fe=D.some(L),Z=D.none();return gO(s.direction,()=>Gc(t,z,q,Z,Z),()=>Gc(t,Z,q,X,Z),()=>Gc(t,z,Z,Z,fe),()=>Gc(t,Z,Z,X,fe),()=>Gc(t,z,q,Z,Z),()=>Gc(t,z,Z,Z,fe),()=>Gc(t,z,q,Z,Z),()=>Gc(t,Z,q,X,Z))},Gv=(t,s)=>t.fold(()=>{const i=s.rect;return Gc("absolute",D.some(i.x),D.some(i.y),D.none(),D.none())},(i,c,u,f)=>_O("absolute",s,i,c,u,f),(i,c,u,f)=>_O("fixed",s,i,c,u,f)),PS=(t,s)=>{const i=Qn(NC,s),c=t.fold(i,i,()=>{const m=Po();return NC(s).translate(-m.left,-m.top)}),u=gn(s),f=Xe(s);return Zo(c.left,c.top,u,f)},Rg=(t,s)=>s.fold(()=>t.fold(Vs,Vs,Zo),i=>t.fold(_(i),_(i),()=>{const c=AO(t,i.x,i.y);return Zo(c.left,c.top,i.width,i.height)})),AO=(t,s,i)=>{const c=Ht(s,i),u=()=>{const f=Po();return c.translate(-f.left,-f.top)};return t.fold(_(c),_(c),u)},C5=(t,s,i,c)=>t.fold(s,i,c);sd.none;const S5=sd.relative,w5=sd.fixed,E5=(t,s)=>({anchorBox:t,origin:s}),MS=(t,s)=>E5(t,s),IS="data-alloy-placement",T5=(t,s)=>{$t(t,IS,s)},kO=t=>Us(t,IS),_5=t=>_o(t,IS),qv=Ri.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),A5=(t,s)=>{const{x:i,y:c,right:u,bottom:f}=s,{x:m,y:b,right:S,bottom:A,width:O,height:M}=t,L=m>=i&&m<=u,z=b>=c&&b<=f,q=L&&z,X=S<=u&&S>=i,fe=A<=f&&A>=c,Z=X&&fe,ue=Math.min(O,m>=i?u-m:S-i),de=Math.min(M,b>=c?f-b:A-c);return{originInBounds:q,sizeInBounds:Z,visibleW:ue,visibleH:de}},OO=(t,s)=>{const{x:i,y:c,right:u,bottom:f}=s,{x:m,y:b,width:S,height:A}=t,O=Math.max(i,u-S),M=Math.max(c,f-A),L=dc(m,i,O),z=dc(b,c,M),q=Math.min(L+S,u)-L,X=Math.min(z+A,f)-z;return Zo(L,z,q,X)},k5=(t,s,i)=>{const c=_(s.bottom-i.y),u=_(i.bottom-s.y),f=d5(t,u,u,c),m=_(s.right-i.x),b=_(i.right-s.x);return{maxWidth:TS(t,b,b,m),maxHeight:f}},DO=(t,s,i,c)=>{const u=t.bubble,f=u.offset,m=yO(c,t.restriction,f),b=t.x+f.left,S=t.y+f.top,A=Zo(b,S,s,i),{originInBounds:O,sizeInBounds:M,visibleW:L,visibleH:z}=A5(A,m),q=O&&M,X=q?A:OO(A,m),fe=X.width>0&&X.height>0,{maxWidth:Z,maxHeight:ue}=k5(t.direction,X,c),de={rect:X,maxHeight:ue,maxWidth:Z,direction:t.direction,placement:t.placement,classes:{on:u.classesOn,off:u.classesOff},layout:t.label,testY:S};return q||t.alwaysFit?qv.fit(de):qv.nofit(de,L,z,fe)},Kv=(t,s,i,c,u,f)=>{const m=c.width,b=c.height,S=(O,M,L,z,q)=>{const X=O(i,c,u,t,f),fe=DO(X,m,b,f);return fe.fold(_(fe),(Z,ue,de,Ee)=>(q===Ee?de>z||ue>L:!q&&Ee)?fe:qv.nofit(M,L,z,q))};return rs(s,(O,M)=>{const L=Qn(S,M);return O.fold(_(O),L)},qv.nofit({rect:i,maxHeight:c.height,maxWidth:c.width,direction:zv(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:i.y},-1,-1,!1)).fold(At,At)},RO=Ot,Xr=(t,s,i)=>Xn(t,s,RO,i),BS=(t,s,i)=>dn(t,s,RO,i),NO=Vt,FS=["top","bottom","right","left"],Ng="data-alloy-transition-timer",O5=(t,s)=>zq(t,s.classes),D5=(t,s,i)=>i.exists(c=>{const u=t.mode;return u==="all"?!0:c[u]!==s[u]}),R5=(t,s)=>{const i=c=>parseFloat(c).toFixed(3);return hr(s,(c,u)=>{const f=t[u].map(i),m=c.map(i);return!_i(f,m)}).isSome()},N5=t=>{const s=f=>{const b=C(t,f).split(/\s*,\s*/);return eo(b,Zl)},i=f=>{if(j(f)&&/^[\d.]+/.test(f)){const m=parseFloat(f);return Pu(f,"ms")?m:m*1e3}else return 0},c=s("transition-delay"),u=s("transition-duration");return rs(u,(f,m,b)=>{const S=i(c[b])+i(m);return Math.max(f,S)},0)},P5=(t,s)=>{const i=ac(),c=ac();let u;const f=A=>{var O;const M=(O=A.raw.pseudoElement)!==null&&O!==void 0?O:"";return Yn(A.target,t)&&oc(M)&&uo(FS,A.raw.propertyName)},m=A=>{if(ie(A)||f(A)){i.clear(),c.clear();const O=A==null?void 0:A.raw.type;(ie(O)||O===hg())&&(clearTimeout(u),_o(t,Ng),Wc(t,s.classes))}},b=Xr(t,ff(),A=>{f(A)&&(b.unbind(),i.set(Xr(t,hg(),m)),c.set(Xr(t,m3(),m)))}),S=N5(t);requestAnimationFrame(()=>{u=setTimeout(m,S+17),$t(t,Ng,u)})},M5=(t,s)=>{Sp(t,s.classes),Us(t,Ng).each(i=>{clearTimeout(parseInt(i,10)),_o(t,Ng)}),P5(t,s)},I5=(t,s,i,c,u,f)=>{const m=D5(c,u,f);if(m||O5(t,c)){rn(t,"position",i.position);const b=PS(s,t),S=Gv(s,{...u,rect:b}),A=Du(FS,O=>S[O]);R5(i,A)&&(g(t,A),m&&M5(t,c),me(t))}else Wc(t,c.classes)},Yv=t=>({width:gn(t),height:Xe(t)}),B5=(t,s,i,c)=>{V(s,"max-height"),V(s,"max-width");const u=Yv(s);return Kv(s,c.preference,t,u,i,c.bounds)},F5=(t,s)=>{const i=s.classes;Wc(t,i.off),Sp(t,i.on)},L5=(t,s,i)=>{const c=i.maxHeightFunction;c(t,s.maxHeight)},$5=(t,s,i)=>{const c=i.maxWidthFunction;c(t,s.maxWidth)},j5=(t,s,i)=>{const c=Gv(i.origin,s);i.transition.each(u=>{I5(t,i.origin,c,u,s,i.lastPlacement)}),Hr(t,c)},H5=(t,s)=>{T5(t,s.placement)},PO=(t,s)=>{je(t,Math.floor(s))},MO=_((t,s)=>{PO(t,s),Fu(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Np=_((t,s)=>{PO(t,s)}),IO=(t,s,i)=>t[s]===void 0?i:t[s],U5=(t,s,i,c,u,f,m,b)=>{const S=IO(m,"maxHeightFunction",MO()),A=IO(m,"maxWidthFunction",te),O=t.anchorBox,M=t.origin,L={bounds:Rg(M,f),origin:M,preference:c,maxHeightFunction:S,maxWidthFunction:A,lastPlacement:u,transition:b};return z5(O,s,i,L)},z5=(t,s,i,c)=>{const u=B5(t,s,i,c);return j5(s,u,c),H5(s,u),F5(s,u),L5(s,u,c),$5(s,u,c),{layout:u.layout,placement:u.placement}},BO=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],gc=(t,s,i,c=1)=>{const u=t*c,f=s*c,m=S=>at(i,S).getOr([]),b=(S,A,O)=>{const M=qt(BO,O);return{offset:Ht(S,A),classesOn:De(O,m),classesOff:De(M,m)}};return{southeast:()=>b(-t,s,["top","alignLeft"]),southwest:()=>b(t,s,["top","alignRight"]),south:()=>b(-t/2,s,["top","alignCentre"]),northeast:()=>b(-t,-s,["bottom","alignLeft"]),northwest:()=>b(t,-s,["bottom","alignRight"]),north:()=>b(-t/2,-s,["bottom","alignCentre"]),east:()=>b(t,-s/2,["valignCentre","left"]),west:()=>b(-t,-s/2,["valignCentre","right"]),insetNortheast:()=>b(u,f,["top","alignLeft","inset"]),insetNorthwest:()=>b(-u,f,["top","alignRight","inset"]),insetNorth:()=>b(-u/2,f,["top","alignCentre","inset"]),insetSoutheast:()=>b(u,-f,["bottom","alignLeft","inset"]),insetSouthwest:()=>b(-u,-f,["bottom","alignRight","inset"]),insetSouth:()=>b(-u/2,-f,["bottom","alignCentre","inset"]),insetEast:()=>b(-u,-f/2,["valignCentre","right","inset"]),insetWest:()=>b(u,-f/2,["valignCentre","left","inset"])}},Xv=()=>gc(0,0,{}),Jv=At,LS=(t,s)=>i=>FO(i)==="rtl"?s:t,FO=t=>C(t,"direction")==="rtl"?"rtl":"ltr";var du;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(du||(du={}));const $S="data-alloy-vertical-dir",V5=t=>ES(t,s=>ys(s)&&an(s,"data-alloy-vertical-dir")===du.BottomToTop),rd=()=>Ys("layouts",[Ie("onLtr"),Ie("onRtl"),Hn("onBottomLtr"),Hn("onBottomRtl")]),Zv=(t,s,i,c,u,f,m)=>{const b=m.map(V5).getOr(!1),S=s.layouts.map(z=>z.onLtr(t)),A=s.layouts.map(z=>z.onRtl(t)),O=b?s.layouts.bind(z=>z.onBottomLtr.map(q=>q(t))).or(S).getOr(u):S.getOr(i),M=b?s.layouts.bind(z=>z.onBottomRtl.map(q=>q(t))).or(A).getOr(f):A.getOr(c);return LS(O,M)(t)},LO=(t,s,i)=>{const c=s.hotspot,u=PS(i,c.element),f=Zv(t.element,s,Og(),Wv(),EO(),TO(),D.some(s.hotspot.element));return D.some(Jv({anchorBox:u,bubble:s.bubble.getOr(Xv()),overrides:s.overrides,layouts:f}))};var W5=[Ie("hotspot"),Hn("bubble"),ge("overrides",{}),rd(),Oo("placement",LO)];const G5=(t,s,i)=>{const c=AO(i,s.x,s.y),u=Zo(c.left,c.top,s.width,s.height),f=Zv(t.element,s,SO(),wO(),SO(),wO(),D.none());return D.some(Jv({anchorBox:u,bubble:s.bubble,overrides:s.overrides,layouts:f}))};var q5=[Ie("x"),Ie("y"),ge("height",0),ge("width",0),ge("bubble",Xv()),ge("overrides",{}),rd(),Oo("placement",G5)];const jS=Ri.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),HS=t=>t.fold(At,(s,i,c)=>s.translate(-i,-c)),K5=t=>t.fold(At,At),$O=t=>rs(t,(s,i)=>s.translate(i.left,i.top),Ht(0,0)),Y5=t=>{const s=We(t,HS);return $O(s)},jO=t=>{const s=We(t,K5);return $O(s)},HO=jS.screen,UO=jS.absolute,zO=(t,s,i)=>{const c=bl(i.root).dom,u=f=>{const m=Wi(f),b=Wi(t.element);return Yn(m,b)};return D.from(c.frameElement).map(nt.fromDom).filter(u).map(Do)},US=(t,s,i)=>{const c=Wi(t.element),u=Po(c),f=zO(t,s,i).getOr(u);return UO(f,u.left,u.top)},Qv=(t,s,i,c)=>{const u=HO(Ht(t,s));return D.some(op(u,i,c))},VO=(t,s,i,c,u)=>t.map(f=>{const m=[s,f.point],b=C5(c,()=>jO(m),()=>jO(m),()=>Y5(m)),S=sk(b.left,b.top,f.width,f.height),A=i.showAbove?EO():Og(),O=i.showAbove?TO():Wv(),M=Zv(u,i,A,O,A,O,D.none());return Jv({anchorBox:S,bubble:i.bubble.getOr(Xv()),overrides:i.overrides,layouts:M})}),X5=(t,s,i)=>{const c=US(t,i,s);return s.node.filter(ai).bind(u=>{const f=u.dom.getBoundingClientRect(),m=Qv(f.left,f.top,f.width,f.height),b=s.node.getOr(t.element);return VO(m,c,s,i,b)})};var J5=[Ie("node"),Ie("root"),Hn("bubble"),rd(),ge("overrides",{}),ge("showAbove",!1),Oo("placement",X5)];const Z5="\uFEFF",Q5="Â ",e1={create:(t,s,i,c)=>({start:t,soffset:s,finish:i,foffset:c})},zS=Ri.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),e4=(t,s,i,c)=>t.fold(s,i,c),t4=t=>t.fold(At,At,At),WO=zS.before,n4=zS.on,o4=zS.after,GO={before:WO,on:n4,after:o4,cata:e4,getStart:t4},id=Ri.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Pg=t=>id.exact(t.start,t.soffset,t.finish,t.foffset),s4=t=>t.match({domRange:s=>nt.fromDom(s.startContainer),relative:(s,i)=>GO.getStart(s),exact:(s,i,c,u)=>s}),VS=id.domRange,r4=id.relative,qO=id.exact,KO=t=>{const s=s4(t);return bl(s)},YO=e1.create,Mg={domRange:VS,relative:r4,exact:qO,exactFromRange:Pg,getWin:KO,range:YO},i4=(t,s)=>{s.fold(i=>{t.setStartBefore(i.dom)},(i,c)=>{t.setStart(i.dom,c)},i=>{t.setStartAfter(i.dom)})},a4=(t,s)=>{s.fold(i=>{t.setEndBefore(i.dom)},(i,c)=>{t.setEnd(i.dom,c)},i=>{t.setEndAfter(i.dom)})},Pf=(t,s,i)=>{const c=t.document.createRange();return i4(c,s),a4(c,i),c},ad=(t,s,i,c,u)=>{const f=t.document.createRange();return f.setStart(s.dom,i),f.setEnd(c.dom,u),f},Ig=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),Bg=t=>{const s=t.getClientRects(),i=s.length>0?s[0]:t.getBoundingClientRect();return i.width>0||i.height>0?D.some(i).map(Ig):D.none()},c4=t=>{const s=t.getBoundingClientRect();return s.width>0||s.height>0?D.some(s).map(Ig):D.none()},bc=Ri.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Yc=(t,s,i)=>s(nt.fromDom(i.startContainer),i.startOffset,nt.fromDom(i.endContainer),i.endOffset),WS=(t,s)=>s.match({domRange:i=>({ltr:_(i),rtl:D.none}),relative:(i,c)=>({ltr:Ao(()=>Pf(t,i,c)),rtl:Ao(()=>D.some(Pf(t,c,i)))}),exact:(i,c,u,f)=>({ltr:Ao(()=>ad(t,i,c,u,f)),rtl:Ao(()=>D.some(ad(t,u,f,i,c)))})}),XO=(t,s)=>{const i=s.ltr();return i.collapsed?s.rtl().filter(u=>u.collapsed===!1).map(u=>bc.rtl(nt.fromDom(u.endContainer),u.endOffset,nt.fromDom(u.startContainer),u.startOffset)).getOrThunk(()=>Yc(t,bc.ltr,i)):Yc(t,bc.ltr,i)},l4=(t,s)=>{const i=WS(t,s);return XO(t,i)},GS=(t,s)=>l4(t,s).match({ltr:(c,u,f,m)=>{const b=t.document.createRange();return b.setStart(c.dom,u),b.setEnd(f.dom,m),b},rtl:(c,u,f,m)=>{const b=t.document.createRange();return b.setStart(f.dom,m),b.setEnd(c.dom,u),b}});bc.ltr,bc.rtl;const Mp=(t,s,i)=>eo(Ym(t,i),s),ur=(t,s)=>xa(s,t),qS=(t,s,i,c)=>{const f=Wi(t).dom.createRange();return f.setStart(t.dom,s),f.setEnd(i.dom,c),f},JO=(t,s,i,c)=>{const u=qS(t,s,i,c),f=Yn(t,i)&&s===c;return u.collapsed&&!f},Fg=t=>D.from(t.getSelection()),Lg=t=>{if(t.rangeCount>0){const s=t.getRangeAt(0),i=t.getRangeAt(t.rangeCount-1);return D.some(e1.create(nt.fromDom(s.startContainer),s.startOffset,nt.fromDom(i.endContainer),i.endOffset))}else return D.none()},u4=t=>{if(t.anchorNode===null||t.focusNode===null)return Lg(t);{const s=nt.fromDom(t.anchorNode),i=nt.fromDom(t.focusNode);return JO(s,t.anchorOffset,i,t.focusOffset)?D.some(e1.create(s,t.anchorOffset,i,t.focusOffset)):Lg(t)}},KS=t=>Fg(t).filter(s=>s.rangeCount>0).bind(u4),$g=(t,s)=>{const i=GS(t,s);return Bg(i)},dr=(t,s)=>{const i=GS(t,s);return c4(i)},Ml=((t,s)=>{const i=f=>{if(!t(f))throw new Error("Can only get "+s+" value of a "+s+" node");return c(f).getOr("")},c=f=>t(f)?D.from(f.dom.nodeValue):D.none();return{get:i,getOption:c,set:(f,m)=>{if(!t(f))throw new Error("Can only set raw "+s+" value of a "+s+" node");f.dom.nodeValue=m}}})(Ai,"text"),ZO=t=>Ml.get(t),Ip=(t,s)=>({element:t,offset:s}),Bp=(t,s)=>{const i=Gi(t);if(i.length===0)return Ip(t,s);if(s<i.length)return Ip(i[s],0);{const c=i[i.length-1],u=Ai(c)?ZO(c).length:Gi(c).length;return Ip(c,u)}},YS=(t,s)=>Ai(t)?Ip(t,s):Bp(t,s),Fp=t=>t.foffset!==void 0,QO=(t,s)=>s.getSelection.getOrThunk(()=>()=>KS(t))().map(c=>{if(Fp(c)){const u=YS(c.start,c.soffset),f=YS(c.finish,c.foffset);return Mg.range(u.element,u.offset,f.element,f.offset)}else return c}),eD=(t,s,i)=>{const c=bl(s.root).dom,u=US(t,i,s),f=QO(c,s).bind(S=>{if(Fp(S))return dr(c,Mg.exactFromRange(S)).orThunk(()=>{const O=nt.fromText(Z5);Wn(S.start,O);const M=$g(c,Mg.exact(O,0,O,1));return rr(O),M}).bind(O=>Qv(O.left,O.top,O.width,O.height));{const A=To(S,M=>M.dom.getBoundingClientRect()),O={left:Math.min(A.firstCell.left,A.lastCell.left),right:Math.max(A.firstCell.right,A.lastCell.right),top:Math.min(A.firstCell.top,A.lastCell.top),bottom:Math.max(A.firstCell.bottom,A.lastCell.bottom)};return Qv(O.left,O.top,O.right-O.left,O.bottom-O.top)}}),b=QO(c,s).bind(S=>Fp(S)?ys(S.start)?D.some(S.start):Sa(S.start):D.some(S.firstCell)).getOr(t.element);return VO(f,u,s,i,b)};var tD=[Hn("getSelection"),Ie("root"),Hn("bubble"),rd(),ge("overrides",{}),ge("showAbove",!1),Oo("placement",eD)];const t1="link-layout",n1=t=>t.x+t.width,Xc=(t,s)=>t.x-s.width,nD=(t,s)=>t.y-s.height+t.height,oD=t=>t.y,XS=(t,s,i)=>vr(n1(t),oD(t),i.southeast(),zv(),"southeast",xr(t,{left:0,top:2}),t1),JS=(t,s,i)=>vr(Xc(t,s),oD(t),i.southwest(),_S(),"southwest",xr(t,{right:1,top:2}),t1),ZS=(t,s,i)=>vr(n1(t),nD(t,s),i.northeast(),AS(),"northeast",xr(t,{left:0,bottom:3}),t1),sD=(t,s,i)=>vr(Xc(t,s),nD(t,s),i.northwest(),Vv(),"northwest",xr(t,{right:1,bottom:3}),t1),rD=()=>[XS,JS,ZS,sD],ta=()=>[JS,XS,sD,ZS],Lp=(t,s,i)=>{const c=PS(i,s.item.element),u=Zv(t.element,s,rD(),ta(),rD(),ta(),D.none());return D.some(Jv({anchorBox:c,bubble:Xv(),overrides:s.overrides,layouts:u}))};var iD=[Ie("item"),rd(),ge("overrides",{}),Oo("placement",Lp)],$p=qs("type",{selection:tD,node:J5,hotspot:W5,submenu:iD,makeshift:q5});const hi=[Xi("classes",lt),$r("mode","all",["all","layout","placement"])],Pi=[ge("useFixed",ln),Hn("getBounds")],Vr=[qn("anchor",$p),Ys("transition",hi)],yc=()=>{const t=document.documentElement;return w5(0,0,t.clientWidth,t.clientHeight)},QS=t=>{const s=Do(t.element),i=t.element.dom.getBoundingClientRect();return S5(s.left,s.top,i.width,i.height)},Na=(t,s,i,c,u,f)=>{const m=MS(s.anchorBox,t);return U5(m,c.element,s.bubble,s.layouts,u,i,s.overrides,f)},Mf=(t,s,i,c,u)=>{const f=D.none();aD(t,s,i,c,u,f)},aD=(t,s,i,c,u,f)=>{const m=mi("placement.info",Wt(Vr),u),b=m.anchor,S=c.element,A=i.get(c.uid);NS(()=>{rn(S,"position","fixed");const O=P(S,"visibility");rn(S,"visibility","hidden");const M=s.useFixed()?yc():QS(t);b.placement(t,b,M).each(L=>{const z=f.orThunk(()=>s.getBounds.map($n)),q=Na(M,L,z,c,A,m.transition);i.set(c.uid,q)}),O.fold(()=>{V(S,"visibility")},L=>{rn(S,"visibility",L)}),P(S,"left").isNone()&&P(S,"top").isNone()&&P(S,"right").isNone()&&P(S,"bottom").isNone()&&ri(P(S,"position"),"fixed")&&V(S,"position")},S)};var cD=Object.freeze({__proto__:null,position:Mf,positionWithinBounds:aD,getMode:(t,s,i)=>s.useFixed()?"fixed":"absolute",reset:(t,s,i,c)=>{const u=c.element;ht(["position","left","right","top","bottom"],f=>V(u,f)),_5(u),i.clear(c.uid)}}),o1=Object.freeze({__proto__:null,init:()=>{let t={};return jr({readState:()=>t,clear:u=>{ae(u)?delete t[u]:t={}},set:(u,f)=>{t[u]=f},get:u=>at(t,u)})}});const Sr=Js({fields:Pi,name:"positioning",active:x5,apis:cD,state:o1}),ew=t=>t.getSystem().isConnected(),jg=t=>{Sn(t,iu());const s=t.components();ht(s,jg)},Hg=t=>{const s=t.components();ht(s,Hg),Sn(t,Oa())},lD=(t,s)=>{t.getSystem().addToWorld(s),ai(t.element)&&Hg(s)},s1=t=>{jg(t),t.getSystem().removeFromWorld(t)},tw=(t,s)=>{zo(t.element,s.element)},nw=t=>{ht(t.components(),s=>rr(s.element)),Vo(t.element),t.syncComponents()},uD=(t,s,i)=>{const c=t.components();nw(t);const u=i(s),f=qt(c,u);ht(f,m=>{jg(m),t.getSystem().removeFromWorld(m)}),ht(u,m=>{ew(m)?tw(t,m):(t.getSystem().addToWorld(m),tw(t,m),ai(t.element)&&Hg(m))}),t.syncComponents()},f4=(t,s,i)=>{const c=t.components(),u=De(s,b=>Bv(b).toArray());ht(c,b=>{uo(u,b)||s1(b)});const f=i(s),m=qt(c,f);ht(m,b=>{ew(b)&&s1(b)}),ht(f,b=>{ew(b)||lD(t,b)}),t.syncComponents()},If=(t,s)=>{dD(t,s,zo)},dD=(t,s,i)=>{t.getSystem().addToWorld(s),i(t.element,s.element),ai(t.element)&&Hg(s),t.syncComponents()},fD=t=>{jg(t),rr(t.element),t.getSystem().removeFromWorld(t)},fu=t=>{const s=Ca(t.element).bind(i=>t.getSystem().getByDom(i).toOptional());fD(t),s.each(i=>{i.syncComponents()})},mD=t=>{const s=t.components();ht(s,fD),Vo(t.element),t.syncComponents()},Mi=(t,s)=>{Ug(t,s,zo)},ow=(t,s)=>{Ug(t,s,wn)},Ug=(t,s,i)=>{i(t,s.element);const c=Gi(s.element);ht(c,u=>{s.getByDom(u).each(Hg)})},Bf=t=>{const s=Gi(t.element);ht(s,i=>{t.getByDom(i).each(jg)}),rr(t.element)},r1=(t,s,i,c)=>{i.get().each(m=>{mD(t)});const u=s.getAttachPoint(t);If(u,t);const f=t.getSystem().build(c);return If(t,f),i.set(f),f},i1=(t,s,i,c)=>{const u=r1(t,s,i,c);return s.onOpen(t,u),u},m4=(t,s,i,c)=>i.get().map(()=>r1(t,s,i,c)),p4=(t,s,i,c,u)=>{bD(t,s),i1(t,s,i,c),u(),a1(t,s)},pD=(t,s,i)=>{i.get().each(c=>{mD(t),fu(t),s.onClose(t,c),i.clear()})},hD=(t,s,i)=>i.isOpen(),gD=(t,s,i,c)=>hD(t,s,i)&&i.get().exists(u=>s.isPartOf(t,u,c)),jp=(t,s,i)=>i.get(),zg=(t,s,i,c)=>{P(t.element,s).fold(()=>{_o(t.element,i)},u=>{$t(t.element,i,u)}),rn(t.element,s,c)},h4=(t,s,i)=>{Us(t.element,i).fold(()=>V(t.element,s),c=>rn(t.element,s,c))},bD=(t,s,i)=>{const c=s.getAttachPoint(t);rn(t.element,"position",Sr.getMode(c)),zg(t,"visibility",s.cloakVisibilityAttr,"hidden")},yD=t=>Ms(["top","left","right","bottom"],s=>P(t,s).isSome()),a1=(t,s,i)=>{yD(t.element)||V(t.element,"position"),h4(t,"visibility",s.cloakVisibilityAttr)};var sw=Object.freeze({__proto__:null,cloak:bD,decloak:a1,open:i1,openWhileCloaked:p4,close:pD,isOpen:hD,isPartOf:gD,getState:jp,setContent:m4}),c1=Object.freeze({__proto__:null,events:(t,s)=>no([Me(Xs(),(i,c)=>{pD(i,t,s)})])}),rw=[kn("onOpen"),kn("onClose"),Ie("isPartOf"),Ie("getAttachPoint"),ge("cloakVisibilityAttr","data-precloak-visibility")],Vg=Object.freeze({__proto__:null,init:()=>{const t=So(),s=_("not-implemented");return jr({readState:s,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const Dn=Js({fields:rw,name:"sandboxing",active:c1,apis:sw,state:Vg}),cd=_("dismiss.popups"),Ff=_("reposition.popups"),iw=_("mouse.released"),xD=Yi([ge("isExtraPart",ln),Ys("fireEventInstead",[ge("event",Yu())])]),Wg=t=>{const s=mi("Dismissal",xD,t);return{[cd()]:{schema:Yi([Ie("target")]),onReceive:(i,c)=>{Dn.isOpen(i)&&(Dn.isPartOf(i,c.target)||s.isExtraPart(i,c.target)||s.fireEventInstead.fold(()=>Dn.close(i),f=>Sn(i,f.event)))}}}},Hp=Yi([Ys("fireEventInstead",[ge("event",Sk())]),uc("doReposition")]),Gg=t=>{const s=mi("Reposition",Hp,t);return{[Ff()]:{onReceive:i=>{Dn.isOpen(i)&&s.fireEventInstead.fold(()=>s.doReposition(i),c=>Sn(i,c.event))}}}},aw=(t,s,i)=>{s.store.manager.onLoad(t,s,i)},CD=(t,s,i)=>{s.store.manager.onUnload(t,s,i)};var cw=Object.freeze({__proto__:null,onLoad:aw,onUnload:CD,setValue:(t,s,i,c)=>{s.store.manager.setValue(t,s,i,c)},getValue:(t,s,i)=>s.store.manager.getValue(t,s,i),getState:(t,s,i)=>i}),wD=Object.freeze({__proto__:null,events:(t,s)=>{const i=t.resetOnDom?[ko((c,u)=>{aw(c,t,s)}),Al((c,u)=>{CD(c,t,s)})]:[hf(t,s,aw)];return no(i)}});const qg=()=>{const t=Pt(null),s=()=>({mode:"memory",value:t.get()}),i=()=>t.get()===null,c=()=>{t.set(null)};return jr({set:t.set,get:t.get,isNotSet:i,clear:c,readState:s})},uw=()=>jr({readState:te}),ED=()=>{const t=Pt({}),s=Pt({});return jr({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:s.get()}),lookup:m=>at(t.get(),m).orThunk(()=>at(s.get(),m)),update:m=>{const b=t.get(),S=s.get(),A={},O={};ht(m,M=>{A[M.value]=M,at(M,"meta").each(L=>{at(L,"text").each(z=>{O[z]=M})})}),t.set({...b,...A}),s.set({...S,...O})},clear:()=>{t.set({}),s.set({})}})};var Il=Object.freeze({__proto__:null,memory:qg,dataset:ED,manual:uw,init:t=>t.store.manager.state(t)});const TD=(t,s,i,c)=>{const u=s.store;i.update([c]),u.setValue(t,c),s.onSetValue(t,c)},y4=(t,s,i)=>{const c=s.store,u=c.getDataKey(t);return i.lookup(u).getOrThunk(()=>c.getFallbackEntry(u))},Pa=(t,s,i)=>{s.store.initialValue.each(u=>{TD(t,s,i,u)})},er=(t,s,i)=>{i.clear()};var v4=[Hn("initialValue"),Ie("getFallbackEntry"),Ie("getDataKey"),Ie("setValue"),Oo("manager",{setValue:TD,getValue:y4,onLoad:Pa,onUnload:er,state:ED})];const dw=(t,s,i)=>s.store.getValue(t),x4=(t,s,i,c)=>{s.store.setValue(t,c),s.onSetValue(t,c)},_D=(t,s,i)=>{s.store.initialValue.each(c=>{s.store.setValue(t,c)})};var fw=[Ie("getValue"),ge("setValue",te),Hn("initialValue"),Oo("manager",{setValue:x4,getValue:dw,onLoad:_D,onUnload:te,state:Vc.init})];const Up=(t,s,i,c)=>{i.set(c),s.onSetValue(t,c)},AD=(t,s,i)=>i.get(),kD=(t,s,i)=>{s.store.initialValue.each(c=>{i.isNotSet()&&i.set(c)})},C4=(t,s,i)=>{i.clear()};var S4=[Hn("initialValue"),Oo("manager",{setValue:Up,getValue:AD,onLoad:kD,onUnload:C4,state:qg})],OD=[No("store",{mode:"memory"},qs("mode",{memory:S4,manual:fw,dataset:v4})),kn("onSetValue"),ge("resetOnDom",!1)];const ft=Js({fields:OD,name:"representing",active:wD,apis:cw,extra:{setValueFrom:(t,s)=>{const i=ft.getValue(s);ft.setValue(t,i)}},state:Il}),tr=(t,s)=>ZC(t,{},We(s,i=>KC(i.name(),"Cannot configure "+i.name()+" for "+t)).concat([Gn("dump",At)])),l1=t=>t.dump,nr=(t,s)=>({...qe(s),...t.dump}),Ma={field:tr,augment:nr,get:l1},mw="placeholder",Kg=Ri.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),zp=t=>jn(t,"uiType"),DD=(t,s,i,c)=>t.exists(u=>u!==i.owner)?Kg.single(!0,_(i)):at(c,i.name).fold(()=>{throw new Error("Unknown placeholder component: "+i.name+`
Known: [`+Jo(c)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(i,null,2))},u=>u.replace()),$f=(t,s,i,c)=>zp(i)&&i.uiType===mw?DD(t,s,i,c):Kg.single(!1,_(i)),Vp=(t,s,i,c)=>$f(t,s,i,c).fold((f,m)=>{const b=zp(i)?m(s,i.config,i.validated):m(s),S=at(b,"components").getOr([]),A=De(S,O=>Vp(t,s,O,c));return[{...b,components:A}]},(f,m)=>{if(zp(i)){const b=m(s,i.config,i.validated);return i.validated.preprocess.getOr(At)(b)}else return m(s)}),w4=(t,s,i,c)=>De(i,u=>Vp(t,s,u,c)),E4=(t,s)=>{let i=!1;const c=()=>i,u=()=>{if(i)throw new Error("Trying to use the same placeholder more than once: "+t);return i=!0,s},f=()=>s.fold((m,b)=>m,(m,b)=>m);return{name:_(t),required:f,used:c,replace:u}},T4=(t,s,i,c)=>{const u=To(c,(m,b)=>E4(b,m)),f=w4(t,s,i,u);return Is(u,m=>{if(m.used()===!1&&m.required())throw new Error("Placeholder: "+m.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(s.components,null,2))}),f},RD=Kg.single,ND=Kg.multiple,PD=_(mw),Yg=Ri.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),u1=ge("factory",{sketch:At}),pw=ge("schema",[]),Xg=Ie("name"),jf=Ks("pname","pname",nv(t=>"<alloy."+yt(t.name)+">"),cc()),MD=Gn("schema",()=>[Hn("preprocess")]),d1=ge("defaults",_({})),f1=ge("overrides",_({})),_4=Wt([u1,pw,Xg,jf,d1,f1]),A4=Wt([u1,pw,Xg,d1,f1]),k4=Wt([u1,pw,Xg,jf,d1,f1]),O4=Wt([u1,MD,Xg,Ie("unit"),jf,d1,f1]),ID=t=>t.fold(D.some,D.none,D.some,D.some),BD=t=>{const s=i=>i.name;return t.fold(s,s,s,s)},D4=t=>t.fold(At,At,At,At),m1=(t,s)=>i=>{const c=mi("Converting part type",s,i);return t(c)},Dr=m1(Yg.required,_4),Ia=m1(Yg.external,A4),na=m1(Yg.optional,k4),Jg=m1(Yg.group,O4),hw=_("entirety");var FD=Object.freeze({__proto__:null,required:Dr,external:Ia,optional:na,group:Jg,asNamedPart:ID,name:BD,asCommon:D4,original:hw});const gw=(t,s,i,c)=>Qo(s.defaults(t,i,c),i,{uid:t.partUids[s.name]},s.overrides(t,i,c)),LD=(t,s,i)=>{const c={},u={};return ht(i,f=>{f.fold(m=>{c[m.pname]=RD(!0,(b,S,A)=>m.factory.sketch(gw(b,m,S,A)))},m=>{const b=s.parts[m.name];u[m.name]=_(m.factory.sketch(gw(s,m,b[hw()]),b))},m=>{c[m.pname]=RD(!1,(b,S,A)=>m.factory.sketch(gw(b,m,S,A)))},m=>{c[m.pname]=ND(!0,(b,S,A)=>{const O=b[m.name];return We(O,M=>m.factory.sketch(Qo(m.defaults(b,M,A),M,m.overrides(b,M))))})})}),{internals:_(c),externals:_(u)}},bw=(t,s)=>{const i={};return ht(s,c=>{ID(c).each(u=>{const f=R4(t,u.pname);i[u.name]=m=>{const b=mi("Part: "+u.name+" in "+t,Wt(u.schema),m);return{...f,config:m,validated:b}}})}),i},R4=(t,s)=>({uiType:PD(),owner:t,name:s}),Zg=(t,s,i)=>({uiType:PD(),owner:t,name:s,config:i,validated:{}}),$D=t=>De(t,s=>s.fold(D.none,D.some,D.none,D.none).map(i=>Wu(i.name,i.schema.concat([_f(hw())]))).toArray()),jD=t=>We(t,BD),yw=(t,s,i)=>LD(t,s,i),p1=(t,s,i)=>T4(D.some(t),s,s.components,i),fo=(t,s,i)=>{const c=s.partUids[i];return t.getSystem().getByUid(c).toOptional()},dt=(t,s,i)=>fo(t,s,i).getOrDie("Could not find part: "+i),ld=(t,s,i)=>{const c={},u=s.partUids,f=t.getSystem();return ht(i,m=>{c[m]=_(f.getByUid(u[m]))}),c},HD=(t,s)=>{const i=t.getSystem();return To(s.partUids,(c,u)=>_(i.getByUid(c)))},vw=t=>Jo(t.partUids),Wp=(t,s,i)=>{const c={},u=s.partUids,f=t.getSystem();return ht(i,m=>{c[m]=_(f.getByUid(u[m]).getOrDie())}),c},h1=(t,s)=>{const i=jD(s);return up(We(i,c=>({key:c,value:t+"-"+c})))},xw=t=>Ks("partUids","partUids",LC(s=>h1(s.uid,t)),cc());var UD=Object.freeze({__proto__:null,generate:bw,generateOne:Zg,schemas:$D,names:jD,substitutes:yw,components:p1,defaultUids:h1,defaultUidsSchema:xw,getAllParts:HD,getAllPartNames:vw,getPart:fo,getPartOrDie:dt,getParts:ld,getPartsOrDie:Wp});const N4=(t,s)=>(t.length>0?[Wu("parts",t)]:[]).concat([Ie("uid"),ge("dom",{}),ge("components",[]),_f("originalSpec"),ge("debug.sketcher",{})]).concat(s),zD=(t,s,i,c,u)=>{const f=N4(c,u);return mi(t+" [SpecSchema]",Yi(f.concat(s)),i)},VD=(t,s,i,c)=>{const u=Cw(c),f=zD(t,s,u,[],[]);return i(f,u)},Qg=(t,s,i,c,u)=>{const f=Cw(u),m=$D(i),b=xw(i),S=zD(t,s,f,m,[b]),A=yw(t,S,i),O=p1(t,S,A.internals());return c(S,O,f,A.externals())},eb=t=>jn(t,"uid"),Cw=t=>eb(t)?t:{...t,uid:Dp("uid")},P4=t=>t.uid!==void 0,M4=Yi([Ie("name"),Ie("factory"),Ie("configFields"),ge("apis",{}),ge("extraApis",{})]),I4=Yi([Ie("name"),Ie("factory"),Ie("configFields"),Ie("partFields"),ge("apis",{}),ge("extraApis",{})]),Ba=t=>{const s=mi("Sketcher for "+t.name,M4,t),i=f=>VD(s.name,s.configFields,s.factory,f),c=To(s.apis,Fv),u=To(s.extraApis,(f,m)=>iS(f,m));return{name:s.name,configFields:s.configFields,sketch:i,...c,...u}},Rr=t=>{const s=mi("Sketcher for "+t.name,I4,t),i=m=>Qg(s.name,s.configFields,s.partFields,s.factory,m),c=bw(s.name,s.partFields),u=To(s.apis,Fv),f=To(s.extraApis,(m,b)=>iS(m,b));return{name:s.name,partFields:s.partFields,configFields:s.configFields,sketch:i,parts:c,...u,...f}},Gp=t=>Jd("input")(t)&&an(t,"type")!=="radio"||Jd("textarea")(t);var B4=Object.freeze({__proto__:null,getCurrent:(t,s,i)=>s.find(t)});const F4=[Ie("find")],_n=Js({fields:F4,name:"composing",apis:B4}),L4=["input","button","textarea","select"],WD=(t,s,i)=>{(s.disabled()?ww:Ew)(t,s)},Sw=(t,s)=>s.useNative===!0&&uo(L4,ds(t.element)),$4=t=>sg(t.element,"disabled"),j4=t=>{$t(t.element,"disabled","disabled")},mu=t=>{_o(t.element,"disabled")},g1=t=>an(t.element,"aria-disabled")==="true",H4=t=>{$t(t.element,"aria-disabled","true")},U4=t=>{$t(t.element,"aria-disabled","false")},ww=(t,s,i)=>{s.disableClass.each(u=>{ps(t.element,u)}),(Sw(t,s)?j4:H4)(t),s.onDisabled(t)},Ew=(t,s,i)=>{s.disableClass.each(u=>{Io(t.element,u)}),(Sw(t,s)?mu:U4)(t),s.onEnabled(t)},GD=(t,s)=>Sw(t,s)?$4(t):g1(t);var z4=Object.freeze({__proto__:null,enable:Ew,disable:ww,isDisabled:GD,onLoad:WD,set:(t,s,i,c)=>{(c?ww:Ew)(t,s)}}),V4=Object.freeze({__proto__:null,exhibit:(t,s)=>Zi({classes:s.disabled()?s.disableClass.toArray():[]}),events:(t,s)=>no([Ak(pi(),(i,c)=>GD(i,t)),hf(t,s,WD)])}),qD=[Mo("disabled",ln),ge("useNative",!0),Hn("disableClass"),kn("onDisabled"),kn("onEnabled")];const Ut=Js({fields:qD,name:"disabling",active:V4,apis:z4}),b1=(t,s,i,c)=>{const u=ur(t.element,"."+s.highlightClass);ht(u,f=>{Ms(c,b=>Yn(b.element,f))||(Io(f,s.highlightClass),t.getSystem().getByDom(f).each(b=>{s.onDehighlight(t,b),Sn(b,bp())}))})},W4=(t,s,i)=>b1(t,s,i,[]),G4=(t,s,i,c)=>{Aw(t,s,i,c)&&(Io(c.element,s.highlightClass),s.onDehighlight(t,c),Sn(c,bp()))},qp=(t,s,i,c)=>{b1(t,s,i,[c]),Aw(t,s,i,c)||(ps(c.element,s.highlightClass),s.onHighlight(t,c),Sn(c,sS()))},_w=(t,s,i)=>{XD(t,s).each(c=>{qp(t,s,i,c)})},q4=(t,s,i)=>{y1(t,s).each(c=>{qp(t,s,i,c)})},KD=(t,s,i,c)=>{Y4(t,s,i,c).fold(u=>{throw u},u=>{qp(t,s,i,u)})},K4=(t,s,i,c)=>{const u=nb(t,s);en(u,c).each(m=>{qp(t,s,i,m)})},Aw=(t,s,i,c)=>Yr(c.element,s.highlightClass),YD=(t,s,i)=>Bo(t.element,"."+s.highlightClass).bind(c=>t.getSystem().getByDom(c).toOptional()),Y4=(t,s,i,c)=>{const u=ur(t.element,"."+s.itemClass);return D.from(u[c]).fold(()=>bn.error(new Error("No element found with index "+c)),t.getSystem().getByDom)},XD=(t,s,i)=>Bo(t.element,"."+s.itemClass).bind(c=>t.getSystem().getByDom(c).toOptional()),y1=(t,s,i)=>{const c=ur(t.element,"."+s.itemClass);return(c.length>0?D.some(c[c.length-1]):D.none()).bind(f=>t.getSystem().getByDom(f).toOptional())},kw=(t,s,i,c)=>{const u=ur(t.element,"."+s.itemClass);return vo(u,m=>Yr(m,s.highlightClass)).bind(m=>{const b=Af(m,c,0,u.length-1);return t.getSystem().getByDom(u[b]).toOptional()})},v1=(t,s,i)=>kw(t,s,i,-1),x1=(t,s,i)=>kw(t,s,i,1),nb=(t,s,i)=>{const c=ur(t.element,"."+s.itemClass);return js(We(c,u=>t.getSystem().getByDom(u).toOptional()))};var Hf=Object.freeze({__proto__:null,dehighlightAll:W4,dehighlight:G4,highlight:qp,highlightFirst:_w,highlightLast:q4,highlightAt:KD,highlightBy:K4,isHighlighted:Aw,getHighlighted:YD,getFirst:XD,getLast:y1,getPrevious:v1,getNext:x1,getCandidates:nb}),rK=[Ie("highlightClass"),Ie("itemClass"),kn("onHighlight"),kn("onDehighlight")];const zn=Js({fields:rK,name:"highlighting",apis:Hf}),X4=[8],Bl=[9],Jc=[13],C1=[27],oa=[32],Ow=[37],ob=[38],S1=[39],ud=[40],J4=(t,s,i)=>{const c=tc(t.slice(0,s)),u=tc(t.slice(s+1));return en(c.concat(u),i)},Z4=(t,s,i)=>{const c=tc(t.slice(0,s));return en(c,i)},Q4=(t,s,i)=>{const c=t.slice(0,s),u=t.slice(s+1);return en(u.concat(c),i)},JD=(t,s,i)=>{const c=t.slice(s+1);return en(c,i)},Pn=t=>s=>{const i=s.raw;return uo(t,i.which)},Zc=t=>s=>qr(t,i=>i(s)),dd=t=>t.raw.shiftKey===!0,ZD=t=>t.raw.ctrlKey===!0,sb=Je(dd),Mn=(t,s)=>({matches:t,classification:s}),ej=(t,s)=>en(t,c=>c.matches(s)).map(c=>c.classification),w1=(t,s,i)=>{s.exists(u=>i.exists(f=>Yn(f,u)))||Et(t,bv(),{prevFocus:s,newFocus:i})},E1=()=>{const t=i=>zr(i.element);return{get:t,set:(i,c)=>{const u=t(i);i.getSystem().triggerFocus(c,i.element);const f=t(i);w1(i,u,f)}}},QD=()=>{const t=i=>zn.getHighlighted(i).map(c=>c.element);return{get:t,set:(i,c)=>{const u=t(i);i.getSystem().getByDom(c).fold(te,m=>{zn.highlight(i,m)});const f=t(i);w1(i,u,f)}}};var fd;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(fd||(fd={}));const Uf=(t,s,i,c,u)=>{const f=()=>t.concat([ge("focusManager",E1()),No("focusInside","onFocus",fg(A=>uo(["onFocus","onEnterOrSpace","onApi"],A)?bn.value(A):bn.error("Invalid value for focusInside"))),Oo("handler",S),Oo("state",s),Oo("sendFocusIn",u)]),m=(A,O,M,L,z)=>{const q=M(A,O,L,z);return ej(q,O.event).bind(X=>X(A,O,L,z))},S={schema:f,processKey:m,toEvents:(A,O)=>{const M=A.focusInside!==fd.OnFocusMode?D.none():u(A).map(q=>Me(_l(),(X,fe)=>{q(X,A,O),fe.stop()})),L=(q,X)=>{const fe=Pn(oa.concat(Jc))(X.event);A.focusInside===fd.OnEnterOrSpaceMode&&fe&&lv(q,X)&&u(A).each(Z=>{Z(q,A,O),X.stop()})},z=[Me(ka(),(q,X)=>{m(q,X,i,A,O).fold(()=>{L(q,X)},fe=>{X.stop()})}),Me(f3(),(q,X)=>{m(q,X,c,A,O).each(fe=>{X.stop()})})];return no(M.toArray().concat(z))}};return S},eR=t=>{const s=[Hn("onEscape"),Hn("onEnter"),ge("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),ge("firstTabstop",0),ge("useTabstopAt",Ot),Hn("visibilitySelector")].concat([t]),i=(Z,ue)=>{const de=Z.visibilitySelector.bind(Ee=>Rl(ue,Ee)).getOr(ue);return Be(de)>0},c=(Z,ue)=>{const de=ur(Z.element,ue.selector),Ee=eo(de,_e=>i(ue,_e));return D.from(Ee[ue.firstTabstop])},u=(Z,ue)=>ue.focusManager.get(Z).bind(de=>Rl(de,ue.selector)),f=(Z,ue)=>i(Z,ue)&&Z.useTabstopAt(ue),m=(Z,ue,de)=>{c(Z,ue).each(Ee=>{ue.focusManager.set(Z,Ee)})},b=(Z,ue,de,Ee,_e)=>_e(ue,de,Ze=>f(Ee,Ze)).fold(()=>Ee.cyclic?D.some(!0):D.none(),Ze=>(Ee.focusManager.set(Z,Ze),D.some(!0))),S=(Z,ue,de,Ee)=>{const _e=ur(Z.element,de.selector);return u(Z,de).bind(Ze=>vo(_e,Qn(Yn,Ze)).bind(Re=>b(Z,_e,Re,de,Ee)))},A=(Z,ue,de)=>{const Ee=de.cyclic?J4:Z4;return S(Z,ue,de,Ee)},O=(Z,ue,de)=>{const Ee=de.cyclic?Q4:JD;return S(Z,ue,de,Ee)},M=Z=>Bu(Z).bind(Jm).exists(ue=>Yn(ue,Z)),L=(Z,ue,de)=>u(Z,de).filter(Ee=>!de.useTabstopAt(Ee)).bind(Ee=>(M(Ee)?A:O)(Z,ue,de)),z=(Z,ue,de)=>de.onEnter.bind(Ee=>Ee(Z,ue)),q=(Z,ue,de)=>de.onEscape.bind(Ee=>Ee(Z,ue)),X=_([Mn(Zc([dd,Pn(Bl)]),A),Mn(Pn(Bl),O),Mn(Zc([sb,Pn(Jc)]),z)]),fe=_([Mn(Pn(C1),q),Mn(Pn(Bl),L)]);return Uf(s,Vc.init,X,fe,()=>D.some(m))};var tj=eR(Gn("cyclic",ln)),nj=eR(Gn("cyclic",Ot));const oj=(t,s,i)=>(yv(t,i,pi()),D.some(!0)),pu=(t,s,i)=>Gp(i)&&Pn(oa)(s.event)?D.none():oj(t,s,i),zf=(t,s)=>D.some(!0),tR=[ge("execute",pu),ge("useSpace",!1),ge("useEnter",!0),ge("useControlEnter",!1),ge("useDown",!1)],T1=(t,s,i)=>i.execute(t,s,t.element),sj=(t,s,i,c)=>{const u=i.useSpace&&!Gp(t.element)?oa:[],f=i.useEnter?Jc:[],m=i.useDown?ud:[],b=u.concat(f).concat(m);return[Mn(Pn(b),T1)].concat(i.useControlEnter?[Mn(Zc([ZD,Pn(Jc)]),T1)]:[])},nR=(t,s,i,c)=>i.useSpace&&!Gp(t.element)?[Mn(Pn(oa),zf)]:[];var rj=Uf(tR,Vc.init,sj,nR,()=>D.none());const Dw=()=>{const t=So();return jr({readState:()=>t.get().map(u=>({numRows:String(u.numRows),numColumns:String(u.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(u,f)=>{t.set({numRows:u,numColumns:f})},getNumRows:()=>t.get().map(u=>u.numRows),getNumColumns:()=>t.get().map(u=>u.numColumns)})};var aj=Object.freeze({__proto__:null,flatgrid:Dw,init:t=>t.state(t)});const oR=t=>(s,i,c,u)=>{const f=t(s.element);return sR(f,s,i,c,u)},Rw=(t,s)=>{const i=LS(t,s);return oR(i)},Nw=(t,s)=>{const i=LS(s,t);return oR(i)},Pw=t=>(s,i,c,u)=>sR(t,s,i,c,u),sR=(t,s,i,c,u)=>c.focusManager.get(s).bind(m=>t(s.element,m,c,u)).map(m=>(c.focusManager.set(s,m),!0)),rb=Pw,_1=Pw,A1=Pw,iK=t=>t.offsetWidth<=0&&t.offsetHeight<=0,Mw=t=>!iK(t.dom),cj=(t,s)=>vo(t,s).map(i=>({index:i,candidates:t})),rR=(t,s,i)=>{const c=m=>Yn(m,s),u=ur(t,i),f=eo(u,Mw);return cj(f,c)},sa=(t,s)=>vo(t,i=>Yn(s,i)),iR=(t,s,i,c)=>{const u=Math.floor(s/i),f=s%i;return c(u,f).bind(m=>{const b=m.row*i+m.column;return b>=0&&b<t.length?D.some(t[b]):D.none()})},aR=(t,s,i,c,u)=>iR(t,s,c,(f,m)=>{const S=f===i-1?t.length-f*c:c,A=Af(m,u,0,S-1);return D.some({row:f,column:A})}),cR=(t,s,i,c,u)=>iR(t,s,c,(f,m)=>{const b=Af(f,u,0,i-1),A=b===i-1?t.length-b*c:c,O=dc(m,0,A-1);return D.some({row:b,column:O})}),lj=(t,s,i,c)=>aR(t,s,i,c,1),uj=(t,s,i,c)=>aR(t,s,i,c,-1),Kp=(t,s,i,c)=>cR(t,s,i,c,-1),Iw=(t,s,i,c)=>cR(t,s,i,c,1),dj=[Ie("selector"),ge("execute",pu),Ur("onEscape"),ge("captureTab",!1),ed()],Bw=(t,s,i)=>{Bo(t.element,s.selector).each(c=>{s.focusManager.set(t,c)})},k1=(t,s)=>s.focusManager.get(t).bind(i=>Rl(i,s.selector)),Fw=(t,s,i,c)=>k1(t,i).bind(u=>i.execute(t,s,u)),O1=t=>(s,i,c,u)=>rR(s,i,c.selector).bind(f=>t(f.candidates,f.index,u.getNumRows().getOr(c.initSize.numRows),u.getNumColumns().getOr(c.initSize.numColumns))),lR=(t,s,i)=>i.captureTab?D.some(!0):D.none(),fj=(t,s,i)=>i.onEscape(t,s),uR=O1(uj),dR=O1(lj),mj=O1(Kp),pj=O1(Iw),fR=_([Mn(Pn(Ow),Rw(uR,dR)),Mn(Pn(S1),Nw(uR,dR)),Mn(Pn(ob),rb(mj)),Mn(Pn(ud),_1(pj)),Mn(Zc([dd,Pn(Bl)]),lR),Mn(Zc([sb,Pn(Bl)]),lR),Mn(Pn(oa.concat(Jc)),Fw)]),D1=_([Mn(Pn(C1),fj),Mn(Pn(oa),zf)]);var hj=Uf(dj,Dw,fR,D1,()=>D.some(Bw));const mR=(t,s,i,c,u)=>{const f=b=>ds(b)==="button"&&an(b,"disabled")==="disabled",m=(b,S,A)=>u(b,S,c,0,A.length-1,A[S],O=>f(A[O])?m(b,O,A):D.from(A[O]));return rR(t,i,s).bind(b=>{const S=b.index,A=b.candidates;return m(S,S,A)})},pR=(t,s,i,c)=>mR(t,s,i,c,(u,f,m,b,S,A,O)=>{const M=dc(f+m,b,S);return M===u?D.from(A):O(M)}),R1=(t,s,i,c)=>mR(t,s,i,c,(u,f,m,b,S,A,O)=>{const M=Af(f,m,b,S);return M===u?D.none():O(M)}),Yp=[Ie("selector"),ge("getInitial",D.none),ge("execute",pu),Ur("onEscape"),ge("executeOnMove",!1),ge("allowVertical",!0),ge("allowHorizontal",!0),ge("cycles",!0)],hR=(t,s)=>s.focusManager.get(t).bind(i=>Rl(i,s.selector)),Lw=(t,s,i)=>hR(t,i).bind(c=>i.execute(t,s,c)),$w=(t,s,i)=>{s.getInitial(t).orThunk(()=>Bo(t.element,s.selector)).each(c=>{s.focusManager.set(t,c)})},gR=(t,s,i)=>(i.cycles?R1:pR)(t,i.selector,s,-1),jw=(t,s,i)=>(i.cycles?R1:pR)(t,i.selector,s,1),Hw=t=>(s,i,c,u)=>t(s,i,c,u).bind(()=>c.executeOnMove?Lw(s,i,c):D.some(!0)),bR=(t,s,i)=>i.onEscape(t,s),yR=(t,s,i,c)=>{const u=[...i.allowHorizontal?Ow:[]].concat(i.allowVertical?ob:[]),f=[...i.allowHorizontal?S1:[]].concat(i.allowVertical?ud:[]);return[Mn(Pn(u),Hw(Rw(gR,jw))),Mn(Pn(f),Hw(Nw(gR,jw))),Mn(Pn(Jc),Lw),Mn(Pn(oa),Lw)]},vR=_([Mn(Pn(oa),zf),Mn(Pn(C1),bR)]);var gj=Uf(Yp,Vc.init,yR,vR,()=>D.some($w));const N1=(t,s,i)=>D.from(t[s]).bind(c=>D.from(c[i]).map(u=>({rowIndex:s,columnIndex:i,cell:u}))),xR=(t,s,i,c)=>{const f=t[s].length,m=Af(i,c,0,f-1);return N1(t,s,m)},P1=(t,s,i,c)=>{const u=Af(i,c,0,t.length-1),f=t[u].length,m=dc(s,0,f-1);return N1(t,u,m)},CR=(t,s,i,c)=>{const f=t[s].length,m=dc(i+c,0,f-1);return N1(t,s,m)},ib=(t,s,i,c)=>{const u=dc(i+c,0,t.length-1),f=t[u].length,m=dc(s,0,f-1);return N1(t,u,m)},bj=(t,s,i)=>xR(t,s,i,1),SR=(t,s,i)=>xR(t,s,i,-1),Jr=(t,s,i)=>P1(t,i,s,-1),yj=(t,s,i)=>P1(t,i,s,1),wR=(t,s,i)=>CR(t,s,i,-1),ER=(t,s,i)=>CR(t,s,i,1),vj=(t,s,i)=>ib(t,i,s,-1),TR=(t,s,i)=>ib(t,i,s,1),_R=[Wu("selectors",[Ie("row"),Ie("cell")]),ge("cycles",!0),ge("previousSelector",D.none),ge("execute",pu)],xj=(t,s,i)=>{s.previousSelector(t).orThunk(()=>{const u=s.selectors;return Bo(t.element,u.cell)}).each(u=>{s.focusManager.set(t,u)})},Cj=(t,s,i)=>zr(t.element).bind(c=>i.execute(t,s,c)),Sj=(t,s)=>We(t,i=>ur(i,s.selectors.cell)),M1=(t,s)=>(i,c,u)=>{const f=u.cycles?t:s;return Rl(c,u.selectors.row).bind(m=>{const b=ur(m,u.selectors.cell);return sa(b,c).bind(S=>{const A=ur(i,u.selectors.row);return sa(A,m).bind(O=>{const M=Sj(A,u);return f(M,O,S).map(L=>L.cell)})})})},Uw=M1(SR,wR),AR=M1(bj,ER),wj=M1(Jr,vj),kR=M1(yj,TR),OR=_([Mn(Pn(Ow),Rw(Uw,AR)),Mn(Pn(S1),Nw(Uw,AR)),Mn(Pn(ob),rb(wj)),Mn(Pn(ud),_1(kR)),Mn(Pn(oa.concat(Jc)),Cj)]),DR=_([Mn(Pn(oa),zf)]);var Ej=Uf(_R,Vc.init,OR,DR,()=>D.some(xj));const Tj=[Ie("selector"),ge("execute",pu),ge("moveOnTab",!1)],RR=(t,s,i)=>i.focusManager.get(t).bind(c=>i.execute(t,s,c)),_j=(t,s,i)=>{Bo(t.element,s.selector).each(c=>{s.focusManager.set(t,c)})},zw=(t,s,i)=>R1(t,i.selector,s,-1),Vw=(t,s,i)=>R1(t,i.selector,s,1),md=(t,s,i,c)=>i.moveOnTab?A1(zw)(t,s,i,c):D.none(),NR=(t,s,i,c)=>i.moveOnTab?A1(Vw)(t,s,i,c):D.none(),PR=_([Mn(Pn(ob),A1(zw)),Mn(Pn(ud),A1(Vw)),Mn(Zc([dd,Pn(Bl)]),md),Mn(Zc([sb,Pn(Bl)]),NR),Mn(Pn(Jc),RR),Mn(Pn(oa),RR)]),MR=_([Mn(Pn(oa),zf)]);var Aj=Uf(Tj,Vc.init,PR,MR,()=>D.some(_j));const Xp=[Ur("onSpace"),Ur("onEnter"),Ur("onShiftEnter"),Ur("onLeft"),Ur("onRight"),Ur("onTab"),Ur("onShiftTab"),Ur("onUp"),Ur("onDown"),Ur("onEscape"),ge("stopSpaceKeyup",!1),Hn("focusIn")],kj=(t,s,i)=>[Mn(Pn(oa),i.onSpace),Mn(Zc([sb,Pn(Jc)]),i.onEnter),Mn(Zc([dd,Pn(Jc)]),i.onShiftEnter),Mn(Zc([dd,Pn(Bl)]),i.onShiftTab),Mn(Zc([sb,Pn(Bl)]),i.onTab),Mn(Pn(ob),i.onUp),Mn(Pn(ud),i.onDown),Mn(Pn(Ow),i.onLeft),Mn(Pn(S1),i.onRight),Mn(Pn(oa),i.onSpace)],Oj=(t,s,i)=>[...i.stopSpaceKeyup?[Mn(Pn(oa),zf)]:[],Mn(Pn(C1),i.onEscape)];var IR=Uf(Xp,Vc.init,kj,Oj,t=>t.focusIn);const Dj=tj.schema(),Rj=nj.schema(),Nj=gj.schema(),BR=hj.schema(),Ww=Ej.schema(),Gw=rj.schema(),Pj=Aj.schema(),pd=IR.schema();var FR=Object.freeze({__proto__:null,acyclic:Dj,cyclic:Rj,flow:Nj,flatgrid:BR,matrix:Ww,execution:Gw,menu:Pj,special:pd});const LR=t=>Ti(t,"setGridSize"),Rt=cS({branchKey:"mode",branches:FR,name:"keying",active:{events:(t,s)=>t.handler.toEvents(t,s)},apis:{focusIn:(t,s,i)=>{s.sendFocusIn(s).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},c=>{c(t,s,i)})},setGridSize:(t,s,i,c,u)=>{LR(i)?i.setGridSize(c,u):console.error("Layout does not support setGridSize")}},state:aj}),$R=(t,s)=>{NS(()=>{uD(t,s,()=>We(s,t.getSystem().build))},t.element)},Jp=(t,s)=>{NS(()=>{f4(t,s,()=>oO(t.element,s,t.getSystem().buildOrPatch))},t.element)},ab=(t,s,i,c)=>{s1(s);const u=vS(t.element,i,c,t.getSystem().buildOrPatch);lD(t,u),t.syncComponents()},I1=(t,s,i)=>{const c=t.getSystem().build(i);dD(t,c,s)},qw=(t,s,i,c)=>{fu(s),I1(t,(u,f)=>Or(u,f,i),c)},hd=(t,s,i,c)=>(s.reuseDom?Jp:$R)(t,c),gd=(t,s,i,c)=>{I1(t,zo,c)},Mj=(t,s,i,c)=>{I1(t,Co,c)},Ij=(t,s,i,c)=>{const u=cb(t);en(u,m=>Yn(c.element,m.element)).each(fu)},cb=(t,s)=>t.components(),Fl=(t,s,i,c,u)=>{const f=cb(t);return D.from(f[c]).map(m=>(u.fold(()=>fu(m),b=>{(s.reuseDom?ab:qw)(t,m,c,b)}),m))};var Bj=Object.freeze({__proto__:null,append:gd,prepend:Mj,remove:Ij,replaceAt:Fl,replaceBy:(t,s,i,c,u)=>{const f=cb(t);return vo(f,c).bind(m=>Fl(t,s,i,m,u))},set:hd,contents:cb});const Xt=Js({fields:[br("reuseDom",!0)],name:"replacing",apis:Bj}),HR=(t,s)=>{const i=no(s);return Js({fields:[Ie("enabled")],name:t,active:{events:_(i)}})},sn=(t,s)=>{const i=HR(t,s);return{key:t,value:{config:{},me:i,configAsRaw:_({}),initialConfig:{},state:Vc}}},B1=(t,s)=>{s.ignore||(Ra(t.element),s.onFocus(t))};var Lj=Object.freeze({__proto__:null,focus:B1,blur:(t,s)=>{s.ignore||Dg(t.element)},isFocused:t=>Rp(t.element)}),Yw=Object.freeze({__proto__:null,exhibit:(t,s)=>{const i=s.ignore?{}:{attributes:{tabindex:"-1"}};return Zi(i)},events:t=>no([Me(_l(),(s,i)=>{B1(s,t),i.stop()})].concat(t.stopMousedown?[Me(Ji(),(s,i)=>{i.event.prevent()})]:[]))}),F1=[kn("onFocus"),ge("stopMousedown",!1),ge("ignore",!1)];const zt=Js({fields:F1,name:"focusing",active:Yw,apis:Lj}),$j=t=>({init:()=>{const i=Pt(t);return{get:()=>i.get(),set:b=>i.set(b),clear:()=>i.set(t),readState:()=>i.get()}}}),UR=(t,s,i)=>{const c=s.aria;c.update(t,c,i.get())},zR=(t,s,i)=>{s.toggleClass.each(c=>{i.get()?ps(t.element,c):Io(t.element,c)})},Zp=(t,s,i,c)=>{const u=i.get();i.set(c),zR(t,s,i),UR(t,s,i),u!==c&&s.onToggled(t,c)},Xw=(t,s,i)=>{Zp(t,s,i,!i.get())},jj=(t,s,i)=>{Zp(t,s,i,!0)},Jw=(t,s,i)=>{Zp(t,s,i,!1)},Hj=(t,s,i)=>i.get(),VR=(t,s,i)=>{Zp(t,s,i,s.selected)};var Uj=Object.freeze({__proto__:null,onLoad:VR,toggle:Xw,isOn:Hj,on:jj,off:Jw,set:Zp}),Vj=Object.freeze({__proto__:null,exhibit:()=>Zi({}),events:(t,s)=>{const i=v3(t,s,Xw),c=hf(t,s,VR);return no(on([t.toggleOnExecute?[i]:[],[c]]))}});const Wj=(t,s,i)=>{$t(t.element,"aria-pressed",i),s.syncWithExpanded&&GR(t,s,i)},WR=(t,s,i)=>{$t(t.element,"aria-selected",i)},lb=(t,s,i)=>{$t(t.element,"aria-checked",i)},GR=(t,s,i)=>{$t(t.element,"aria-expanded",i)};var ub=[ge("selected",!1),Hn("toggleClass"),ge("toggleOnExecute",!0),kn("onToggled"),No("aria",{mode:"none"},qs("mode",{pressed:[ge("syncWithExpanded",!1),Oo("update",Wj)],checked:[Oo("update",lb)],expanded:[Oo("update",GR)],selected:[Oo("update",WR)],none:[Oo("update",te)]}))];const un=Js({fields:ub,name:"toggling",active:Vj,apis:Uj,state:$j(!1)}),Zw=()=>{const t=(s,i)=>{i.stop(),Xu(s)};return[Me(df(),t),Me(mv(),t),pf(su()),pf(Ji())]},db=t=>{const s=i=>au((c,u)=>{i(c),u.stop()});return no(on([t.map(s).toArray(),Zw()]))},qR="alloy.item-hover",KR="alloy.item-focus",Qw="alloy.item-toggled",YR=t=>{(zr(t.element).isNone()||zt.isFocused(t))&&(zt.isFocused(t)||zt.focus(t),Et(t,qR,{item:t}))},e2=t=>{Et(t,KR,{item:t})},Gj=(t,s)=>{Et(t,Qw,{item:t,state:s})},XR=_(qR),JR=_(KR),L1=_(Qw),t2=t=>t.role.fold(()=>t.toggling.map(s=>s.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),At),n2=(t,s)=>({aria:{mode:s?"selected":"checked"},...nc(t,(i,c)=>c!=="exclusive"),onToggled:(i,c)=>{Pe(t.onToggled)&&t.onToggled(i,c),Gj(i,c)}}),qj=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:t2(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Ma.augment(t.itemBehaviours,[t.toggling.fold(un.revoke,s=>un.config(n2(s,t.role.exists(i=>i==="option")))),zt.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:s=>{e2(s)}}),Rt.config({mode:"execution"}),ft.config({store:{mode:"memory",initialValue:t.data}}),sn("item-type-events",[...Zw(),Me(El(),YR),Me(fv(),zt.focus)])]),components:t.components,eventOrder:t.eventOrder}),Kj=[Ie("data"),Ie("components"),Ie("dom"),ge("hasSubmenu",!1),Hn("toggling"),Hn("role"),Ma.field("itemBehaviours",[un,zt,Rt,ft]),ge("ignoreFocus",!1),ge("domModification",{}),Oo("builder",qj),ge("eventOrder",{})],Yj=t=>({dom:t.dom,components:t.components,events:no([bg(fv())])}),Xj=[Ie("dom"),Ie("components"),Oo("builder",Yj)],$1=_("item-widget"),j1=_([Dr({name:"widget",overrides:t=>({behaviours:qe([ft.config({store:{mode:"manual",getValue:s=>t.data,setValue:te}})])})})]),Jj=t=>{const s=yw($1(),t,j1()),i=p1($1(),t,s.internals()),c=f=>fo(f,t,"widget").map(m=>(Rt.focusIn(m),m)),u=(f,m)=>Gp(m.event.target)?D.none():(t.autofocus&&m.setSource(f.element),D.none());return{dom:t.dom,components:i,domModification:t.domModification,events:no([au((f,m)=>{c(f).each(b=>{m.stop()})}),Me(El(),YR),Me(fv(),(f,m)=>{t.autofocus?c(f):zt.focus(f)})]),behaviours:Ma.augment(t.widgetBehaviours,[ft.config({store:{mode:"memory",initialValue:t.data}}),zt.config({ignore:t.ignoreFocus,onFocus:f=>{e2(f)}}),Rt.config({mode:"special",focusIn:t.autofocus?f=>{c(f)}:w3(),onLeft:u,onRight:u,onEscape:(f,m)=>!zt.isFocused(f)&&!t.autofocus?(zt.focus(f),D.some(!0)):(t.autofocus&&m.setSource(f.element),D.none())})])}},Zj=[Ie("uid"),Ie("data"),Ie("components"),Ie("dom"),ge("autofocus",!1),ge("ignoreFocus",!1),Ma.field("widgetBehaviours",[ft,zt,Rt]),ge("domModification",{}),xw(j1()),Oo("builder",Jj)],Qj=qs("type",{widget:Zj,item:Kj,separator:Xj}),e6=(t,s)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:s.initSize.numColumns,numRows:s.initSize.numRows},focusManager:t.focusManager}),t6=(t,s)=>({mode:"matrix",selectors:{row:s.rowSelector,cell:"."+t.markers.item},previousSelector:s.previousSelector,focusManager:t.focusManager}),n6=(t,s)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:s.moveOnTab,focusManager:t.focusManager}),ZR=_([Jg({factory:{sketch:t=>{const s=mi("menu.spec item",Qj,t);return s.builder(s)}},name:"items",unit:"item",defaults:(t,s)=>jn(s,"uid")?s:{...s,uid:Dp("item")},overrides:(t,s)=>({type:s.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),o6=_([Ls("role"),Ie("value"),Ie("items"),Ie("dom"),Ie("components"),ge("eventOrder",{}),tr("menuBehaviours",[zn,ft,_n,Rt]),No("movement",{mode:"menu",moveOnTab:!0},qs("mode",{grid:[ed(),Oo("config",e6)],matrix:[Oo("config",t6),Ie("rowSelector"),ge("previousSelector",D.none)],menu:[ge("moveOnTab",!0),Oo("config",n6)]})),j3(),ge("fakeFocus",!1),ge("focusManager",E1()),kn("onHighlight"),kn("onDehighlight"),ge("showMenuRole",!0)]),QR=_("alloy.menu-focus"),s6=(t,s)=>{const i=ur(t.element,'[role="menuitemradio"][aria-checked="true"]');ht(i,c=>{Yn(c,s.element)||t.getSystem().getByDom(c).each(u=>{un.off(u)})})},r6=(t,s,i,c)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:nr(t.menuBehaviours,[zn.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),ft.config({store:{mode:"memory",initialValue:t.value}}),_n.config({find:D.some}),Rt.config(t.movement.config(t,t.movement))]),events:no([Me(JR(),(u,f)=>{const m=f.event;u.getSystem().getByDom(m.target).each(b=>{zn.highlight(u,b),f.stop(),Et(u,QR(),{menu:u,item:b})})}),Me(XR(),(u,f)=>{const m=f.event.item;zn.highlight(u,m)}),Me(L1(),(u,f)=>{const{item:m,state:b}=f.event;b&&an(m.element,"role")==="menuitemradio"&&s6(u,m)})]),components:s,eventOrder:t.eventOrder,...t.showMenuRole?{domModification:{attributes:{role:t.role.getOr("menu")}}}:{}}),Vf=Rr({name:"Menu",configFields:o6(),partFields:ZR(),factory:r6}),Wf=t=>ni(t,(s,i)=>({k:s,v:i})),eN=(t,s,i,c)=>at(i,c).bind(u=>at(t,u).bind(f=>{const m=eN(t,s,i,f);return D.some([f].concat(m))})).getOr([]),i6=(t,s)=>{const i={};Is(t,(m,b)=>{ht(m,S=>{i[S]=b})});const c=s,u=Wf(s),f=To(u,(m,b)=>[b].concat(eN(i,c,u,b)));return To(i,m=>at(f,m).getOr([m]))},Gf=()=>{const t=Pt({}),s=Pt({}),i=Pt({}),c=So(),u=Pt({}),f=()=>{t.set({}),s.set({}),i.set({}),c.clear()},m=()=>c.get().isNone(),b=(_e,Ze)=>{s.set({...s.get(),[_e]:{type:"prepared",menu:Ze}})},S=(_e,Ze,pt,Re)=>{c.set(_e),t.set(pt),s.set(Ze),u.set(Re);const gt=i6(Re,pt);i.set(gt)},A=_e=>hr(t.get(),(Ze,pt)=>Ze===_e),O=(_e,Ze,pt)=>X(_e).bind(Re=>A(_e).bind(gt=>Ze(gt).map(rt=>({triggeredMenu:Re,triggeringItem:rt,triggeringPath:pt})))),M=(_e,Ze)=>{const pt=eo(Z(_e).toArray(),Re=>X(Re).isSome());return at(i.get(),_e).bind(Re=>{const gt=tc(pt.concat(Re)),rt=De(gt,(xt,yn)=>O(xt,Ze,gt.slice(0,yn+1)).fold(()=>ri(c.get(),xt)?[]:[D.none()],ho=>[D.some(ho)]));return Xl(rt)})},L=_e=>at(t.get(),_e).map(Ze=>{const pt=at(i.get(),_e).getOr([]);return[Ze].concat(pt)}),z=_e=>at(i.get(),_e).bind(Ze=>Ze.length>1?D.some(Ze.slice(1)):D.none()),q=_e=>at(i.get(),_e),X=_e=>fe(_e).bind(o2),fe=_e=>at(s.get(),_e),Z=_e=>at(t.get(),_e);return{setMenuBuilt:b,setContents:S,expand:L,refresh:q,collapse:z,lookupMenu:fe,lookupItem:Z,otherMenus:_e=>{const Ze=u.get();return qt(Jo(Ze),_e)},getPrimary:()=>c.get().bind(X),getMenus:()=>s.get(),clear:f,isClear:m,getTriggeringPath:M}},o2=t=>t.type==="prepared"?D.some(t.menu):D.none(),tN={init:Gf,extractPreparedMenu:o2},hu=yt("tiered-menu-item-highlight"),nN=yt("tiered-menu-item-dehighlight");var Zr;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(Zr||(Zr={}));const Fa=(t,s)=>{const i=So(),c=(ze,st,Gt)=>To(Gt,(cn,Dt)=>{const Qt=()=>Vf.sketch({...cn,value:Dt,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(ro,Jn)=>{Et(ro,hu,{menuComp:ro,itemComp:Jn})},onDehighlight:(ro,Jn)=>{Et(ro,nN,{menuComp:ro,itemComp:Jn})},focusManager:t.fakeFocus?QD():E1()});return Dt===st?{type:"prepared",menu:ze.getSystem().build(Qt())}:{type:"notbuilt",nbMenu:Qt}}),u=tN.init(),f=ze=>{const st=c(ze,t.data.primary,t.data.menus),Gt=S();return u.setContents(t.data.primary,st,t.data.expansions,Gt),u.getPrimary()},m=ze=>ft.getValue(ze).value,b=(ze,st,Gt)=>or(st,cn=>{if(!cn.getSystem().isConnected())return D.none();const Dt=zn.getCandidates(cn);return en(Dt,Qt=>m(Qt)===Gt)}),S=ze=>To(t.data.menus,(st,Gt)=>De(st.items,cn=>cn.type==="separator"?[]:[cn.data.value])),A=zn.highlight,O=(ze,st)=>{A(ze,st),zn.getHighlighted(st).orThunk(()=>zn.getFirst(st)).each(Gt=>{t.fakeFocus?zn.highlight(st,Gt):yv(ze,Gt.element,fv())})},M=(ze,st)=>js(We(st,Gt=>ze.lookupMenu(Gt).bind(cn=>cn.type==="prepared"?D.some(cn.menu):D.none()))),L=(ze,st,Gt)=>{const cn=M(st,st.otherMenus(Gt));ht(cn,Dt=>{Wc(Dt.element,[t.markers.backgroundMenu]),t.stayInDom||Xt.remove(ze,Dt)})},z=ze=>i.get().getOrThunk(()=>{const st={},Gt=ur(ze.element,`.${t.markers.item}`),cn=eo(Gt,Dt=>an(Dt,"aria-haspopup")==="true");return ht(cn,Dt=>{ze.getSystem().getByDom(Dt).each(Qt=>{const ro=m(Qt);st[ro]=Qt})}),i.set(st),st}),q=(ze,st)=>{const Gt=z(ze);Is(Gt,(cn,Dt)=>{const Qt=uo(st,Dt);$t(cn.element,"aria-expanded",Qt)})},X=(ze,st,Gt)=>D.from(Gt[0]).bind(cn=>st.lookupMenu(cn).bind(Dt=>{if(Dt.type==="notbuilt")return D.none();{const Qt=Dt.menu,ro=M(st,Gt.slice(1));return ht(ro,Jn=>{ps(Jn.element,t.markers.backgroundMenu)}),ai(Qt.element)||Xt.append(ze,ea(Qt)),Wc(Qt.element,[t.markers.backgroundMenu]),O(ze,Qt),L(ze,st,Gt),D.some(Qt)}}));let fe;(function(ze){ze[ze.HighlightSubmenu=0]="HighlightSubmenu",ze[ze.HighlightParent=1]="HighlightParent"})(fe||(fe={}));const Z=(ze,st,Gt)=>{if(Gt.type==="notbuilt"){const cn=ze.getSystem().build(Gt.nbMenu());return u.setMenuBuilt(st,cn),cn}else return Gt.menu},ue=(ze,st,Gt=fe.HighlightSubmenu)=>{if(st.hasConfigured(Ut)&&Ut.isDisabled(st))return D.some(st);{const cn=m(st);return u.expand(cn).bind(Dt=>(q(ze,Dt),D.from(Dt[0]).bind(Qt=>u.lookupMenu(Qt).bind(ro=>{const Jn=Z(ze,Qt,ro);return ai(Jn.element)||Xt.append(ze,ea(Jn)),t.onOpenSubmenu(ze,st,Jn,tc(Dt)),Gt===fe.HighlightSubmenu?(zn.highlightFirst(Jn),X(ze,u,Dt)):(zn.dehighlightAll(Jn),D.some(st))}))))}},de=(ze,st)=>{const Gt=m(st);return u.collapse(Gt).bind(cn=>(q(ze,cn),X(ze,u,cn).map(Dt=>(t.onCollapseMenu(ze,st,Dt),Dt))))},Ee=(ze,st)=>{const Gt=m(st);return u.refresh(Gt).bind(cn=>(q(ze,cn),X(ze,u,cn)))},_e=(ze,st)=>Gp(st.element)?D.none():ue(ze,st,fe.HighlightSubmenu),Ze=(ze,st)=>Gp(st.element)?D.none():de(ze,st),pt=(ze,st)=>de(ze,st).orThunk(()=>t.onEscape(ze,st).map(()=>ze)),Re=ze=>(st,Gt)=>Rl(Gt.getSource(),`.${t.markers.item}`).bind(cn=>st.getSystem().getByDom(cn).toOptional().bind(Dt=>ze(st,Dt).map(Ot))),gt=no([Me(QR(),(ze,st)=>{const Gt=st.event.item;u.lookupItem(m(Gt)).each(()=>{const cn=st.event.menu;zn.highlight(ze,cn);const Dt=m(st.event.item);u.refresh(Dt).each(Qt=>L(ze,u,Qt))})}),au((ze,st)=>{const Gt=st.event.target;ze.getSystem().getByDom(Gt).each(cn=>{m(cn).indexOf("collapse-item")===0&&de(ze,cn),ue(ze,cn,fe.HighlightSubmenu).fold(()=>{t.onExecute(ze,cn)},te)})}),ko((ze,st)=>{f(ze).each(Gt=>{Xt.append(ze,ea(Gt)),t.onOpenMenu(ze,Gt),t.highlightOnOpen===Zr.HighlightMenuAndItem?O(ze,Gt):t.highlightOnOpen===Zr.HighlightJustMenu&&A(ze,Gt)})}),Me(hu,(ze,st)=>{t.onHighlightItem(ze,st.event.menuComp,st.event.itemComp)}),Me(nN,(ze,st)=>{t.onDehighlightItem(ze,st.event.menuComp,st.event.itemComp)}),...t.navigateOnHover?[Me(XR(),(ze,st)=>{const Gt=st.event.item;Ee(ze,Gt),ue(ze,Gt,fe.HighlightParent),t.onHover(ze,Gt)})]:[]]),rt=ze=>zn.getHighlighted(ze).bind(zn.getHighlighted),xt=ze=>{rt(ze).each(st=>{de(ze,st)})},yn=ze=>{u.getPrimary().each(st=>{O(ze,st)})},ho=ze=>D.from(ze.components()[0]).filter(st=>an(st.element,"role")==="menu"),St={collapseMenu:xt,highlightPrimary:yn,repositionMenus:ze=>{u.getPrimary().bind(Gt=>rt(ze).bind(cn=>{const Dt=m(cn),Qt=Wh(u.getMenus()),ro=js(We(Qt,tN.extractPreparedMenu));return u.getTriggeringPath(Dt,Jn=>b(ze,ro,Jn))}).map(cn=>({primary:Gt,triggeringPath:cn}))).fold(()=>{ho(ze).each(Gt=>{t.onRepositionMenu(ze,Gt,[])})},({primary:Gt,triggeringPath:cn})=>{t.onRepositionMenu(ze,Gt,cn)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:nr(t.tmenuBehaviours,[Rt.config({mode:"special",onRight:Re(_e),onLeft:Re(Ze),onEscape:Re(pt),focusIn:(ze,st)=>{u.getPrimary().each(Gt=>{yv(ze,Gt.element,fv())})}}),zn.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),_n.config({find:ze=>zn.getHighlighted(ze)}),Xt.config({})]),eventOrder:t.eventOrder,apis:St,events:gt}},oN=_("collapse-item"),sN=(t,s,i)=>({primary:t,menus:s,expansions:i}),rN=(t,s)=>({primary:t,menus:lf(t,s),expansions:{}}),a6=t=>({value:yt(oN()),meta:{text:t}}),Ll=Ba({name:"TieredMenu",configFields:[Sg("onExecute"),Sg("onEscape"),Tf("onOpenMenu"),Tf("onOpenSubmenu"),kn("onRepositionMenu"),kn("onCollapseMenu"),ge("highlightOnOpen",Zr.HighlightMenuAndItem),Wu("data",[Ie("primary"),Ie("menus"),Ie("expansions")]),ge("fakeFocus",!1),kn("onHighlightItem"),kn("onDehighlightItem"),kn("onHover"),Op(),Ie("dom"),ge("navigateOnHover",!0),ge("stayInDom",!1),tr("tmenuBehaviours",[Rt,zn,_n,Xt]),ge("eventOrder",{})],apis:{collapseMenu:(t,s)=>{t.collapseMenu(s)},highlightPrimary:(t,s)=>{t.highlightPrimary(s)},repositionMenus:(t,s)=>{t.repositionMenus(s)}},factory:Fa,extraApis:{tieredData:sN,singleData:rN,collapseItem:a6}}),iN=(t,s,i,c,u)=>{const f=()=>t.lazySink(s),m=c.type==="horizontal"?{layouts:{onLtr:()=>Og(),onRtl:()=>Wv()}}:{},b=A=>A.length===2,S=A=>b(A)?m:{};return Ll.sketch({dom:{tag:"div"},data:c.data,markers:c.menu.markers,highlightOnOpen:c.menu.highlightOnOpen,fakeFocus:c.menu.fakeFocus,onEscape:()=>(Dn.close(s),t.onEscape.map(A=>A(s)),D.some(!0)),onExecute:()=>D.some(!0),onOpenMenu:(A,O)=>{Sr.positionWithinBounds(f().getOrDie(),O,i,u())},onOpenSubmenu:(A,O,M,L)=>{const z=f().getOrDie();Sr.position(z,M,{anchor:{type:"submenu",item:O,...S(L)}})},onRepositionMenu:(A,O,M)=>{const L=f().getOrDie();Sr.positionWithinBounds(L,O,i,u()),ht(M,z=>{const q=S(z.triggeringPath);Sr.position(L,z.triggeredMenu,{anchor:{type:"submenu",item:z.triggeringItem,...q}})})}})},c6=(t,s)=>{const i=(L,z)=>t.getRelated(L).exists(X=>nd(X,z)),c=(L,z)=>{Dn.setContent(L,z)},u=(L,z,q)=>{const X=D.none;f(L,z,q,X)},f=(L,z,q,X)=>{const fe=t.lazySink(L).getOrDie();Dn.openWhileCloaked(L,z,()=>Sr.positionWithinBounds(fe,L,q,X())),ft.setValue(L,D.some({mode:"position",config:q,getBounds:X}))},m=(L,z,q)=>{b(L,z,q,D.none)},b=(L,z,q,X)=>{const fe=iN(t,L,z,q,X);Dn.open(L,fe),ft.setValue(L,D.some({mode:"menu",menu:fe}))},S=L=>{Dn.isOpen(L)&&(ft.setValue(L,D.none()),Dn.close(L))},A=L=>Dn.getState(L),O=L=>{Dn.isOpen(L)&&ft.getValue(L).each(z=>{switch(z.mode){case"menu":Dn.getState(L).each(Ll.repositionMenus);break;case"position":const q=t.lazySink(L).getOrDie();Sr.positionWithinBounds(q,L,z.config,z.getBounds());break}})},M={setContent:c,showAt:u,showWithinBounds:f,showMenuAt:m,showMenuWithinBounds:b,hide:S,getContent:A,reposition:O,isOpen:Dn.isOpen};return{uid:t.uid,dom:t.dom,behaviours:nr(t.inlineBehaviours,[Dn.config({isPartOf:(L,z,q)=>nd(z,q)||i(L,q),getAttachPoint:L=>t.lazySink(L).getOrDie(),onOpen:L=>{t.onShow(L)},onClose:L=>{t.onHide(L)}}),ft.config({store:{mode:"memory",initialValue:D.none()}}),Ni.config({channels:{...Wg({isExtraPart:s.isExtraPart,...t.fireDismissalEventInstead.map(L=>({fireEventInstead:{event:L.event}})).getOr({})}),...Gg({...t.fireRepositionEventInstead.map(L=>({fireEventInstead:{event:L.event}})).getOr({}),doReposition:O})}})]),eventOrder:t.eventOrder,apis:M}},Fo=Ba({name:"InlineView",configFields:[Ie("lazySink"),kn("onShow"),kn("onHide"),Gu("onEscape"),tr("inlineBehaviours",[Dn,ft,Ni]),Ys("fireDismissalEventInstead",[ge("event",Yu())]),Ys("fireRepositionEventInstead",[ge("event",Sk())]),ge("getRelated",D.none),ge("isExtraPart",ln),ge("eventOrder",D.none)],factory:c6,apis:{showAt:(t,s,i,c)=>{t.showAt(s,i,c)},showWithinBounds:(t,s,i,c,u)=>{t.showWithinBounds(s,i,c,u)},showMenuAt:(t,s,i,c)=>{t.showMenuAt(s,i,c)},showMenuWithinBounds:(t,s,i,c,u)=>{t.showMenuWithinBounds(s,i,c,u)},hide:(t,s)=>{t.hide(s)},isOpen:(t,s)=>t.isOpen(s),getContent:(t,s)=>t.getContent(s),setContent:(t,s,i)=>{t.setContent(s,i)},reposition:(t,s)=>{t.reposition(s)}}});var qf=tinymce.util.Tools.resolve("tinymce.util.Delay"),bd=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),aN=tinymce.util.Tools.resolve("tinymce.EditorManager"),Kf=tinymce.util.Tools.resolve("tinymce.Env"),ra;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(ra||(ra={}));var fb;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(fb||(fb={}));const so=t=>s=>s.options.get(t),Qp=t=>s=>D.from(t(s)),cN=t=>{const s=Kf.deviceType.isPhone(),i=Kf.deviceType.isTablet()||s,c=t.options.register,u=m=>j(m)||m===!1,f=m=>j(m)||Ae(m);c("skin",{processor:m=>j(m)||m===!1,default:"oxide"}),c("skin_url",{processor:"string"}),c("height",{processor:f,default:Math.max(t.getElement().offsetHeight,400)}),c("width",{processor:f,default:bd.DOM.getStyle(t.getElement(),"width")}),c("min_height",{processor:"number",default:100}),c("min_width",{processor:"number"}),c("max_height",{processor:"number"}),c("max_width",{processor:"number"}),c("style_formats",{processor:"object[]"}),c("style_formats_merge",{processor:"boolean",default:!1}),c("style_formats_autohide",{processor:"boolean",default:!1}),c("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),c("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),c("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),c("font_size_input_default_unit",{processor:"string",default:"pt"}),c("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),c("content_langs",{processor:"object[]"}),c("removed_menuitems",{processor:"string",default:""}),c("menubar",{processor:m=>j(m)||Ce(m),default:!s}),c("menu",{processor:"object",default:{}}),c("toolbar",{processor:m=>Ce(m)||j(m)||oe(m)?{value:m,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Gr(9,m=>{c("toolbar"+(m+1),{processor:"string"})}),c("toolbar_mode",{processor:"string",default:i?"scrolling":"floating"}),c("toolbar_groups",{processor:"object",default:{}}),c("toolbar_location",{processor:"string",default:fb.auto}),c("toolbar_persist",{processor:"boolean",default:!1}),c("toolbar_sticky",{processor:"boolean",default:t.inline}),c("toolbar_sticky_offset",{processor:"number",default:0}),c("fixed_toolbar_container",{processor:"string",default:""}),c("fixed_toolbar_container_target",{processor:"object"}),c("ui_mode",{processor:"string",default:"combined"}),c("file_picker_callback",{processor:"function"}),c("file_picker_validator_handler",{processor:"function"}),c("file_picker_types",{processor:"string"}),c("typeahead_urls",{processor:"boolean",default:!0}),c("anchor_top",{processor:u,default:"#top"}),c("anchor_bottom",{processor:u,default:"#bottom"}),c("draggable_modal",{processor:"boolean",default:!1}),c("statusbar",{processor:"boolean",default:!0}),c("elementpath",{processor:"boolean",default:!0}),c("branding",{processor:"boolean",default:!0}),c("promotion",{processor:"boolean",default:!0}),c("resize",{processor:m=>m==="both"||Ce(m),default:!Kf.deviceType.isTouch()}),c("sidebar_show",{processor:"string"}),c("help_accessibility",{processor:"boolean",default:t.hasPlugin("help")}),c("default_font_stack",{processor:"string[]",default:[]})},lN=so("readonly"),s2=so("height"),mb=so("width"),r2=Qp(so("min_width")),Yf=Qp(so("min_height")),Xf=Qp(so("max_width")),H1=Qp(so("max_height")),i2=Qp(so("style_formats")),uN=so("style_formats_merge"),dN=so("style_formats_autohide"),fN=so("content_langs"),mN=so("removed_menuitems"),yd=so("toolbar_mode"),a2=so("toolbar_groups"),U1=so("toolbar_location"),c2=so("fixed_toolbar_container"),l6=so("fixed_toolbar_container_target"),l2=so("toolbar_persist"),pN=so("toolbar_sticky_offset"),hN=so("menubar"),z1=so("toolbar"),u2=so("file_picker_callback"),gN=so("file_picker_validator_handler"),bN=so("font_size_input_default_unit"),V1=so("file_picker_types"),d2=so("typeahead_urls"),f2=so("anchor_top"),yN=so("anchor_bottom"),W1=so("draggable_modal"),vN=so("statusbar"),xN=so("elementpath"),m2=so("branding"),CN=so("resize"),SN=so("paste_as_text"),p2=so("sidebar_show"),G1=so("promotion"),wN=so("help_accessibility"),pb=so("default_font_stack"),h2=t=>t.options.get("skin")===!1,q1=t=>t.options.get("menubar")!==!1,g2=t=>{const s=t.options.get("skin_url");if(h2(t))return s;if(s)return t.documentBaseURI.toAbsolute(s);{const i=t.options.get("skin");return aN.baseURL+"/skins/ui/"+i}},K1=t=>D.from(t.options.get("skin_url")),EN=t=>t.options.get("line_height_formats").split(" "),Y1=t=>{const s=z1(t),i=j(s),c=oe(s)&&s.length>0;return!hb(t)&&(c||i||s===!0)},X1=t=>{const s=Gr(9,c=>t.options.get("toolbar"+(c+1))),i=eo(s,j);return Lt(i.length>0,i)},hb=t=>X1(t).fold(()=>{const s=z1(t);return Qe(s,j)&&s.length>0},Ot),b2=t=>U1(t)===fb.bottom,J1=t=>{var s;if(!t.inline)return D.none();const i=(s=c2(t))!==null&&s!==void 0?s:"";if(i.length>0)return Bo(Ea(),i);const c=l6(t);return ae(c)?D.some(nt.fromDom(c)):D.none()},vc=t=>t.inline&&J1(t).isSome(),y2=t=>J1(t).getOrThunk(()=>tu(gr(nt.fromDom(t.getElement())))),v2=t=>t.inline&&!q1(t)&&!Y1(t)&&!hb(t),vd=t=>(t.options.get("toolbar_sticky")||t.inline)&&!vc(t)&&!v2(t),gu=t=>!vc(t)&&t.options.get("ui_mode")==="split",TN=t=>{const s=t.options.get("menu");return To(s,i=>({...i,items:i.items}))};var u6=Object.freeze({__proto__:null,get ToolbarMode(){return ra},get ToolbarLocation(){return fb},register:cN,getSkinUrl:g2,getSkinUrlOption:K1,isReadOnly:lN,isSkinDisabled:h2,getHeightOption:s2,getWidthOption:mb,getMinWidthOption:r2,getMinHeightOption:Yf,getMaxWidthOption:Xf,getMaxHeightOption:H1,getUserStyleFormats:i2,shouldMergeStyleFormats:uN,shouldAutoHideStyleFormats:dN,getLineHeightFormats:EN,getContentLanguages:fN,getRemovedMenuItems:mN,isMenubarEnabled:q1,isMultipleToolbars:hb,isToolbarEnabled:Y1,isToolbarPersist:l2,getMultipleToolbarsOption:X1,getUiContainer:y2,useFixedContainer:vc,isSplitUiMode:gu,getToolbarMode:yd,isDraggableModal:W1,isDistractionFree:v2,isStickyToolbar:vd,getStickyToolbarOffset:pN,getToolbarLocation:U1,isToolbarLocationBottom:b2,getToolbarGroups:a2,getMenus:TN,getMenubar:hN,getToolbar:z1,getFilePickerCallback:u2,getFilePickerTypes:V1,useTypeaheadUrls:d2,getAnchorTop:f2,getAnchorBottom:yN,getFilePickerValidatorHandler:gN,getFontSizeInputDefaultUnit:bN,useStatusBar:vN,useElementPath:xN,promotionEnabled:G1,useBranding:m2,getResize:CN,getPasteAsText:SN,getSidebarShow:p2,useHelpAccessibility:wN,getDefaultFontStack:pb});const _N=["visible","hidden","clip"],AN=t=>zm(t).length>0&&!uo(_N,t),x2=t=>{if(Qh(t)){const s=C(t,"overflow-x"),i=C(t,"overflow-y");return AN(s)||AN(i)}else return!1},C2=t=>t.plugins.fullscreen&&t.plugins.fullscreen.isFullscreen(),S2=(t,s)=>{const i=Mp(s,x2),c=i.length===0?og(s).map(Gy).map(u=>Mp(u,x2)).getOr([]):i;return Yt(c).map(u=>({element:u,others:c.slice(1),isFullscreen:()=>C2(t)}))},xd=(t,s)=>gu(t)?S2(t,s):D.none(),Cd=t=>{const s=[...We(t.others,is),Vs()];return t.isFullscreen()?Vs():MC(is(t.element),s)},ws=Ba({name:"Button",factory:t=>{const s=db(t.action),i=t.dom.tag,c=f=>at(t.dom,"attributes").bind(m=>at(m,f)),u=()=>{if(i==="button"){const f=c("type").getOr("button"),m=c("role").map(b=>({role:b})).getOr({});return{type:f,...m}}else return{role:t.role.getOr(c("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:s,behaviours:Ma.augment(t.buttonBehaviours,[zt.config({}),Rt.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:u()},eventOrder:t.eventOrder}},configFields:[ge("uid",void 0),Ie("dom"),ge("components",[]),Ma.field("buttonBehaviours",[zt,Rt]),Hn("action"),Hn("role"),ge("eventOrder",{})]}),d6=t=>{const s=t.dom.attributes!==void 0?t.dom.attributes:[];return rs(s,(i,c)=>c.name==="class"?i:{...i,[c.name]:c.value},{})},f6=t=>Array.prototype.slice.call(t.dom.classList,0),Qc=t=>{const s=nt.fromHtml(t),i=Gi(s),c=d6(s),u=f6(s),f=i.length===0?{}:{innerHtml:cu(s)};return{tag:ds(s),classes:u,attributes:c,...f}},Ln=t=>{const s=P4(t)&&Ti(t,"uid")?t.uid:Dp("memento");return{get:f=>f.getSystem().getByUid(s).getOrDie(),getOpt:f=>f.getSystem().getByUid(s).toOptional(),asSpec:()=>({...t,uid:s})}};var w2=Object.freeze({__proto__:null,exhibit:(t,s)=>Zi({attributes:up([{key:s.tabAttr,value:"true"}])})}),m6=[ge("tabAttr","data-alloy-tabstop")];const Eo=Js({fields:m6,name:"tabstopping",active:w2}),Z1=yt("tooltip.exclusive"),gb=yt("tooltip.show"),bb=yt("tooltip.hide"),yb=yt("tooltip.immediateHide"),vb=yt("tooltip.immediateShow"),kN=(t,s,i)=>{t.getSystem().broadcastOn([Z1],{})};var p6=Object.freeze({__proto__:null,hideAllExclusive:kN,immediateOpenClose:(t,s,i,c)=>Sn(t,c?vb:yb),isEnabled:(t,s,i)=>i.isEnabled(),setComponents:(t,s,i,c)=>{i.getTooltip().each(u=>{u.getSystem().isConnected()&&Xt.set(u,c)})},setEnabled:(t,s,i,c)=>i.setEnabled(c)}),h6=Object.freeze({__proto__:null,events:(t,s)=>{const i=m=>{s.getTooltip().each(b=>{b.getSystem().isConnected()&&(fu(b),t.onHide(m,b),s.clearTooltip())}),s.clearTimer()},c=m=>{if(!s.isShowing()&&s.isEnabled()){kN(m);const b=t.lazySink(m).getOrDie(),S=m.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:no(t.mode==="normal"?[Me(El(),A=>{Sn(m,gb)}),Me(uv(),A=>{Sn(m,bb)})]:[]),behaviours:qe([Xt.config({})])});s.setTooltip(S),If(b,S),t.onShow(m,S),Sr.position(b,S,{anchor:t.anchor(m)})}},u=m=>{s.getTooltip().each(b=>{const S=t.lazySink(m).getOrDie();Sr.position(S,b,{anchor:t.anchor(m)})})},f=()=>{switch(t.mode){case"normal":return[Me(zc(),m=>{Sn(m,vb)}),Me(hp(),m=>{Sn(m,yb)}),Me(El(),m=>{Sn(m,gb)}),Me(uv(),m=>{Sn(m,bb)})];case"follow-highlight":return[Me(sS(),(m,b)=>{Sn(m,gb)}),Me(bp(),m=>{Sn(m,bb)})];case"children-normal":return[Me(zc(),(m,b)=>{zr(m.element).each(S=>{ii(b.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{Sn(m,vb)},A=>{s.isShowing()&&(t.onShow(m,A),u(m))})})}),Me(hp(),m=>{zr(m.element).fold(()=>{Sn(m,yb)},te)}),Me(El(),m=>{Bo(m.element,"[data-mce-tooltip]:hover").each(b=>{s.getTooltip().fold(()=>{Sn(m,gb)},S=>{s.isShowing()&&(t.onShow(m,S),u(m))})})}),Me(uv(),m=>{Bo(m.element,"[data-mce-tooltip]:hover").fold(()=>{Sn(m,bb)},te)})];default:return[Me(zc(),(m,b)=>{zr(m.element).each(S=>{ii(b.event.target,"[data-mce-tooltip]")&&s.getTooltip().fold(()=>{Sn(m,vb)},A=>{s.isShowing()&&(t.onShow(m,A),u(m))})})}),Me(hp(),m=>{zr(m.element).fold(()=>{Sn(m,yb)},te)})]}};return no(on([[Dk(m=>{t.onSetup(m)}),Me(gb,m=>{s.resetTimer(()=>{c(m)},t.delayForShow())}),Me(bb,m=>{s.resetTimer(()=>{i(m)},t.delayForHide())}),Me(vb,m=>{s.resetTimer(()=>{c(m)},0)}),Me(yb,m=>{s.resetTimer(()=>{i(m)},0)}),Me(Ku(),(m,b)=>{const S=b;S.universal||uo(S.channels,Z1)&&i(m)}),Al(m=>{i(m)})],f()]))}}),E2=[Ie("lazySink"),Ie("tooltipDom"),ge("exclusive",!0),ge("tooltipComponents",[]),Mo("delayForShow",_(300)),Mo("delayForHide",_(300)),Mo("onSetup",te),$r("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),ge("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:_([Ss,Qs,ks,cr,Os,lr]),onRtl:_([Ss,Qs,ks,cr,Os,lr])},bubble:gc(0,-2,{})})),kn("onHide"),kn("onShow")],g6=Object.freeze({__proto__:null,init:()=>{const t=Pt(!0),s=So(),i=So(),c=()=>{s.on(clearTimeout)},u=(m,b)=>{c(),s.set(setTimeout(m,b))},f=_("not-implemented");return jr({getTooltip:i.get,isShowing:i.isSet,setTooltip:i.set,clearTooltip:i.clear,clearTimer:c,resetTimer:u,readState:f,isEnabled:()=>t.get(),setEnabled:m=>t.set(m)})}});const Ko=Js({fields:E2,name:"tooltipping",active:h6,state:g6,apis:p6});/*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE */const{entries:T2,setPrototypeOf:ON,isFrozen:b6,getPrototypeOf:y6,getOwnPropertyDescriptor:v6}=Object;let{freeze:Ii,seal:xc,create:Q1}=Object,{apply:_2,construct:A2}=typeof Reflect<"u"&&Reflect;Ii||(Ii=function(s){return s}),xc||(xc=function(s){return s}),_2||(_2=function(s,i,c){return s.apply(i,c)}),A2||(A2=function(s,i){return new s(...i)});const ex=La(Array.prototype.forEach),DN=La(Array.prototype.pop),xb=La(Array.prototype.push),tx=La(String.prototype.toLowerCase),k2=La(String.prototype.toString),RN=La(String.prototype.match),Cb=La(String.prototype.replace),x6=La(String.prototype.indexOf),C6=La(String.prototype.trim),el=La(Object.prototype.hasOwnProperty),Bi=La(RegExp.prototype.test),Sd=O2(TypeError);function La(t){return function(s){for(var i=arguments.length,c=new Array(i>1?i-1:0),u=1;u<i;u++)c[u-1]=arguments[u];return _2(t,s,c)}}function O2(t){return function(){for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return A2(t,i)}}function mo(t,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tx;ON&&ON(t,null);let c=s.length;for(;c--;){let u=s[c];if(typeof u=="string"){const f=i(u);f!==u&&(b6(s)||(s[c]=f),u=f)}t[u]=!0}return t}function S6(t){for(let s=0;s<t.length;s++)el(t,s)||(t[s]=null);return t}function Jf(t){const s=Q1(null);for(const[i,c]of T2(t))el(t,i)&&(Array.isArray(c)?s[i]=S6(c):c&&typeof c=="object"&&c.constructor===Object?s[i]=Jf(c):s[i]=c);return s}function eh(t,s){for(;t!==null;){const c=v6(t,s);if(c){if(c.get)return La(c.get);if(typeof c.value=="function")return La(c.value)}t=y6(t)}function i(){return null}return i}const NN=Ii(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Sb=Ii(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),wb=Ii(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),PN=Ii(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Eb=Ii(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),nx=Ii(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),D2=Ii(["#text"]),tl=Ii(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Tb=Ii(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),MN=Ii(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ox=Ii(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),w6=xc(/\{\{[\w\W]*|[\w\W]*\}\}/gm),E6=xc(/<%[\w\W]*|[\w\W]*%>/gm),_b=xc(/\${[\w\W]*}/gm),T6=xc(/^data-[\-\w.\u00B7-\uFFFF]/),IN=xc(/^aria-[\-\w]+$/),sx=xc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),_6=xc(/^(?:\w+script|data):/i),R2=xc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),rx=xc(/^html$/i),A6=xc(/^[a-z][.\w]*(-[.\w]+)+$/i);var N2=Object.freeze({__proto__:null,MUSTACHE_EXPR:w6,ERB_EXPR:E6,TMPLIT_EXPR:_b,DATA_ATTR:T6,ARIA_ATTR:IN,IS_ALLOWED_URI:sx,IS_SCRIPT_OR_DATA:_6,ATTR_WHITESPACE:R2,DOCTYPE_NAME:rx,CUSTOM_ELEMENT:A6});const th={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},k6=function(){return typeof window>"u"?null:window},BN=function(s,i){if(typeof s!="object"||typeof s.createPolicy!="function")return null;let c=null;const u="data-tt-policy-suffix";i&&i.hasAttribute(u)&&(c=i.getAttribute(u));const f="dompurify"+(c?"#"+c:"");try{return s.createPolicy(f,{createHTML(m){return m},createScriptURL(m){return m}})}catch{return console.warn("TrustedTypes policy "+f+" could not be created."),null}};function P2(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:k6();const s=En=>P2(En);if(s.version="3.1.7",s.removed=[],!t||!t.document||t.document.nodeType!==th.document)return s.isSupported=!1,s;let{document:i}=t;const c=i,u=c.currentScript,{DocumentFragment:f,HTMLTemplateElement:m,Node:b,Element:S,NodeFilter:A,NamedNodeMap:O=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:M,DOMParser:L,trustedTypes:z}=t,q=S.prototype,X=eh(q,"cloneNode"),fe=eh(q,"remove"),Z=eh(q,"nextSibling"),ue=eh(q,"childNodes"),de=eh(q,"parentNode");if(typeof m=="function"){const En=i.createElement("template");En.content&&En.content.ownerDocument&&(i=En.content.ownerDocument)}let Ee,_e="";const{implementation:Ze,createNodeIterator:pt,createDocumentFragment:Re,getElementsByTagName:gt}=i,{importNode:rt}=c;let xt={};s.isSupported=typeof T2=="function"&&typeof de=="function"&&Ze&&Ze.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:yn,ERB_EXPR:ho,TMPLIT_EXPR:Fn,DATA_ATTR:St,ARIA_ATTR:ze,IS_SCRIPT_OR_DATA:st,ATTR_WHITESPACE:Gt,CUSTOM_ELEMENT:cn}=N2;let{IS_ALLOWED_URI:Dt}=N2,Qt=null;const ro=mo({},[...NN,...Sb,...wb,...Eb,...D2]);let Jn=null;const Ci=mo({},[...tl,...Tb,...MN,...ox]);let $o=Object.seal(Q1(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),pa=null,_r=null,ha=!0,ga=!0,Oc=!1,By=!0,ql=!1,$A=!0,Im=!1,jA=!1,nq=!1,vC=!1,D$=!1,R$=!1,pY=!0,hY=!1;const rJ="user-content-";let oq=!0,HA=!1,xC={},CC=null;const gY=mo({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let bY=null;const yY=mo({},["audio","video","img","source","image","track"]);let sq=null;const vY=mo({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),N$="http://www.w3.org/1998/Math/MathML",P$="http://www.w3.org/2000/svg",Bm="http://www.w3.org/1999/xhtml";let SC=Bm,rq=!1,iq=null;const iJ=mo({},[N$,P$,Bm],k2);let UA=null;const aJ=["application/xhtml+xml","text/html"],cJ="text/html";let Si=null,wC=null;const lJ=i.createElement("form"),xY=function(Te){return Te instanceof RegExp||Te instanceof Function},aq=function(){let Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(wC&&wC===Te)){if((!Te||typeof Te!="object")&&(Te={}),Te=Jf(Te),UA=aJ.indexOf(Te.PARSER_MEDIA_TYPE)===-1?cJ:Te.PARSER_MEDIA_TYPE,Si=UA==="application/xhtml+xml"?k2:tx,Qt=el(Te,"ALLOWED_TAGS")?mo({},Te.ALLOWED_TAGS,Si):ro,Jn=el(Te,"ALLOWED_ATTR")?mo({},Te.ALLOWED_ATTR,Si):Ci,iq=el(Te,"ALLOWED_NAMESPACES")?mo({},Te.ALLOWED_NAMESPACES,k2):iJ,sq=el(Te,"ADD_URI_SAFE_ATTR")?mo(Jf(vY),Te.ADD_URI_SAFE_ATTR,Si):vY,bY=el(Te,"ADD_DATA_URI_TAGS")?mo(Jf(yY),Te.ADD_DATA_URI_TAGS,Si):yY,CC=el(Te,"FORBID_CONTENTS")?mo({},Te.FORBID_CONTENTS,Si):gY,pa=el(Te,"FORBID_TAGS")?mo({},Te.FORBID_TAGS,Si):{},_r=el(Te,"FORBID_ATTR")?mo({},Te.FORBID_ATTR,Si):{},xC=el(Te,"USE_PROFILES")?Te.USE_PROFILES:!1,ha=Te.ALLOW_ARIA_ATTR!==!1,ga=Te.ALLOW_DATA_ATTR!==!1,Oc=Te.ALLOW_UNKNOWN_PROTOCOLS||!1,By=Te.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ql=Te.SAFE_FOR_TEMPLATES||!1,$A=Te.SAFE_FOR_XML!==!1,Im=Te.WHOLE_DOCUMENT||!1,vC=Te.RETURN_DOM||!1,D$=Te.RETURN_DOM_FRAGMENT||!1,R$=Te.RETURN_TRUSTED_TYPE||!1,nq=Te.FORCE_BODY||!1,pY=Te.SANITIZE_DOM!==!1,hY=Te.SANITIZE_NAMED_PROPS||!1,oq=Te.KEEP_CONTENT!==!1,HA=Te.IN_PLACE||!1,Dt=Te.ALLOWED_URI_REGEXP||sx,SC=Te.NAMESPACE||Bm,$o=Te.CUSTOM_ELEMENT_HANDLING||{},Te.CUSTOM_ELEMENT_HANDLING&&xY(Te.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&($o.tagNameCheck=Te.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Te.CUSTOM_ELEMENT_HANDLING&&xY(Te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&($o.attributeNameCheck=Te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Te.CUSTOM_ELEMENT_HANDLING&&typeof Te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&($o.allowCustomizedBuiltInElements=Te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ql&&(ga=!1),D$&&(vC=!0),xC&&(Qt=mo({},D2),Jn=[],xC.html===!0&&(mo(Qt,NN),mo(Jn,tl)),xC.svg===!0&&(mo(Qt,Sb),mo(Jn,Tb),mo(Jn,ox)),xC.svgFilters===!0&&(mo(Qt,wb),mo(Jn,Tb),mo(Jn,ox)),xC.mathMl===!0&&(mo(Qt,Eb),mo(Jn,MN),mo(Jn,ox))),Te.ADD_TAGS&&(Qt===ro&&(Qt=Jf(Qt)),mo(Qt,Te.ADD_TAGS,Si)),Te.ADD_ATTR&&(Jn===Ci&&(Jn=Jf(Jn)),mo(Jn,Te.ADD_ATTR,Si)),Te.ADD_URI_SAFE_ATTR&&mo(sq,Te.ADD_URI_SAFE_ATTR,Si),Te.FORBID_CONTENTS&&(CC===gY&&(CC=Jf(CC)),mo(CC,Te.FORBID_CONTENTS,Si)),oq&&(Qt["#text"]=!0),Im&&mo(Qt,["html","head","body"]),Qt.table&&(mo(Qt,["tbody"]),delete pa.tbody),Te.TRUSTED_TYPES_POLICY){if(typeof Te.TRUSTED_TYPES_POLICY.createHTML!="function")throw Sd('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Te.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Sd('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Ee=Te.TRUSTED_TYPES_POLICY,_e=Ee.createHTML("")}else Ee===void 0&&(Ee=BN(z,u)),Ee!==null&&typeof _e=="string"&&(_e=Ee.createHTML(""));Ii&&Ii(Te),wC=Te}},CY=mo({},["mi","mo","mn","ms","mtext"]),SY=mo({},["annotation-xml"]),uJ=mo({},["title","style","font","a","script"]),wY=mo({},[...Sb,...wb,...PN]),EY=mo({},[...Eb,...nx]),dJ=function(Te){let Mt=de(Te);(!Mt||!Mt.tagName)&&(Mt={namespaceURI:SC,tagName:"template"});const vn=tx(Te.tagName),Ps=tx(Mt.tagName);return iq[Te.namespaceURI]?Te.namespaceURI===P$?Mt.namespaceURI===Bm?vn==="svg":Mt.namespaceURI===N$?vn==="svg"&&(Ps==="annotation-xml"||CY[Ps]):!!wY[vn]:Te.namespaceURI===N$?Mt.namespaceURI===Bm?vn==="math":Mt.namespaceURI===P$?vn==="math"&&SY[Ps]:!!EY[vn]:Te.namespaceURI===Bm?Mt.namespaceURI===P$&&!SY[Ps]||Mt.namespaceURI===N$&&!CY[Ps]?!1:!EY[vn]&&(uJ[vn]||!wY[vn]):!!(UA==="application/xhtml+xml"&&iq[Te.namespaceURI]):!1},zd=function(Te){xb(s.removed,{element:Te});try{de(Te).removeChild(Te)}catch{fe(Te)}},zA=function(Te,Mt){try{xb(s.removed,{attribute:Mt.getAttributeNode(Te),from:Mt})}catch{xb(s.removed,{attribute:null,from:Mt})}if(Mt.removeAttribute(Te),Te==="is"&&!Jn[Te])if(vC||D$)try{zd(Mt)}catch{}else try{Mt.setAttribute(Te,"")}catch{}},TY=function(Te){let Mt=null,vn=null;if(nq)Te="<remove></remove>"+Te;else{const wi=RN(Te,/^[\r\n\t ]+/);vn=wi&&wi[0]}UA==="application/xhtml+xml"&&SC===Bm&&(Te='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Te+"</body></html>");const Ps=Ee?Ee.createHTML(Te):Te;if(SC===Bm)try{Mt=new L().parseFromString(Ps,UA)}catch{}if(!Mt||!Mt.documentElement){Mt=Ze.createDocument(SC,"template",null);try{Mt.documentElement.innerHTML=rq?_e:Ps}catch{}}const ba=Mt.body||Mt.documentElement;return Te&&vn&&ba.insertBefore(i.createTextNode(vn),ba.childNodes[0]||null),SC===Bm?gt.call(Mt,Im?"html":"body")[0]:Im?Mt.documentElement:ba},_Y=function(Te){return pt.call(Te.ownerDocument||Te,Te,A.SHOW_ELEMENT|A.SHOW_COMMENT|A.SHOW_TEXT|A.SHOW_PROCESSING_INSTRUCTION|A.SHOW_CDATA_SECTION,null)},AY=function(Te){return Te instanceof M&&(typeof Te.nodeName!="string"||typeof Te.textContent!="string"||typeof Te.removeChild!="function"||!(Te.attributes instanceof O)||typeof Te.removeAttribute!="function"||typeof Te.setAttribute!="function"||typeof Te.namespaceURI!="string"||typeof Te.insertBefore!="function"||typeof Te.hasChildNodes!="function")},kY=function(Te){return typeof b=="function"&&Te instanceof b},Fm=function(Te,Mt,vn){xt[Te]&&ex(xt[Te],Ps=>{Ps.call(s,Mt,vn,wC)})},OY=function(Te){let Mt=null;if(Fm("beforeSanitizeElements",Te,null),AY(Te))return zd(Te),!0;const vn=Si(Te.nodeName);if(Fm("uponSanitizeElement",Te,{tagName:vn,allowedTags:Qt}),Te.hasChildNodes()&&!kY(Te.firstElementChild)&&Bi(/<[/\w]/g,Te.innerHTML)&&Bi(/<[/\w]/g,Te.textContent)||Te.nodeType===th.progressingInstruction||$A&&Te.nodeType===th.comment&&Bi(/<[/\w]/g,Te.data))return zd(Te),!0;if(!Qt[vn]||pa[vn]){if(!pa[vn]&&RY(vn)&&($o.tagNameCheck instanceof RegExp&&Bi($o.tagNameCheck,vn)||$o.tagNameCheck instanceof Function&&$o.tagNameCheck(vn)))return!1;if(oq&&!CC[vn]){const Ps=de(Te)||Te.parentNode,ba=ue(Te)||Te.childNodes;if(ba&&Ps){const wi=ba.length;for(let Dc=wi-1;Dc>=0;--Dc){const Vd=X(ba[Dc],!0);Vd.__removalCount=(Te.__removalCount||0)+1,Ps.insertBefore(Vd,Z(Te))}}}return zd(Te),!0}return Te instanceof S&&!dJ(Te)||(vn==="noscript"||vn==="noembed"||vn==="noframes")&&Bi(/<\/no(script|embed|frames)/i,Te.innerHTML)?(zd(Te),!0):(ql&&Te.nodeType===th.text&&(Mt=Te.textContent,ex([yn,ho,Fn],Ps=>{Mt=Cb(Mt,Ps," ")}),Te.textContent!==Mt&&(xb(s.removed,{element:Te.cloneNode()}),Te.textContent=Mt)),Fm("afterSanitizeElements",Te,null),!1)},DY=function(Te,Mt,vn){if(pY&&(Mt==="id"||Mt==="name")&&(vn in i||vn in lJ))return!1;if(!(ga&&!_r[Mt]&&Bi(St,Mt))){if(!(ha&&Bi(ze,Mt))){if(!Jn[Mt]||_r[Mt]){if(!(RY(Te)&&($o.tagNameCheck instanceof RegExp&&Bi($o.tagNameCheck,Te)||$o.tagNameCheck instanceof Function&&$o.tagNameCheck(Te))&&($o.attributeNameCheck instanceof RegExp&&Bi($o.attributeNameCheck,Mt)||$o.attributeNameCheck instanceof Function&&$o.attributeNameCheck(Mt))||Mt==="is"&&$o.allowCustomizedBuiltInElements&&($o.tagNameCheck instanceof RegExp&&Bi($o.tagNameCheck,vn)||$o.tagNameCheck instanceof Function&&$o.tagNameCheck(vn))))return!1}else if(!sq[Mt]){if(!Bi(Dt,Cb(vn,Gt,""))){if(!((Mt==="src"||Mt==="xlink:href"||Mt==="href")&&Te!=="script"&&x6(vn,"data:")===0&&bY[Te])){if(!(Oc&&!Bi(st,Cb(vn,Gt,"")))){if(vn)return!1}}}}}}return!0},RY=function(Te){return Te!=="annotation-xml"&&RN(Te,cn)},NY=function(Te){Fm("beforeSanitizeAttributes",Te,null);const{attributes:Mt}=Te;if(!Mt)return;const vn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Jn};let Ps=Mt.length;for(;Ps--;){const ba=Mt[Ps],{name:wi,namespaceURI:Dc,value:Vd}=ba,VA=Si(wi);let Ui=wi==="value"?Vd:C6(Vd);const mJ=Ui;if(vn.attrName=VA,vn.attrValue=Ui,vn.keepAttr=!0,vn.forceKeepAttr=void 0,Fm("uponSanitizeAttribute",Te,vn),Ui=vn.attrValue,vn.forceKeepAttr)continue;if(!vn.keepAttr){zA(wi,Te);continue}if(!By&&Bi(/\/>/i,Ui)){zA(wi,Te);continue}ql&&ex([yn,ho,Fn],MY=>{Ui=Cb(Ui,MY," ")});const PY=Si(Te.nodeName);if(!DY(PY,VA,Ui)){zA(wi,Te);continue}if(hY&&(VA==="id"||VA==="name")&&(zA(wi,Te),Ui=rJ+Ui),$A&&Bi(/((--!?|])>)|<\/(style|title)/i,Ui)){zA(wi,Te);continue}if(Ee&&typeof z=="object"&&typeof z.getAttributeType=="function"&&!Dc)switch(z.getAttributeType(PY,VA)){case"TrustedHTML":{Ui=Ee.createHTML(Ui);break}case"TrustedScriptURL":{Ui=Ee.createScriptURL(Ui);break}}if(Ui!==mJ)try{Dc?Te.setAttributeNS(Dc,wi,Ui):Te.setAttribute(wi,Ui),AY(Te)?zd(Te):DN(s.removed)}catch{}}Fm("afterSanitizeAttributes",Te,null)},fJ=function En(Te){let Mt=null;const vn=_Y(Te);for(Fm("beforeSanitizeShadowDOM",Te,null);Mt=vn.nextNode();)Fm("uponSanitizeShadowNode",Mt,null),!OY(Mt)&&(Mt.content instanceof f&&En(Mt.content),NY(Mt));Fm("afterSanitizeShadowDOM",Te,null)};return s.sanitize=function(En){let Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Mt=null,vn=null,Ps=null,ba=null;if(rq=!En,rq&&(En="<!-->"),typeof En!="string"&&!kY(En))if(typeof En.toString=="function"){if(En=En.toString(),typeof En!="string")throw Sd("dirty is not a string, aborting")}else throw Sd("toString is not a function");if(!s.isSupported)return En;if(jA||aq(Te),s.removed=[],typeof En=="string"&&(HA=!1),HA){if(En.nodeName){const Vd=Si(En.nodeName);if(!Qt[Vd]||pa[Vd])throw Sd("root node is forbidden and cannot be sanitized in-place")}}else if(En instanceof b)Mt=TY("<!---->"),vn=Mt.ownerDocument.importNode(En,!0),vn.nodeType===th.element&&vn.nodeName==="BODY"||vn.nodeName==="HTML"?Mt=vn:Mt.appendChild(vn);else{if(!vC&&!ql&&!Im&&En.indexOf("<")===-1)return Ee&&R$?Ee.createHTML(En):En;if(Mt=TY(En),!Mt)return vC?null:R$?_e:""}Mt&&nq&&zd(Mt.firstChild);const wi=_Y(HA?En:Mt);for(;Ps=wi.nextNode();)OY(Ps)||(Ps.content instanceof f&&fJ(Ps.content),NY(Ps));if(HA)return En;if(vC){if(D$)for(ba=Re.call(Mt.ownerDocument);Mt.firstChild;)ba.appendChild(Mt.firstChild);else ba=Mt;return(Jn.shadowroot||Jn.shadowrootmode)&&(ba=rt.call(c,ba,!0)),ba}let Dc=Im?Mt.outerHTML:Mt.innerHTML;return Im&&Qt["!doctype"]&&Mt.ownerDocument&&Mt.ownerDocument.doctype&&Mt.ownerDocument.doctype.name&&Bi(rx,Mt.ownerDocument.doctype.name)&&(Dc="<!DOCTYPE "+Mt.ownerDocument.doctype.name+`>
`+Dc),ql&&ex([yn,ho,Fn],Vd=>{Dc=Cb(Dc,Vd," ")}),Ee&&R$?Ee.createHTML(Dc):Dc},s.setConfig=function(){let En=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};aq(En),jA=!0},s.clearConfig=function(){wC=null,jA=!1},s.isValidAttribute=function(En,Te,Mt){wC||aq({});const vn=Si(En),Ps=Si(Te);return DY(vn,Ps,Mt)},s.addHook=function(En,Te){typeof Te=="function"&&(xt[En]=xt[En]||[],xb(xt[En],Te))},s.removeHook=function(En){if(xt[En])return DN(xt[En])},s.removeHooks=function(En){xt[En]&&(xt[En]=[])},s.removeAllHooks=function(){xt={}},s}var O6=P2();const FN=t=>O6().sanitize(t);var $a=tinymce.util.Tools.resolve("tinymce.util.I18n");const D6={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},LN="temporary-placeholder",ix=t=>()=>at(t,LN).getOr("!not found!"),ax=(t,s)=>{const i=t.toLowerCase();if($a.isRtl()){const c=Kh(i,"-rtl");return jn(s,c)?c:i}else return i},$N=(t,s)=>at(s,ax(t,s)),M2=(t,s)=>{const i=s();return $N(t,i).getOrThunk(ix(i))},Ab=(t,s,i)=>{const c=s();return $N(t,c).or(i).getOrThunk(ix(c))},jN=t=>$a.isRtl()?jn(D6,t):!1,HN=()=>sn("add-focusable",[ko(t=>{hc(t.element,"svg").each(s=>$t(s,"focusable","false"))})]),UN=(t,s,i,c)=>{var u,f;const m=jN(s)?["tox-icon--flip"]:[],b=at(i,ax(s,i)).or(c).getOrThunk(ix(i));return{dom:{tag:t.tag,attributes:(u=t.attributes)!==null&&u!==void 0?u:{},classes:t.classes.concat(m),innerHtml:b},behaviours:qe([...(f=t.behaviours)!==null&&f!==void 0?f:[],HN()])}},ia=(t,s,i,c=D.none())=>UN(s,t,i(),c),R6=(t,s,i)=>{const c=i(),u=en(t,f=>jn(c,ax(f,c)));return UN(s,u.getOr(LN),c,D.none())},N6={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},cx=Ba({name:"Notification",factory:t=>{const s=yt("notification-text"),i=Ln({dom:Qc(`<p id=${s}>${FN(t.backstageProvider.translate(t.text))}</p>`),behaviours:qe([Xt.config({})])}),c=q=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${q}%`}}}),u=q=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${q}%`}}),f=Ln({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[c(0)]},u(0)],behaviours:qe([Xt.config({})])}),S={updateProgress:(q,X)=>{q.getSystem().isConnected()&&f.getOpt(q).each(fe=>{Xt.set(fe,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[c(X)]},u(X)])})},updateText:(q,X)=>{if(q.getSystem().isConnected()){const fe=i.get(q);Xt.set(fe,[Wo(X)])}}},A=on([t.icon.toArray(),t.level.toArray(),t.level.bind(q=>D.from(N6[q])).toArray()]),O=Ln(ws.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":t.backstageProvider.translate("Close")}},components:[ia("close",{tag:"span",classes:["tox-icon"]},t.iconProvider)],buttonBehaviours:qe([Eo.config({}),Ko.config({...t.backstageProvider.tooltips.getConfig({tooltipText:t.backstageProvider.translate("Close")})})]),action:q=>{t.onAction(q)}})),M=R6(A,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),L={dom:{tag:"div",classes:["tox-notification__body"]},components:[i.asSpec()],behaviours:qe([Xt.config({})])},z=[M,L];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":s},classes:t.level.map(q=>["tox-notification","tox-notification--in",`tox-notification--${q}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:qe([Eo.config({}),zt.config({}),Rt.config({mode:"special",onEscape:q=>(t.onAction(q),D.some(!0))})]),components:z.concat(t.progress?[f.asSpec()]:[]).concat([O.asSpec()]),apis:S}},configFields:[Hn("level"),Ie("progress"),Hn("icon"),Ie("onAction"),Ie("text"),Ie("iconProvider"),Ie("backstageProvider")],apis:{updateProgress:(t,s,i)=>{t.updateProgress(s,i)},updateText:(t,s,i)=>{t.updateText(s,i)}}});var zN=(t,s,i,c)=>{const u=s.backstage.shared,f=()=>nt.fromDom(t.queryCommandValue("ToggleView")===""?t.getContentAreaContainer():t.getContainer()),m=()=>{const M=is(f());return D.some(M)},b=M=>{m().each(L=>{ht(M,z=>{V(z.element,"width"),Tn(z.element)>L.width&&rn(z.element,"width",L.width+"px")})})};return{open:(M,L,z)=>{const q=()=>{const ue=Ze=>{Xt.remove(Ze,X),fe()},de=(Ze,pt)=>{Gi(Ze.element).length===0?Ee(Ze,pt):_e(Ze,pt)},Ee=(Ze,pt)=>{Fo.hide(Ze),c.clear(),pt&&t.focus()},_e=(Ze,pt)=>{pt&&Rt.focusIn(Ze)};c.on(Ze=>{L();const pt=z();ue(Ze),de(Ze,pt)})},X=yr(cx.sketch({text:M.text,level:uo(["success","error","warning","warn","info"],M.type)?M.type:void 0,progress:M.progressBar===!0,icon:M.icon,onAction:q,iconProvider:u.providers.icons,backstageProvider:u.providers}));if(c.isSet()){const ue=ea(X);c.on(de=>{Xt.append(de,ue),Fo.reposition(de),wo.refresh(de),b(de.components())})}else{const ue=yr(Fo.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:u.getSink,fireDismissalEventInstead:{},...u.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:qe([Rt.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),Xt.config({}),...vd(t)&&!u.header.isPositionedAtTop()?[]:[wo.config({contextual:{lazyContext:()=>D.some(is(f())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:Ze=>xd(t,Ze.element).map(Re=>({bounds:Cd(Re),optScrollEnv:D.some({currentScrollTop:Re.element.dom.scrollTop,scrollElmTop:Do(Re.element).top})})).getOrThunk(()=>({bounds:Vs(),optScrollEnv:D.none()}))})]])})),de=ea(X),Ee={maxHeightFunction:Np()},_e={...u.anchors.banner(),overrides:Ee};c.set(ue),i.add(ue),Fo.showWithinBounds(ue,de,{anchor:_e},m)}Ae(M.timeout)&&M.timeout>0&&qf.setEditorTimeout(t,()=>{q()},M.timeout);const fe=()=>{c.on(ue=>{Fo.reposition(ue),wo.refresh(ue),b(ue.components())})};return{close:q,reposition:fe,text:ue=>{cx.updateText(X,ue)},settings:M,getEl:()=>X.element.dom,progressBar:{value:ue=>{cx.updateProgress(X,ue)}}}},close:M=>{M.close()},getArgs:M=>M.settings}};const I6={setup:(t,s)=>{const i=(u,f)=>{Et(u,ka(),{raw:f})},c=()=>t.getMenu().bind(zn.getHighlighted);s.on("keydown",u=>{const f=u.which;t.isActive()&&(t.isMenuOpen()?f===13?(c().each(Xu),u.preventDefault()):f===40?(c().fold(()=>{t.getMenu().each(zn.highlightFirst)},m=>{i(m,u)}),u.preventDefault(),u.stopImmediatePropagation()):(f===37||f===38||f===39)&&c().each(m=>{i(m,u),u.preventDefault(),u.stopImmediatePropagation()}):(f===13||f===38||f===40)&&t.cancelIfNecessary())}),s.on("NodeChange",()=>{t.isActive()&&!t.isProcessingAction()&&!s.queryCommandState("mceAutoCompleterInRange")&&t.cancelIfNecessary()})}};var I2;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(I2||(I2={}));var Cc=I2;const kb="tox-menu-nav__js",nh="tox-collection__item",lx="tox-swatch",VN={normal:kb,color:lx},B2="tox-collection__item--enabled",B6="tox-collection__group-heading",ux="tox-collection__item-icon",F2="tox-collection__item-label",WN="tox-collection__item-accessory",L2="tox-collection__item-caret",Zf="tox-collection__item-checkmark",Qf="tox-collection__item--active",dx="tox-collection__item-container",fx="tox-collection__item-container--column",GN="tox-collection__item-container--row",qN="tox-collection__item-container--align-right",KN="tox-collection__item-container--align-left",YN="tox-collection__item-container--valign-top",$2="tox-collection__item-container--valign-middle",XN="tox-collection__item-container--valign-bottom",JN=t=>at(VN,t).getOr(kb),ZN=t=>t==="color"?"tox-swatches":"tox-menu",mx=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:ZN(t),tieredMenu:"tox-tiered-menu"}),wd=t=>{const s=mx(t);return{backgroundMenu:s.backgroundMenu,selectedMenu:s.selectedMenu,menu:s.menu,selectedItem:s.selectedItem,item:JN(t)}},QN=(t,s,i)=>{const c=mx(i);return{tag:"div",classes:on([[c.menu,`tox-menu-${s}-column`],t?[c.hasIcons]:[]])}},F6=[Vf.parts.items({})],Ob=(t,s,i)=>{const c=mx(i);return{dom:{tag:"div",classes:on([[c.tieredMenu]])},markers:wd(i)}},eP=_([Hn("data"),ge("inputAttributes",{}),ge("inputStyles",{}),ge("tag","input"),ge("inputClasses",[]),kn("onSetValue"),ge("styles",{}),ge("eventOrder",{}),tr("inputBehaviours",[ft,zt]),ge("selectOnFocus",!0)]),tP=t=>qe([zt.config({onFocus:t.selectOnFocus?s=>{const i=s.element,c=mc(i);i.dom.setSelectionRange(0,c.length)}:te})]),L6=t=>({...tP(t),...nr(t.inputBehaviours,[ft.config({store:{mode:"manual",...t.data.map(s=>({initialValue:s})).getOr({}),getValue:s=>mc(s.element),setValue:(s,i)=>{mc(s.element)!==i&&Rf(s.element,i)}},onSetValue:t.onSetValue})])}),nP=t=>({tag:t.tag,attributes:{type:"text",...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),oP=(t,s)=>({uid:t.uid,dom:nP(t),components:[],behaviours:L6(t),eventOrder:t.eventOrder}),nl=Ba({name:"Input",configFields:eP(),factory:oP}),j2=yt("refetch-trigger-event"),sP=yt("redirect-menu-item-interaction"),rP="tox-menu__searcher",px=t=>Bo(t.element,`.${rP}`).bind(s=>t.getSystem().getByDom(s).toOptional()),iP=px,$6=(t,s)=>{ft.setValue(t,s.fetchPattern),t.element.dom.selectionStart=s.selectionStart,t.element.dom.selectionEnd=s.selectionEnd},Db=t=>{const s=ft.getValue(t),i=t.element.dom.selectionStart,c=t.element.dom.selectionEnd;return{fetchPattern:s,selectionStart:i,selectionEnd:c}},j6=(t,s)=>{Us(s.element,"id").each(i=>$t(t.element,"aria-activedescendant",i))},aP=t=>{const s=(u,f)=>(f.cut(),D.none()),i=(u,f)=>{const m={interactionEvent:f.event,eventType:f.event.raw.type};return Et(u,sP,m),D.some(!0)},c="searcher-events";return{dom:{tag:"div",classes:[nh]},components:[nl.sketch({inputClasses:[rP,"tox-textfield"],inputAttributes:{...t.placeholder.map(u=>({placeholder:t.i18n(u)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:qe([sn(c,[Me(Tl(),u=>{Sn(u,j2)}),Me(ka(),(u,f)=>{f.event.raw.key==="Escape"&&f.stop()})]),Rt.config({mode:"special",onLeft:s,onRight:s,onSpace:s,onEnter:i,onEscape:i,onUp:i,onDown:i})]),eventOrder:{keydown:[c,Rt.name()]}})]}},hx="tox-collection--results__js",H2=t=>{var s;return t.dom?{...t,dom:{...t.dom,attributes:{...(s=t.dom.attributes)!==null&&s!==void 0?s:{},id:yt("aria-item-search-result-id"),"aria-selected":"false"}}}:t},gx=(t,s)=>i=>{const c=Ic(i,s);return We(c,u=>({dom:t,components:u}))},H6=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Vf.parts.items({preprocess:t!=="auto"?gx({tag:"div",classes:["tox-swatches__row"]},t):At})]}]}),cP=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Vf.parts.items({preprocess:gx({tag:"div",classes:["tox-collection__group"]},t)})]}),U2=(t,s)=>{const i=[];let c=[];return ht(t,(u,f)=>{s(u,f)?(c.length>0&&i.push(c),c=[],(jn(u.dom,"innerHtml")||u.components&&u.components.length>0)&&c.push(u)):c.push(u)}),c.length>0&&i.push(c),We(i,u=>({dom:{tag:"div",classes:["tox-collection__group"]},components:u}))},bx=(t,s,i)=>Vf.parts.items({preprocess:c=>{const u=We(c,i);return t!=="auto"&&t>1?gx({tag:"div",classes:["tox-collection__group"]},t)(u):U2(u,(f,m)=>s[m].type==="separator")}}),z2=(t,s,i=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[bx(t,s,At)]}),U6=(t,s,i=!0)=>{const c=yt("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",hx].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:c}},components:[bx(t,s,H2)]}},z6=(t,s,i)=>{const c=yt("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[aP({i18n:$a.translate,placeholder:i.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],hx],attributes:{id:c}},components:[bx(t,s,H2)]}]}},V6=(t,s=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Vf.parts.items({preprocess:i=>U2(i,(c,u)=>t[u].type==="separator")})]}),yx=t=>Ms(t,s=>"icon"in s&&s.icon!==void 0),$l=t=>(console.error(cp(t)),console.log(t),D.none()),lP=(t,s,i,c,u)=>{const f=V6(i);return{value:t,dom:f.dom,components:f.components,items:i}},V2=(t,s,i,c,u)=>{const f=()=>u.menuType!=="searchable"?z2(c,i):u.searchMode.searchMode==="search-with-field"?z6(c,i,u.searchMode):U6(c,i);if(u.menuType==="color"){const m=H6(c);return{value:t,dom:m.dom,components:m.components,items:i}}else if(u.menuType==="normal"&&c==="auto"){const m=z2(c,i);return{value:t,dom:m.dom,components:m.components,items:i}}else if(u.menuType==="normal"||u.menuType==="searchable"){const m=f();return{value:t,dom:m.dom,components:m.components,items:i}}else if(u.menuType==="listpreview"&&c!=="auto"){const m=cP(c);return{value:t,dom:m.dom,components:m.components,items:i}}else return{value:t,dom:QN(s,c,u.menuType),components:F6,items:i}},as=Fs("type"),W2=Fs("name"),G2=Fs("label"),bu=Fs("text"),uP=Fs("title"),dP=Fs("icon"),em=Fs("value"),fP=uc("fetch"),W6=uc("getSubmenuItems"),oh=uc("onAction"),mP=uc("onItemAction"),tm=Mo("onSetup",()=>te),G6=Ls("name"),yu=Ls("text"),pP=Ls("role"),aa=Ls("icon"),Rb=Ls("tooltip"),q2=Ls("label"),K2=Ls("shortcut"),hP=Gu("select"),sh=br("active",!1),q6=br("borderless",!1),Sc=br("enabled",!0),vx=br("primary",!1),gP=t=>ge("columns",t),Y2=ge("meta",{}),X2=Mo("onAction",te),Ed=t=>fs("type",t),xx=t=>Ks("name","name",nv(()=>yt(`${t}-name`)),lt),K6=t=>Ks("value","value",nv(()=>yt(`${t}-value`)),cc()),bP=Wt([as,yu]),Y6=t=>qo("separatormenuitem",bP,t),Fi=Wt([Ed("autocompleteitem"),sh,Sc,Y2,em,yu,aa]),wc=t=>qo("Autocompleter.Separator",bP,t),yP=t=>qo("Autocompleter.Item",Fi,t),nm=[Sc,Rb,aa,yu,tm,fs("context","mode:design")],J2=Wt([as,oh,K2].concat(nm)),Nb=t=>qo("toolbarbutton",J2,t),Cx=[sh].concat(nm),Pb=Wt(Cx.concat([as,oh,K2])),Mb=t=>qo("ToggleButton",Pb,t),Sx=[Mo("predicate",ln),$r("scope","node",["node","editor"]),$r("position","selection",["node","selection","line"])],vP=nm.concat([Ed("contextformbutton"),vx,oh,Gn("original",At)]),Ib=Cx.concat([Ed("contextformbutton"),vx,oh,Gn("original",At)]),X6=nm.concat([Ed("contextformbutton")]),J6=Cx.concat([Ed("contextformtogglebutton")]),ol=qs("type",{contextformbutton:vP,contextformtogglebutton:Ib}),Li=Wt([Ed("contextform"),Mo("initValue",_("")),q2,Xi("commands",ol),wl("launch",qs("type",{contextformbutton:X6,contextformtogglebutton:J6}))].concat(Sx)),Bb=t=>qo("ContextForm",Li,t),ja=Wt([Ed("contexttoolbar"),Fs("items")].concat(Sx)),Z6=t=>qo("ContextToolbar",ja,t),po=[as,Fs("src"),Ls("alt"),qu("classes",[],lt)],Q6=Wt(po),om=[as,bu,G6,qu("classes",["tox-collection__item-label"],lt)],Fb=Wt(om),Z2=Bs(()=>ap("type",{cardimage:Q6,cardtext:Fb,cardcontainer:Q2})),Q2=Wt([as,fs("direction","horizontal"),fs("align","left"),fs("valign","middle"),Xi("items",Z2)]),Td=[Sc,yu,pP,K2,K6("menuitem"),Y2,fs("context","mode:design")],eH=Wt([as,q2,Xi("items",Z2),tm,X2].concat(Td)),eE=t=>qo("cardmenuitem",eH,t),tH=Wt([as,sh,aa].concat(Td)),xP=t=>qo("choicemenuitem",tH,t),tE=[as,Fs("fancytype"),X2],nE=[ge("initData",{})].concat(tE),CP=[Gu("select"),ZC("initData",{},[br("allowCustomColors",!0),fs("storageKey","default"),av("colors",cc())])].concat(tE),wx=qs("fancytype",{inserttable:nE,colorswatch:CP}),nH=t=>qo("fancymenuitem",wx,t),oH=Wt([as,tm,X2,aa].concat(Td)),sH=t=>qo("menuitem",oH,t),rH=Wt([as,W6,tm,aa].concat(Td)),iH=t=>qo("nestedmenuitem",rH,t),SP=Wt([as,aa,sh,tm,oh].concat(Td)),aH=t=>qo("togglemenuitem",SP,t),oE=(t,s,i)=>{const c=ur(t.element,"."+i);if(c.length>0){const u=vo(c,f=>{const m=f.dom.getBoundingClientRect().top,b=c[0].dom.getBoundingClientRect().top;return Math.abs(m-b)>s}).getOr(c.length);return D.some({numColumns:u,numRows:Math.ceil(c.length/u)})}else return D.none()},sE=(t,s)=>qe([sn(t,s)]),rh={namedEvents:sE,unnamedEvents:t=>sE(yt("unnamed-events"),t)},Lb=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),ca={item:t=>Ut.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>Ut.config({disabled:t}),splitButton:t=>Ut.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>Ut.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},Ex=(t,s)=>{const i=t.getApi(s);return c=>{c(i)}},_d=(t,s)=>ko(i=>{Ex(t,i)(u=>{const f=t.onSetup(u);Pe(f)&&s.set(f)})}),Ad=(t,s)=>Al(i=>Ex(t,i)(s.get())),EP="silver.uistate",$b=(t,s)=>{const c=t.mainUi.outerContainer.element,u=[t.mainUi.mothership,...t.uiMotherships];s==="setDisabled"&&ht(u,f=>{f.broadcastOn([cd()],{target:c})}),ht(u,f=>{f.broadcastOn([EP],s)})},TP=(t,s)=>{t.on("init SwitchMode",i=>{$b(s,i.type)}),t.on("NodeChange",i=>{t.ui.isEnabled()?$b(s,i.type):$b(s,"setDisabled")}),lN(t)&&t.mode.set("readonly")},os=t=>Ni.config({channels:{[EP]:{onReceive:(s,i)=>{if(i==="setDisabled"||i==="setEnabled"){Ut.set(s,i==="setDisabled");return}const{contextType:c,shouldDisable:u}=t();c==="mode"&&!uo(["switchmode","init"],i)||Ut.set(s,u)}}}}),Ec=(t,s)=>au((i,c)=>{Ex(t,i)(t.onAction),!t.triggersSubmenu&&s===Cc.CLOSE_ON_EXECUTE&&(i.getSystem().isConnected()&&Sn(i,Xs()),c.stop())}),lH={[pi()]:["disabling","alloy.base.behaviour","toggling","item-events"]},kd=js,sm=(t,s,i,c)=>{const u=Pt(te);return{type:"item",dom:s.dom,components:kd(s.optComponents),data:t.data,eventOrder:lH,hasSubmenu:t.triggersSubmenu,itemBehaviours:qe([sn("item-events",[Ec(t,i),_d(t,u),Ad(t,u)]),ca.item(()=>!t.enabled||c.checkUiComponentContext(t.context).shouldDisable),os(()=>c.checkUiComponentContext(t.context)),Xt.config({})].concat(t.itemBehaviours))}},rm=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),rE=t=>{const s=Kf.os.isMacOS()||Kf.os.isiOS(),u=s?{alt:"â¥",ctrl:"â",shift:"â§",meta:"â",access:"ââ¥"}:{meta:"Ctrl",access:"Shift+Alt"},f=t.split("+"),m=We(f,b=>{const S=b.toLowerCase().trim();return jn(u,S)?u[S]:b});return s?m.join(""):m.join("+")},Tx=(t,s,i=[ux])=>ia(t,{tag:"div",classes:i},s),iE=t=>({dom:{tag:"div",classes:[F2]},components:[Wo($a.translate(t))]}),aE=(t,s)=>({dom:{tag:"div",classes:s,innerHtml:t}}),uH=(t,s)=>({dom:{tag:"div",classes:[F2]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Wo($a.translate(s))]}]}),dH=t=>({dom:{tag:"div",classes:[WN]},components:[Wo(rE(t))]}),_P=t=>Tx("checkmark",t,[Zf]),fH=t=>Tx("chevron-right",t,[L2]),mH=t=>Tx("chevron-down",t,[L2]),pH=(t,s)=>{const i=t.direction==="vertical"?fx:GN,c=t.align==="left"?KN:qN;return{dom:{tag:"div",classes:[dx,i,c,(()=>{switch(t.valign){case"top":return YN;case"middle":return $2;case"bottom":return XN}})()]},components:s}},hH=(t,s,i)=>({dom:{tag:"img",classes:s,attributes:{src:t,alt:i.getOr("")}}}),AP=(t,s,i)=>{const c="custom",u="remove",f=t.value,m=t.iconContent.map(A=>Ab(A,s.icons,i)),b=t.ariaLabel.map(A=>({"aria-label":s.translate(A),"data-mce-name":A})).getOr({});return{dom:(()=>{const A=lx,O=m.getOr(""),M={tag:"div",attributes:b,classes:[A]};return f===c?{...M,tag:"button",classes:[...M.classes,"tox-swatches__picker-btn"],innerHtml:O}:f===u?{...M,classes:[...M.classes,"tox-swatch--remove"],innerHtml:O}:ae(f)?{...M,attributes:{...M.attributes,"data-mce-color":f},styles:{"background-color":f},innerHtml:O}:M})(),optComponents:[]}},cE=t=>{const s=t.map(i=>({attributes:{id:yt("menu-item"),"aria-label":$a.translate(i)}})).getOr({});return{tag:"div",classes:[kb,nh],...s}},kP=(t,s,i,c)=>{const u={tag:"div",classes:[ux]},f=L=>ia(L,u,s.icons,c),m=()=>D.some({dom:u}),b=i?t.iconContent.map(f).orThunk(m):D.none(),S=t.checkMark,A=D.from(t.meta).fold(()=>iE,L=>jn(L,"style")?Qn(uH,L.style):iE),O=t.htmlContent.fold(()=>t.textContent.map(A),L=>D.some(aE(L,[F2])));return{dom:cE(t.ariaLabel),optComponents:[b,O,t.shortcutContent.map(dH),S,t.caret]}},jb=(t,s,i,c=D.none())=>t.presets==="color"?AP(t,s,c):kP(t,s,i,c),OP=(t,s,i)=>at(t,"tooltipWorker").map(c=>[Ko.config({lazySink:s.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:u=>({type:"submenu",item:u,overrides:{maxHeightFunction:Np}}),mode:"follow-highlight",onShow:(u,f)=>{c(m=>{Ko.setComponents(u,[xS({element:nt.fromDom(m)})])})}})]).getOrThunk(()=>i.map(c=>[Ko.config({...s.providers.tooltips.getConfig({tooltipText:c}),mode:"follow-highlight"})]).getOr([])),gH=t=>bd.DOM.encode(t),im=(t,s)=>{const i=$a.translate(t),c=gH(i);if(s.length>0){const u=new RegExp(Lb(s),"gi");return c.replace(u,f=>`<span class="tox-autocompleter-highlight">${f}</span>`)}else return c},bH=(t,s,i,c,u,f,m,b=!0)=>{const S=jb({presets:c,textContent:D.none(),htmlContent:i?t.text.map(O=>im(O,s)):D.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:D.none(),checkMark:D.none(),caret:D.none(),value:t.value},m.providers,b,t.icon),A=t.text.filter(O=>!i&&O!=="");return sm({context:"mode:design",data:rm(t),enabled:t.enabled,getApi:_({}),onAction:O=>u(t.value,t.meta),onSetup:_(te),triggersSubmenu:!1,itemBehaviours:OP(t,m,A)},S,f,m.providers)},lE=(t,s)=>We(t,i=>{switch(i.type){case"cardcontainer":return pH(i,lE(i.items,s));case"cardimage":return hH(i.src,i.classes,i.alt);case"cardtext":const u=i.name.exists(f=>uo(s.cardText.highlightOn,f))?D.from(s.cardText.matchText).getOr(""):"";return aE(im(i.text,u),i.classes)}}),DP=(t,s,i,c)=>{const u=m=>({isEnabled:()=>!Ut.isDisabled(m),setEnabled:b=>{Ut.set(m,!b),ht(ur(m.element,"*"),S=>{m.getSystem().getByDom(S).each(A=>{A.hasConfigured(Ut)&&Ut.set(A,!b)})})}}),f={dom:cE(t.label),optComponents:[D.some({dom:{tag:"div",classes:[dx,GN]},components:lE(t.items,c)})]};return sm({context:"mode:design",data:rm({text:D.none(),...t}),enabled:t.enabled,getApi:u,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:D.from(c.itemBehaviours).getOr([])},f,s,i.providers)},RP=(t,s,i,c,u,f,m,b=!0)=>{const S=M=>({setActive:L=>{un.set(M,L)},isActive:()=>un.isOn(M),isEnabled:()=>!Ut.isDisabled(M),setEnabled:L=>Ut.set(M,!L)}),A=jb({presets:i,textContent:s?t.text:D.none(),htmlContent:D.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:s?t.shortcut:D.none(),checkMark:s?D.some(_P(m.icons)):D.none(),caret:D.none(),value:t.value},m,b),O=t.text.filter(_(!s)).map(M=>Ko.config(m.tooltips.getConfig({tooltipText:m.translate(M)})));return Qo(sm({context:t.context,data:rm(t),enabled:t.enabled,getApi:S,onAction:M=>c(t.value),onSetup:M=>(M.setActive(u),te),triggersSubmenu:!1,itemBehaviours:[...O.toArray()]},A,f,m),{toggling:{toggleClass:B2,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},uE=bw($1(),j1()),_x=t=>({value:NP(t)}),Ax=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,kx=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,dE=t=>Ax.test(t)||kx.test(t),NP=t=>qh(t,"#").toUpperCase(),PP=t=>dE(t)?D.some({value:NP(t)}):D.none(),yH=t=>({value:t.value.replace(Ax,(i,c,u,f)=>c+c+u+u+f+f)}),vH=t=>{const s=yH(t),i=kx.exec(s.value);return i===null?["FFFFFF","FF","FF","FF"]:i},fE=t=>{const s=t.toString(16);return(s.length===1?"0"+s:s).toUpperCase()},ih=t=>{const s=fE(t.red)+fE(t.green)+fE(t.blue);return _x(s)},mE=Math.min,pE=Math.max,Ox=Math.round,xH=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,CH=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,am=(t,s,i,c)=>({red:t,green:s,blue:i,alpha:c}),hE=t=>{const s=parseInt(t,10);return s.toString()===t&&s>=0&&s<=255},MP=t=>{let s,i,c;const u=(t.hue||0)%360;let f=t.saturation/100,m=t.value/100;if(f=pE(0,mE(f,1)),m=pE(0,mE(m,1)),f===0)return s=i=c=Ox(255*m),am(s,i,c,1);const b=u/60,S=m*f,A=S*(1-Math.abs(b%2-1)),O=m-S;switch(Math.floor(b)){case 0:s=S,i=A,c=0;break;case 1:s=A,i=S,c=0;break;case 2:s=0,i=S,c=A;break;case 3:s=0,i=A,c=S;break;case 4:s=A,i=0,c=S;break;case 5:s=S,i=0,c=A;break;default:s=i=c=0}return s=Ox(255*(s+O)),i=Ox(255*(i+O)),c=Ox(255*(c+O)),am(s,i,c,1)},Hb=t=>{const s=vH(t),i=parseInt(s[1],16),c=parseInt(s[2],16),u=parseInt(s[3],16);return am(i,c,u,1)},IP=(t,s,i,c)=>{const u=parseInt(t,10),f=parseInt(s,10),m=parseInt(i,10),b=parseFloat(c);return am(u,f,m,b)},gE=t=>{const s=xH.exec(t);if(s!==null)return D.some(IP(s[1],s[2],s[3],"1"));const i=CH.exec(t);return i!==null?D.some(IP(i[1],i[2],i[3],i[4])):D.none()},BP=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,FP=am(255,0,0,1),LP=t=>{t.dispatch("SkinLoaded")},SH=(t,s)=>{t.dispatch("SkinLoadError",s)},wH=t=>{t.dispatch("ResizeEditor")},bE=(t,s)=>{t.dispatch("ResizeContent",s)},EH=(t,s)=>{t.dispatch("ScrollContent",s)},$P=(t,s)=>{t.dispatch("TextColorChange",s)},Dx=(t,s)=>{t.dispatch("AfterProgressState",{state:s})},jP=(t,s)=>t.dispatch("ResolveName",{name:s.nodeName.toLowerCase(),target:s}),TH=(t,s)=>{t.dispatch("ToggleToolbarDrawer",{state:s})},_H=(t,s)=>{t.dispatch("StylesTextUpdate",s)},AH=(t,s)=>{t.dispatch("AlignTextUpdate",s)},kH=(t,s)=>{t.dispatch("FontSizeTextUpdate",s)},OH=(t,s)=>{t.dispatch("FontSizeInputTextUpdate",s)},DH=(t,s)=>{t.dispatch("BlocksTextUpdate",s)},yE=(t,s)=>{t.dispatch("FontFamilyTextUpdate",s)},HP=t=>{t.dispatch("ToggleSidebar")},UP=t=>{t.dispatch("ToggleView")},Rx=(t,s)=>()=>{t(),s()},Nr=t=>cm(t,"NodeChange",s=>{s.setEnabled(t.selection.isEditable())}),RH=(t,s)=>i=>{const c=ac(),u=()=>{i.setActive(t.formatter.match(s));const f=t.formatter.formatChanged(s,i.setActive);c.set(f)};return t.initialized?u():t.once("init",u),()=>{t.off("init",u),c.clear()}},Nx=(t,s)=>i=>{const c=Nr(t)(i),u=RH(t,s)(i);return()=>{c(),u()}},cm=(t,s,i)=>c=>{const u=()=>i(c),f=()=>{i(c),t.on(s,u)};return t.initialized?f():t.once("init",f),()=>{t.off("init",f),t.off(s,u)}},zP=t=>s=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,s.format)})},$i=(t,s)=>()=>t.execCommand(s);var lm=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const VP={},NH=(t,s=10)=>{const i=lm.getItem(t),c=j(i)?JSON.parse(i):[],f=(A=>s-A.length<0?A.slice(0,s):A)(c),m=A=>{bt(f,A).each(b),f.unshift(A),f.length>s&&f.pop(),lm.setItem(t,JSON.stringify(f))},b=A=>{f.splice(A,1)};return{add:m,state:()=>f.slice(0)}},WP=t=>at(VP,t).getOrThunk(()=>{const s=`tinymce-custom-colors-${t}`,i=lm.getItem(s);if(ie(i)){const u=lm.getItem("tinymce-custom-colors");lm.setItem(s,ae(u)?u:"[]")}const c=NH(s,10);return VP[t]=c,c}),PH=t=>We(WP(t).state(),s=>({type:"choiceitem",text:s,icon:"checkmark",value:s})),Ub=(t,s)=>{WP(t).add(s)},um=(t,s,i)=>({hue:t,saturation:s,value:i}),zb=t=>{let s=0,i=0,c=0;const u=t.red/255,f=t.green/255,m=t.blue/255,b=Math.min(u,Math.min(f,m)),S=Math.max(u,Math.max(f,m));if(b===S)return c=b,um(0,0,c*100);const A=u===b?f-m:m===b?u-f:m-u;return s=u===b?3:m===b?1:5,s=60*(s-A/(S-b)),i=(S-b)/S,c=S,um(Math.round(s),Math.round(i*100),Math.round(c*100))},GP=t=>zb(Hb(t)),qP=t=>ih(MP(t)),MH=t=>PP(t).orThunk(()=>gE(t).map(ih)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const i=s.getContext("2d");i.clearRect(0,0,s.width,s.height),i.fillStyle="#FFFFFF",i.fillStyle=t,i.fillRect(0,0,1,1);const c=i.getImageData(0,0,1,1).data,u=c[0],f=c[1],m=c[2],b=c[3];return ih(am(u,f,m,b))}),Vb="forecolor",Wb="hilitecolor",Px=5,KP=t=>YP(t.map((s,i)=>i%2===0?"#"+MH(s).value:s)),YP=t=>{const s=[];for(let i=0;i<t.length;i+=2)s.push({text:t[i+1],value:t[i],icon:"checkmark",type:"choiceitem"});return s},sl=t=>s=>s.options.get(t),vE="#000000",IH=t=>{const s=t.options.register,i=f=>Qe(f,j)?{value:KP(f),valid:!0}:{valid:!1,message:"Must be an array of strings."},c=f=>Qe(f,j)?{value:YP(f),valid:!0}:{valid:!1,message:"Must be an array of strings."},u=f=>Ae(f)&&f>0?{value:f,valid:!0}:{valid:!1,message:"Must be a positive number."};s("color_map",{processor:i,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),s("color_map_raw",{processor:c}),s("color_map_background",{processor:i}),s("color_map_foreground",{processor:i}),s("color_cols",{processor:u,default:xE(t)}),s("color_cols_foreground",{processor:u,default:XP(t,Vb)}),s("color_cols_background",{processor:u,default:XP(t,Wb)}),s("custom_colors",{processor:"boolean",default:!0}),s("color_default_foreground",{processor:"string",default:vE}),s("color_default_background",{processor:"string",default:vE})},Mx=(t,s)=>s===Vb&&t.options.isSet("color_map_foreground")?sl("color_map_foreground")(t):s===Wb&&t.options.isSet("color_map_background")?sl("color_map_background")(t):t.options.isSet("color_map_raw")?sl("color_map_raw")(t):sl("color_map")(t),xE=(t,s="default")=>Math.max(Px,Math.ceil(Math.sqrt(Mx(t,s).length))),XP=(t,s)=>{const i=sl("color_cols")(t),c=xE(t,s);return i===xE(t)?c:i},JP=(t,s="default")=>Math.round(s===Vb?sl("color_cols_foreground")(t):s===Wb?sl("color_cols_background")(t):sl("color_cols")(t)),ZP=sl("custom_colors"),BH=sl("color_default_foreground"),FH=sl("color_default_background"),LH="rgba(0, 0, 0, 0)",$H=t=>gE(t).exists(s=>s.alpha!==0),QP=t=>dp(t,s=>{if(ys(s)){const i=C(s,"background-color");return Lt($H(i),i)}else return D.none()}).getOr(LH),eM=(t,s)=>{const i=nt.fromDom(t.selection.getStart()),c=s==="hilitecolor"?QP(i):C(i,"color");return gE(c).map(u=>"#"+ih(u).value)},jH=(t,s,i)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(s,{value:i}),t.nodeChanged()})},jl=(t,s)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(s,{value:null},void 0,!0),t.nodeChanged()})},HH=t=>{t.addCommand("mceApplyTextcolor",(s,i)=>{jH(t,s,i)}),t.addCommand("mceRemoveTextcolor",s=>{jl(t,s)})},tM=t=>{const s="choiceitem",i={type:s,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[i,{type:s,text:"Custom color",icon:"color-picker",value:"custom"}]:[i]},Gb=(t,s,i,c)=>{i==="custom"?aM(t)(f=>{f.each(m=>{Ub(s,m),t.execCommand("mceApplyTextcolor",s,m),c(m)})},eM(t,s).getOr(vE)):i==="remove"?(c(""),t.execCommand("mceRemoveTextcolor",s)):(c(i),t.execCommand("mceApplyTextcolor",s,i))},Es=(t,s,i)=>t.concat(PH(s).concat(tM(i))),nM=(t,s,i)=>c=>{c(Es(t,s,i))},CE=(t,s,i)=>{const c=s==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(c,i)},oM=(t,s)=>{t.setTooltip(s)},sM=(t,s)=>i=>{const c=eM(t,s);return ri(c,i.toUpperCase())},SE=(t,s,i)=>{if(oc(i))return s==="forecolor"?"Text color":"Background color";const c=s==="forecolor"?"Text color {0}":"Background color {0}",u=Es(Mx(t,s),s,!1),f=en(u,m=>m.value===i).getOr({text:""}).text;return t.translate([c,t.translate(f)])},rM=(t,s,i,c)=>{t.ui.registry.addSplitButton(s,{tooltip:SE(t,i,c.get()),presets:"color",icon:s==="forecolor"?"text-color":"highlight-bg-color",select:sM(t,i),columns:JP(t,i),fetch:nM(Mx(t,i),i,ZP(t)),onAction:u=>{Gb(t,i,c.get(),te)},onItemAction:(u,f)=>{Gb(t,i,f,m=>{c.set(m),$P(t,{name:s,color:m})})},onSetup:u=>{CE(u,s,c.get());const f=m=>{m.name===s&&(CE(u,m.name,m.color),oM(u,SE(t,i,m.color)))};return t.on("TextColorChange",f),Rx(Nr(t)(u),()=>{t.off("TextColorChange",f)})}})},iM=(t,s,i,c,u)=>{t.ui.registry.addNestedMenuItem(s,{text:c,icon:s==="forecolor"?"text-color":"highlight-bg-color",onSetup:f=>(oM(f,SE(t,i,u.get())),CE(f,s,u.get()),Nr(t)(f)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:sM(t,i),initData:{storageKey:i},onAction:f=>{Gb(t,i,f.value,m=>{u.set(m),$P(t,{name:s,color:m})})}}]})},aM=t=>(s,i)=>{let c=!1;const u=b=>{const A=b.getData().colorpicker;c?(s(D.from(A)),b.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",A]))},f=(b,S)=>{S.name==="hex-valid"&&(c=S.value)},m={colorpicker:i};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:m,onAction:f,onSubmit:u,onClose:te,onCancel:()=>{s(D.none())}})},UH=t=>{HH(t);const s=BH(t),i=FH(t),c=Pt(s),u=Pt(i);rM(t,"forecolor","forecolor",c),rM(t,"backcolor","hilitecolor",u),iM(t,"forecolor","forecolor","Text color",c),iM(t,"backcolor","hilitecolor","Background color",u)},wE=(t,s,i,c,u,f,m,b)=>{const S=yx(s),O=zH(s,i,c,u!=="color"?"normal":"color",f,m,b);return V2(t,S,O,c,{menuType:u})},zH=(t,s,i,c,u,f,m)=>js(We(t,b=>b.type==="choiceitem"?xP(b).fold($l,S=>D.some(RP(S,i===1,c,s,f(S.value),u,m,yx(t)))):D.none())),Ix=(t,s)=>{const i=wd(s);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(s==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:u=>s==="color"?Bo(u.element,"[aria-checked=true]"):D.none()}},VH=(t,s)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:s==="color"?".tox-swatches__row":".tox-collection__group",cell:s==="color"?`.${lx}`:`.${nh}`}},WH=(t,s)=>{const i=GH(t,s),c=s.colorinput.getColorCols(t.initData.storageKey),u="color",m={...wE(yt("menu-value"),i,b=>{t.onAction({value:b})},c,u,Cc.CLOSE_ON_EXECUTE,t.select.getOr(ln),s.shared.providers),markers:wd(u),movement:Ix(c,u),showMenuRole:!1};return{type:"widget",data:{value:yt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[uE.widget(Vf.sketch(m))]}},GH=(t,s)=>{const i=t.initData.allowCustomColors&&s.colorinput.hasCustomColors();return t.initData.colors.fold(()=>Es(s.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,i),c=>c.concat(tM(i)))},cM=yt("cell-over"),lM=yt("cell-execute"),qH=t=>(s,i)=>t.shared.providers.translate(["{0} columns, {1} rows",i,s]),KH=(t,s,i)=>{const c=m=>Et(m,cM,{row:t,col:s}),u=m=>Et(m,lM,{row:t,col:s}),f=(m,b)=>{b.stop(),u(m)};return yr({dom:{tag:"div",attributes:{role:"button","aria-label":i}},behaviours:qe([sn("insert-table-picker-cell",[Me(El(),zt.focus),Me(pi(),u),Me(df(),f),Me(mv(),f)]),un.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),zt.config({onFocus:c})])})},YH=(t,s,i)=>{const c=[];for(let u=0;u<s;u++){const f=[];for(let m=0;m<i;m++){const b=t(u+1,m+1);f.push(KH(u,m,b))}c.push(f)}return c},XH=(t,s,i,c,u)=>{for(let f=0;f<c;f++)for(let m=0;m<u;m++)un.set(t[f][m],f<=s&&m<=i)},JH=t=>De(t,s=>We(s,ea)),uM=(t,s)=>Wo(`${s}x${t}`),ZH={inserttable:(t,s)=>{const u=qH(s),f=YH(u,10,10),m=uM(0,0),b=Ln({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[m],behaviours:qe([Xt.config({})])});return{type:"widget",data:{value:yt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[uE.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:JH(f).concat(b.asSpec()),behaviours:qe([sn("insert-table-picker",[ko(S=>{Xt.set(b.get(S),[m])}),wv(cM,(S,A,O)=>{const{row:M,col:L}=O.event;XH(f,M,L,10,10),Xt.set(b.get(S),[uM(M+1,L+1)])}),wv(lM,(S,A,O)=>{const{row:M,col:L}=O.event;Sn(S,Xs()),t.onAction({numRows:M+1,numColumns:L+1})})]),Rt.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:WH},dM=(t,s)=>at(ZH,t.fancytype).map(i=>i(t,s)),QH=(t,s,i,c=!0,u=!1)=>{const f=u?mH(i.icons):fH(i.icons),m=S=>({isEnabled:()=>!Ut.isDisabled(S),setEnabled:A=>Ut.set(S,!A),setIconFill:(A,O)=>{Bo(S.element,`svg path[class="${A}"], rect[class="${A}"]`).each(M=>{$t(M,"fill",O)})},setTooltip:A=>{const O=i.translate(A);$t(S.element,"aria-label",O)}}),b=jb({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:D.none(),ariaLabel:t.text,caret:D.some(f),checkMark:D.none(),shortcutContent:t.shortcut},i,c);return sm({context:t.context,data:rm(t),getApi:m,enabled:t.enabled,onAction:te,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},b,s,i)},fM=(t,s,i,c=!0)=>{const u=m=>({isEnabled:()=>!Ut.isDisabled(m),setEnabled:b=>Ut.set(m,!b)}),f=jb({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:D.none(),ariaLabel:t.text,caret:D.none(),checkMark:D.none(),shortcutContent:t.shortcut},i,c);return sm({context:t.context,data:rm(t),getApi:u,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},f,s,i)},e8=t=>({type:"separator",dom:{tag:"div",classes:[nh,B6]},components:t.text.map(Wo).toArray()}),t8=(t,s,i,c=!0)=>{const u=m=>({setActive:b=>{un.set(m,b)},isActive:()=>un.isOn(m),isEnabled:()=>!Ut.isDisabled(m),setEnabled:b=>Ut.set(m,!b)}),f=jb({iconContent:t.icon,textContent:t.text,htmlContent:D.none(),ariaLabel:t.text,checkMark:D.some(_P(i.icons)),caret:D.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},i,c);return Qo(sm({context:t.context,data:rm(t),enabled:t.enabled,getApi:u,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},f,s,i),{toggling:{toggleClass:B2,toggleOnExecute:!1,selected:t.active},role:t.role.getOrUndefined()})},n8=bH,EE=e8,o8=fM,s8=QH,r8=t8,i8=dM,mM=DP;var c8=Object.freeze({__proto__:null,getCoupled:(t,s,i,c)=>i.getOrCreate(t,s,c),getExistingCoupled:(t,s,i,c)=>i.getExisting(t,s,c)}),pM=[qn("others",Uc(bn.value,cc()))],l8=Object.freeze({__proto__:null,init:()=>{const t={},s=(f,m)=>{if(Jo(f.others).length===0)throw new Error("Cannot find any known coupled components");return at(t,m)},i=(f,m,b)=>s(m,b).getOrThunk(()=>{const A=at(m.others,b).getOrDie("No information found for coupled component: "+b)(f),O=f.getSystem().build(A);return t[b]=O,O}),c=(f,m,b)=>s(m,b).orThunk(()=>(at(m.others,b).getOrDie("No information found for coupled component: "+b),D.none())),u=_({});return jr({readState:u,getExisting:c,getOrCreate:i})}});const es=Js({fields:pM,name:"coupling",apis:c8,state:l8}),TE=t=>{let s=D.none(),i=[];const c=A=>TE(O=>{u(M=>{O(A(M))})}),u=A=>{m()?S(A):i.push(A)},f=A=>{m()||(s=D.some(A),b(i),i=[])},m=()=>s.isSome(),b=A=>{ht(A,S)},S=A=>{s.each(O=>{setTimeout(()=>{A(O)},0)})};return t(f),{get:u,map:c,isReady:m}},u8={nu:TE,pure:t=>TE(s=>{s(t)})},d8=t=>{setTimeout(()=>{throw t},0)},ah=t=>{const s=S=>{t().then(S,d8)};return{map:S=>ah(()=>t().then(S)),bind:S=>ah(()=>t().then(A=>S(A).toPromise())),anonBind:S=>ah(()=>t().then(()=>S.toPromise())),toLazy:()=>u8.nu(s),toCached:()=>{let S=null;return ah(()=>(S===null&&(S=t()),S))},toPromise:t,get:s}},wr={nu:t=>ah(()=>new Promise(t)),pure:t=>ah(()=>Promise.resolve(t))},hM=_("sink"),gM=_(na({name:hM(),overrides:_({dom:{tag:"div"},behaviours:qe([Sr.config({useFixed:Ot})]),events:no([pf(ka()),pf(Ji()),pf(df())])})})),_E=(t,s)=>{const i=t.getHotspot(s).getOr(s),c="hotspot",u=t.getAnchorOverrides();return t.layouts.fold(()=>({type:c,hotspot:i,overrides:u}),f=>({type:c,hotspot:i,overrides:u,layouts:f}))},f8=(t,s,i)=>{const c=t.fetch;return c(i).map(s)},m8=(t,s,i,c,u,f,m)=>{const b=f8(t,s,c),S=bM(c,t);return b.map(A=>A.bind(O=>{const M=O.menus[O.primary];return D.from(M).each(L=>{t.listRole.each(z=>{L.role=z})}),D.from(Ll.sketch({...f.menu(),uid:Dp(""),data:O,highlightOnOpen:m,onOpenMenu:(L,z)=>{const q=S().getOrDie();Sr.position(q,z,{anchor:i}),Dn.decloak(u)},onOpenSubmenu:(L,z,q)=>{const X=S().getOrDie();Sr.position(X,q,{anchor:{type:"submenu",item:z}}),Dn.decloak(u)},onRepositionMenu:(L,z,q)=>{const X=S().getOrDie();Sr.position(X,z,{anchor:i}),ht(q,fe=>{Sr.position(X,fe.triggeredMenu,{anchor:{type:"submenu",item:fe.triggeringItem}})})},onEscape:()=>(zt.focus(c),Dn.close(u),D.some(!0))}))}))},Bx=(t,s,i,c,u,f,m)=>{const b=_E(t,i);return m8(t,s,b,i,c,u,m).map(A=>(A.fold(()=>{Dn.isOpen(c)&&Dn.close(c)},O=>{Dn.cloak(c),Dn.open(c,O),f(c)}),c))},p8=(t,s,i,c,u,f,m)=>(Dn.close(c),wr.pure(c)),AE=(t,s,i,c,u,f)=>{const m=es.getCoupled(i,"sandbox");return(Dn.isOpen(m)?p8:Bx)(t,s,i,m,c,u,f)},kE=(t,s,i)=>{const c=_n.getCurrent(s).getOr(s),u=Tn(t.element);i?rn(c.element,"min-width",u+"px"):li(c.element,u)},bM=(t,s)=>t.getSystem().getByUid(s.uid+"-"+hM()).map(i=>()=>bn.value(i)).getOrThunk(()=>s.lazySink.fold(()=>()=>bn.error(new Error("No internal sink is specified, nor could an external sink be found")),i=>()=>i(t))),yM=t=>{Dn.getState(t).each(s=>{Ll.repositionMenus(s)})},OE=(t,s,i)=>{const c=pO(),u=(b,S)=>{const A=_E(t,s);c.link(s.element),t.matchWidth&&kE(A.hotspot,S,t.useMinWidth),t.onOpen(A,b,S),i!==void 0&&i.onOpen!==void 0&&i.onOpen(b,S)},f=(b,S)=>{c.unlink(s.element),m().getOr(S).element.dom.dispatchEvent(new window.FocusEvent("focusout")),i!==void 0&&i.onClose!==void 0&&i.onClose(b,S)},m=bM(s,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:c.id}},behaviours:Ma.augment(t.sandboxBehaviours,[ft.config({store:{mode:"memory",initialValue:s}}),Dn.config({onOpen:u,onClose:f,isPartOf:(b,S,A)=>nd(S,A)||nd(s,A),getAttachPoint:()=>m().getOrDie()}),_n.config({find:b=>Dn.getState(b).bind(S=>_n.getCurrent(S))}),Ni.config({channels:{...Wg({isExtraPart:ln}),...Gg({doReposition:yM})}})])}},DE=t=>{const s=es.getCoupled(t,"sandbox");yM(s)},Fx=()=>[ge("sandboxClasses",[]),Ma.field("sandboxBehaviours",[_n,Ni,Dn,ft])],h8=_([Ie("dom"),Ie("fetch"),kn("onOpen"),Ur("onExecute"),ge("getHotspot",D.some),ge("getAnchorOverrides",_({})),rd(),tr("dropdownBehaviours",[un,es,Rt,zt]),Ie("toggleClass"),ge("eventOrder",{}),Hn("lazySink"),ge("matchWidth",!1),ge("useMinWidth",!1),Hn("role"),Hn("listRole")].concat(Fx())),g8=_([Ia({schema:[Op(),ge("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),gM()]),vM=(t,s,i,c)=>{const u=O=>at(t.dom,"attributes").bind(M=>at(M,O)),f=O=>{Dn.getState(O).each(M=>{Ll.highlightPrimary(M)})},m=(O,M,L)=>AE(t,At,O,c,M,L),b=O=>{m(O,f,Zr.HighlightMenuAndItem).get(te)},S={expand:O=>{un.isOn(O)||m(O,te,Zr.HighlightNone).get(te)},open:O=>{un.isOn(O)||m(O,te,Zr.HighlightMenuAndItem).get(te)},refetch:O=>es.getExistingCoupled(O,"sandbox").fold(()=>m(O,te,Zr.HighlightMenuAndItem).map(te),L=>Bx(t,At,O,L,c,te,Zr.HighlightMenuAndItem).map(te)),isOpen:un.isOn,close:O=>{un.isOn(O)&&m(O,te,Zr.HighlightMenuAndItem).get(te)},repositionMenus:O=>{un.isOn(O)&&DE(O)}},A=(O,M)=>(Xu(O),D.some(!0));return{uid:t.uid,dom:t.dom,components:s,behaviours:nr(t.dropdownBehaviours,[un.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),es.config({others:{sandbox:O=>OE(t,O,{onOpen:()=>un.on(O),onClose:()=>un.off(O)})}}),Rt.config({mode:"special",onSpace:A,onEnter:A,onDown:(O,M)=>{if(la.isOpen(O)){const L=es.getCoupled(O,"sandbox");f(L)}else la.open(O);return D.some(!0)},onEscape:(O,M)=>la.isOpen(O)?(la.close(O),D.some(!0)):D.none()}),zt.config({})]),events:db(D.some(b)),eventOrder:{...t.eventOrder,[pi()]:["disabling","toggling","alloy.base.behaviour"]},apis:S,domModification:{attributes:{"aria-haspopup":t.listRole.getOr("true"),...t.role.fold(()=>({}),O=>({role:O})),...t.dom.tag==="button"?{type:u("type").getOr("button")}:{}}}}},la=Rr({name:"Dropdown",configFields:h8(),partFields:g8(),factory:vM,apis:{open:(t,s)=>t.open(s),refetch:(t,s)=>t.refetch(s),expand:(t,s)=>t.expand(s),close:(t,s)=>t.close(s),isOpen:(t,s)=>t.isOpen(s),repositionMenus:(t,s)=>t.repositionMenus(s)}}),b8=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},y8=t=>{const s=ft.getValue(t),i=px(t).map(Db);la.refetch(s).get(()=>{const c=es.getCoupled(s,"sandbox");i.each(u=>px(c).each(f=>$6(f,u)))})},v8=(t,s)=>{x8(t).each(i=>{_k(t,i.element,s.event.eventType,s.event.interactionEvent)})},x8=t=>Dn.getState(t).bind(zn.getHighlighted).bind(zn.getHighlighted),C8=t=>Yr(t.element,hx)?D.some(t.element):Bo(t.element,"."+hx),qb=(t,s,i)=>{iP(t).each(c=>{j6(c,i),C8(s).each(f=>{Us(f,"id").each(m=>$t(c.element,"aria-controls",m))})}),$t(i.element,"aria-selected","true")},S8=(t,s,i)=>{$t(i.element,"aria-selected","false")},Lx=t=>{iP(t).each(s=>zt.focus(s))},w8=t=>es.getExistingCoupled(t,"sandbox").bind(px).map(Db).map(i=>i.fetchPattern).getOr("");var $x;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})($x||($x={}));const E8=(t,s,i,c,u)=>{const f=i.shared.providers,m=b=>u?{...b,shortcut:D.none(),icon:b.text.isSome()?D.none():b.icon}:b;switch(t.type){case"menuitem":return sH(t).fold($l,b=>D.some(o8(m(b),s,f,c)));case"nestedmenuitem":return iH(t).fold($l,b=>D.some(s8(m(b),s,f,c,u)));case"togglemenuitem":return aH(t).fold($l,b=>D.some(r8(m(b),s,f,c)));case"separator":return Y6(t).fold($l,b=>D.some(EE(b)));case"fancymenuitem":return nH(t).fold($l,b=>i8(b,i));default:return console.error("Unknown item in general menu",t),D.none()}},T8=(t,s,i,c,u,f,m)=>{const b=c===1,S=!b||yx(t);return js(We(t,A=>{switch(A.type){case"separator":return wc(A).fold($l,O=>D.some(EE(O)));case"cardmenuitem":return eE(A).fold($l,O=>D.some(mM({...O,onAction:M=>{O.onAction(M),i(O.value,O.meta)}},u,f,{itemBehaviours:OP(O.meta,f,D.none()),cardText:{matchText:s,highlightOn:m}})));case"autocompleteitem":default:return yP(A).fold($l,O=>D.some(n8(O,s,b,"normal",i,u,f,S)))}}))},_8=(t,s,i,c,u,f)=>{const m=yx(s),b=js(We(s,O=>{const M=z=>u?!jn(z,"text"):m,L=z=>E8(z,i,c,M(z),u);return O.type==="nestedmenuitem"&&O.getSubmenuItems().length<=0?L({...O,enabled:!1}):L(O)})),S=b8(f);return(u?lP:V2)(t,m,b,1,S)},ch=t=>Ll.singleData(t.value,t),lh=(t,s,i,c)=>{const u=Ix(s,c),f=wd(c);return{data:ch({...t,movement:u,menuBehaviours:rh.unnamedEvents(s!=="auto"?[]:[ko((m,b)=>{oE(m,4,f.item).each(({numColumns:S,numRows:A})=>{Rt.setGridSize(m,A,S)})})])}),menu:{markers:wd(c),fakeFocus:i===$x.ContentFocus}}},xM=t=>e1.create(nt.fromDom(t.startContainer),t.startOffset,nt.fromDom(t.endContainer),t.endOffset),k8={register:(t,s)=>{const i=yt("autocompleter"),c=Pt(!1),u=Pt(!1),f=So(),m=yr(Fo.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:i}},components:[],fireDismissalEventInstead:{},inlineBehaviours:qe([sn("dismissAutocompleter",[Me(Yu(),()=>M()),Me(sS(),(Z,ue)=>{Us(ue.event.target,"id").each(de=>$t(nt.fromDom(t.getBody()),"aria-activedescendant",de))})])]),lazySink:s.getSink})),b=()=>Fo.isOpen(m),S=u.get,A=()=>{if(b()){Fo.hide(m),t.dom.remove(i,!1);const Z=nt.fromDom(t.getBody());Us(Z,"aria-owns").filter(ue=>ue===i).each(()=>{_o(Z,"aria-owns"),_o(Z,"aria-activedescendant")})}},O=()=>Fo.getContent(m).bind(Z=>Ho(Z.components(),0)),M=()=>t.execCommand("mceAutocompleterClose"),L=Z=>{const ue=or(Z,de=>D.from(de.columns)).getOr(1);return De(Z,de=>{const Ee=de.items;return T8(Ee,de.matchText,(_e,Ze)=>{const pt={hide:()=>M(),reload:Re=>{A(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:Re})}};t.execCommand("mceAutocompleterRefreshActiveRange"),f.get().each(Re=>{c.set(!0),de.onAction(pt,Re,_e,Ze),c.set(!1)})},ue,Cc.BUBBLE_TO_SANDBOX,s,de.highlightOn)})},z=(Z,ue)=>{const de=or(Z,Ee=>D.from(Ee.columns)).getOr(1);Fo.showMenuAt(m,{anchor:{type:"selection",getSelection:()=>f.get().map(xM),root:nt.fromDom(t.getBody())}},lh(V2("autocompleter-value",!0,ue,de,{menuType:"normal"}),de,$x.ContentFocus,"normal")),O().each(zn.highlightFirst)},q=Z=>{const ue=L(Z);ue.length>0?(z(Z,ue),$t(nt.fromDom(t.getBody()),"aria-owns",i),t.inline||X()):A()},X=()=>{t.dom.get(i)&&t.dom.remove(i,!1);const Z=t.getDoc().documentElement,ue=t.selection.getNode(),de=Cg(m.element);Fu(de,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${ue.offsetTop}px`,left:`${ue.offsetLeft}px`}),t.dom.add(Z,de.dom),Bo(de,'[role="menu"]').each(Ee=>{V(Ee,"position"),V(Ee,"max-height")})};t.on("AutocompleterStart",({lookupData:Z})=>{u.set(!0),c.set(!1),q(Z)}),t.on("AutocompleterUpdate",({lookupData:Z})=>q(Z)),t.on("AutocompleterUpdateActiveRange",({range:Z})=>f.set(Z)),t.on("AutocompleterEnd",()=>{A(),u.set(!1),c.set(!1),f.clear()});const fe={cancelIfNecessary:M,isMenuOpen:b,isActive:S,isProcessingAction:c.get,getMenu:O};I6.setup(fe,t)}},Kb=(t,s,i)=>Rl(t,s,i).isSome(),CM=(t,s)=>{let i=null;return{cancel:()=>{i!==null&&(clearTimeout(i),i=null)},schedule:(...f)=>{i=setTimeout(()=>{t.apply(null,f),i=null},s)}}},SM=5,O8=400,wM=t=>{const s=t.raw;return s.touches===void 0||s.touches.length!==1?D.none():D.some(s.touches[0])},D8=(t,s)=>{const i=Math.abs(t.clientX-s.x),c=Math.abs(t.clientY-s.y);return i>SM||c>SM},R8=t=>{const s=So(),i=Pt(!1),c=CM(A=>{t.triggerEvent(mf(),A),i.set(!0)},O8),u=A=>(wM(A).each(O=>{c.cancel();const M={x:O.clientX,y:O.clientY,target:A.target};c.schedule(A),i.set(!1),s.set(M)}),D.none()),f=A=>(c.cancel(),wM(A).each(O=>{s.on(M=>{D8(O,M)&&s.clear()})}),D.none()),m=A=>{c.cancel();const O=M=>Yn(M.target,A.target);return s.get().filter(O).map(M=>i.get()?(A.prevent(),!1):t.triggerEvent(mv(),A))},b=up([{key:su(),value:u},{key:mp(),value:f},{key:pp(),value:m}]);return{fireIfReady:(A,O)=>at(b,O).bind(M=>M(A))}},N8=t=>t.raw.which===X4[0]&&!uo(["input","textarea"],ds(t.target))&&!Kb(t.target,'[contenteditable="true"]'),P8=(t,s)=>{const i={stopBackspace:!0,...s},c=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],u=R8(i),f=We(c.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),z=>Xr(t,z,q=>{u.fireIfReady(q,z).each(fe=>{fe&&q.kill()}),i.triggerEvent(z,q)&&q.kill()})),m=So(),b=Xr(t,"paste",z=>{u.fireIfReady(z,"paste").each(X=>{X&&z.kill()}),i.triggerEvent("paste",z)&&z.kill(),m.set(setTimeout(()=>{i.triggerEvent(oS(),z)},0))}),S=Xr(t,"keydown",z=>{i.triggerEvent("keydown",z)?z.kill():i.stopBackspace&&N8(z)&&z.prevent()}),A=Xr(t,"focusin",z=>{i.triggerEvent("focusin",z)&&z.kill()}),O=So(),M=Xr(t,"focusout",z=>{i.triggerEvent("focusout",z)&&z.kill(),O.set(setTimeout(()=>{i.triggerEvent(hp(),z)},0))});return{unbind:()=>{ht(f,z=>{z.unbind()}),S.unbind(),A.unbind(),M.unbind(),b.unbind(),m.on(clearTimeout),O.on(clearTimeout)}}},EM=(t,s)=>{const i=at(t,"target").getOr(s);return Pt(i)},TM=(t,s)=>{const i=Pt(!1),c=Pt(!1);return{stop:()=>{i.set(!0)},cut:()=>{c.set(!0)},isStopped:i.get,isCut:c.get,event:t,setSource:s.set,getSource:s.get}},uh=t=>{const s=Pt(!1);return{stop:()=>{s.set(!0)},cut:te,isStopped:s.get,isCut:ln,event:t,setSource:Rn("Cannot set source of a broadcasted event"),getSource:Rn("Cannot get source of a broadcasted event")}},rl=Ri.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),_M=(t,s,i,c,u,f)=>{const m=t(s,c),b=TM(i,u);return m.fold(()=>(f.logEventNoHandlers(s,c),rl.complete()),S=>{const A=S.descHandler;return kf(A)(b),b.isStopped()?(f.logEventStopped(s,S.element,A.purpose),rl.stopped()):b.isCut()?(f.logEventCut(s,S.element,A.purpose),rl.complete()):Ca(S.element).fold(()=>(f.logNoParent(s,S.element,A.purpose),rl.complete()),M=>(f.logEventResponse(s,S.element,A.purpose),rl.resume(M)))})},RE=(t,s,i,c,u,f)=>_M(t,s,i,c,u,f).fold(Ot,m=>RE(t,s,i,m,u,f),ln),AM=(t,s,i,c,u)=>{const f=EM(i,c);return _M(t,s,i,c,f,u)},jx=(t,s,i)=>{const c=uh(s);return ht(t,u=>{const f=u.descHandler;kf(f)(c)}),c.isStopped()},M8=(t,s,i,c)=>dh(t,s,i,i.target,c),dh=(t,s,i,c,u)=>{const f=EM(i,c);return RE(t,s,i,c,f,u)},Yb=(t,s)=>({element:t,descHandler:s}),I8=(t,s)=>({id:t,descHandler:s}),B8=()=>{const t={},s=(m,b,S)=>{Is(S,(A,O)=>{const M=t[O]!==void 0?t[O]:{};M[b]=Z3(A,m),t[O]=M})},i=(m,b)=>Eg(b).bind(S=>at(m,S)).map(S=>Yb(b,S));return{registerId:s,unregisterId:m=>{Is(t,(b,S)=>{jn(b,m)&&delete b[m]})},filterByType:m=>at(t,m).map(b=>Ru(b,(S,A)=>I8(A,S))).getOr([]),find:(m,b,S)=>at(t,b).bind(A=>dp(S,O=>i(A,O),m))}},F8=()=>{const t=B8(),s={},i=A=>{const O=A.element;return Eg(O).getOrThunk(()=>Jk("uid-",A.element))},c=(A,O)=>{const M=s[O];if(M===A)f(A);else throw new Error('The tagId "'+O+'" is already used by: '+Qu(M.element)+`
Cannot use it for: `+Qu(A.element)+`
The conflicting element is`+(ai(M.element)?" ":" not ")+"already in the DOM")},u=A=>{const O=i(A);Ti(s,O)&&c(A,O);const M=[A];t.registerId(M,O,A.events),s[O]=A},f=A=>{Eg(A.element).each(O=>{delete s[O],t.unregisterId(O)})};return{find:(A,O,M)=>t.find(A,O,M),filter:A=>t.filterByType(A),register:u,unregister:f,getById:A=>at(s,A)}},il=Ba({name:"Container",factory:t=>{const{attributes:s,...i}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...s},...i},components:t.components,behaviours:l1(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[ge("components",[]),tr("containerBehaviours",[]),ge("events",{}),ge("domModification",{}),ge("eventOrder",{})]}),NE=t=>{const s=Z=>Ca(t.element).fold(Ot,ue=>Yn(Z,ue)),i=F8(),c=(Z,ue)=>i.find(s,Z,ue),u=P8(t.element,{triggerEvent:(Z,ue)=>fS(Z,ue.target,de=>M8(c,Z,ue,de))}),f={debugInfo:_("real"),triggerEvent:(Z,ue,de)=>{fS(Z,ue,Ee=>dh(c,Z,de,ue,Ee))},triggerFocus:(Z,ue)=>{Eg(Z).fold(()=>{Ra(Z)},de=>{fS(_l(),Z,Ee=>(AM(c,_l(),{originator:ue,kill:te,prevent:te,target:Z},Z,Ee),!1))})},triggerEscape:(Z,ue)=>{f.triggerEvent("keydown",Z.element,ue.event)},getByUid:Z=>X(Z),getByDom:Z=>fe(Z),build:yr,buildOrPatch:CS,addToGui:Z=>{S(Z)},removeFromGui:Z=>{A(Z)},addToWorld:Z=>{m(Z)},removeFromWorld:Z=>{b(Z)},broadcast:Z=>{L(Z)},broadcastOn:(Z,ue)=>{z(Z,ue)},broadcastEvent:(Z,ue)=>{q(Z,ue)},isConnected:Ot},m=Z=>{Z.connect(f),Ai(Z.element)||(i.register(Z),ht(Z.components(),m),f.triggerEvent(hv(),Z.element,{target:Z.element}))},b=Z=>{Ai(Z.element)||(ht(Z.components(),b),i.unregister(Z)),Z.disconnect()},S=Z=>{If(t,Z)},A=Z=>{fu(Z)},O=()=>{u.unbind(),rr(t.element)},M=Z=>{const ue=i.filter(Ku());ht(ue,de=>{const Ee=de.descHandler;kf(Ee)(Z)})},L=Z=>{M({universal:!0,data:Z})},z=(Z,ue)=>{M({universal:!1,channels:Z,data:ue})},q=(Z,ue)=>{const de=i.filter(Z);return jx(de,ue)},X=Z=>i.getById(Z).fold(()=>bn.error(new Error('Could not find component with uid: "'+Z+'" in system.')),bn.value),fe=Z=>{const ue=Eg(Z).getOr("not found");return X(ue)};return m(t),{root:t,element:t.element,destroy:O,add:S,remove:A,getByUid:X,getByDom:fe,addToWorld:m,removeFromWorld:b,broadcast:L,broadcastOn:z,broadcastEvent:q}},Hx=(t,s)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:We(t.items,s.interpreter)}),L8=_([ge("prefix","form-field"),tr("fieldBehaviours",[_n,ft])]),PE=_([na({schema:[Ie("dom")],name:"label"}),na({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[Ie("text")],name:"aria-descriptor"}),Dr({factory:{sketch:t=>{const s=bk(t,["factory"]);return t.factory.sketch(s)}},schema:[Ie("factory")],name:"field"})]),$8=(t,s,i,c)=>{const u=nr(t.fieldBehaviours,[_n.config({find:b=>fo(b,t,"field")}),ft.config({store:{mode:"manual",getValue:b=>_n.getCurrent(b).bind(ft.getValue),setValue:(b,S)=>{_n.getCurrent(b).each(A=>{ft.setValue(A,S)})}}})]),f=no([ko((b,S)=>{const A=ld(b,t,["label","field","aria-descriptor"]);A.field().each(O=>{const M=yt(t.prefix);A.label().each(L=>{$t(L.element,"for",M),$t(O.element,"id",M)}),A["aria-descriptor"]().each(L=>{const z=yt(t.prefix);$t(L.element,"id",z),$t(O.element,"aria-describedby",z)})})})]),m={getField:b=>fo(b,t,"field"),getLabel:b=>fo(b,t,"label")};return{uid:t.uid,dom:t.dom,components:s,behaviours:u,events:f,apis:m}},Kn=Rr({name:"FormField",configFields:L8(),partFields:PE(),factory:$8,apis:{getField:(t,s)=>t.getField(s),getLabel:(t,s)=>t.getLabel(s)}});var j8=tinymce.util.Tools.resolve("tinymce.html.Entities");const fh=(t,s,i,c)=>{const u=U8(t,s,i,c);return Kn.sketch(u)},H8=(t,s)=>fh(t,s,[],[]),U8=(t,s,i,c)=>({dom:ME(i),components:t.toArray().concat([s]),fieldBehaviours:qe(c)}),z8=()=>ME([]),ME=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),Od=(t,s)=>Kn.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Wo(s.translate(t))]}),gi=yt("form-component-change"),Xb=yt("form-close"),Dd=yt("form-cancel"),Hl=yt("form-action"),mh=yt("form-submit"),Ux=yt("form-block"),IE=yt("form-unblock"),kM=yt("form-tabchange"),OM=yt("form-resize"),V8=(t,s,i)=>{const c=t.label.map(z=>Od(z,s)),u=s.icons(),f=z=>{var q;return(q=u[z])!==null&&q!==void 0?q:z},m=z=>(q,X)=>{Rl(X.event.target,"[data-collection-item-value]").each(fe=>{z(q,X,fe,an(fe,"data-collection-item-value"))})},b=(z,q)=>{const fe=s.checkUiComponentContext("mode:design").shouldDisable||s.isDisabled()?" tox-collection__item--state-disabled":"",Z=We(q,Ee=>{const _e=$a.translate(Ee.text),Ze=t.columns===1?`<div class="tox-collection__item-label">${_e}</div>`:"",pt=`<div class="tox-collection__item-icon">${f(Ee.icon)}</div>`,Re={_:" "," - ":" ","-":" "},gt=_e.replace(/\_| \- |\-/g,rt=>Re[rt]);return`<div data-mce-tooltip="${gt}" class="tox-collection__item${fe}" tabindex="-1" data-collection-item-value="${j8.encodeAllRaw(Ee.value)}" aria-label="${gt}">${pt}${Ze}</div>`}),ue=t.columns!=="auto"&&t.columns>1?Ic(Z,t.columns):[Z],de=We(ue,Ee=>`<div class="tox-collection__group">${Ee.join("")}</div>`);Sf(z.element,de.join(""))},S=m((z,q,X,fe)=>{q.stop(),s.checkUiComponentContext("mode:design").shouldDisable||s.isDisabled()||Et(z,Hl,{name:t.name,value:fe})}),A=[Me(El(),m((z,q,X)=>{Ra(X,!0)})),Me(df(),S),Me(mv(),S),Me(zc(),m((z,q,X)=>{Bo(z.element,"."+Qf).each(fe=>{Io(fe,Qf)}),ps(X,Qf)})),Me(xk(),m(z=>{Bo(z.element,"."+Qf).each(q=>{Io(q,Qf),Dg(q)})})),au(m((z,q,X,fe)=>{Et(z,Hl,{name:t.name,value:fe})}))],O=(z,q)=>We(ur(z.element,".tox-collection__item"),q),M=Kn.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:At},behaviours:qe([Ut.config({disabled:()=>s.checkUiComponentContext(t.context).shouldDisable,onDisabled:z=>{O(z,q=>{ps(q,"tox-collection__item--state-disabled"),$t(q,"aria-disabled",!0)})},onEnabled:z=>{O(z,q=>{Io(q,"tox-collection__item--state-disabled"),_o(q,"aria-disabled")})}}),os(()=>s.checkUiComponentContext(t.context)),Xt.config({}),Ko.config({...s.tooltips.getConfig({tooltipText:"",onShow:z=>{Bo(z.element,"."+Qf+"[data-mce-tooltip]").each(q=>{Us(q,"data-mce-tooltip").each(X=>{Ko.setComponents(z,s.tooltips.getComponents({tooltipText:X}))})})}}),mode:"children-keyboard-focus",anchor:z=>({type:"node",node:Bo(z.element,"."+Qf).orThunk(()=>Jq(".tox-collection__item")),root:z.element,layouts:{onLtr:_([Ss,Qs,ks,cr,Os,lr]),onRtl:_([Ss,Qs,ks,cr,Os,lr])},bubble:gc(0,-2,{})})}),ft.config({store:{mode:"memory",initialValue:i.getOr([])},onSetValue:(z,q)=>{b(z,q),t.columns==="auto"&&oE(z,5,"tox-collection__item").each(({numRows:X,numColumns:fe})=>{Rt.setGridSize(z,X,fe)}),Sn(z,OM)}}),Eo.config({}),Rt.config(VH(t.columns,"normal")),sn("collection-events",A)]),eventOrder:{[pi()]:["disabling","alloy.base.behaviour","collection-events"],[zc()]:["collection-events","tooltipping"]}});return fh(c,M,["tox-form__group--collection"],[])},W8=["input","textarea"],BE=t=>{const s=ds(t);return uo(W8,s)},dm=(t,s)=>{const i=s.getRoot(t).getOr(t.element);Io(i,s.invalidClass),s.notify.each(c=>{BE(t.element)&&$t(t.element,"aria-invalid",!1),c.getContainer(t).each(u=>{Sf(u,c.validHtml)}),c.onValid(t)})},DM=(t,s,i,c)=>{const u=s.getRoot(t).getOr(t.element);ps(u,s.invalidClass),s.notify.each(f=>{BE(t.element)&&$t(t.element,"aria-invalid",!0),f.getContainer(t).each(m=>{Sf(m,c)}),f.onInvalid(t,c)})},RM=(t,s,i)=>s.validator.fold(()=>wr.pure(bn.value(!0)),c=>c.validate(t)),FE=(t,s,i)=>(s.notify.each(c=>{c.onValidate(t)}),RM(t,s).map(c=>t.getSystem().isConnected()?c.fold(u=>(DM(t,s,i,u),bn.error(u)),u=>(dm(t,s),bn.value(u))):bn.error("No longer in system")));var Ha=Object.freeze({__proto__:null,markValid:dm,markInvalid:DM,query:RM,run:FE,isInvalid:(t,s)=>{const i=s.getRoot(t).getOr(t.element);return Yr(i,s.invalidClass)}}),PM=Object.freeze({__proto__:null,events:(t,s)=>t.validator.map(i=>no([Me(i.onEvent,c=>{FE(c,t,s).get(At)})].concat(i.validateOnLoad?[ko(c=>{FE(c,t,s).get(te)})]:[]))).getOr({})}),G8=[Ie("invalidClass"),ge("getRoot",D.none),Ys("notify",[ge("aria","alert"),ge("getContainer",D.none),ge("validHtml",""),kn("onValid"),kn("onInvalid"),kn("onValidate")]),Ys("validator",[Ie("validate"),ge("onEvent","input"),ge("validateOnLoad",!0)])];const Ul=Js({fields:G8,name:"invalidating",active:PM,apis:Ha,extra:{validation:t=>s=>{const i=ft.getValue(s);return wr.pure(t(i))}}});var MM=Object.freeze({__proto__:null,events:()=>no([Ak(p3(),Ot)]),exhibit:()=>Zi({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const ph=Js({fields:[],name:"unselecting",active:MM}),q8=(t,s)=>la.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:qe([ca.button(()=>s.providers.isDisabled()||s.providers.checkUiComponentContext(t.context).shouldDisable),os(()=>s.providers.checkUiComponentContext(t.context)),ph.config({}),Eo.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:s.getSink,fetch:i=>wr.nu(c=>t.fetch(c)).map(c=>D.from(ch(Qo(wE(yt("menu-value"),c,u=>{t.onItemAction(i,u)},t.columns,t.presets,Cc.CLOSE_ON_EXECUTE,ln,s.providers),{movement:Ix(t.columns,t.presets)})))),parts:{menu:Ob(!1,1,t.presets)}}),IM=yt("color-input-change"),$E=yt("color-swatch-change"),BM=yt("color-picker-cancel"),FM=(t,s,i,c)=>{const u=Kn.parts.field({factory:nl,inputClasses:["tox-textfield"],data:c,onSetValue:A=>Ul.run(A).get(te),inputBehaviours:qe([Ut.config({disabled:()=>s.providers.isDisabled()||s.providers.checkUiComponentContext(t.context).shouldDisable}),os(()=>s.providers.checkUiComponentContext(t.context)),Eo.config({}),Ul.config({invalidClass:"tox-textbox-field-invalid",getRoot:A=>Sa(A.element),notify:{onValid:A=>{const O=ft.getValue(A);Et(A,IM,{color:O})}},validator:{validateOnLoad:!1,validate:A=>{const O=ft.getValue(A);if(O.length===0)return wr.pure(bn.value(!0));{const M=nt.fromTag("span");rn(M,"background-color",O);const L=P(M,"background-color").fold(()=>bn.error("blah"),z=>bn.value(O));return wr.pure(L)}}}})]),selectOnFocus:!1}),f=t.label.map(A=>Od(A,s.providers)),m=(A,O)=>{Et(A,$E,{value:O})},b=(A,O)=>{S.getOpt(A).each(M=>{O==="custom"?i.colorPicker(L=>{L.fold(()=>Sn(M,BM),z=>{m(M,z),Ub(t.storageKey,z)})},"#ffffff"):O==="remove"?m(M,""):m(M,O)})},S=Ln(q8({dom:{tag:"span",attributes:{"aria-label":s.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Os,ks,Ss],onLtr:()=>[ks,Os,Ss]},components:[],fetch:nM(i.getColors(t.storageKey),t.storageKey,i.hasCustomColors()),columns:i.getColorCols(t.storageKey),presets:"color",onItemAction:b,context:t.context},s));return Kn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:f.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[u,S.asSpec()]}]),fieldBehaviours:qe([sn("form-field-events",[Me(IM,(A,O)=>{S.getOpt(A).each(M=>{rn(M.element,"background-color",O.event.color)}),Et(A,gi,{name:t.name})}),Me($E,(A,O)=>{Kn.getField(A).each(M=>{ft.setValue(M,O.event.value),_n.getCurrent(A).each(zt.focus)})}),Me(BM,(A,O)=>{Kn.getField(A).each(M=>{_n.getCurrent(A).each(zt.focus)})})])])})},LM=na({schema:[Ie("dom")],name:"label"}),vu=t=>na({name:""+t+"-edge",overrides:s=>s.model.manager.edgeActions[t].fold(()=>({}),c=>({events:no([Cv(su(),(u,f,m)=>c(u,m),[s]),Cv(Ji(),(u,f,m)=>c(u,m),[s]),Cv(pg(),(u,f,m)=>{m.mouseIsDown.get()&&c(u,m)},[s])])}))}),K8=vu("top-left"),Y8=vu("top"),X8=vu("top-right"),J8=vu("right"),Z8=vu("bottom-right"),Q8=vu("bottom"),jE=vu("bottom-left"),e9=vu("left"),t9=Dr({name:"thumb",defaults:_({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:no([yp(su(),t,"spectrum"),yp(mp(),t,"spectrum"),yp(pp(),t,"spectrum"),yp(Ji(),t,"spectrum"),yp(pg(),t,"spectrum"),yp(dv(),t,"spectrum")])})}),Jb=t=>dd(t.event),n9=Dr({schema:[Gn("mouseIsDown",()=>Pt(!1))],name:"spectrum",overrides:t=>{const i=t.model.manager,c=(u,f)=>i.getValueFromEvent(f).map(m=>i.setValueFrom(u,t,m));return{behaviours:qe([Rt.config({mode:"special",onLeft:(u,f)=>i.onLeft(u,t,Jb(f)),onRight:(u,f)=>i.onRight(u,t,Jb(f)),onUp:(u,f)=>i.onUp(u,t,Jb(f)),onDown:(u,f)=>i.onDown(u,t,Jb(f))}),Eo.config({}),zt.config({})]),events:no([Me(su(),c),Me(mp(),c),Me(Ji(),c),Me(pg(),(u,f)=>{t.mouseIsDown.get()&&c(u,f)})])}}});var o9=[LM,e9,J8,Y8,Q8,K8,X8,jE,Z8,t9,n9];const Zb=_("slider.change.value"),s9=t=>t.type.indexOf("touch")!==-1,HE=t=>{const s=t.event.raw;if(s9(s)){const i=s;return i.touches!==void 0&&i.touches.length===1?D.some(i.touches[0]).map(c=>Ht(c.clientX,c.clientY)):D.none()}else{const i=s;return i.clientX!==void 0?D.some(i).map(c=>Ht(c.clientX,c.clientY)):D.none()}},r9="top",$M="right",jM="bottom",i9="left",fm=t=>t.model.minX,mm=t=>t.model.minY,zx=t=>t.model.minX-1,Vx=t=>t.model.minY-1,pm=t=>t.model.maxX,Rd=t=>t.model.maxY,Qb=t=>t.model.maxX+1,ey=t=>t.model.maxY+1,Wx=(t,s,i)=>s(t)-i(t),UE=t=>Wx(t,pm,fm),Gx=t=>Wx(t,Rd,mm),HM=t=>UE(t)/2,UM=t=>Gx(t)/2,hh=(t,s)=>s?t.stepSize*t.speedMultiplier:t.stepSize,zM=t=>t.snapToGrid,qx=t=>t.snapStart,zl=t=>t.rounded,Kx=(t,s)=>t[s+"-edge"]!==void 0,gh=t=>Kx(t,i9),VM=t=>Kx(t,$M),Yx=t=>Kx(t,r9),WM=t=>Kx(t,jM),xu=t=>t.model.value.get(),Nd=(t,s)=>({x:t,y:s}),Ua=(t,s)=>{Et(t,Zb(),{value:s})},a9=(t,s)=>{Ua(t,Nd(zx(s),Vx(s)))},zE=(t,s)=>{Ua(t,Vx(s))},VE=(t,s)=>{Ua(t,Nd(HM(s),Vx(s)))},WE=(t,s)=>{Ua(t,Nd(Qb(s),Vx(s)))},c9=(t,s)=>{Ua(t,Qb(s))},ua=(t,s)=>{Ua(t,Nd(Qb(s),UM(s)))},l9=(t,s)=>{Ua(t,Nd(Qb(s),ey(s)))},u9=(t,s)=>{Ua(t,ey(s))},GM=(t,s)=>{Ua(t,Nd(HM(s),ey(s)))},qM=(t,s)=>{Ua(t,Nd(zx(s),ey(s)))},d9=(t,s)=>{Ua(t,zx(s))},f9=(t,s)=>{Ua(t,Nd(zx(s),UM(s)))},GE=(t,s,i,c)=>t<s?t:t>i?i:t===s?s-1:Math.max(s,t-c),qE=(t,s,i,c)=>t>i?t:t<s?s:t===i?i+1:Math.min(i,t+c),KM=(t,s,i)=>Math.max(s,Math.min(i,t)),m9=(t,s,i,c,u)=>u.fold(()=>{const f=t-s,m=Math.round(f/c)*c;return KM(s+m,s-1,i+1)},f=>{const m=(t-f)%c,b=Math.round(m/c),S=Math.floor((t-f)/c),A=Math.floor((i-f)/c),O=Math.min(A,S+b),M=f+O*c;return Math.max(f,M)}),p9=(t,s,i)=>Math.min(i,Math.max(t,s))-s,KE=t=>{const{min:s,max:i,range:c,value:u,step:f,snap:m,snapStart:b,rounded:S,hasMinEdge:A,hasMaxEdge:O,minBound:M,maxBound:L,screenRange:z}=t,q=A?s-1:s,X=O?i+1:i;if(u<M)return q;if(u>L)return X;{const fe=p9(u,M,L),Z=KM(fe/z*c+s,q,X);return m&&Z>=s&&Z<=i?m9(Z,s,i,f,b):S?Math.round(Z):Z}},YM=t=>{const{min:s,max:i,range:c,value:u,hasMinEdge:f,hasMaxEdge:m,maxBound:b,maxOffset:S,centerMinEdge:A,centerMaxEdge:O}=t;return u<s?f?0:A:u>i?m?b:O:(u-s)/c*S},YE="top",XM="right",XE="bottom",ty="left",JM="width",ZM="height",al=t=>t.element.dom.getBoundingClientRect(),za=(t,s)=>t[s],bh=t=>{const s=al(t);return za(s,ty)},QM=t=>{const s=al(t);return za(s,XM)},yh=t=>{const s=al(t);return za(s,YE)},hm=t=>{const s=al(t);return za(s,XE)},JE=t=>{const s=al(t);return za(s,JM)},ZE=t=>{const s=al(t);return za(s,ZM)},QE=(t,s,i)=>(t+s)/2-i,eI=(t,s)=>{const i=al(t),c=al(s),u=za(i,ty),f=za(i,XM),m=za(c,ty);return QE(u,f,m)},tI=(t,s)=>{const i=al(t),c=al(s),u=za(i,YE),f=za(i,XE),m=za(c,YE);return QE(u,f,m)},gm=(t,s)=>{Et(t,Zb(),{value:s})},eT=(t,s,i)=>{const c={min:fm(s),max:pm(s),range:UE(s),value:i,step:hh(s),snap:zM(s),snapStart:qx(s),rounded:zl(s),hasMinEdge:gh(s),hasMaxEdge:VM(s),minBound:bh(t),maxBound:QM(t),screenRange:JE(t)};return KE(c)},h9=(t,s,i)=>{const c=eT(t,s,i);return gm(t,c),c},nI=(t,s)=>{const i=fm(s);gm(t,i)},oI=(t,s)=>{const i=pm(s);gm(t,i)},tT=(t,s,i,c)=>{const f=(t>0?qE:GE)(xu(i),fm(i),pm(i),hh(i,c));return gm(s,f),D.some(f)},nT=t=>(s,i,c)=>tT(t,s,i,c).map(Ot),Qr=t=>HE(t).map(i=>i.left),sI=(t,s,i,c,u)=>{const m=JE(t),b=c.bind(O=>D.some(eI(O,t))).getOr(0),S=u.bind(O=>D.some(eI(O,t))).getOr(m),A={min:fm(s),max:pm(s),range:UE(s),value:i,hasMinEdge:gh(s),hasMaxEdge:VM(s),minBound:bh(t),minOffset:0,maxBound:QM(t),maxOffset:m,centerMinEdge:b,centerMaxEdge:S};return YM(A)},oT=(t,s,i,c,u,f)=>{const m=sI(s,f,i,c,u);return bh(s)-bh(t)+m},g9=(t,s,i,c)=>{const u=xu(i),f=oT(t,c.getSpectrum(t),u,c.getLeftEdge(t),c.getRightEdge(t),i),m=Tn(s.element)/2;rn(s.element,"left",f-m+"px")},rI=nT(-1),b9=nT(1),y9=D.none,v9=D.none,iI={"top-left":D.none(),top:D.none(),"top-right":D.none(),right:D.some(c9),"bottom-right":D.none(),bottom:D.none(),"bottom-left":D.none(),left:D.some(d9)};var Vl=Object.freeze({__proto__:null,setValueFrom:h9,setToMin:nI,setToMax:oI,findValueOfOffset:eT,getValueFromEvent:Qr,findPositionOfValue:oT,setPositionFromValue:g9,onLeft:rI,onRight:b9,onUp:y9,onDown:v9,edgeActions:iI});const vh=(t,s)=>{Et(t,Zb(),{value:s})},Xx=(t,s,i)=>{const c={min:mm(s),max:Rd(s),range:Gx(s),value:i,step:hh(s),snap:zM(s),snapStart:qx(s),rounded:zl(s),hasMinEdge:Yx(s),hasMaxEdge:WM(s),minBound:yh(t),maxBound:hm(t),screenRange:ZE(t)};return KE(c)},Jx=(t,s,i)=>{const c=Xx(t,s,i);return vh(t,c),c},sT=(t,s)=>{const i=mm(s);vh(t,i)},x9=(t,s)=>{const i=Rd(s);vh(t,i)},C9=(t,s,i,c)=>{const f=(t>0?qE:GE)(xu(i),mm(i),Rd(i),hh(i,c));return vh(s,f),D.some(f)},aI=t=>(s,i,c)=>C9(t,s,i,c).map(Ot),S9=t=>HE(t).map(i=>i.top),w9=(t,s,i,c,u)=>{const m=ZE(t),b=c.bind(O=>D.some(tI(O,t))).getOr(0),S=u.bind(O=>D.some(tI(O,t))).getOr(m),A={min:mm(s),max:Rd(s),range:Gx(s),value:i,hasMinEdge:Yx(s),hasMaxEdge:WM(s),minBound:yh(t),minOffset:0,maxBound:hm(t),maxOffset:m,centerMinEdge:b,centerMaxEdge:S};return YM(A)},rT=(t,s,i,c,u,f)=>{const m=w9(s,f,i,c,u);return yh(s)-yh(t)+m},E9=(t,s,i,c)=>{const u=xu(i),f=rT(t,c.getSpectrum(t),u,c.getTopEdge(t),c.getBottomEdge(t),i),m=Be(s.element)/2;rn(s.element,"top",f-m+"px")},cI=D.none,T9=D.none,Wl=aI(-1),Zx=aI(1),_9={"top-left":D.none(),top:D.some(zE),"top-right":D.none(),right:D.none(),"bottom-right":D.none(),bottom:D.some(u9),"bottom-left":D.none(),left:D.none()};var A9=Object.freeze({__proto__:null,setValueFrom:Jx,setToMin:sT,setToMax:x9,findValueOfOffset:Xx,getValueFromEvent:S9,findPositionOfValue:rT,setPositionFromValue:E9,onLeft:cI,onRight:T9,onUp:Wl,onDown:Zx,edgeActions:_9});const ny=(t,s)=>{Et(t,Zb(),{value:s})},oy=(t,s)=>({x:t,y:s}),iT=(t,s,i)=>{const c=eT(t,s,i.left),u=Xx(t,s,i.top),f=oy(c,u);return ny(t,f),f},Qx=(t,s,i,c,u)=>{const f=t>0?qE:GE,m=s?xu(c).x:f(xu(c).x,fm(c),pm(c),hh(c,u)),b=s?f(xu(c).y,mm(c),Rd(c),hh(c,u)):xu(c).y;return ny(i,oy(m,b)),D.some(m)},Pd=(t,s)=>(i,c,u)=>Qx(t,s,i,c,u).map(Ot),sy=(t,s)=>{const i=fm(s),c=mm(s);ny(t,oy(i,c))},lI=(t,s)=>{const i=pm(s),c=Rd(s);ny(t,oy(i,c))},uI=t=>HE(t),dI=(t,s,i,c)=>{const u=xu(i),f=oT(t,c.getSpectrum(t),u.x,c.getLeftEdge(t),c.getRightEdge(t),i),m=rT(t,c.getSpectrum(t),u.y,c.getTopEdge(t),c.getBottomEdge(t),i),b=Tn(s.element)/2,S=Be(s.element)/2;rn(s.element,"left",f-b+"px"),rn(s.element,"top",m-S+"px")},fI=Pd(-1,!1),k9=Pd(1,!1),O9=Pd(-1,!0),D9=Pd(1,!0),R9={"top-left":D.some(a9),top:D.some(VE),"top-right":D.some(WE),right:D.some(ua),"bottom-right":D.some(l9),bottom:D.some(GM),"bottom-left":D.some(qM),left:D.some(f9)};var N9=Object.freeze({__proto__:null,setValueFrom:iT,setToMin:sy,setToMax:lI,getValueFromEvent:uI,setPositionFromValue:dI,onLeft:fI,onRight:k9,onUp:O9,onDown:D9,edgeActions:R9});const mI=[ge("stepSize",1),ge("speedMultiplier",10),ge("onChange",te),ge("onChoose",te),ge("onInit",te),ge("onDragStart",te),ge("onDragEnd",te),ge("snapToGrid",!1),ge("rounded",!0),Hn("snapStart"),qn("model",qs("mode",{x:[ge("minX",0),ge("maxX",100),Gn("value",t=>Pt(t.mode.minX)),Ie("getInitialValue"),Oo("manager",Vl)],y:[ge("minY",0),ge("maxY",100),Gn("value",t=>Pt(t.mode.minY)),Ie("getInitialValue"),Oo("manager",A9)],xy:[ge("minX",0),ge("maxX",100),ge("minY",0),ge("maxY",100),Gn("value",t=>Pt({x:t.mode.minX,y:t.mode.minY})),Ie("getInitialValue"),Oo("manager",N9)]})),tr("sliderBehaviours",[Rt,ft]),Gn("mouseIsDown",()=>Pt(!1))],Tc=Rr({name:"Slider",configFields:mI,partFields:o9,factory:(t,s,i,c)=>{const u=_e=>dt(_e,t,"thumb"),f=_e=>dt(_e,t,"spectrum"),m=_e=>fo(_e,t,"left-edge"),b=_e=>fo(_e,t,"right-edge"),S=_e=>fo(_e,t,"top-edge"),A=_e=>fo(_e,t,"bottom-edge"),O=t.model,M=O.manager,L=(_e,Ze)=>{M.setPositionFromValue(_e,Ze,t,{getLeftEdge:m,getRightEdge:b,getTopEdge:S,getBottomEdge:A,getSpectrum:f})},z=(_e,Ze)=>{O.value.set(Ze);const pt=u(_e);L(_e,pt)},q=(_e,Ze)=>{z(_e,Ze);const pt=u(_e);return t.onChange(_e,pt,Ze),D.some(!0)},X=_e=>{M.setToMin(_e,t)},fe=_e=>{M.setToMax(_e,t)},Z=_e=>{const Ze=()=>{fo(_e,t,"thumb").each(Re=>{const gt=O.value.get();t.onChoose(_e,Re,gt)})},pt=t.mouseIsDown.get();t.mouseIsDown.set(!1),pt&&Ze()},ue=(_e,Ze)=>{Ze.stop(),t.mouseIsDown.set(!0),t.onDragStart(_e,u(_e))},de=(_e,Ze)=>{Ze.stop(),t.onDragEnd(_e,u(_e)),Z(_e)},Ee=_e=>{fo(_e,t,"spectrum").map(Rt.focusIn)};return{uid:t.uid,dom:t.dom,components:s,behaviours:nr(t.sliderBehaviours,[Rt.config({mode:"special",focusIn:Ee}),ft.config({store:{mode:"manual",getValue:_e=>O.value.get(),setValue:z}}),Ni.config({channels:{[iw()]:{onReceive:Z}}})]),events:no([Me(Zb(),(_e,Ze)=>{q(_e,Ze.event.value)}),ko((_e,Ze)=>{const pt=O.getInitialValue();O.value.set(pt);const Re=u(_e);L(_e,Re);const gt=f(_e);t.onInit(_e,Re,gt,O.value.get())}),Me(su(),ue),Me(pp(),de),Me(Ji(),(_e,Ze)=>{Ee(_e),ue(_e,Ze)}),Me(dv(),de)]),apis:{resetToMin:X,resetToMax:fe,setValue:z,refresh:L},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,s,i)=>{t.setValue(s,i)},resetToMin:(t,s)=>{t.resetToMin(s)},resetToMax:(t,s)=>{t.resetToMax(s)},refresh:(t,s)=>{t.refresh(s)}}}),e0=yt("rgb-hex-update"),pI=yt("slider-update"),aT=yt("palette-update"),ry=(t,s)=>{const i=Tc.parts.spectrum({dom:{tag:"div",classes:[s("hue-slider-spectrum")],attributes:{role:"presentation"}}}),c=Tc.parts.thumb({dom:{tag:"div",classes:[s("hue-slider-thumb")],attributes:{role:"presentation"}}});return Tc.sketch({dom:{tag:"div",classes:[s("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:_(0)},components:[i,c],sliderBehaviours:qe([zt.config({})]),onChange:(u,f,m)=>{$t(u.element,"aria-valuenow",Math.floor(360-m*3.6)),Et(u,pI,{value:m})}})},hI="form",gI=[tr("formBehaviours",[ft])],bI=t=>"<alloy.field."+t+">",M9=t=>{const s=(()=>{const f=[];return{field:(b,S)=>(f.push(b),Zg(hI,bI(b),S)),record:_(f)}})(),i=t(s),c=s.record(),u=We(c,f=>Dr({name:f,pname:bI(f)}));return Qg(hI,gI,u,B9,i)},I9=(t,s)=>t.fold(()=>bn.error(s),bn.value),B9=(t,s)=>({uid:t.uid,dom:t.dom,components:s,behaviours:nr(t.formBehaviours,[ft.config({store:{mode:"manual",getValue:i=>{const c=HD(i,t);return To(c,(u,f)=>u().bind(m=>{const b=_n.getCurrent(m);return I9(b,new Error(`Cannot find a current component to extract the value from for form part '${f}': `+Qu(m.element)))}).map(ft.getValue))},setValue:(i,c)=>{Is(c,(u,f)=>{fo(i,t,f).each(m=>{_n.getCurrent(m).each(b=>{ft.setValue(b,u)})})})}}})]),apis:{getField:(i,c)=>fo(i,t,c).bind(_n.getCurrent)}}),bm={getField:Fv((t,s,i)=>t.getField(s,i)),sketch:M9},yI=yt("valid-input"),cT=yt("invalid-input"),t0=yt("validating-input"),cl="colorcustom.rgb.",lT={isEnabled:Ot,setEnabled:te,immediatelyShow:te,immediatelyHide:te},vI=(t,s,i,c,u,f)=>{const m=(X,fe)=>{const Z=fe.get();X!==Z.isEnabled()&&(Z.setEnabled(X),X?Z.immediatelyShow():Z.immediatelyHide())},b=(X,fe,Z)=>Ul.config({invalidClass:s("invalid"),notify:{onValidate:ue=>{Et(ue,t0,{type:X})},onValid:ue=>{m(!1,Z),Et(ue,yI,{type:X,value:ft.getValue(ue)})},onInvalid:ue=>{m(!0,Z),Et(ue,cT,{type:X,value:ft.getValue(ue)})}},validator:{validate:ue=>{const de=ft.getValue(ue),Ee=fe(de)?bn.value(!0):bn.error(t("aria.input.invalid"));return wr.pure(Ee)},validateOnLoad:!1}}),S=(X,fe,Z,ue,de)=>{const Ee=Pt(lT),_e=t(cl+"range"),Ze=Kn.parts.label({dom:{tag:"label"},components:[Wo(Z)]}),pt=Kn.parts.field({data:de,factory:nl,inputAttributes:{type:"text","aria-label":ue,...fe==="hex"?{"aria-live":"polite"}:{}},inputClasses:[s("textfield")],inputBehaviours:qe([b(fe,X,Ee),Eo.config({}),Ko.config({...u({tooltipText:"",onSetup:Fn=>{Ee.set({isEnabled:()=>Ko.isEnabled(Fn),setEnabled:St=>Ko.setEnabled(Fn,St),immediatelyShow:()=>Ko.immediateOpenClose(Fn,!0),immediatelyHide:()=>Ko.immediateOpenClose(Fn,!1)}),Ko.setEnabled(Fn,!1)},onShow:(Fn,St)=>{Ko.setComponents(Fn,[{dom:{tag:"p",classes:[s("rgb-warning-note")]},components:[Wo(t(fe==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:Fn=>{Ul.isInvalid(Fn)&&Ul.run(Fn).get(te)}}),Re=yt("aria-invalid"),gt=Ln(f("invalid",D.some(Re),"warning")),rt=Ln({dom:{tag:"div",classes:[s("invalid-icon")]},components:[gt.asSpec()]}),xt=[Ze,pt,rt.asSpec()],yn=fe!=="hex"?[Kn.parts["aria-descriptor"]({text:_e})]:[],ho=xt.concat(yn);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[s("rgb-container")]},components:ho}},A=(X,fe)=>{const Z=ih(fe);return bm.getField(X,"hex").each(ue=>{zt.isFocused(ue)||ft.setValue(X,{hex:Z.value})}),Z},O=(X,fe)=>{const Z=fe.red,ue=fe.green,de=fe.blue;ft.setValue(X,{red:Z,green:ue,blue:de})},M=Ln({dom:{tag:"div",classes:[s("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),L=(X,fe)=>{M.getOpt(X).each(Z=>{rn(Z.element,"background-color","#"+fe.value)})};return Ba({factory:()=>{const X={red:Pt(D.some(255)),green:Pt(D.some(255)),blue:Pt(D.some(255)),hex:Pt(D.some("ffffff"))},fe=(St,ze)=>{const st=Hb(ze);O(St,st),Ee(st)},Z=St=>X[St].get(),ue=(St,ze)=>{X[St].set(ze)},de=()=>Z("red").bind(St=>Z("green").bind(ze=>Z("blue").map(st=>am(St,ze,st,1)))),Ee=St=>{const ze=St.red,st=St.green,Gt=St.blue;ue("red",D.some(ze)),ue("green",D.some(st)),ue("blue",D.some(Gt))},_e=(St,ze)=>{const st=ze.event;st.type!=="hex"?ue(st.type,D.none()):c(St)},Ze=(St,ze)=>{i(St);const st=_x(ze);ue("hex",D.some(st.value));const Gt=Hb(st);O(St,Gt),Ee(Gt),Et(St,e0,{hex:st}),L(St,st)},pt=(St,ze,st)=>{const Gt=parseInt(st,10);ue(ze,D.some(Gt)),de().each(cn=>{const Dt=A(St,cn);Et(St,e0,{hex:Dt}),L(St,Dt)})},Re=St=>St.type==="hex",gt=(St,ze)=>{const st=ze.event;Re(st)?Ze(St,st.value):pt(St,st.type,st.value)},rt=St=>({label:t(cl+St+".label"),description:t(cl+St+".description")}),xt=rt("red"),yn=rt("green"),ho=rt("blue"),Fn=rt("hex");return Qo(bm.sketch(St=>({dom:{tag:"form",classes:[s("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[St.field("red",Kn.sketch(S(hE,"red",xt.label,xt.description,255))),St.field("green",Kn.sketch(S(hE,"green",yn.label,yn.description,255))),St.field("blue",Kn.sketch(S(hE,"blue",ho.label,ho.description,255))),St.field("hex",Kn.sketch(S(dE,"hex",Fn.label,Fn.description,"ffffff"))),M.asSpec()],formBehaviours:qe([Ul.config({invalidClass:s("form-invalid")}),sn("rgb-form-events",[Me(yI,gt),Me(cT,_e),Me(t0,_e)])])})),{apis:{updateHex:(St,ze)=>{ft.setValue(St,{hex:ze.value}),fe(St,ze),L(St,ze)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(X,fe,Z)=>{X.updateHex(fe,Z)}},extraApis:{}})},xI=(t,s)=>{const i=Tc.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[s("sv-palette-spectrum")]}}),c=Tc.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[s("sv-palette-thumb")],innerHtml:`<div class=${s("sv-palette-inner-thumb")} role="presentation"></div>`}}),u=(A,O)=>{const{width:M,height:L}=A,z=A.getContext("2d");if(z===null)return;z.fillStyle=O,z.fillRect(0,0,M,L);const q=z.createLinearGradient(0,0,M,0);q.addColorStop(0,"rgba(255,255,255,1)"),q.addColorStop(1,"rgba(255,255,255,0)"),z.fillStyle=q,z.fillRect(0,0,M,L);const X=z.createLinearGradient(0,0,0,L);X.addColorStop(0,"rgba(0,0,0,0)"),X.addColorStop(1,"rgba(0,0,0,1)"),z.fillStyle=X,z.fillRect(0,0,M,L)},f=(A,O)=>{const M=A.components()[0].element.dom,L=um(O,100,100),z=MP(L);u(M,BP(z))},m=(A,O)=>{const M=zb(Hb(O));Tc.setValue(A,{x:M.saturation,y:100-M.value}),$t(A.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",M.saturation,M.value]))};return Ba({factory:A=>{const O=_({x:0,y:0}),M=(q,X,fe)=>{Ae(fe)||$t(q.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",Math.floor(fe.x),Math.floor(100-fe.y)])),Et(q,aT,{value:fe})},L=(q,X,fe,Z)=>{u(fe.element.dom,BP(FP))},z=qe([_n.config({find:D.some}),zt.config({})]);return Tc.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":t(["Saturation {0}%, Brightness {1}%",0,0])},classes:[s("sv-palette")]},model:{mode:"xy",getInitialValue:O},rounded:!1,components:[i,c],onChange:M,onInit:L,sliderBehaviours:z})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(A,O,M)=>{f(O,M)},setThumb:(A,O,M)=>{m(O,M)}},extraApis:{}})},uT=(t,s,i,c)=>{const u=m=>{const b=vI(t,s,m.onValidHex,m.onInvalidHex,i,c),S=xI(t,s),A=Re=>(100-Re)/100*360,O=Re=>100-Re/360*100,M={paletteRgba:Pt(FP),paletteHue:Pt(0)},L=Ln(ry(t,s)),z=Ln(S.sketch({})),q=Ln(b.sketch({})),X=(Re,gt,rt)=>{z.getOpt(Re).each(xt=>{S.setHue(xt,rt)})},fe=(Re,gt)=>{q.getOpt(Re).each(rt=>{b.updateHex(rt,gt)})},Z=(Re,gt,rt)=>{L.getOpt(Re).each(xt=>{Tc.setValue(xt,O(rt))})},ue=(Re,gt)=>{z.getOpt(Re).each(rt=>{S.setThumb(rt,gt)})},de=(Re,gt)=>{const rt=Hb(Re);M.paletteRgba.set(rt),M.paletteHue.set(gt)},Ee=(Re,gt,rt,xt)=>{de(gt,rt),ht(xt,yn=>{yn(Re,gt,rt)})},_e=()=>{const Re=[fe];return(gt,rt)=>{const xt=rt.event.value,yn=M.paletteHue.get(),ho=um(yn,xt.x,100-xt.y),Fn=qP(ho);Ee(gt,Fn,yn,Re)}},Ze=()=>{const Re=[X,fe];return(gt,rt)=>{const xt=A(rt.event.value),yn=M.paletteRgba.get(),ho=zb(yn),Fn=um(xt,ho.saturation,ho.value),St=qP(Fn);Ee(gt,St,xt,Re)}},pt=()=>{const Re=[X,Z,ue];return(gt,rt)=>{const xt=rt.event.hex,yn=GP(xt);Ee(gt,xt,yn.hue,Re)}};return{uid:m.uid,dom:m.dom,components:[z.asSpec(),L.asSpec(),q.asSpec()],behaviours:qe([sn("colour-picker-events",[Me(e0,pt()),Me(aT,_e()),Me(pI,Ze())]),_n.config({find:Re=>q.getOpt(Re)}),Rt.config({mode:"acyclic"})])}};return Ba({name:"ColourPicker",configFields:[Ie("dom"),ge("onValidHex",te),ge("onInvalidHex",te)],factory:u})},Va={self:()=>_n.config({find:D.some}),memento:t=>_n.config({find:t.getOpt}),childAt:t=>_n.config({find:s=>Bc(s.element,t).bind(i=>s.getSystem().getByDom(i).toOptional())})},$9=Wt([ge("preprocess",At),ge("postprocess",At)]),j9=(t,s)=>{const i=mi("RepresentingConfigs.memento processors",$9,s);return ft.config({store:{mode:"manual",getValue:c=>{const u=t.get(c),f=ft.getValue(u);return i.postprocess(f)},setValue:(c,u)=>{const f=i.preprocess(u),m=t.get(c);ft.setValue(m,f)}}})},ym=(t,s,i)=>ft.config({store:{mode:"manual",...t.map(c=>({initialValue:c})).getOr({}),getValue:s,setValue:i}}),CI=(t,s,i)=>ym(t,c=>s(c.element),(c,u)=>i(c.element,u)),H9=t=>CI(t,cu,Sf),iy=t=>ft.config({store:{mode:"memory",initialValue:t}}),SI={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},U9=t=>s=>j(s)?t.translate(SI[s]):t.translate(s),z9=(t,s,i)=>{const c=A=>"tox-"+A,u=(A,O,M=A,L=A)=>ia(M,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+A],attributes:{title:s.translate(L),"aria-live":"polite",...O.fold(()=>({}),z=>({id:z}))}},s.icons),f=uT(U9(s),c,s.tooltips.getConfig,u),m=A=>{Et(A,Hl,{name:"hex-valid",value:!0})},b=A=>{Et(A,Hl,{name:"hex-valid",value:!1})},S=Ln(f.sketch({dom:{tag:"div",classes:[c("color-picker-container")],attributes:{role:"presentation"}},onValidHex:m,onInvalidHex:b}));return{dom:{tag:"div"},components:[S.asSpec()],behaviours:qe([ym(i,A=>{const O=S.get(A);return _n.getCurrent(O).bind(z=>ft.getValue(z).hex).map(z=>"#"+qh(z,"#")).getOr("")},(A,O)=>{const M=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,L=D.from(M.exec(O)).bind(X=>Ho(X,1)),z=S.get(A);_n.getCurrent(z).fold(()=>{console.log("Can not find form")},X=>{ft.setValue(X,{hex:L.getOr("")}),bm.getField(X,"hex").each(fe=>{Sn(fe,Tl())})})}),Va.self()])}};var V9=tinymce.util.Tools.resolve("tinymce.Resource");const ay=t=>jn(t,"init"),W9=t=>{const s=So(),i=Ln({dom:{tag:t.tag}}),c=So(),u=!ay(t)&&t.onFocus.isSome()?[zt.config({onFocus:f=>{t.onFocus.each(m=>{m(f.element.dom)})}}),Eo.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:qe([sn("custom-editor-events",[ko(f=>{i.getOpt(f).each(m=>{(ay(t)?t.init(m.element.dom):V9.load(t.scriptId,t.scriptUrl).then(b=>b(m.element.dom,t.settings))).then(b=>{c.on(S=>{b.setValue(S)}),c.clear(),s.set(b)})})})]),ym(D.none(),()=>s.get().fold(()=>c.get().getOr(""),f=>f.getValue()),(f,m)=>{s.get().fold(()=>c.set(m),b=>b.setValue(m))}),Va.self()].concat(u)),components:[i.asSpec()]}};var Cu=tinymce.util.Tools.resolve("tinymce.util.Tools");const n0=yt("browse.files.event"),wI=(t,s)=>{const i=Cu.explode(s.getOption("images_file_types")),c=u=>Ms(i,f=>Pu(u.name.toLowerCase(),`.${f.toLowerCase()}`));return eo(Ei(t),c)},G9=(t,s,i)=>{const c=(L,z)=>{z.stop()},u=L=>(z,q)=>{ht(L,X=>{X(z,q)})},f=(L,z)=>{var q;if(!Ut.isDisabled(L)){const X=z.event.raw;Et(L,n0,{files:(q=X.dataTransfer)===null||q===void 0?void 0:q.files})}},m=(L,z)=>{const q=z.event.raw.target;Et(L,n0,{files:q.files})},b=(L,z)=>{z&&(ft.setValue(L,wI(z,s)),Et(L,gi,{name:t.name}))},S=Ln({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:qe([sn("input-file-events",[pf(df()),pf(mv())])])}),A=t.label.map(L=>Od(L,s)),O=Kn.parts.field({factory:ws,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Wo(s.translate("Browse for an image")),S.asSpec()],action:L=>{S.get(L).element.dom.click()},buttonBehaviours:qe([Va.self(),iy(i.getOr([])),Eo.config({}),ca.button(()=>s.checkUiComponentContext(t.context).shouldDisable),os(()=>s.checkUiComponentContext(t.context))])}),M={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:qe([Ut.config({disabled:()=>s.checkUiComponentContext(t.context).shouldDisable}),os(()=>s.checkUiComponentContext(t.context)),un.config({toggleClass:"dragenter",toggleOnExecute:!1}),sn("dropzone-events",[Me("dragenter",u([c,un.toggle])),Me("dragleave",u([c,un.toggle])),Me("dragover",c),Me("drop",u([c,f])),Me(ru(),m)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Wo(s.translate("Drop an image here"))]},O]}]};return fh(A,M,["tox-form__group--stretched"],[sn("handle-files",[Me(n0,(L,z)=>{Kn.getField(L).each(q=>{b(q,z.event.files)})})])])},q9=(t,s)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:We(t.items,s.interpreter)}),fT=(t,s)=>{let i=null,c=null;return{cancel:()=>{re(i)||(clearTimeout(i),i=null,c=null)},throttle:(...m)=>{c=m,re(i)&&(i=setTimeout(()=>{const b=c;i=null,c=null,t.apply(null,b)},s))}}},K9=(t,s)=>{let i=null;return{cancel:()=>{re(i)||(clearTimeout(i),i=null)},throttle:(...f)=>{re(i)&&(i=setTimeout(()=>{i=null,t.apply(null,f)},s))}}},o0=(t,s)=>{let i=null;const c=()=>{re(i)||(clearTimeout(i),i=null)};return{cancel:c,throttle:(...f)=>{c(),i=setTimeout(()=>{i=null,t.apply(null,f)},s)}}},mT=yt("alloy-fake-before-tabstop"),pT=yt("alloy-fake-after-tabstop"),EI=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:qe([zt.config({ignore:!0}),Eo.config({})])}),hT=(t,s)=>({dom:{tag:"div",classes:["tox-navobj",...t.getOr([])]},components:[EI([mT]),s,EI([pT])],behaviours:qe([Va.childAt(1)])}),gT=(t,s)=>{Et(t,ka(),{raw:{which:9,shiftKey:s}})},Y9=(t,s)=>{const i=s.element;Yr(i,mT)?gT(t,!0):Yr(i,pT)&&gT(t,!1)},cy=t=>Kb(t,["."+mT,"."+pT].join(","),ln),s0=yt("update-dialog"),TI=yt("update-title"),bT=yt("update-body"),_I=yt("update-footer"),yT=yt("body-send-message"),r0=yt("dialog-focus-shifted"),vT=Ne().browser,ly=vT.isSafari(),X9=vT.isFirefox(),AI=ly||X9,J9=vT.isChromium(),Z9=({scrollTop:t,scrollHeight:s,clientHeight:i})=>Math.ceil(t)+i>=s,kI=(t,s)=>t.scrollTo(0,s==="bottom"?99999999:s),Q9=(t,s)=>{const i=t.body;return D.from(!/^<!DOCTYPE (html|HTML)/.test(s)&&(!J9&&!ly||ae(i)&&(i.scrollTop!==0||Math.abs(i.scrollHeight-i.clientHeight)>1))?i:t.documentElement)},i0=(t,s,i)=>{const c=t.dom;D.from(c.contentDocument).fold(i,u=>{let f=0;const m=Q9(u,s).map(S=>(f=S.scrollTop,S)).forall(Z9),b=()=>{const S=c.contentWindow;ae(S)&&(m?kI(S,"bottom"):!m&&AI&&f!==0&&kI(S,f))};ly&&c.addEventListener("load",b,{once:!0}),u.open(),u.write(s),u.close(),ly||b()})},e7=Lt(AI,ly?500:200).map(t=>fT(i0,t)),t7=(t,s)=>{const i=Pt(t.getOr(""));return{getValue:c=>i.get(),setValue:(c,u)=>{if(i.get()!==u){const f=c.element,m=()=>$t(f,"srcdoc",u);s?e7.fold(_(i0),b=>b.throttle)(f,u,m):m()}i.set(u)}}},uy=(t,s,i)=>{const c="tox-dialog__iframe",u=t.transparent?[]:[`${c}--opaque`],f=t.border?["tox-navobj-bordered"]:[],m={...t.label.map(M=>({title:M})).getOr({}),...i.map(M=>({srcdoc:M})).getOr({}),...t.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},b=t7(i,t.streamContent),S=t.label.map(M=>Od(M,s)),A=M=>hT(D.from(f),{uid:M.uid,dom:{tag:"iframe",attributes:m,classes:[c,...u]},behaviours:qe([Eo.config({}),zt.config({}),ym(i,b.getValue,b.setValue),Ni.config({channels:{[r0]:{onReceive:(L,z)=>{z.newFocus.each(q=>{Sa(L.element).each(X=>{(Yn(L.element,q)?ps:Io)(X,"tox-navobj-bordered-focus")})})}}}})])}),O=Kn.parts.field({factory:{sketch:A}});return fh(S,O,["tox-form__group--stretched"],[])},xT=t=>new Promise((s,i)=>{const c=()=>{f(),s(t)},u=[Xr(t,"load",c),Xr(t,"error",()=>{f(),i("Unable to load data from image: "+t.dom.src)})],f=()=>ht(u,m=>m.unbind());t.dom.complete&&c()}),n7=(t,s,i,c,u)=>{const f=i*u,m=c*u,b=Math.max(0,t/2-f/2),S=Math.max(0,s/2-m/2);return{left:b.toString()+"px",top:S.toString()+"px",width:f.toString()+"px",height:m.toString()+"px"}},o7=(t,s,i)=>{const c=Tn(t),u=Be(t);return Math.min(c/s,u/i,1)},CT=(t,s)=>{const i=Pt(s.getOr({url:""})),c=Ln({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:s.map(S=>({src:S.url})).getOr({})}}),u=Ln({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[c.asSpec()]}),f=(S,A)=>{const O={url:A.url};A.zoom.each(L=>O.zoom=L),A.cachedWidth.each(L=>O.cachedWidth=L),A.cachedHeight.each(L=>O.cachedHeight=L),i.set(O);const M=()=>{const{cachedWidth:L,cachedHeight:z,zoom:q}=O;if(!Le(L)&&!Le(z)){if(Le(q)){const fe=o7(S.element,L,z);O.zoom=fe}const X=n7(Tn(S.element),Be(S.element),L,z,O.zoom);u.getOpt(S).each(fe=>{Fu(fe.element,X)})}};c.getOpt(S).each(L=>{const z=L.element;A.url!==an(z,"src")&&($t(z,"src",A.url),Io(S.element,"tox-imagepreview__loaded")),M(),xT(z).then(q=>{S.getSystem().isConnected()&&(ps(S.element,"tox-imagepreview__loaded"),O.cachedWidth=q.dom.naturalWidth,O.cachedHeight=q.dom.naturalHeight,M())})})},m={};t.height.each(S=>m.height=S);const b=s.map(S=>({url:S.url,zoom:D.from(S.zoom),cachedWidth:D.from(S.cachedWidth),cachedHeight:D.from(S.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:m,attributes:{role:"presentation"}},components:[u.asSpec()],behaviours:qe([Va.self(),ym(b,()=>i.get(),f)])}},s7=(t,s,i)=>{const c="tox-label",u=t.align==="center"?[`${c}--center`]:[],f=t.align==="end"?[`${c}--end`]:[],m=Ln({dom:{tag:"label",classes:[c,...u,...f]},components:[Wo(s.providers.translate(t.label))]}),b=We(t.items,s.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[m.asSpec(),...b],behaviours:qe([Va.self(),Xt.config({}),H9(D.none()),Rt.config({mode:"acyclic"}),sn("label",[ko(S=>{t.for.each(A=>{i(A).each(O=>{m.getOpt(S).each(M=>{var L;const z=(L=an(O.element,"id"))!==null&&L!==void 0?L:yt("form-field");$t(O.element,"id",z),$t(M.element,"for",z)})})})})])])}},a0=yt("toolbar.button.execute"),OI=t=>au((s,i)=>{Ex(t,s)(c=>{Et(s,a0,{buttonApi:c}),t.onAction(c)})}),vm=yt("common-button-display-events"),DI={[pi()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[Oa()]:["toolbar-button-events",vm],[iu()]:["toolbar-button-events","dropdown-events","tooltipping"],[Ji()]:["focusing","alloy.base.behaviour",vm]},c0=t=>rn(t.element,"width",C(t.element,"width")),ST=(t,s,i)=>ia(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},s),wT=(t,s)=>ST(t,s,[]),Su=(t,s)=>ST(t,s,[Xt.config({})]),ET=(t,s,i)=>({dom:{tag:"span",classes:[`${s}__select-label`]},components:[Wo(i.translate(t))],behaviours:qe([Xt.config({})])}),Wa=yt("update-menu-text"),Md=yt("update-menu-icon"),l0=(t,s,i,c)=>{const u=Pt(te),f=t.text.map(X=>Ln(ET(X,s,i.providers))),m=t.icon.map(X=>Ln(Su(X,i.providers.icons))),b=(X,fe)=>{const Z=ft.getValue(X);return zt.focus(Z),Et(Z,"keydown",{raw:fe.event.raw}),la.close(Z),D.some(!0)},S=t.role.fold(()=>({}),X=>({role:X})),A=D.from(t.listRole).map(X=>({listRole:X})).getOr({}),O=t.ariaLabel.fold(()=>({}),X=>({"aria-label":i.providers.translate(X)})),M=ia("chevron-down",{tag:"div",classes:[`${s}__select-chevron`]},i.providers.icons),L=yt("common-button-display-events"),z="dropdown-events";return Ln(la.sketch({...t.uid?{uid:t.uid}:{},...S,...A,dom:{tag:"button",classes:[s,`${s}--select`].concat(We(t.classes,X=>`${s}--${X}`)),attributes:{...O,...ae(c)?{"data-mce-name":c}:{}}},components:kd([m.map(X=>X.asSpec()),f.map(X=>X.asSpec()),D.some(M)]),matchWidth:!0,useMinWidth:!0,onOpen:(X,fe,Z)=>{t.searchable&&Lx(Z)},dropdownBehaviours:qe([...t.dropdownBehaviours,ca.button(()=>t.disabled||i.providers.checkUiComponentContext(t.context).shouldDisable),os(()=>i.providers.checkUiComponentContext(t.context)),ph.config({}),Xt.config({}),...t.tooltip.map(X=>Ko.config(i.providers.tooltips.getConfig({tooltipText:i.providers.translate(X)}))).toArray(),sn(z,[_d(t,u),Ad(t,u)]),sn(L,[ko((X,fe)=>{t.listRole!=="listbox"&&c0(X)})]),sn("update-dropdown-width-variable",[Me(gp(),(X,fe)=>la.close(X))]),sn("menubutton-update-display-text",[Me(Wa,(X,fe)=>{f.bind(Z=>Z.getOpt(X)).each(Z=>{Xt.set(Z,[Wo(i.providers.translate(fe.event.text))])})}),Me(Md,(X,fe)=>{m.bind(Z=>Z.getOpt(X)).each(Z=>{Xt.set(Z,[Su(fe.event.icon,i.providers.icons)])})})])]),eventOrder:Qo(DI,{[Ji()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Oa()]:["toolbar-button-events",Ko.name(),z,L]}),sandboxBehaviours:qe([Rt.config({mode:"special",onLeft:b,onRight:b}),sn("dropdown-sandbox-events",[Me(j2,(X,fe)=>{y8(X),fe.stop()}),Me(sP,(X,fe)=>{v8(X,fe),fe.stop()})])]),lazySink:i.getSink,toggleClass:`${s}--active`,parts:{menu:{...Ob(!1,t.columns,t.presets),fakeFocus:t.searchable,...t.listRole==="listbox"?{}:{onHighlightItem:qb,onCollapseMenu:(X,fe,Z)=>{zn.getHighlighted(Z).each(ue=>{qb(X,Z,ue)})},onDehighlightItem:S8}}},getAnchorOverrides:()=>({maxHeightFunction:(X,fe)=>{MO()(X,fe-10)}}),fetch:X=>wr.nu(Qn(t.fetch,X))})).asSpec()},RI=t=>j(t),NI=t=>t.type==="separator",r7=t=>jn(t,"getSubmenuItems"),i7={type:"separator"},PI=(t,s)=>{const i=rs(t,(c,u)=>RI(u)?u===""?c:u==="|"?c.length>0&&!NI(c[c.length-1])?c.concat([i7]):c:jn(s,u.toLowerCase())?c.concat([s[u.toLowerCase()]]):c:c.concat([u]),[]);return i.length>0&&NI(i[i.length-1])&&i.pop(),i},a7=(t,s)=>{const i=t.getSubmenuItems(),c=II(i,s),u=Qo(c.menus,{[t.value]:c.items}),f=Qo(c.expansions,{[t.value]:t.value});return{item:t,menus:u,expansions:f}},MI=t=>{const s=at(t,"value").getOrThunk(()=>yt("generated-menu-item"));return Qo({value:s},t)},II=(t,s)=>{const i=PI(j(t)?t.split(" "):t,s);return Ou(i,(c,u)=>{if(r7(u)){const f=MI(u),m=a7(f,s);return{menus:Qo(c.menus,m.menus),items:[m.item,...c.items],expansions:Qo(c.expansions,m.expansions)}}else return{...c,items:[u,...c.items]}},{menus:{},expansions:{},items:[]})},c7=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-field",placeholder:s.placeholder})),TT=t=>t.search.fold(()=>({searchMode:"no-search"}),s=>({searchMode:"search-with-results"})),xh=(t,s,i,c)=>{const u=yt("primary-menu"),f=II(t,i.shared.providers.menuItems());if(f.items.length===0)return D.none();const m=c7(c),b=_8(u,f.items,s,i,c.isHorizontalMenu,m),S=TT(c),A=To(f.menus,(M,L)=>_8(L,M,s,i,!1,S)),O=Qo(A,lf(u,b));return D.from(Ll.tieredData(u,O,f.expansions))},u0=t=>!jn(t,"items"),BI="data-value",d0=(t,s,i,c,u)=>We(i,f=>u0(f)?{type:"togglemenuitem",...u?{}:{role:"option"},text:f.text,value:f.value,active:f.value===c,onAction:()=>{ft.setValue(t,f.value),Et(t,gi,{name:s}),zt.focus(t)}}:{type:"nestedmenuitem",text:f.text,getSubmenuItems:()=>d0(t,s,f.items,c,u)}),_T=(t,s)=>or(t,i=>u0(i)?Lt(i.value===s,i):_T(i.items,s)),FI=(t,s,i)=>{const c=Ms(t.items,A=>!u0(A)),u=s.shared.providers,f=i.bind(A=>_T(t.items,A)).orThunk(()=>Yt(t.items).filter(u0)),m=t.label.map(A=>Od(A,u)),b=Kn.parts.field({dom:{},factory:{sketch:A=>l0({context:t.context,uid:A.uid,text:f.map(O=>O.text),icon:D.none(),tooltip:D.none(),role:Lt(!c,"combobox"),...c?{}:{listRole:"listbox"},ariaLabel:t.label,fetch:(O,M)=>{const L=d0(O,t.name,t.items,ft.getValue(O),c);M(xh(L,Cc.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:D.none()}))},onSetup:_(te),getApi:_({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Eo.config({}),ym(f.map(O=>O.value),O=>an(O.element,BI),(O,M)=>{_T(t.items,M).each(L=>{$t(O.element,BI,L.value),Et(O,Wa,{text:L.text})})})]},"tox-listbox",s.shared)}}),S={dom:{tag:"div",classes:["tox-listboxfield"]},components:[b]};return Kn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:on([m.toArray(),[S]]),fieldBehaviours:qe([Ut.config({disabled:()=>!t.enabled||u.checkUiComponentContext(t.context).shouldDisable,onDisabled:A=>{Kn.getField(A).each(Ut.disable)},onEnabled:A=>{Kn.getField(A).each(Ut.enable)}})])})},l7=(t,s)=>({dom:{tag:"div",classes:t.classes},components:We(t.items,s.shared.interpreter)}),LI=(t,s)=>{const i=We(t.options,u=>({dom:{tag:"option",value:u.value,innerHtml:u.text}})),c=t.data.map(u=>lf("initialValue",u)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:i,behaviours:nr(t.selectBehaviours,[zt.config({}),ft.config({store:{mode:"manual",getValue:u=>mc(u.element),setValue:(u,f)=>{const m=Yt(t.options);en(t.options,S=>S.value===f).isSome()?Rf(u.element,f):u.element.dom.selectedIndex===-1&&f===""&&m.each(S=>Rf(u.element,S.value))},...c}})])}},u7=Ba({name:"HtmlSelect",configFields:[Ie("options"),tr("selectBehaviours",[zt,ft]),ge("selectClasses",[]),ge("selectAttributes",{}),Hn("data")],factory:LI}),d7=(t,s,i)=>{const c=We(t.items,S=>({text:s.translate(S.text),value:S.value})),u=t.label.map(S=>Od(S,s)),f=Kn.parts.field({dom:{},...i.map(S=>({data:S})).getOr({}),selectAttributes:{size:t.size},options:c,factory:u7,selectBehaviours:qe([Ut.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable}),Eo.config({}),sn("selectbox-change",[Me(ru(),(S,A)=>{Et(S,gi,{name:t.name})})])])}),m=t.size>1?D.none():D.some(ia("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},s.icons)),b={dom:{tag:"div",classes:["tox-selectfield"]},components:on([[f],m.toArray()])};return Kn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:on([u.toArray(),[b]]),fieldBehaviours:qe([Ut.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable,onDisabled:S=>{Kn.getField(S).each(Ut.disable)},onEnabled:S=>{Kn.getField(S).each(Ut.enable)}}),os(()=>s.checkUiComponentContext(t.context))])})},f7=_([ge("field1Name","field1"),ge("field2Name","field2"),Tf("onLockedChange"),lu(["lockClass"]),ge("locked",!1),Ma.field("coupledFieldBehaviours",[_n,ft])]),m7=(t,s,i)=>fo(t,s,i).bind(_n.getCurrent),$I=(t,s)=>Dr({factory:Kn,name:t,overrides:i=>({fieldBehaviours:qe([sn("coupled-input-behaviour",[Me(Tl(),c=>{m7(c,i,s).each(u=>{fo(c,i,"lock").each(f=>{un.isOn(f)&&i.onLockedChange(c,u,f)})})})])])})}),jI=_([$I("field1","field2"),$I("field2","field1"),Dr({factory:ws,schema:[Ie("dom")],name:"lock",overrides:t=>({buttonBehaviours:qe([un.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),p7=(t,s,i,c)=>({uid:t.uid,dom:t.dom,components:s,behaviours:Ma.augment(t.coupledFieldBehaviours,[_n.config({find:D.some}),ft.config({store:{mode:"manual",getValue:u=>{const f=Wp(u,t,["field1","field2"]);return{[t.field1Name]:ft.getValue(f.field1()),[t.field2Name]:ft.getValue(f.field2())}},setValue:(u,f)=>{const m=Wp(u,t,["field1","field2"]);Ti(f,t.field1Name)&&ft.setValue(m.field1(),f[t.field1Name]),Ti(f,t.field2Name)&&ft.setValue(m.field2(),f[t.field2Name])}}})]),apis:{getField1:u=>fo(u,t,"field1"),getField2:u=>fo(u,t,"field2"),getLock:u=>fo(u,t,"lock")}}),da=Rr({name:"FormCoupledInputs",configFields:f7(),partFields:jI(),factory:p7,apis:{getField1:(t,s)=>t.getField1(s),getField2:(t,s)=>t.getField2(s),getLock:(t,s)=>t.getLock(s)}}),HI=t=>{const s={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},i=u=>u in s?s[u]:1;let c=t.value.toFixed(i(t.unit));return c.indexOf(".")!==-1&&(c=c.replace(/\.?0*$/,"")),c+t.unit},AT=t=>{const i=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(i!==null){const c=parseFloat(i[1]),u=i[2];return bn.value({value:c,unit:u})}else return bn.error(t)},UI=(t,s)=>{const i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},c=u=>jn(i,u);return t.unit===s?D.some(t.value):c(t.unit)&&c(s)?i[t.unit]===i[s]?D.some(t.value):D.some(t.value/i[t.unit]*i[s]):D.none()},kT=t=>D.none(),zI=(t,s)=>i=>UI(i,s).map(c=>({value:c*t,unit:s})),h7=(t,s)=>{const i=AT(t).toOptional(),c=AT(s).toOptional();return Jl(i,c,(u,f)=>UI(u,f.unit).map(m=>f.value/m).map(m=>zI(m,f.unit)).getOr(kT)).getOr(kT)},g7=(t,s)=>{let i=kT;const c=yt("ratio-event"),u=z=>ia(z,{tag:"span",classes:["tox-icon","tox-lock-icon__"+z]},s.icons),f=t.label.getOr("Constrain proportions"),m=s.translate(f),b=da.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":m,"data-mce-name":f}},components:[u("lock"),u("unlock")],buttonBehaviours:qe([Ut.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable}),os(()=>s.checkUiComponentContext(t.context)),Eo.config({}),Ko.config(s.tooltips.getConfig({tooltipText:m}))])}),S=z=>({dom:{tag:"div",classes:["tox-form__group"]},components:z}),A=z=>Kn.parts.field({factory:nl,inputClasses:["tox-textfield"],inputBehaviours:qe([Ut.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable}),os(()=>s.checkUiComponentContext(t.context)),Eo.config({}),sn("size-input-events",[Me(zc(),(q,X)=>{Et(q,c,{isField1:z})}),Me(ru(),(q,X)=>{Et(q,gi,{name:t.name})})])]),selectOnFocus:!1}),O=z=>({dom:{tag:"label",classes:["tox-label"]},components:[Wo(s.translate(z))]}),M=da.parts.field1(S([Kn.parts.label(O("Width")),A(!0)])),L=da.parts.field2(S([Kn.parts.label(O("Height")),A(!1)]));return da.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[M,L,S([O(Q5),b])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(z,q,X)=>{AT(ft.getValue(z)).each(fe=>{i(fe).each(Z=>{ft.setValue(q,HI(Z))})})},coupledFieldBehaviours:qe([Ut.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable,onDisabled:z=>{da.getField1(z).bind(Kn.getField).each(Ut.disable),da.getField2(z).bind(Kn.getField).each(Ut.disable),da.getLock(z).each(Ut.disable)},onEnabled:z=>{da.getField1(z).bind(Kn.getField).each(Ut.enable),da.getField2(z).bind(Kn.getField).each(Ut.enable),da.getLock(z).each(Ut.enable)}}),os(()=>s.checkUiComponentContext("mode:design")),sn("size-input-events2",[Me(c,(z,q)=>{const X=q.event.isField1,fe=X?da.getField1(z):da.getField2(z),Z=X?da.getField2(z):da.getField1(z),ue=fe.map(ft.getValue).getOr(""),de=Z.map(ft.getValue).getOr("");i=h7(ue,de)})])])})},b7=(t,s,i)=>{const c=Tc.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Wo(s.translate(t.label))]}),u=Tc.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),f=Tc.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Tc.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:_(i.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[c,u,f],sliderBehaviours:qe([Va.self(),zt.config({})]),onChoose:(m,b,S)=>{Et(m,gi,{name:t.name,value:S})},onChange:(m,b,S)=>{Et(m,gi,{name:t.name,value:S})}})},VI=(t,s)=>{const i=b=>({dom:{tag:"th",innerHtml:s.translate(b)}}),c=b=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:We(b,i)}]}),u=b=>({dom:{tag:"td",innerHtml:s.translate(b)}}),f=b=>({dom:{tag:"tr"},components:We(b,u)}),m=b=>({dom:{tag:"tbody"},components:We(b,f)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[c(t.header),m(t.cells)],behaviours:qe([Eo.config({}),zt.config({})])}},OT=(t,s)=>{const i=t.label.map(z=>Od(z,s)),c=[Ut.config({disabled:()=>t.disabled||s.checkUiComponentContext(t.context).shouldDisable}),os(()=>s.checkUiComponentContext(t.context)),Rt.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:z=>(Sn(z,mh),D.some(!0))}),sn("textfield-change",[Me(Tl(),(z,q)=>{Et(z,gi,{name:t.name})}),Me(oS(),(z,q)=>{Et(z,gi,{name:t.name})})]),Eo.config({})],u=t.validation.map(z=>Ul.config({getRoot:q=>Sa(q.element),invalidClass:"tox-invalid",validator:{validate:q=>{const X=ft.getValue(q),fe=z.validator(X);return wr.pure(fe===!0?bn.value(X):bn.error(fe))},validateOnLoad:z.validateOnLoad}})).toArray(),f=t.placeholder.fold(_({}),z=>({placeholder:s.translate(z)})),m=t.inputMode.fold(_({}),z=>({inputmode:z})),b={...f,...m,"data-mce-name":t.name},S=Kn.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(z=>({data:z})).getOr({}),inputAttributes:b,inputClasses:[t.classname],inputBehaviours:qe(on([c,u])),selectOnFocus:!1,factory:nl}),A=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[S]}:S,M=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),L=[Ut.config({disabled:()=>t.disabled||s.checkUiComponentContext(t.context).shouldDisable,onDisabled:z=>{Kn.getField(z).each(Ut.disable)},onEnabled:z=>{Kn.getField(z).each(Ut.enable)}}),os(()=>s.checkUiComponentContext(t.context))];return fh(i,A,M,L)},WI=(t,s,i)=>OT({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:D.none(),maximized:t.maximized,data:i,context:t.context},s),f0=(t,s,i)=>OT({name:t.name,multiline:!0,label:t.label,inputMode:D.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:D.none(),maximized:t.maximized,data:i,context:t.context},s),dy=(t,s)=>s.getAnimationRoot.fold(()=>t.element,i=>i(t)),wu=t=>t.dimension.property,xm=(t,s)=>t.dimension.getDimension(s),m0=(t,s)=>{const i=dy(t,s);Wc(i,[s.shrinkingClass,s.growingClass])},p0=(t,s)=>{Io(t.element,s.openClass),ps(t.element,s.closedClass),rn(t.element,wu(s),"0px"),me(t.element)},DT=(t,s)=>{Io(t.element,s.closedClass),ps(t.element,s.openClass),V(t.element,wu(s))},GI=(t,s,i,c)=>{i.setCollapsed(),rn(t.element,wu(s),xm(s,t.element)),m0(t,s),p0(t,s),s.onStartShrink(t),s.onShrunk(t)},y7=(t,s,i,c)=>{const u=c.getOrThunk(()=>xm(s,t.element));i.setCollapsed(),rn(t.element,wu(s),u),me(t.element);const f=dy(t,s);Io(f,s.growingClass),ps(f,s.shrinkingClass),p0(t,s),s.onStartShrink(t)},RT=(t,s,i)=>{const c=xm(s,t.element);(c==="0px"?GI:y7)(t,s,i,D.some(c))},NT=(t,s,i)=>{const c=dy(t,s),u=Yr(c,s.shrinkingClass),f=xm(s,t.element);DT(t,s);const m=xm(s,t.element);(u?()=>{rn(t.element,wu(s),f),me(t.element)}:()=>{p0(t,s)})(),Io(c,s.shrinkingClass),ps(c,s.growingClass),DT(t,s),rn(t.element,wu(s),m),i.setExpanded(),s.onStartGrow(t)},v7=(t,s,i)=>{if(i.isExpanded()){V(t.element,wu(s));const c=xm(s,t.element);rn(t.element,wu(s),c)}},x7=(t,s,i)=>{i.isExpanded()||NT(t,s,i)},qI=(t,s,i)=>{i.isExpanded()&&RT(t,s,i)},C7=(t,s,i)=>{i.isExpanded()&&GI(t,s,i)},S7=(t,s,i)=>i.isExpanded(),Jt=(t,s,i)=>i.isCollapsed(),Ch=(t,s,i)=>{const c=dy(t,s);return Yr(c,s.growingClass)===!0},PT=(t,s,i)=>{const c=dy(t,s);return Yr(c,s.shrinkingClass)===!0};var KI=Object.freeze({__proto__:null,refresh:v7,grow:x7,shrink:qI,immediateShrink:C7,hasGrown:S7,hasShrunk:Jt,isGrowing:Ch,isShrinking:PT,isTransitioning:(t,s,i)=>Ch(t,s)||PT(t,s),toggleGrow:(t,s,i)=>{(i.isExpanded()?RT:NT)(t,s,i)},disableTransitions:m0,immediateGrow:(t,s,i)=>{i.isExpanded()||(DT(t,s),rn(t.element,wu(s),xm(s,t.element)),m0(t,s),i.setExpanded(),s.onStartGrow(t),s.onGrown(t))}}),_7=Object.freeze({__proto__:null,exhibit:(t,s,i)=>{const c=s.expanded;return Zi(c?{classes:[s.openClass],styles:{}}:{classes:[s.closedClass],styles:lf(s.dimension.property,"0px")})},events:(t,s)=>no([Ju(hg(),(i,c)=>{c.event.raw.propertyName===t.dimension.property&&(m0(i,t),s.isExpanded()&&V(i.element,t.dimension.property),(s.isExpanded()?t.onGrown:t.onShrunk)(i))})])}),YI=[Ie("closedClass"),Ie("openClass"),Ie("shrinkingClass"),Ie("growingClass"),Hn("getAnimationRoot"),kn("onShrunk"),kn("onStartShrink"),kn("onGrown"),kn("onStartGrow"),ge("expanded",!1),qn("dimension",qs("property",{width:[Oo("property","width"),Oo("getDimension",t=>Tn(t)+"px")],height:[Oo("property","height"),Oo("getDimension",t=>Be(t)+"px")]}))],A7=Object.freeze({__proto__:null,init:t=>{const s=Pt(t.expanded),i=()=>"expanded: "+s.get();return jr({isExpanded:()=>s.get()===!0,isCollapsed:()=>s.get()===!1,setCollapsed:Qn(s.set,!1),setExpanded:Qn(s.set,!0),readState:i})}});const bi=Js({fields:YI,name:"sliding",active:_7,apis:KI,state:A7}),MT=t=>({isEnabled:()=>!Ut.isDisabled(t),setEnabled:s=>Ut.set(t,!s),setActive:s=>{const i=t.element;s?(ps(i,"tox-tbtn--enabled"),$t(i,"aria-pressed",!0)):(Io(i,"tox-tbtn--enabled"),_o(i,"aria-pressed"))},isActive:()=>Yr(t.element,"tox-tbtn--enabled"),setText:s=>{Et(t,Wa,{text:s})},setIcon:s=>Et(t,Md,{icon:s})}),Cm=(t,s,i,c,u=!0,f)=>l0({text:t.text,icon:t.icon,tooltip:t.tooltip,ariaLabel:t.tooltip,searchable:t.search.isSome(),role:c,fetch:(m,b)=>{const S={pattern:t.search.isSome()?w8(m):""};t.fetch(A=>{b(xh(A,Cc.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:t.search}))},S,MT(m))},onSetup:t.onSetup,getApi:MT,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...u?[Eo.config({})]:[]],context:t.context},s,i.shared,f),XI=(t,s,i)=>{const c=f=>m=>{const b=!m.isActive();m.setActive(b),f.storage.set(b),i.shared.getSink().each(S=>{s().getOpt(S).each(A=>{Ra(A.element),Et(A,Hl,{name:f.name,value:f.storage.get()})})})},u=f=>m=>{m.setActive(f.storage.get())};return f=>{f(We(t,m=>{const b=m.text.fold(()=>({}),S=>({text:S}));return{type:m.type,active:!1,...b,context:m.context,onAction:c(m),onSetup:u(m)}}))}},JI=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":t}},components:[Wo(t)]}),ZI=(t,s,i)=>{t.customStateIcon.each(c=>s.push(eB(c,i.shared.providers.icons,t.customStateIconTooltip.fold(()=>[],u=>[Ko.config(i.shared.providers.tooltips.getConfig({tooltipText:u}))]),["tox-icon-custom-state"],t.customStateIconTooltip.fold(()=>({}),u=>({title:u})))))},QI=yt("leaf-label-event-id"),IT=({leaf:t,onLeafAction:s,visible:i,treeId:c,selectedId:u,backstage:f})=>{const m=t.menu.map(S=>Cm(S,"tox-mbtn",f,D.none(),i)),b=[JI(t.title)];return ZI(t,b,f),m.each(S=>b.push(S)),ws.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(i?["tox-tree--leaf__label--visible"]:[])},components:b,role:"treeitem",action:S=>{s(t.id),S.getSystem().broadcastOn([`update-active-item-${c}`],{value:t.id})},eventOrder:{[ka()]:[QI,"keying"]},buttonBehaviours:qe([...i?[Eo.config({})]:[],un.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Ni.config({channels:{[`update-active-item-${c}`]:{onReceive:(S,A)=>{(A.value===t.id?un.on:un.off)(S)}}}}),sn(QI,[ko((S,A)=>{u.each(O=>{(O===t.id?un.on:un.off)(S)})}),Me(ka(),(S,A)=>{const O=A.event.raw.code==="ArrowLeft",M=A.event.raw.code==="ArrowRight";O?($s(S.element,".tox-tree--directory").each(L=>{S.getSystem().getByDom(L).each(z=>{hc(L,".tox-tree--directory__label").each(q=>{z.getSystem().getByDom(q).each(zt.focus)})})}),A.stop()):M&&A.stop()})])])})},eB=(t,s,i,c,u)=>ia(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(c||[]),behaviours:i,attributes:u},s),k7=(t,s)=>eB(t,s,[]),tB=yt("directory-label-event-id"),O7=({directory:t,visible:s,noChildren:i,backstage:c})=>{const u=t.menu.map(b=>Cm(b,"tox-mbtn",c,D.none())),f=[{dom:{tag:"div",classes:["tox-chevron"]},components:[k7("chevron-right",c.shared.providers.icons)]},JI(t.title)];ZI(t,f,c),u.each(b=>{f.push(b)});const m=b=>{$s(b.element,".tox-tree--directory").each(S=>{b.getSystem().getByDom(S).each(A=>{const O=!un.isOn(A);un.toggle(A),Et(b,"expand-tree-node",{expanded:O,node:t.id})})})};return ws.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(s?["tox-tree--directory__label--visible"]:[])},components:f,action:m,eventOrder:{[ka()]:[tB,"keying"]},buttonBehaviours:qe([...s?[Eo.config({})]:[],sn(tB,[Me(ka(),(b,S)=>{const A=S.event.raw.code==="ArrowRight",O=S.event.raw.code==="ArrowLeft";A&&i&&S.stop(),(A||O)&&$s(b.element,".tox-tree--directory").each(M=>{b.getSystem().getByDom(M).each(L=>{!un.isOn(L)&&A||un.isOn(L)&&O?(m(b),S.stop()):O&&!un.isOn(L)&&($s(L.element,".tox-tree--directory").each(z=>{hc(z,".tox-tree--directory__label").each(q=>{L.getSystem().getByDom(q).each(zt.focus)})}),S.stop())})})})])])})},D7=({children:t,onLeafAction:s,visible:i,treeId:c,expandedIds:u,selectedId:f,backstage:m})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(b=>b.type==="leaf"?IT({leaf:b,selectedId:f,onLeafAction:s,visible:i,treeId:c,backstage:m}):g0({directory:b,expandedIds:u,selectedId:f,onLeafAction:s,labelTabstopping:i,treeId:c,backstage:m})),behaviours:qe([bi.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:i}),Xt.config({})])}),R7=yt("directory-event-id"),g0=({directory:t,onLeafAction:s,labelTabstopping:i,treeId:c,backstage:u,expandedIds:f,selectedId:m})=>{const{children:b}=t,S=Pt(f),A=M=>b.map(L=>L.type==="leaf"?IT({leaf:L,selectedId:m,onLeafAction:s,visible:M,treeId:c,backstage:u}):g0({directory:L,expandedIds:S.get(),selectedId:m,onLeafAction:s,labelTabstopping:M,treeId:c,backstage:u})),O=f.includes(t.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[O7({directory:t,visible:i,noChildren:t.children.length===0,backstage:u}),D7({children:b,expandedIds:f,selectedId:m,onLeafAction:s,visible:O,treeId:c,backstage:u})],behaviours:qe([sn(R7,[ko((M,L)=>{un.set(M,O)}),Me("expand-tree-node",(M,L)=>{const{expanded:z,node:q}=L.event;S.set(z?[...S.get(),q]:S.get().filter(X=>X!==q))})]),un.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(M,L)=>{const z=M.components()[1],q=A(L);L?bi.grow(z):bi.shrink(z),Xt.set(z,q)}})])}},N7=yt("tree-event-id"),P7=(t,s)=>{const i=t.onLeafAction.getOr(te),c=t.onToggleExpand.getOr(te),u=t.defaultExpandedIds,f=Pt(u),m=Pt(t.defaultSelectedId),b=yt("tree-id"),S=(A,O)=>t.items.map(M=>M.type==="leaf"?IT({leaf:M,selectedId:A,onLeafAction:i,visible:!0,treeId:b,backstage:s}):g0({directory:M,selectedId:A,onLeafAction:i,expandedIds:O,labelTabstopping:!0,treeId:b,backstage:s}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:S(m.get(),f.get()),behaviours:qe([Rt.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),sn(N7,[Me("expand-tree-node",(A,O)=>{const{expanded:M,node:L}=O.event;f.set(M?[...f.get(),L]:f.get().filter(z=>z!==L)),c(f.get(),{expanded:M,node:L})})]),Ni.config({channels:{[`update-active-item-${b}`]:{onReceive:(A,O)=>{m.set(D.some(O.value)),Xt.set(A,S(D.some(O.value),f.get()))}}}}),Xt.config({})])}};var M7=Object.freeze({__proto__:null,events:(t,s)=>{const c=t.stream.streams.setup(t,s);return no([Me(t.event,c),Al(()=>s.cancel())].concat(t.cancelEvent.map(u=>[Me(u,()=>s.cancel())]).getOr([])))}});const nB=t=>{const s=Pt(null);return jr({readState:()=>({timer:s.get()!==null?"set":"unset"}),setTimer:f=>{s.set(f)},cancel:()=>{const f=s.get();f!==null&&f.cancel()}})};var I7=Object.freeze({__proto__:null,throttle:nB,init:t=>t.stream.streams.state(t)});const B7=(t,s)=>{const i=t.stream,c=o0(t.onStream,i.delay);return s.setTimer(c),(u,f)=>{c.throttle(u,f),i.stopEvent&&f.stop()}};var F7=[qn("stream",qs("mode",{throttle:[Ie("delay"),ge("stopEvent",!0),Oo("streams",{setup:B7,state:nB})]})),ge("event","input"),Hn("cancelEvent"),Tf("onStream")];const BT=Js({fields:F7,name:"streaming",active:M7,state:I7}),b0=(t,s,i)=>{const c=ft.getValue(i);ft.setValue(s,c),oB(s)},FT=(t,s)=>{const i=t.element,c=mc(i),u=i.dom;an(i,"type")!=="number"&&s(u,c)},oB=t=>{FT(t,(s,i)=>s.setSelectionRange(i.length,i.length))},L7=(t,s)=>{FT(t,(i,c)=>i.setSelectionRange(s,c.length))},$7=(t,s,i)=>{if(t.selectsOver){const c=ft.getValue(s),u=t.getDisplayText(c),f=ft.getValue(i);return t.getDisplayText(f).indexOf(u)===0?D.some(()=>{b0(t,s,i),L7(s,u.length)}):D.none()}else return D.none()},LT=_("alloy.typeahead.itemexecute"),j7=(t,s,i,c)=>{const u=(M,L,z)=>{t.previewing.set(!1);const q=es.getCoupled(M,"sandbox");if(Dn.isOpen(q))_n.getCurrent(q).each(X=>{zn.getHighlighted(X).fold(()=>{z(X)},()=>{xv(q,X.element,"keydown",L)})});else{const X=fe=>{_n.getCurrent(fe).each(z)};Bx(t,m(M),M,q,c,X,Zr.HighlightMenuAndItem).get(te)}},f=tP(t),m=M=>L=>L.map(z=>{const q=Wh(z.menus),X=De(q,Z=>eo(Z.items,ue=>ue.type==="item"));return ft.getState(M).update(We(X,Z=>Z.data)),z}),b=M=>_n.getCurrent(M),S="typeaheadevents",A=[zt.config({}),ft.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:M=>mc(M.element),getFallbackEntry:M=>({value:M,meta:{}}),setValue:(M,L)=>{Rf(M.element,t.model.getDisplayText(L))},...t.initialData.map(M=>lf("initialValue",M)).getOr({})}}),BT.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(M,L)=>{const z=es.getCoupled(M,"sandbox");if(zt.isFocused(M)&&mc(M.element).length>=t.minChars){const X=b(z).bind(Z=>zn.getHighlighted(Z).map(ft.getValue));t.previewing.set(!0);const fe=Z=>{b(z).each(ue=>{X.fold(()=>{t.model.selectsOver&&zn.highlightFirst(ue)},de=>{zn.highlightBy(ue,Ee=>ft.getValue(Ee).value===de.value),zn.getHighlighted(ue).orThunk(()=>(zn.highlightFirst(ue),D.none()))})})};Bx(t,m(M),M,z,c,fe,Zr.HighlightJustMenu).get(te)}},cancelEvent:pv()}),Rt.config({mode:"special",onDown:(M,L)=>(u(M,L,zn.highlightFirst),D.some(!0)),onEscape:M=>{const L=es.getCoupled(M,"sandbox");return Dn.isOpen(L)?(Dn.close(L),D.some(!0)):D.none()},onUp:(M,L)=>(u(M,L,zn.highlightLast),D.some(!0)),onEnter:M=>{const L=es.getCoupled(M,"sandbox"),z=Dn.isOpen(L);if(z&&!t.previewing.get())return b(L).bind(q=>zn.getHighlighted(q)).map(q=>(Et(M,LT(),{item:q}),!0));{const q=ft.getValue(M);return Sn(M,pv()),t.onExecute(L,M,q),z&&Dn.close(L),D.some(!0)}}}),un.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),es.config({others:{sandbox:M=>OE(t,M,{onOpen:()=>un.on(M),onClose:()=>{t.lazyTypeaheadComp.get().each(L=>_o(L.element,"aria-activedescendant")),un.off(M)}})}}),sn(S,[ko(M=>{t.lazyTypeaheadComp.set(D.some(M))}),Al(M=>{t.lazyTypeaheadComp.set(D.none())}),au(M=>{const L=te;AE(t,m(M),M,c,L,Zr.HighlightMenuAndItem).get(te)}),Me(LT(),(M,L)=>{const z=es.getCoupled(M,"sandbox");b0(t.model,M,L.event.item),Sn(M,pv()),t.onItemExecute(M,z,L.event.item,ft.getValue(M)),Dn.close(z),oB(M)})].concat(t.dismissOnBlur?[Me(hp(),M=>{const L=es.getCoupled(M,"sandbox");zr(L.element).isNone()&&Dn.close(L)})]:[]))],O={[iu()]:[ft.name(),BT.name(),S],...t.eventOrder};return{uid:t.uid,dom:nP(Qo(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...f,...nr(t.typeaheadBehaviours,A)},eventOrder:O}},H7=_([Hn("lazySink"),Ie("fetch"),ge("minChars",5),ge("responseTime",1e3),kn("onOpen"),ge("getHotspot",D.some),ge("getAnchorOverrides",_({})),ge("layouts",D.none()),ge("eventOrder",{}),ZC("model",{},[ge("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),ge("selectsOver",!0),ge("populateFromBrowse",!0)]),kn("onSetValue"),Ur("onExecute"),kn("onItemExecute"),ge("inputClasses",[]),ge("inputAttributes",{}),ge("inputStyles",{}),ge("matchWidth",!0),ge("useMinWidth",!1),ge("dismissOnBlur",!0),lu(["openClass"]),Hn("initialData"),Hn("listRole"),tr("typeaheadBehaviours",[zt,ft,BT,Rt,un,es]),Gn("lazyTypeaheadComp",()=>Pt(D.none)),Gn("previewing",()=>Pt(!0))].concat(eP()).concat(Fx())),sB=_([Ia({schema:[Op()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(s,i,c)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(u=>{$7(t.model,u,c).fold(()=>{t.model.selectsOver?(zn.dehighlight(i,c),t.previewing.set(!0)):t.previewing.set(!1)},f=>{f(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(u=>{t.model.populateFromBrowse&&b0(t.model,u,c),Us(c.element,"id").each(f=>$t(u.element,"aria-activedescendant",f))})},onExecute:(s,i)=>t.lazyTypeaheadComp.get().map(c=>(Et(c,LT(),{item:i}),!0)),onHover:(s,i)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(c=>{t.model.populateFromBrowse&&b0(t.model,c,i)})}})})]),U7=Rr({name:"Typeahead",configFields:H7(),partFields:sB(),factory:j7}),Ga=t=>({...t,toCached:()=>Ga(t.toCached()),bindFuture:S=>Ga(t.bind(A=>A.fold(O=>wr.pure(bn.error(O)),O=>S(O)))),bindResult:S=>Ga(t.map(A=>A.bind(S))),mapResult:S=>Ga(t.map(A=>A.map(S))),mapError:S=>Ga(t.map(A=>A.mapError(S))),foldResult:(S,A)=>t.map(O=>O.fold(S,A)),withTimeout:(S,A)=>Ga(wr.nu(O=>{let M=!1;const L=setTimeout(()=>{M=!0,O(bn.error(A()))},S);t.get(z=>{M||(clearTimeout(L),O(z))})}))}),rB=t=>Ga(wr.nu(t)),$T=t=>Ga(wr.pure(bn.value(t))),aB={nu:rB,wrap:Ga,pure:$T,value:$T,error:t=>Ga(wr.pure(bn.error(t))),fromResult:t=>Ga(wr.pure(t)),fromFuture:t=>Ga(t.map(bn.value)),fromPromise:t=>rB(s=>{t.then(i=>{s(bn.value(i))},i=>{s(bn.error(i))})})},y0=(t,s,i=[],c,u,f,m)=>{const b=s.fold(()=>({}),O=>({action:O})),S={buttonBehaviours:qe([ca.item(()=>!t.enabled||m.checkUiComponentContext(t.context).shouldDisable),os(()=>m.checkUiComponentContext(t.context)),Eo.config({}),...f.map(O=>Ko.config(m.tooltips.getConfig({tooltipText:m.translate(O)}))).toArray(),sn("button press",[rS("click")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...b},A=Qo(S,{dom:c});return Qo(A,{components:u})},cB=(t,s,i,c=[],u)=>{const f=t.tooltip.map(A=>({"aria-label":i.translate(A)})).getOr({}),m={tag:"button",classes:["tox-tbtn"],attributes:{...f,"data-mce-name":u}},b=t.icon.map(A=>wT(A,i.icons)),S=kd([b]);return y0(t,s,c,m,S,t.tooltip,i)},jT=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},lB=(t,s,i,c=[],u=[])=>{const f=i.translate(t.text),m=t.icon.map(z=>wT(z,i.icons)),b=[m.getOrThunk(()=>Wo(f))],S=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),M={tag:"button",classes:[...jT(S),...m.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...u],attributes:{"aria-label":f,"data-mce-name":t.text}},L=t.icon.map(_(f));return y0(t,s,c,M,b,L,i)},_c=(t,s,i,c=[],u=[])=>{const f=lB(t,D.some(s),i,c,u);return ws.sketch(f)},fy=(t,s)=>i=>{s==="custom"?Et(i,Hl,{name:t,value:{}}):s==="submit"?Sn(i,mh):s==="cancel"?Sn(i,Dd):console.error("Unknown button type: ",s)},v0=(t,s)=>s==="menu",W7=(t,s)=>s==="custom"||s==="cancel"||s==="submit",HT=(t,s)=>s==="togglebutton",G7=(t,s,i)=>{var c,u;const f=t.icon.map(de=>Su(de,s.icons)).map(Ln),m=de=>{Et(de,Hl,{name:t.name,value:{setIcon:Ee=>{f.map(_e=>_e.getOpt(de).each(Ze=>{Xt.set(Ze,[Su(Ee,s.icons)])}))}}})},b=t.buttonType.getOr(t.primary?"primary":"secondary"),S={...t,name:(c=t.name)!==null&&c!==void 0?c:"",primary:b==="primary",tooltip:t.tooltip,enabled:(u=t.enabled)!==null&&u!==void 0?u:!1,borderless:!1},A=S.tooltip.or(t.text).map(de=>({"aria-label":s.translate(de)})).getOr({}),O=jT(b??"secondary"),M=t.icon.isSome()&&t.text.isSome(),L={tag:"button",classes:[...O.concat(t.icon.isSome()?["tox-button--icon"]:[]),...t.active?["tox-button--enabled"]:[],...M?["tox-button--icon-and-text"]:[]],attributes:{...A,...ae(i)?{"data-mce-name":i}:{}}},z=[],q=s.translate(t.text.getOr("")),X=Wo(q),Z=[...kd([f.map(de=>de.asSpec())]),...t.text.isSome()?[X]:[]],ue=y0(S,D.some(m),z,L,Z,t.tooltip,s);return ws.sketch(ue)},Sh=(t,s,i)=>{if(v0(t,s)){const c=()=>m,u=t,f={...t,type:"menubutton",search:D.none(),onSetup:b=>(b.setEnabled(t.enabled),te),fetch:XI(u.items,c,i)},m=Ln(Cm(f,"tox-tbtn",i,D.none(),!0,t.text.or(t.tooltip).getOrUndefined()));return m.asSpec()}else if(W7(t,s)){const c=fy(t.name,s),u={...t,context:s==="cancel"?"any":t.context,borderless:!1};return _c(u,c,i.shared.providers,[])}else{if(HT(t,s))return G7(t,i.shared.providers,t.text.or(t.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",s),new Error("Unknown footer button type")}},uB=(t,s)=>{const i=fy(t.name,"custom");return H8(D.none(),Kn.parts.field({factory:ws,...lB(t,D.some(i),s,[iy(""),Va.self()])}))},UT={type:"separator"},q7=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:te}),zT=(t,s)=>({type:"menuitem",value:s,text:t,meta:{attach:void 0},onAction:te}),dB=t=>We(t,q7),K7=(t,s)=>eo(s,i=>i.type===t),fB=(t,s)=>dB(K7(t,s)),VT=t=>fB("header",t.targets),Y7=t=>fB("anchor",t.targets),X7=t=>D.from(t.anchorTop).map(s=>zT("<top>",s)).toArray(),mB=t=>D.from(t.anchorBottom).map(s=>zT("<bottom>",s)).toArray(),pB=t=>We(t,s=>zT(s,s)),J7=t=>rs(t,(s,i)=>s.length===0||i.length===0?s.concat(i):s.concat(UT,i),[]),WT=(t,s)=>{const i=t.toLowerCase();return eo(s,c=>{var u;const f=c.meta!==void 0&&c.meta.text!==void 0?c.meta.text:c.text,m=(u=c.value)!==null&&u!==void 0?u:"";return Br(f.toLowerCase(),i)||Br(m.toLowerCase(),i)})},Z7=(t,s,i)=>{var c,u;const f=ft.getValue(s),m=(u=(c=f==null?void 0:f.meta)===null||c===void 0?void 0:c.text)!==null&&u!==void 0?u:f.value;return i.getLinkInformation().fold(()=>[],S=>{const A=WT(m,pB(i.getHistory(t)));return t==="file"?J7([A,WT(m,VT(S)),WT(m,on([X7(S),Y7(S),mB(S)]))]):A})},hB=yt("aria-invalid"),gB=(t,s,i,c)=>{const u=s.shared.providers,f=ue=>{const de=ft.getValue(ue);i.addToHistory(de.value,t.filetype)},m={...c.map(ue=>({initialData:ue})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":hB,type:"url"},minChars:0,responseTime:0,fetch:ue=>{const de=Z7(t.filetype,ue,i),Ee=xh(de,Cc.BUBBLE_TO_SANDBOX,s,{isHorizontalMenu:!1,search:D.none()});return wr.pure(Ee)},getHotspot:ue=>q.getOpt(ue),onSetValue:(ue,de)=>{ue.hasConfigured(Ul)&&Ul.run(ue).get(te)},typeaheadBehaviours:qe([...i.getValidationHandler().map(ue=>Ul.config({getRoot:de=>Sa(de.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(de,Ee)=>{O.getOpt(de).each(_e=>{$t(_e.element,"title",u.translate(Ee))})}},validator:{validate:de=>{const Ee=ft.getValue(de);return aB.nu(_e=>{ue({type:t.filetype,url:Ee.value},Ze=>{if(Ze.status==="invalid"){const pt=bn.error(Ze.message);_e(pt)}else{const pt=bn.value(Ze.message);_e(pt)}})})},validateOnLoad:!1}})).toArray(),Ut.config({disabled:()=>!t.enabled||u.checkUiComponentContext(t.context).shouldDisable}),Eo.config({}),sn("urlinput-events",[Me(Tl(),ue=>{const de=mc(ue.element),Ee=de.trim();Ee!==de&&Rf(ue.element,Ee),t.filetype==="file"&&Et(ue,gi,{name:t.name})}),Me(ru(),ue=>{Et(ue,gi,{name:t.name}),f(ue)}),Me(oS(),ue=>{Et(ue,gi,{name:t.name}),f(ue)})])]),eventOrder:{[Tl()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:ue=>ue.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:s.shared.getSink,parts:{menu:Ob(!1,1,"normal")},onExecute:(ue,de,Ee)=>{Et(de,mh,{})},onItemExecute:(ue,de,Ee,_e)=>{f(ue),Et(ue,gi,{name:t.name})}},b=Kn.parts.field({...m,factory:U7}),S=t.label.map(ue=>Od(ue,u)),O=Ln(((ue,de,Ee=ue,_e=ue)=>ia(Ee,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ue],attributes:{title:u.translate(_e),"aria-live":"polite",...de.fold(()=>({}),Ze=>({id:Ze}))}},u.icons))("invalid",D.some(hB),"warning")),M=Ln({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[O.asSpec()]}),L=i.getUrlPicker(t.filetype),z=yt("browser.url.event"),q=Ln({dom:{tag:"div",classes:["tox-control-wrap"]},components:[b,M.asSpec()],behaviours:qe([Ut.config({disabled:()=>!t.enabled||u.checkUiComponentContext(t.context).shouldDisable})])}),X=Ln(_c({context:t.context,name:t.name,icon:D.some("browse"),text:t.picker_text.or(t.label).getOr(""),enabled:t.enabled,primary:!1,buttonType:D.none(),borderless:!0},ue=>Sn(ue,z),u,[],["tox-browse-url"])),fe=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:on([[q.asSpec()],L.map(()=>X.asSpec()).toArray()])}),Z=ue=>{_n.getCurrent(ue).each(de=>{const Ee=ft.getValue(de),_e={fieldname:t.name,...Ee};L.each(Ze=>{Ze(_e).get(pt=>{ft.setValue(de,pt),Et(ue,gi,{name:t.name})})})})};return Kn.sketch({dom:z8(),components:S.toArray().concat([fe()]),fieldBehaviours:qe([Ut.config({disabled:()=>!t.enabled||u.checkUiComponentContext(t.context).shouldDisable,onDisabled:ue=>{Kn.getField(ue).each(Ut.disable),X.getOpt(ue).each(Ut.disable)},onEnabled:ue=>{Kn.getField(ue).each(Ut.enable),X.getOpt(ue).each(Ut.enable)}}),os(()=>u.checkUiComponentContext(t.context)),sn("url-input-events",[Me(z,Z)])])})},ll=(t,s)=>{const i=M2(t.icon,s.icons);return il.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:t.url?void 0:i},components:t.url?[ws.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:i,attributes:{title:s.translate(t.iconTooltip)}},action:c=>Et(c,Hl,{name:"alert-banner",value:t.url}),buttonBehaviours:qe([HN()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:s.translate(t.text)}}]})},GT=(t,s)=>{t.dom.checked=s},Q7=t=>t.dom.checked,eU=(t,s,i)=>{const c=S=>(S.element.dom.click(),D.some(!0)),u=Kn.parts.field({factory:{sketch:At},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:qe([Va.self(),Ut.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable,onDisabled:S=>{Sa(S.element).each(A=>ps(A,"tox-checkbox--disabled"))},onEnabled:S=>{Sa(S.element).each(A=>Io(A,"tox-checkbox--disabled"))}}),Eo.config({}),zt.config({}),CI(i,Q7,GT),Rt.config({mode:"special",onEnter:c,onSpace:c,stopSpaceKeyup:!0}),sn("checkbox-events",[Me(ru(),(S,A)=>{Et(S,gi,{name:t.name})})])])}),f=Kn.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Wo(s.translate(t.label))],behaviours:qe([ph.config({})])}),m=S=>ia(S==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+S]},s.icons),b=Ln({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[m("checked"),m("unchecked")]});return Kn.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[u,b.asSpec(),f],fieldBehaviours:qe([Ut.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable}),os(()=>s.checkUiComponentContext(t.context))])})},tU=(t,s)=>{const i=["tox-form__group",...t.stretched?["tox-form__group--stretched"]:[]],c=sn("htmlpanel",[ko(u=>{t.onInit(u.element.dom)})]);return t.presets==="presentation"?il.sketch({dom:{tag:"div",classes:i,innerHtml:t.html},containerBehaviours:qe([Ko.config({...s.tooltips.getConfig({tooltipText:"",onShow:u=>{Bo(u.element,"[data-mce-tooltip]:hover").orThunk(()=>zr(u.element)).each(f=>{Us(f,"data-mce-tooltip").each(m=>{Ko.setComponents(u,s.tooltips.getComponents({tooltipText:m}))})})}}),mode:"children-normal",anchor:u=>({type:"node",node:Bo(u.element,"[data-mce-tooltip]:hover").orThunk(()=>zr(u.element).filter(f=>Us(f,"data-mce-tooltip").isSome())),root:u.element,layouts:{onLtr:_([Ss,Qs,ks,cr,Os,lr]),onRtl:_([Ss,Qs,ks,cr,Os,lr])},bubble:gc(0,-2,{})})}),c])}):il.sketch({dom:{tag:"div",classes:i,innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:qe([Eo.config({}),zt.config({}),c])})},Ds=t=>(s,i,c,u,f)=>at(i,"name").fold(()=>t(i,u,D.none(),f),m=>s.field(m,t(i,u,at(c,m),f))),nU=t=>(s,i,c,u,f)=>{const m=Qo(i,{source:"dynamic"});return Ds(t)(s,m,c,u,f)},bB={bar:Ds((t,s)=>Hx(t,s.shared)),collection:Ds((t,s,i)=>V8(t,s.shared.providers,i)),alertbanner:Ds((t,s)=>ll(t,s.shared.providers)),input:Ds((t,s,i)=>WI(t,s.shared.providers,i)),textarea:Ds((t,s,i)=>f0(t,s.shared.providers,i)),label:Ds((t,s,i,c)=>s7(t,s.shared,c)),iframe:nU((t,s,i)=>uy(t,s.shared.providers,i)),button:Ds((t,s)=>uB(t,s.shared.providers)),checkbox:Ds((t,s,i)=>eU(t,s.shared.providers,i)),colorinput:Ds((t,s,i)=>FM(t,s.shared,s.colorinput,i)),colorpicker:Ds((t,s,i)=>z9(t,s.shared.providers,i)),dropzone:Ds((t,s,i)=>G9(t,s.shared.providers,i)),grid:Ds((t,s)=>q9(t,s.shared)),listbox:Ds((t,s,i)=>FI(t,s,i)),selectbox:Ds((t,s,i)=>d7(t,s.shared.providers,i)),sizeinput:Ds((t,s)=>g7(t,s.shared.providers)),slider:Ds((t,s,i)=>b7(t,s.shared.providers,i)),urlinput:Ds((t,s,i)=>gB(t,s,s.urlinput,i)),customeditor:Ds(W9),htmlpanel:Ds((t,s)=>tU(t,s.shared.providers)),imagepreview:Ds((t,s,i)=>CT(t,i)),table:Ds((t,s)=>VI(t,s.shared.providers)),tree:Ds((t,s)=>P7(t,s)),panel:Ds((t,s)=>l7(t,s))},yB={field:(t,s)=>s,record:_([])},oU=(t,s,i,c,u)=>{const f=Qo(c,{shared:{interpreter:m=>vB(t,m,i,f,u)}});return vB(t,s,i,f,u)},vB=(t,s,i,c,u)=>at(bB,s.type).fold(()=>(console.error(`Unknown factory type "${s.type}", defaulting to container: `,s),s),f=>f(t,s,i,c,u)),fr=(t,s,i,c)=>vB(yB,t,s,i,c),Gl="layout-inset",qT=t=>t.x,my=(t,s)=>t.x+t.width/2-s.width/2,KT=(t,s)=>t.x+t.width-s.width,YT=t=>t.y,XT=(t,s)=>t.y+t.height-s.height,xB=(t,s)=>t.y+t.height/2-s.height/2,x0=(t,s,i)=>vr(KT(t,s),XT(t,s),i.insetSouthwest(),Vv(),"southwest",xr(t,{right:0,bottom:3}),Gl),C0=(t,s,i)=>vr(qT(t),XT(t,s),i.insetSoutheast(),AS(),"southeast",xr(t,{left:1,bottom:3}),Gl),py=(t,s,i)=>vr(KT(t,s),YT(t),i.insetNorthwest(),_S(),"northwest",xr(t,{right:0,top:2}),Gl),hy=(t,s,i)=>vr(qT(t),YT(t),i.insetNortheast(),zv(),"northeast",xr(t,{left:1,top:2}),Gl),qa=(t,s,i)=>vr(my(t,s),YT(t),i.insetNorth(),vt(),"north",xr(t,{top:2}),Gl),Id=(t,s,i)=>vr(my(t,s),XT(t,s),i.insetSouth(),kg(),"south",xr(t,{bottom:3}),Gl),JT=(t,s,i)=>vr(KT(t,s),xB(t,s),i.insetEast(),bO(),"east",xr(t,{right:0}),Gl),ZT=(t,s,i)=>vr(qT(t),xB(t,s),i.insetWest(),kS(),"west",xr(t,{left:1}),Gl),sU=t=>{switch(t){case"north":return qa;case"northeast":return hy;case"northwest":return py;case"south":return Id;case"southeast":return C0;case"southwest":return x0;case"east":return JT;case"west":return ZT}},QT=(t,s,i,c,u)=>kO(c).map(sU).getOr(qa)(t,s,i,c,u),rU=t=>{switch(t){case"north":return Id;case"northeast":return C0;case"northwest":return x0;case"south":return qa;case"southeast":return hy;case"southwest":return py;case"east":return ZT;case"west":return JT}},iU=(t,s,i,c,u)=>kO(c).map(rU).getOr(qa)(t,s,i,c,u),wh={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},BK=(t,s,i)=>{const u={maxHeightFunction:Np()},f=()=>({type:"node",root:tu(gr(t())),node:D.from(t()),bubble:gc(12,12,wh),layouts:{onRtl:()=>[hy],onLtr:()=>[py]},overrides:u}),m=()=>({type:"hotspot",hotspot:s(),bubble:gc(-12,12,wh),layouts:{onRtl:()=>[ks,Os,Ss],onLtr:()=>[Os,ks,Ss]},overrides:u});return()=>i()?f():m()},FK=(t,s,i,c)=>{const f={maxHeightFunction:Np()},m=()=>({type:"node",root:tu(gr(s())),node:D.from(s()),bubble:gc(12,12,wh),layouts:{onRtl:()=>[qa],onLtr:()=>[qa]},overrides:f}),b=()=>t?{type:"node",root:tu(gr(s())),node:D.from(s()),bubble:gc(0,-Xe(s()),wh),layouts:{onRtl:()=>[Qs],onLtr:()=>[Qs]},overrides:f}:{type:"hotspot",hotspot:i(),bubble:gc(0,0,wh),layouts:{onRtl:()=>[Qs],onLtr:()=>[Qs]},overrides:f};return()=>c()?m():b()},aU=(t,s,i)=>{const c=()=>({type:"node",root:tu(gr(t())),node:D.from(t()),layouts:{onRtl:()=>[qa],onLtr:()=>[qa]}}),u=()=>({type:"hotspot",hotspot:s(),layouts:{onRtl:()=>[Ss],onLtr:()=>[Ss]}});return()=>i()?c():u()},cU=(t,s)=>()=>({type:"selection",root:s(),getSelection:()=>{const i=t.selection.getRng(),c=t.model.table.getSelectedCells();if(c.length>1){const u=c[0],f=c[c.length-1],m={firstCell:nt.fromDom(u),lastCell:nt.fromDom(f)};return D.some(m)}return D.some(Mg.range(nt.fromDom(i.startContainer),i.startOffset,nt.fromDom(i.endContainer),i.endOffset))}}),lU=t=>s=>({type:"node",root:t(),node:s}),CB=(t,s,i,c)=>{const u=vc(t),f=()=>nt.fromDom(t.getBody()),m=()=>nt.fromDom(t.getContentAreaContainer()),b=()=>u||!c();return{inlineDialog:BK(m,s,b),inlineBottomDialog:FK(t.inline,m,i,b),banner:aU(m,s,b),cursor:cU(t,f),node:lU(f)}},e_=t=>(s,i)=>{aM(t)(s,i)},uU=t=>()=>ZP(t),dU=t=>s=>Mx(t,s),SB=t=>s=>JP(t,s),fU=t=>({colorPicker:e_(t),hasCustomColors:uU(t),getColors:dU(t),getColorCols:SB(t)}),mU=t=>()=>W1(t),pU=t=>({isDraggableModal:mU(t)}),hU=t=>{const s=Pt(b2(t)?"bottom":"top");return{isPositionedAtTop:()=>s.get()==="top",getDockingMode:s.get,setDockingMode:s.set}},S0=t=>Ti(t,"items"),t_=t=>Ti(t,"format"),wB=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],gU=t=>jn(t,"items"),bU=t=>jn(t,"block"),yU=t=>jn(t,"inline"),EB=t=>jn(t,"selector"),TB=t=>rs(t,(s,i)=>{if(gU(i)){const c=TB(i.items);return{customFormats:s.customFormats.concat(c.customFormats),formats:s.formats.concat([{title:i.title,items:c.formats}])}}else if(yU(i)||bU(i)||EB(i)){const u=`custom-${j(i.name)?i.name:i.title.toLowerCase()}`;return{customFormats:s.customFormats.concat([{name:u,format:i}]),formats:s.formats.concat([{title:i.title,format:u,icon:i.icon}])}}else return{...s,formats:s.formats.concat(i)}},{customFormats:[],formats:[]}),w0=(t,s)=>{const i=TB(s),c=u=>{ht(u,f=>{t.formatter.has(f.name)||t.formatter.register(f.name,f.format)})};return t.formatter?c(i.customFormats):t.on("init",()=>{c(i.customFormats)}),i.formats},_B=t=>i2(t).map(s=>{const i=w0(t,s);return uN(t)?wB.concat(i):i}).getOr(wB),E0=t=>{const s=Jo(t);return s.length===1&&uo(s,"title")},AB=(t,s,i)=>({...t,type:"formatter",isSelected:s(t.format),getStylePreview:i(t.format)}),T0=(t,s,i,c)=>{const u=S=>AB(S,i,c),f=S=>{const A=b(S.items);return{...S,type:"submenu",getStyleItems:_(A)}},m=S=>{const A=j(S.name)?S.name:yt(S.title),O=`custom-${A}`,M={...S,type:"formatter",format:O,isSelected:i(O),getStylePreview:c(O)};return t.formatter.register(A,M),M},b=S=>We(S,A=>S0(A)?f(A):t_(A)?u(A):E0(A)?{...A,type:"separator"}:m(A));return b(s)},gy=t=>{const s=b=>()=>t.formatter.match(b),i=b=>()=>{const S=t.formatter.get(b);return S!==void 0?D.some({tag:S.length>0&&(S[0].inline||S[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(b))}):D.none()},c=Pt([]),u=Pt([]),f=Pt(!1);return t.on("PreInit",b=>{const S=_B(t),A=T0(t,S,s,i);c.set(A)}),t.on("addStyleModifications",b=>{const S=T0(t,b.items,s,i);u.set(S),f.set(b.replace)}),{getData:()=>{const b=f.get()?[]:c.get(),S=u.get();return b.concat(S)}}},kB=t=>{let c=0;const u=()=>c>0,f=b=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Wo(b.tooltipText)]}];return{getConfig:b=>({delayForShow:()=>u()?60:300,delayForHide:_(300),exclusive:!0,lazySink:t,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:f(b),onShow:(S,A)=>{c++,b.onShow&&b.onShow(S,A)},onHide:(S,A)=>{c--,b.onHide&&b.onHide(S,A)},onSetup:b.onSetup}),getComponents:f}},vU=t=>ae(t)&&t.nodeType===1,OB=Cu.trim,n_=t=>s=>!!(vU(s)&&(s.contentEditable===t||s.getAttribute("data-mce-contenteditable")===t)),DB=n_("true"),xU=n_("false"),_0=(t,s,i,c,u)=>({type:t,title:s,url:i,level:c,attach:u}),A0=t=>{let s=t;for(;s=s.parentNode;){const i=s.contentEditable;if(i&&i!=="inherit")return DB(s)}return!1},CU=(t,s)=>We(ur(nt.fromDom(s),t),i=>i.dom),RB=t=>t.innerText||t.textContent,Eh=t=>t.id?t.id:yt("h"),NB=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,PB=t=>NB(t)&&k0(t),o_=t=>t&&/^(H[1-6])$/.test(t.nodeName),k0=t=>A0(t)&&!xU(t),s_=t=>o_(t)&&k0(t),SU=t=>o_(t)?parseInt(t.nodeName.substr(1),10):0,wU=t=>{var s;const i=Eh(t),c=()=>{t.id=i};return _0("header",(s=RB(t))!==null&&s!==void 0?s:"","#"+i,SU(t),c)},EU=t=>{const s=t.id||t.name,i=RB(t);return _0("anchor",i||"#"+s,"#"+s,0,te)},r_=t=>We(eo(t,s_),wU),TU=t=>We(eo(t,PB),EU),_U=t=>CU("h1,h2,h3,h4,h5,h6,a:not([href])",t),AU=t=>OB(t.title).length>0,kU={find:t=>{const s=_U(t);return eo(r_(s).concat(TU(s)),AU)}},O0="tinymce-url-history",MB=5,i_=t=>j(t)&&/^https?/.test(t),OU=t=>oe(t)&&t.length<=MB&&qr(t,i_),Th=t=>J(t)&&hr(t,s=>!OU(s)).isNone(),IB=()=>{const t=lm.getItem(O0);if(t===null)return{};let s;try{s=JSON.parse(t)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+O0+" was not valid JSON",i),{};throw i}return Th(s)?s:(console.log("Local storage "+O0+" was not valid format",s),{})},DU=t=>{if(!Th(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));lm.setItem(O0,JSON.stringify(t))},a_=t=>{const s=IB();return at(s,t).getOr([])},BB=(t,s)=>{if(!i_(t))return;const i=IB(),c=at(i,s).getOr([]),u=eo(c,f=>f!==t);i[s]=[t].concat(u).slice(0,MB),DU(i)},FB=t=>!!t,RU=t=>To(Cu.makeMap(t,/[, ]/),FB),c_=t=>D.from(u2(t)),NU=t=>{const s=D.from(V1(t)).filter(FB).map(RU);return c_(t).fold(ln,i=>s.fold(Ot,c=>Jo(c).length>0?c:!1))},PU=(t,s)=>{const i=NU(t);return Ce(i)?i?c_(t):D.none():i[s]?c_(t):D.none()},MU=(t,s)=>PU(t,s).map(i=>c=>wr.nu(u=>{const f=(b,S)=>{if(!j(b))throw new Error("Expected value to be string");if(S!==void 0&&!J(S))throw new Error("Expected meta to be a object");u({value:b,meta:S})},m={filetype:s,fieldname:c.fieldname,...D.from(c.meta).getOr({})};i.call(t,f,c.value,m)})),LB=t=>D.from(t).filter(j).getOrUndefined(),IU=t=>d2(t)?D.some({targets:kU.find(t.getBody()),anchorTop:LB(f2(t)),anchorBottom:LB(yN(t))}):D.none(),BU=t=>D.from(gN(t)),$K=t=>({getHistory:a_,addToHistory:BB,getLinkInformation:()=>IU(t),getValidationHandler:()=>BU(t),getUrlPicker:s=>MU(t,s)}),FU=(t,s,i,c)=>{const u=Pt(!1),f=hU(s),m={icons:()=>s.ui.registry.getAll().icons,menuItems:()=>s.ui.registry.getAll().menuItems,translate:$a.translate,isDisabled:()=>!s.ui.isEnabled(),getOption:s.options.get,tooltips:kB(t.dialog),checkUiComponentContext:Z=>{const[ue,de=""]=Z.split(":"),Ee=s.ui.registry.getAll().contexts,_e=at(Ee,ue).fold(()=>at(Ee,"mode").map(Ze=>Ze("design")).getOr(!1),Ze=>de.charAt(0)==="!"?!Ze(de.slice(1)):Ze(de));return{contextType:ue,shouldDisable:!_e}}},b=$K(s),S=gy(s),A=fU(s),O=pU(s),M=()=>u.get(),L=Z=>u.set(Z),z={shared:{providers:m,anchors:CB(s,i,c,f.isPositionedAtTop),header:f},urlinput:b,styles:S,colorinput:A,dialog:O,isContextMenuOpen:M,setContextMenuState:L},q=Z=>D.none(),X={...z,shared:{...z.shared,interpreter:Z=>fr(Z,{},X,q),getSink:t.popup}},fe={...z,shared:{...z.shared,interpreter:Z=>fr(Z,{},fe,q),getSink:t.dialog}};return{popup:X,dialog:fe}},$B=(t,s,i)=>{const c=(Re,gt)=>{ht([s,...i],rt=>{rt.broadcastEvent(Re,gt)})},u=(Re,gt)=>{ht([s,...i],rt=>{rt.broadcastOn([Re],gt)})},f=Re=>u(cd(),{target:Re.target}),m=xl(),b=Xr(m,"touchstart",f),S=Xr(m,"touchmove",Re=>c(h3(),Re)),A=Xr(m,"touchend",Re=>c(g3(),Re)),O=Xr(m,"mousedown",f),M=Xr(m,"mouseup",Re=>{Re.raw.button===0&&u(iw(),{target:Re.target})}),L=Re=>u(cd(),{target:nt.fromDom(Re.target)}),z=Re=>{Re.button===0&&u(iw(),{target:nt.fromDom(Re.target)})},q=()=>{ht(t.editorManager.get(),Re=>{t!==Re&&Re.dispatch("DismissPopups",{relatedTarget:t})})},X=Re=>c(gv(),NO(Re)),fe=Re=>{u(Ff(),{}),c(gp(),NO(Re))},Z=gr(nt.fromDom(t.getElement())),ue=BS(Z,"scroll",Re=>{requestAnimationFrame(()=>{const gt=t.getContainer();if(gt!=null){const xt=xd(t,s.element).map(yn=>[yn.element,...yn.others]).getOr([]);Ms(xt,yn=>Yn(yn,Re.target))&&(t.dispatch("ElementScroll",{target:Re.target.dom}),c(wk(),Re))}})}),de=()=>u(Ff(),{}),Ee=Re=>{Re.state&&u(cd(),{target:nt.fromDom(t.getContainer())})},_e=Re=>{u(cd(),{target:nt.fromDom(Re.relatedTarget.getContainer())})},Ze=Re=>t.dispatch("focusin",Re),pt=Re=>t.dispatch("focusout",Re);t.on("PostRender",()=>{t.on("click",L),t.on("tap",L),t.on("mouseup",z),t.on("mousedown",q),t.on("ScrollWindow",X),t.on("ResizeWindow",fe),t.on("ResizeEditor",de),t.on("AfterProgressState",Ee),t.on("DismissPopups",_e),ht([s,...i],Re=>{Re.element.dom.addEventListener("focusin",Ze),Re.element.dom.addEventListener("focusout",pt)})}),t.on("remove",()=>{t.off("click",L),t.off("tap",L),t.off("mouseup",z),t.off("mousedown",q),t.off("ScrollWindow",X),t.off("ResizeWindow",fe),t.off("ResizeEditor",de),t.off("AfterProgressState",Ee),t.off("DismissPopups",_e),ht([s,...i],Re=>{Re.element.dom.removeEventListener("focusin",Ze),Re.element.dom.removeEventListener("focusout",pt)}),O.unbind(),b.unbind(),S.unbind(),A.unbind(),M.unbind(),ue.unbind()}),t.on("detach",()=>{ht([s,...i],Bf),ht([s,...i],Re=>Re.destroy())})},Rs=UD,Ka=FD,jB=_([ge("shell",!1),Ie("makeItem"),ge("setupItem",te),Ma.field("listBehaviours",[Xt])]),LU=na({name:"items",overrides:()=>({behaviours:qe([Xt.config({})])})}),$U=_([LU]),jU=_("CustomList"),HU=(t,s,i,c)=>{const u=(b,S)=>{m(b).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},A=>{const O=Xt.contents(A),M=S.length,L=M-O.length,z=L>0?Gr(L,()=>t.makeItem()):[],q=O.slice(M);ht(q,fe=>Xt.remove(A,fe)),ht(z,fe=>Xt.append(A,fe));const X=Xt.contents(A);ht(X,(fe,Z)=>{t.setupItem(b,fe,S[Z],Z)})})},f=t.shell?{behaviours:[Xt.config({})],components:[]}:{behaviours:[],components:s},m=b=>t.shell?D.some(b):fo(b,t,"items");return{uid:t.uid,dom:t.dom,components:f.components,behaviours:nr(t.listBehaviours,f.behaviours),apis:{setItems:u}}},HB=Rr({name:jU(),configFields:jB(),partFields:$U(),factory:HU,apis:{setItems:(t,s,i)=>{t.setItems(s,i)}}}),_h=_([Ie("dom"),ge("shell",!0),tr("toolbarBehaviours",[Xt])]),UB=_([na({name:"groups",overrides:()=>({behaviours:qe([Xt.config({})])})})]),zU=(t,s,i,c)=>{const u=(b,S)=>{f(b).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},A=>{Xt.set(A,S)})},f=b=>t.shell?D.some(b):fo(b,t,"groups"),m=t.shell?{behaviours:[Xt.config({})],components:[]}:{behaviours:[],components:s};return{uid:t.uid,dom:t.dom,components:m.components,behaviours:nr(t.toolbarBehaviours,m.behaviours),apis:{setGroups:u,refresh:te},domModification:{attributes:{role:"group"}}}},Ac=Rr({name:"Toolbar",configFields:_h(),partFields:UB(),factory:zU,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)}}}),VU=te,WU=ln,zB=_([]);var Sm=Object.freeze({__proto__:null,setup:VU,isDocked:WU,getBehaviours:zB});const D0=_(yt("toolbar-height-change")),fa={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},by="tox-tinymce--toolbar-sticky-on",l_="tox-tinymce--toolbar-sticky-off",VB=(t,s)=>{const i=Wi(s),u=bl(s).dom.innerHeight,f=Po(i),m=nt.fromDom(t.elm),b=sf(m),S=Be(m),A=b.y,O=A+S,M=Do(s),L=Be(s),z=M.top,q=z+L,X=Math.abs(z-f.top)<2,fe=Math.abs(q-(f.top+u))<2;if(X&&A<q)rg(f.left,A-L,i);else if(fe&&O>z){const Z=A-u+S+L;rg(f.left,Z,i)}},yy=(t,s)=>uo(wo.getModes(t),s),WB=t=>{const s=c=>Xe(c)+(parseInt(C(c,"margin-top"),10)||0)+(parseInt(C(c,"margin-bottom"),10)||0),i=t.element;Sa(i).each(c=>{const u="padding-"+wo.getModes(t)[0];if(wo.isDocked(t)){const f=Tn(c);rn(i,"width",f+"px"),rn(c,u,s(i)+"px")}else V(i,"width"),V(c,u)})},GB=(t,s)=>{s?(Io(t,fa.fadeOutClass),Sp(t,[fa.transitionClass,fa.fadeInClass])):(Io(t,fa.fadeInClass),Sp(t,[fa.fadeOutClass,fa.transitionClass]))},qB=(t,s)=>{const i=nt.fromDom(t.getContainer());s?(ps(i,by),Io(i,l_)):(ps(i,l_),Io(i,by))},GU=(t,s)=>{const i=Wi(s);Pl(i).filter(c=>!Yn(s,c)).filter(c=>Yn(c,nt.fromDom(i.dom.body))||Zd(t,c)).each(()=>Ra(s))},qU=(t,s)=>zr(t).orThunk(()=>s().toOptional().bind(i=>zr(i.element))),KU=(t,s,i)=>{t.inline||(s.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{i().each(wo.reset)}),t.on("ResizeWindow ResizeEditor",()=>{i().each(WB)}),t.on("SkinLoaded",()=>{i().each(c=>{wo.isDocked(c)?wo.reset(c):wo.refresh(c)})}),t.on("FullscreenStateChanged",()=>{i().each(wo.reset)})),t.on("AfterScrollIntoView",c=>{i().each(u=>{wo.refresh(u);const f=u.element;Mw(f)&&VB(c,f)})}),t.on("PostRender",()=>{qB(t,!1)})},Ah=t=>t().map(wo.isDocked).getOr(!1),vy=()=>[Ni.config({channels:{[D0()]:{onReceive:WB}}})],R0=(t,s)=>{const i=So(),c=s.getSink,u=b=>{c().each(S=>b(S.element))},f=b=>{t.inline||WB(b),qB(t,wo.isDocked(b)),b.getSystem().broadcastOn([Ff()],{}),c().each(S=>S.getSystem().broadcastOn([Ff()],{}))},m=t.inline?[]:vy();return[zt.config({}),wo.config({contextual:{lazyContext:b=>{const S=Xe(b.element),A=t.inline?t.getContentAreaContainer():t.getContainer();return D.from(A).map(O=>{const M=is(nt.fromDom(O));return xd(t,b.element).fold(()=>{const z=M.height-S,q=M.y+(yy(b,"top")?0:S);return Zo(M.x,q,M.width,z)},z=>{const q=PC(M,Cd(z)),X=yy(b,"top")?q.y:q.y+S;return Zo(q.x,X,q.width,q.height-S)})})},onShow:()=>{u(b=>GB(b,!0))},onShown:b=>{u(S=>Wc(S,[fa.transitionClass,fa.fadeInClass])),i.get().each(S=>{GU(b.element,S),i.clear()})},onHide:b=>{qU(b.element,c).fold(i.clear,i.set),u(S=>GB(S,!1))},onHidden:()=>{u(b=>Wc(b,[fa.transitionClass]))},...fa},lazyViewport:b=>xd(t,b.element).fold(()=>{const A=Vs(),O=pN(t),M=A.y+(yy(b,"top")&&!C2(t)?O:0),L=A.height-(yy(b,"bottom")?O:0);return{bounds:Zo(A.x,M,A.width,L),optScrollEnv:D.none()}},A=>({bounds:Cd(A),optScrollEnv:D.some({currentScrollTop:A.element.dom.scrollTop,scrollElmTop:Do(A.element).top})})),modes:[s.header.getDockingMode()],onDocked:f,onUndocked:f}),...m]};var YU=Object.freeze({__proto__:null,setup:KU,isDocked:Ah,getBehaviours:R0});const XU=t=>{const s=t.editor,i=t.sticky?R0:zB;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:qe(i(s,t.sharedBackstage))}},u_=Wt([as,qn("items",WC([GC([W2,Xi("items",lt)]),lt]))].concat(nm)),JU=t=>qo("GroupToolbarButton",u_,t),xy=[Ls("text"),Ls("tooltip"),Ls("icon"),No("search",!1,WC([lc,Wt([Ls("placeholder")])],t=>Ce(t)?t?D.some({placeholder:D.none()}):D.none():D.some(t))),uc("fetch"),Mo("onSetup",()=>te),fs("context","mode:design")],d_=Wt([as,...xy]),KB=t=>qo("menubutton",d_,t),ZU=Wt([as,Rb,aa,yu,hP,fP,tm,$r("presets","normal",["normal","color","listpreview"]),gP(1),oh,mP,fs("context","mode:design")]),QU=t=>qo("SplitButton",ZU,t);var f_=Ba({factory:(t,s)=>{const i=(u,f)=>{const m=We(f,b=>{const S={type:"menubutton",text:b.text,fetch:O=>{O(b.getItems())},context:"any"},A=KB(S).mapError(O=>cp(O)).getOrDie();return Cm(A,"tox-mbtn",s.backstage,D.some("menuitem"))});Xt.set(u,m)},c={focus:Rt.focusIn,setMenus:i};return{uid:t.uid,dom:t.dom,components:[],behaviours:qe([Xt.config({}),sn("menubar-events",[ko(u=>{t.onSetup(u)}),Me(El(),(u,f)=>{Bo(u.element,".tox-mbtn--active").each(m=>{Rl(f.event.target,".tox-mbtn").each(b=>{Yn(m,b)||u.getSystem().getByDom(m).each(S=>{u.getSystem().getByDom(b).each(A=>{la.expand(A),la.close(S),zt.focus(A)})})})})}),Me(bv(),(u,f)=>{f.event.prevFocus.bind(m=>u.getSystem().getByDom(m).toOptional()).each(m=>{f.event.newFocus.bind(b=>u.getSystem().getByDom(b).toOptional()).each(b=>{la.isOpen(m)&&(la.expand(b),la.close(m))})})})]),Rt.config({mode:"flow",selector:".tox-mbtn",onEscape:u=>(t.onEscape(u),D.some(!0))}),Eo.config({})]),apis:c,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Ie("dom"),Ie("uid"),Ie("onEscape"),Ie("backstage"),ge("onSetup",te)],apis:{focus:(t,s)=>{t.focus(s)},setMenus:(t,s,i)=>{t.setMenus(s,i)}}});const ez="â¡ï¸Upgrade",YB="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",XB=t=>({uid:t.uid,dom:t.dom,components:[{dom:{tag:"a",attributes:{href:YB,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:ez}}]}),N0="container",tz=[tr("slotBehaviours",[])],Cy=t=>"<alloy.field."+t+">",P0=t=>{const s=(()=>{const f=[];return{slot:(b,S)=>(f.push(b),Zg(N0,Cy(b),S)),record:_(f)}})(),i=t(s),c=s.record(),u=We(c,f=>Dr({name:f,pname:Cy(f)}));return Qg(N0,tz,u,JB,i)},JB=(t,s)=>{const i=X=>vw(t),c=(X,fe)=>fo(X,t,fe),u=(X,fe)=>(Z,ue)=>fo(Z,t,ue).map(de=>X(de,ue)).getOr(fe),f=X=>(fe,Z)=>{ht(Z,ue=>X(fe,ue))},m=(X,fe)=>an(X.element,"aria-hidden")!=="true",b=(X,fe)=>{if(!m(X)){const Z=X.element;V(Z,"display"),_o(Z,"aria-hidden"),Et(X,gg(),{name:fe,visible:!0})}},S=(X,fe)=>{if(m(X)){const Z=X.element;rn(Z,"display","none"),$t(Z,"aria-hidden","true"),Et(X,gg(),{name:fe,visible:!1})}},A=u(m,!1),O=u(S),M=f(O),L=X=>M(X,i()),z=u(b),q={getSlotNames:i,getSlot:c,isShowing:A,hideSlot:O,hideAllSlots:L,showSlot:z};return{uid:t.uid,dom:t.dom,components:s,behaviours:l1(t.slotBehaviours),apis:q}},Pr={...To({getSlotNames:(t,s)=>t.getSlotNames(s),getSlot:(t,s,i)=>t.getSlot(s,i),isShowing:(t,s,i)=>t.isShowing(s,i),hideSlot:(t,s,i)=>t.hideSlot(s,i),hideAllSlots:(t,s)=>t.hideAllSlots(s),showSlot:(t,s,i)=>t.showSlot(s,i)},t=>Fv(t)),sketch:P0},nz=Wt([aa,Rb,Mo("onShow",te),Mo("onHide",te),tm]),oz=t=>qo("sidebar",nz,t),m_=t=>{const{sidebars:s}=t.ui.registry.getAll();ht(Jo(s),i=>{const c=s[i],u=()=>ri(D.from(t.queryCommandValue("ToggleSidebar")),i);t.ui.registry.addToggleButton(i,{icon:c.icon,tooltip:c.tooltip,onAction:f=>{t.execCommand("ToggleSidebar",!1,i),f.setActive(u())},onSetup:f=>{f.setActive(u());const m=()=>f.setActive(u());return t.on("ToggleSidebar",m),()=>{t.off("ToggleSidebar",m)}},context:"any"})})},sz=t=>({element:()=>t.element.dom}),p_=(t,s)=>{const i=We(Jo(s),c=>{const u=s[c],f=Ve(oz(u));return{name:c,getApi:sz,onSetup:f.onSetup,onShow:f.onShow,onHide:f.onHide}});return We(i,c=>{const u=Pt(te);return t.slot(c.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:rh.unnamedEvents([_d(c,u),Ad(c,u),Me(gg(),(f,m)=>{const b=m.event;en(i,A=>A.name===b.name).each(A=>{(b.visible?A.onShow:A.onHide)(A.getApi(f))})})])})})},rz=t=>Pr.sketch(s=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:p_(s,t),slotBehaviours:rh.unnamedEvents([ko(i=>Pr.hideAllSlots(i))])})),h_=(t,s,i)=>{_n.getCurrent(t).each(u=>{Xt.set(u,[rz(s)]);const f=i==null?void 0:i.toLowerCase();j(f)&&jn(s,f)&&_n.getCurrent(u).each(m=>{Pr.showSlot(m,f),bi.immediateGrow(u),V(u.element,"width"),M0(t.element,"region")})})},M0=(t,s)=>{$t(t,"role",s)},iz=(t,s)=>{_n.getCurrent(t).each(c=>{_n.getCurrent(c).each(f=>{bi.hasGrown(c)?Pr.isShowing(f,s)?(bi.shrink(c),M0(t.element,"presentation")):(Pr.hideAllSlots(f),Pr.showSlot(f,s),M0(t.element,"region")):(Pr.hideAllSlots(f),Pr.showSlot(f,s),bi.grow(c),M0(t.element,"region"))})})},az=t=>_n.getCurrent(t).bind(i=>bi.isGrowing(i)||bi.hasGrown(i)?_n.getCurrent(i).bind(f=>en(Pr.getSlotNames(f),m=>Pr.isShowing(f,m))):D.none()),g_=yt("FixSizeEvent"),b_=yt("AutoSizeEvent"),zK=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:qe([Eo.config({}),zt.config({}),bi.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:s=>{_n.getCurrent(s).each(Pr.hideAllSlots),Sn(s,b_)},onGrown:s=>{Sn(s,b_)},onStartGrow:s=>{Et(s,g_,{width:P(s.element,"width").getOr("")})},onStartShrink:s=>{Et(s,g_,{width:Tn(s.element)+"px"})}}),Xt.config({}),_n.config({find:s=>{const i=Xt.contents(s);return Yt(i)}})])}],behaviours:qe([Va.childAt(0),sn("sidebar-sliding-events",[Me(g_,(s,i)=>{rn(s.element,"width",i.event.width)}),Me(b_,(s,i)=>{V(s.element,"width")})])])});var ZB=Object.freeze({__proto__:null,block:(t,s,i,c)=>{$t(t.element,"aria-busy",!0);const u=s.getRoot(t).getOr(t),f=qe([Rt.config({mode:"special",onTab:()=>D.some(!0),onShiftTab:()=>D.some(!0)}),zt.config({})]),m=c(u,f),b=u.getSystem().build(m);Xt.append(u,ea(b)),b.hasConfigured(Rt)&&s.focus&&Rt.focusIn(b),i.isBlocked()||s.onBlock(t),i.blockWith(()=>Xt.remove(u,b))},unblock:(t,s,i)=>{_o(t.element,"aria-busy"),i.isBlocked()&&s.onUnblock(t),i.clear()},isBlocked:(t,s,i)=>i.isBlocked()}),lz=[Mo("getRoot",D.none),br("focus",!0),kn("onBlock"),kn("onUnblock")],uz=Object.freeze({__proto__:null,init:()=>{const t=J$(),s=i=>{t.set({destroy:i})};return jr({readState:t.isSet,blockWith:s,clear:t.clear,isBlocked:t.isSet})}});const ul=Js({fields:lz,name:"blocking",apis:ZB,state:uz}),dz=t=>(s,i)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Qc('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),y_=t=>_n.getCurrent(t).each(s=>Ra(s.element,!0)),fz=(t,s)=>{const i="tabindex",c=`data-mce-${i}`;D.from(t.iframeElement).map(nt.fromDom).each(u=>{s?(Us(u,i).each(f=>$t(u,c,f)),$t(u,i,-1)):(_o(u,i),Us(u,c).each(f=>{$t(u,i,f),_o(u,c)}))})},mz=(t,s,i,c)=>{const u=s.element;if(fz(t,i),i)ul.block(s,dz(c)),V(u,"display"),_o(u,"aria-hidden"),t.hasFocus()&&y_(s);else{const f=_n.getCurrent(s).exists(m=>Rp(m.element));ul.unblock(s),rn(u,"display","none"),$t(u,"aria-hidden","true"),f&&t.focus()}},pz=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:qe([Xt.config({}),ul.config({focus:!1}),_n.config({find:s=>Yt(s.components())})]),components:[]}),GK=t=>t.type==="focusin",qK=t=>GK(t)?(t.composed?Yt(t.composedPath()):D.from(t.target)).map(nt.fromDom).filter(ys).exists(i=>Yr(i,"mce-pastebin")):!1,QB=(t,s,i)=>{const c=Pt(!1),u=So(),f=b=>{c.get()&&!qK(b)&&(b.preventDefault(),y_(s()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",f),t.on("BeforeExecCommand",b=>{b.command.toLowerCase()==="mcefocus"&&b.value!==!0&&f(b)})});const m=b=>{b!==c.get()&&(c.set(b),mz(t,s(),b,i.providers),Dx(t,b))};t.on("ProgressState",b=>{if(u.on(clearTimeout),Ae(b.time)){const S=qf.setEditorTimeout(t,()=>m(b.state),b.time);u.set(S)}else m(b.state),u.clear()})},eF=(t,s)=>rs(t,(u,f)=>s(f,u.len).fold(_(u),b=>({len:b.finish,list:u.list.concat([b])})),{len:0,list:[]}).list,v_=(t,s,i)=>({within:t,extra:s,withinWidth:i}),tF=(t,s,i)=>{const c=eF(t,(b,S)=>{const A=i(b);return D.some({element:b,start:S,finish:S+A,width:A})}),u=eo(c,b=>b.finish<=s),f=Ou(u,(b,S)=>b+S.width,0),m=c.slice(u.length);return{within:u,extra:m,withinWidth:f}},ei=t=>We(t,s=>s.element),hz=(t,s,i)=>{const c=ei(t.concat(s));return v_(c,[],i)},nF=(t,s,i,c)=>{const u=ei(t).concat([i]);return v_(u,ei(s),c)},oF=(t,s,i)=>v_(ei(t),[],i),gz=(t,s,i)=>{const c=tF(s,t,i);return c.extra.length===0?D.some(c):D.none()},Sy=(t,s,i,c)=>{const u=gz(t,s,i).getOrThunk(()=>tF(s,t-i(c),i)),f=u.within,m=u.extra,b=u.withinWidth;return m.length===1&&m[0].width<=i(c)?hz(f,m,b):m.length>=1?nF(f,m,c,b):oF(f,m,b)},sF=(t,s)=>{const i=We(s,c=>ea(c));Ac.setGroups(t,i)},I0=t=>or(t,s=>zr(s.element).bind(i=>s.getSystem().getByDom(i).toOptional())),rF=(t,s,i)=>{const c=s.builtGroups.get();if(c.length===0)return;const u=dt(t,s,"primary"),f=es.getCoupled(t,"overflowGroup");rn(u.element,"visibility","hidden");const m=c.concat([f]),b=I0(m);i([]),sF(u,m);const S=Tn(u.element),A=Sy(S,s.builtGroups.get(),O=>Math.ceil(O.element.dom.getBoundingClientRect().width),f);A.extra.length===0?(Xt.remove(u,f),i([])):(sF(u,A.within),i(A.extra)),V(u.element,"visibility"),me(u.element),b.each(zt.focus)},wy=_([tr("splitToolbarBehaviours",[es]),Gn("builtGroups",()=>Pt([]))]),bz=_([lu(["overflowToggledClass"]),Gu("getOverflowBounds"),Ie("lazySink"),Gn("overflowGroups",()=>Pt([])),kn("onOpened"),kn("onClosed")].concat(wy())),yz=_([Dr({factory:Ac,schema:_h(),name:"primary"}),Ia({schema:_h(),name:"overflow"}),Ia({name:"overflow-button"}),Ia({name:"overflow-group"})]),ji=_((t,s)=>{bo(t,Math.floor(s))}),vz=_([lu(["toggledClass"]),Ie("lazySink"),uc("fetch"),Gu("getBounds"),Ys("fireDismissalEventInstead",[ge("event",Yu())]),rd(),kn("onToggled")]),B0=_([Ia({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:qe([un.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),Ia({factory:Ac,schema:_h(),name:"toolbar",overrides:t=>({toolbarBehaviours:qe([Rt.config({mode:"cyclic",onEscape:s=>(fo(s,t,"button").each(zt.focus),D.none())})])})})]),Ey=So(),iF=(t,s)=>{Ey.set(!0),x_(t,s),Ey.clear()},x_=(t,s)=>{const i=es.getCoupled(t,"toolbarSandbox");Dn.isOpen(i)?Dn.close(i):Dn.open(i,s.toolbar())},F0=(t,s,i,c)=>{const u=i.getBounds.map(m=>m()),f=i.lazySink(t).getOrDie();Sr.positionWithinBounds(f,s,{anchor:{type:"hotspot",hotspot:t,layouts:c,overrides:{maxWidthFunction:ji()}}},u)},aF=(t,s,i,c,u)=>{Ac.setGroups(s,u),F0(t,s,i,c),un.on(t)},xz=(t,s,i)=>{const c=pO(),u=(m,b)=>{const S=Ey.get().getOr(!1);i.fetch().get(A=>{aF(t,b,i,s.layouts,A),c.link(t.element),S||Rt.focusIn(b)})},f=()=>{un.off(t),Ey.get().getOr(!1)||zt.focus(t),c.unlink(t.element)};return{dom:{tag:"div",attributes:{id:c.id}},behaviours:qe([Rt.config({mode:"special",onEscape:m=>(Dn.close(m),D.some(!0))}),Dn.config({onOpen:u,onClose:f,isPartOf:(m,b,S)=>nd(b,S)||nd(t,S),getAttachPoint:()=>i.lazySink(t).getOrDie()}),Ni.config({channels:{...Wg({isExtraPart:ln,...i.fireDismissalEventInstead.map(m=>({fireEventInstead:{event:m.event}})).getOr({})}),...Gg({doReposition:()=>{Dn.getState(es.getCoupled(t,"toolbarSandbox")).each(m=>{F0(t,m,i,s.layouts)})}})}})])}},Bd=Rr({name:"FloatingToolbarButton",factory:(t,s,i,c)=>({...ws.sketch({...c.button(),action:u=>{x_(u,c)},buttonBehaviours:Ma.augment({dump:c.button().buttonBehaviours},[es.config({others:{toolbarSandbox:u=>xz(u,i,t)}})])}),apis:{setGroups:(u,f)=>{Dn.getState(es.getCoupled(u,"toolbarSandbox")).each(m=>{aF(u,m,t,i.layouts,f)})},reposition:u=>{Dn.getState(es.getCoupled(u,"toolbarSandbox")).each(f=>{F0(u,f,t,i.layouts)})},toggle:u=>{x_(u,c)},toggleWithoutFocusing:u=>{iF(u,c)},getToolbar:u=>Dn.getState(es.getCoupled(u,"toolbarSandbox")),isOpen:u=>Dn.isOpen(es.getCoupled(u,"toolbarSandbox"))}}),configFields:vz(),partFields:B0(),apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggleWithoutFocusing(s)},getToolbar:(t,s)=>t.getToolbar(s),isOpen:(t,s)=>t.isOpen(s)}}),Cz=_([Ie("items"),lu(["itemSelector"]),tr("tgroupBehaviours",[Rt])]),Sz=_([Jg({name:"items",unit:"item"})]),wz=(t,s,i,c)=>({uid:t.uid,dom:t.dom,components:s,behaviours:nr(t.tgroupBehaviours,[Rt.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),Ty=Rr({name:"ToolbarGroup",configFields:Cz(),partFields:Sz(),factory:wz}),C_=t=>We(t,s=>ea(s)),S_=(t,s,i)=>{rF(t,i,c=>{i.overflowGroups.set(c),s.getOpt(t).each(u=>{Bd.setGroups(u,C_(c))})})},Ez=(t,s,i,c)=>{const u=Ln(Bd.sketch({fetch:()=>wr.nu(f=>{f(C_(t.overflowGroups.get()))}),layouts:{onLtr:()=>[Os,ks],onRtl:()=>[ks,Os],onBottomLtr:()=>[lr,cr],onBottomRtl:()=>[cr,lr]},getBounds:i.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:c["overflow-button"](),toolbar:c.overflow()},onToggled:(f,m)=>t[m?"onOpened":"onClosed"](f)}));return{uid:t.uid,dom:t.dom,components:s,behaviours:nr(t.splitToolbarBehaviours,[es.config({others:{overflowGroup:()=>Ty.sketch({...c["overflow-group"](),items:[u.asSpec()]})}})]),apis:{setGroups:(f,m)=>{t.builtGroups.set(We(m,f.getSystem().build)),S_(f,u,t)},refresh:f=>S_(f,u,t),toggle:f=>{u.getOpt(f).each(m=>{Bd.toggle(m)})},toggleWithoutFocusing:f=>{u.getOpt(f).each(Bd.toggleWithoutFocusing)},isOpen:f=>u.getOpt(f).map(Bd.isOpen).getOr(!1),reposition:f=>{u.getOpt(f).each(m=>{Bd.reposition(m)})},getOverflow:f=>u.getOpt(f).bind(Bd.getToolbar)},domModification:{attributes:{role:"group"}}}},cF=Rr({name:"SplitFloatingToolbar",configFields:bz(),partFields:yz(),factory:Ez,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},refresh:(t,s)=>{t.refresh(s)},reposition:(t,s)=>{t.reposition(s)},toggle:(t,s)=>{t.toggle(s)},toggleWithoutFocusing:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s),getOverflow:(t,s)=>t.getOverflow(s)}}),lF=_([lu(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),kn("onOpened"),kn("onClosed")].concat(wy())),uF=_([Dr({factory:Ac,schema:_h(),name:"primary"}),Dr({factory:Ac,schema:_h(),name:"overflow",overrides:t=>({toolbarBehaviours:qe([bi.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:s=>{fo(s,t,"overflow-button").each(i=>{un.off(i)}),t.onClosed(s)},onGrown:s=>{t.onOpened(s)},onStartGrow:s=>{fo(s,t,"overflow-button").each(un.on)}}),Rt.config({mode:"acyclic",onEscape:s=>(fo(s,t,"overflow-button").each(zt.focus),D.some(!0))})])})}),Ia({name:"overflow-button",overrides:t=>({buttonBehaviours:qe([un.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Ia({name:"overflow-group"})]),dF=(t,s)=>fo(t,s,"overflow").map(bi.hasGrown).getOr(!1),w_=(t,s,i)=>{fo(t,s,"overflow-button").each(c=>{fo(t,s,"overflow").each(u=>{if(E_(t,s),bi.hasShrunk(u)){const f=s.onOpened;s.onOpened=m=>{i||Rt.focusIn(u),f(m),s.onOpened=f}}else{const f=s.onClosed;s.onClosed=m=>{i||zt.focus(c),f(m),s.onClosed=f}}bi.toggleGrow(u)})})},E_=(t,s)=>{fo(t,s,"overflow").each(i=>{rF(t,s,c=>{const u=We(c,f=>ea(f));Ac.setGroups(i,u)}),fo(t,s,"overflow-button").each(c=>{bi.hasGrown(i)&&un.on(c)}),bi.refresh(i)})},Tz=(t,s,i,c)=>{const u="alloy.toolbar.toggle",f=(m,b)=>{const S=We(b,m.getSystem().build);t.builtGroups.set(S)};return{uid:t.uid,dom:t.dom,components:s,behaviours:nr(t.splitToolbarBehaviours,[es.config({others:{overflowGroup:m=>Ty.sketch({...c["overflow-group"](),items:[ws.sketch({...c["overflow-button"](),action:b=>{Sn(m,u)}})]})}}),sn("toolbar-toggle-events",[Me(u,m=>{w_(m,t,!1)})])]),apis:{setGroups:(m,b)=>{f(m,b),E_(m,t)},refresh:m=>E_(m,t),toggle:m=>{w_(m,t,!1)},toggleWithoutFocusing:m=>{w_(m,t,!0)},isOpen:m=>dF(m,t)},domModification:{attributes:{role:"group"}}}},L0=Rr({name:"SplitSlidingToolbar",configFields:lF(),partFields:uF(),factory:Tz,apis:{setGroups:(t,s,i)=>{t.setGroups(s,i)},refresh:(t,s)=>{t.refresh(s)},toggle:(t,s)=>{t.toggle(s)},isOpen:(t,s)=>t.isOpen(s)}}),fF=t=>{const s=t.title.fold(()=>({}),i=>({attributes:{title:i}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...s},components:[Ty.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:qe([Eo.config({}),zt.config({})])}},$0=t=>Ty.sketch(fF(t)),mF=(t,s)=>{const i=ko(c=>{const u=We(t.initGroups,$0);Ac.setGroups(c,u)});return qe([ca.toolbarButton(()=>t.providers.checkUiComponentContext("any").shouldDisable),os(()=>t.providers.checkUiComponentContext("any")),Rt.config({mode:s,onEscape:t.onEscape,selector:".tox-toolbar__group"}),sn("toolbar-events",[i])])},pF=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":fF({title:D.none(),items:[]}),"overflow-button":cB({context:"any",name:"more",icon:D.some("more-drawer"),enabled:!0,tooltip:D.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:D.none(),borderless:!1},D.none(),t.providers,[],"overflow-button")},splitToolbarBehaviours:mF(t,s)}},_z=t=>{const s=pF(t),i=4,c=cF.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return cF.sketch({...s,lazySink:t.getSink,getOverflowBounds:()=>{const u=t.moreDrawerData.lazyHeader().element,f=sf(u),m=rc(u),b=sf(m),S=Math.max(m.dom.scrollHeight,b.height);return Zo(f.x+i,b.y,f.width-i*2,S)},parts:{...s.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[c],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:u=>t.onToggled(u,!0),onClosed:u=>t.onToggled(u,!1)})},Az=t=>{const s=L0.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=L0.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),c=pF(t);return L0.sketch({...c,components:[s,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:u=>{u.getSystem().broadcastOn([D0()],{type:"opened"}),t.onToggled(u,!0)},onClosed:u=>{u.getSystem().broadcastOn([D0()],{type:"closed"}),t.onToggled(u,!1)}})},j0=t=>{const s=t.cyclicKeying?"cyclic":"acyclic";return Ac.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===ra.scrolling?["tox-toolbar--scrolling"]:[])},components:[Ac.parts.groups({})],toolbarBehaviours:mF(t,s)})},hF=[yu,aa,Ls("tooltip"),$r("buttonType","secondary",["primary","secondary"]),br("borderless",!1),uc("onAction"),fs("context","mode:design")],kz=[...hF,bu,Fr("type",["button"])],Oz=[...hF,br("active",!1),Fr("type",["togglebutton"])],T_={button:kz,togglebutton:Oz},Dz=[Fr("type",["group"]),qu("buttons",[],qs("type",T_))],Rz=qs("type",{...T_,group:Dz}),__=Wt([qu("buttons",[],Rz),uc("onShow"),uc("onHide")]),Nz=t=>qo("view",__,t),H0=(t,s)=>{var i,c;const u=t.type==="togglebutton",f=t.icon.map(de=>Su(de,s.icons)).map(Ln),b=de=>{const Ee=Re=>{f.map(gt=>gt.getOpt(de).each(rt=>{Xt.set(rt,[Su(Re,s.icons)])}))},_e=Re=>{const gt=de.element;Re?(ps(gt,"tox-button--enabled"),$t(gt,"aria-pressed",!0)):(Io(gt,"tox-button--enabled"),_o(gt,"aria-pressed"))},Ze=()=>Yr(de.element,"tox-button--enabled"),pt=()=>Ra(de.element);if(u)return t.onAction({setIcon:Ee,setActive:_e,isActive:Ze,focus:pt});if(t.type==="button")return t.onAction({setIcon:Ee})},S={...t,name:u?t.text.getOr(t.icon.getOr("")):(i=t.text)!==null&&i!==void 0?i:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:D.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},A=jT((c=t.buttonType)!==null&&c!==void 0?c:"secondary"),O=u?t.text.map(s.translate):D.some(s.translate(t.text)),M=O.map(Wo),L=S.tooltip.or(O).map(de=>({"aria-label":s.translate(de)})).getOr({}),z=f.map(de=>de.asSpec()),q=kd([z,M]),X=t.icon.isSome()&&M.isSome(),fe={tag:"button",classes:A.concat(...t.icon.isSome()&&!X?["tox-button--icon"]:[]).concat(...X?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:L},Z=[],ue=y0(S,D.some(b),Z,fe,q,t.tooltip,s);return ws.sketch(ue)},gF=(t,s)=>H0(t,s),bF=(t,s)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:We(t.buttons,i=>gF(i,s))}),yF=Ne().deviceType,Pz=yF.isPhone(),YK=yF.isTablet(),Mz=t=>{let s=!1;const i=We(t.buttons,c=>c.type==="group"?(s=!0,bF(c,t.providers)):gF(c,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[s?"tox-view__toolbar":"tox-view__header",...Pz||YK?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:qe([zt.config({}),Rt.config({mode:"flow",selector:"button, .tox-button",focusInside:fd.OnEnterOrSpaceMode})]),components:s?i:[il.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),il.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:i})]}},Iz=t=>({uid:t.uid,behaviours:qe([zt.config({}),Eo.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}}),A_=(t,s,i,c)=>{const u={getPane:f=>Rs.getPart(f,t,"pane"),getOnShow:f=>t.viewConfig.onShow,getOnHide:f=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:s,behaviours:qe([zt.config({}),Rt.config({mode:"cyclic",focusInside:fd.OnEnterOrSpaceMode})]),apis:u}};var kh=Rr({name:"silver.View",configFields:[Ie("viewConfig")],partFields:[na({factory:{sketch:Mz},schema:[Ie("buttons"),Ie("providers")],name:"header"}),na({factory:{sketch:Iz},schema:[],name:"pane"})],factory:A_,apis:{getPane:(t,s)=>t.getPane(s),getOnShow:(t,s)=>t.getOnShow(s),getOnHide:(t,s)=>t.getOnHide(s)}});const U0=(t,s,i)=>Ru(s,(c,u)=>{const f=Ve(Nz(c));return t.slot(u,kh.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:f,components:[...f.buttons.length>0?[kh.parts.header({buttons:f.buttons,providers:i})]:[],kh.parts.pane({})]}))}),vF=(t,s)=>Pr.sketch(i=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:U0(i,t,s),slotBehaviours:rh.unnamedEvents([ko(c=>Pr.hideAllSlots(c))])})),k_=t=>en(Pr.getSlotNames(t),s=>Pr.isShowing(t,s)),O_=t=>{const s=t.element;rn(s,"display","none"),$t(s,"aria-hidden","true")},Bz=t=>{const s=t.element;V(s,"display"),_o(s,"aria-hidden")},xF=t=>({getContainer:_(t)}),wm=(t,s,i)=>{Pr.getSlot(t,s).each(c=>{kh.getPane(c).each(u=>{i(c)(xF(u.element.dom))})})},CF=(t,s)=>wm(t,s,kh.getOnShow),Fz=(t,s)=>wm(t,s,kh.getOnHide);var z0=Ba({factory:(t,s)=>{const f={setViews:(m,b)=>{Xt.set(m,[vF(b,s.backstage.shared.providers)])},whichView:m=>_n.getCurrent(m).bind(k_),toggleView:(m,b,S,A)=>_n.getCurrent(m).exists(O=>{const M=k_(O),L=M.exists(q=>A===q),z=Pr.getSlot(O,A).isSome();return z&&(Pr.hideAllSlots(O),L?(O_(m),b()):(S(),Bz(m),Pr.showSlot(O,A),CF(O,A)),M.each(q=>Fz(O,q))),z})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:qe([Xt.config({}),_n.config({find:m=>{const b=Xt.contents(m);return Yt(b)}})]),apis:f}},name:"silver.ViewWrapper",configFields:[Ie("backstage")],apis:{setViews:(t,s,i)=>t.setViews(s,i),toggleView:(t,s,i,c,u)=>t.toggleView(s,i,c,u),whichView:(t,s)=>t.whichView(s)}});const D_=(t,s,i)=>{let c=!1;const u=m=>{Zq(m,".tox-statusbar").each(b=>{C(b,"display")==="none"&&an(b,"aria-hidden")==="true"?(V(b,"display"),_o(b,"aria-hidden")):(rn(b,"display","none"),$t(b,"aria-hidden","true"))})},f={getSocket:m=>Rs.getPart(m,t,"socket"),setSidebar:(m,b,S)=>{Rs.getPart(m,t,"sidebar").each(A=>h_(A,b,S))},toggleSidebar:(m,b)=>{Rs.getPart(m,t,"sidebar").each(S=>iz(S,b))},whichSidebar:m=>Rs.getPart(m,t,"sidebar").bind(az).getOrNull(),getHeader:m=>Rs.getPart(m,t,"header"),getToolbar:m=>Rs.getPart(m,t,"toolbar"),setToolbar:(m,b)=>{Rs.getPart(m,t,"toolbar").each(S=>{const A=We(b,$0);S.getApis().setGroups(S,A)})},setToolbars:(m,b)=>{Rs.getPart(m,t,"multiple-toolbar").each(S=>{const A=We(b,O=>We(O,$0));HB.setItems(S,A)})},refreshToolbar:m=>{Rs.getPart(m,t,"toolbar").each(S=>S.getApis().refresh(S))},toggleToolbarDrawer:m=>{Rs.getPart(m,t,"toolbar").each(b=>{xo(b.getApis().toggle,S=>S(b))})},toggleToolbarDrawerWithoutFocusing:m=>{Rs.getPart(m,t,"toolbar").each(b=>{xo(b.getApis().toggleWithoutFocusing,S=>S(b))})},isToolbarDrawerToggled:m=>Rs.getPart(m,t,"toolbar").bind(b=>D.from(b.getApis().isOpen).map(S=>S(b))).getOr(!1),getThrobber:m=>Rs.getPart(m,t,"throbber"),focusToolbar:m=>{Rs.getPart(m,t,"toolbar").orThunk(()=>Rs.getPart(m,t,"multiple-toolbar")).each(S=>{Rt.focusIn(S)})},setMenubar:(m,b)=>{Rs.getPart(m,t,"menubar").each(S=>{f_.setMenus(S,b)})},focusMenubar:m=>{Rs.getPart(m,t,"menubar").each(b=>{f_.focus(b)})},setViews:(m,b)=>{Rs.getPart(m,t,"viewWrapper").each(S=>{z0.setViews(S,b)})},toggleView:(m,b)=>Rs.getPart(m,t,"viewWrapper").exists(S=>z0.toggleView(S,()=>f.showMainView(m),()=>f.hideMainView(m),b)),whichView:m=>Rs.getPart(m,t,"viewWrapper").bind(z0.whichView).getOrNull(),hideMainView:m=>{c=f.isToolbarDrawerToggled(m),c&&f.toggleToolbarDrawer(m),Rs.getPart(m,t,"editorContainer").each(b=>{const S=b.element;u(S),rn(S,"display","none"),$t(S,"aria-hidden","true")})},showMainView:m=>{c&&f.toggleToolbarDrawer(m),Rs.getPart(m,t,"editorContainer").each(b=>{const S=b.element;u(S),V(S,"display"),_o(S,"aria-hidden")})}};return{uid:t.uid,dom:t.dom,components:s,apis:f,behaviours:t.behaviours}},Lz=Ka.optional({factory:f_,name:"menubar",schema:[Ie("backstage")]}),$z=t=>t.type===ra.sliding?Az:t.type===ra.floating?_z:j0,SF=Ka.optional({factory:{sketch:t=>HB.sketch({uid:t.uid,dom:t.dom,listBehaviours:qe([Rt.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>j0({type:t.type,uid:yt("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),D.some(!0))}),setupItem:(s,i,c,u)=>{Ac.setGroups(i,c)},shell:!0})},name:"multiple-toolbar",schema:[Ie("dom"),Ie("onEscape")]}),wF=Ka.optional({factory:{sketch:t=>{const s=$z(t),i={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),D.some(!0)),onToggled:(c,u)=>t.onToolbarToggled(u),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return s(i)}},name:"toolbar",schema:[Ie("dom"),Ie("onEscape"),Ie("getSink")]}),V0=Ka.optional({factory:{sketch:XU},name:"header",schema:[Ie("dom")]}),R_=Ka.optional({factory:{sketch:XB},name:"promotion",schema:[Ie("dom")]}),jz=Ka.optional({name:"socket",schema:[Ie("dom")]}),Hz=Ka.optional({factory:{sketch:zK},name:"sidebar",schema:[Ie("dom")]}),EF=Ka.optional({factory:{sketch:pz},name:"throbber",schema:[Ie("dom")]}),Uz=Ka.optional({factory:z0,name:"viewWrapper",schema:[Ie("backstage")]}),zz=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),Vz=Ka.optional({factory:{sketch:zz},name:"editorContainer",schema:[]});var lo=Rr({name:"OuterContainer",factory:D_,configFields:[Ie("dom"),Ie("behaviours")],partFields:[V0,Lz,wF,SF,jz,Hz,R_,EF,Uz,Vz],apis:{getSocket:(t,s)=>t.getSocket(s),setSidebar:(t,s,i,c)=>{t.setSidebar(s,i,c)},toggleSidebar:(t,s,i)=>{t.toggleSidebar(s,i)},whichSidebar:(t,s)=>t.whichSidebar(s),getHeader:(t,s)=>t.getHeader(s),getToolbar:(t,s)=>t.getToolbar(s),setToolbar:(t,s,i)=>{t.setToolbar(s,i)},setToolbars:(t,s,i)=>{t.setToolbars(s,i)},refreshToolbar:(t,s)=>t.refreshToolbar(s),toggleToolbarDrawer:(t,s)=>{t.toggleToolbarDrawer(s)},toggleToolbarDrawerWithoutFocusing:(t,s)=>{t.toggleToolbarDrawerWithoutFocusing(s)},isToolbarDrawerToggled:(t,s)=>t.isToolbarDrawerToggled(s),getThrobber:(t,s)=>t.getThrobber(s),setMenubar:(t,s,i)=>{t.setMenubar(s,i)},focusMenubar:(t,s)=>{t.focusMenubar(s)},focusToolbar:(t,s)=>{t.focusToolbar(s)},setViews:(t,s,i)=>{t.setViews(s,i)},toggleView:(t,s,i)=>t.toggleView(s,i),whichView:(t,s)=>t.whichView(s)}});const Wz="file edit view insert format tools table help",TF={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},N_=(t,s,i)=>{const c=mN(i).split(/[ ,]/);return{text:t.title,getItems:()=>De(t.items,u=>{const f=u.toLowerCase();return f.trim().length===0?[]:Ms(c,m=>m===f)?[]:f==="separator"||f==="|"?[{type:"separator"}]:s.menuItems[f]?[s.menuItems[f]]:[]})}},P_=t=>t.split(" "),_F=(t,s)=>{const i={...TF,...s.menus},c=Jo(s.menus).length>0,u=s.menubar===void 0||s.menubar===!0?P_(Wz):P_(s.menubar===!1?"":s.menubar),f=eo(u,b=>{const S=jn(TF,b);return c?S||at(s.menus,b).exists(A=>jn(A,"items")):S}),m=We(f,b=>{const S=i[b];return N_({title:S.title,items:P_(S.items)},s,t)});return eo(m,b=>{const S=A=>j(A)||A.type!=="separator";return b.getItems().length>0&&Ms(b.getItems(),S)})},AF=t=>{const s=()=>{t._skinLoaded=!0,LP(t)};return()=>{t.initialized?s():t.on("init",s)}},Gz=(t,s)=>()=>SH(t,{message:s}),M_=(t,s,i)=>(t.on("remove",()=>i.unload(s)),i.load(s)),I_=(t,s,i,c)=>(t.on("remove",()=>c.unloadRawCss(s)),c.loadRawCss(s,i)),kF=async(t,s)=>{const c="ui/"+K1(t).getOr("default")+"/skin.css",u=tinymce.Resource.get(c);if(j(u))I_(t,c,u,t.ui.styleSheetLoader);else{const f=t.editorManager.suffix,m=s+`/skin${f}.css`;return M_(t,m,t.ui.styleSheetLoader)}},qz=async(t,s)=>{if(ek(nt.fromDom(t.getElement()))){const u="ui/"+K1(t).getOr("default")+"/skin.shadowdom.css",f=tinymce.Resource.get(u);if(j(f))I_(t,u,f,bd.DOM.styleSheetLoader);else{const m=t.editorManager.suffix,b=s+`/skin.shadowdom${m}.css`;return M_(t,b,bd.DOM.styleSheetLoader)}}},Kz=async(t,s)=>{const i=()=>{const u=g2(s),f=s.editorManager.suffix;u&&s.contentCSS.push(u+(t?"/content.inline":"/content")+`${f}.css`)};K1(s).fold(i,u=>{const f="ui/"+u+(t?"/content.inline":"/content")+".css",m=tinymce.Resource.get(f);j(m)?I_(s,f,m,s.ui.styleSheetLoader):i()});const c=g2(s);if(!h2(s)&&j(c))return Promise.all([kF(s,c),qz(s,c)]).then()},OF=(t,s)=>Kz(t,s).then(AF(s),Gz(s,"Skin could not be loaded")),DF=Qn(OF,!1),Yz=Qn(OF,!0),Oh=(t,s,i)=>oc(i)?t.translate(s):t.translate([s,t.translate(i)]),Xz=(t,s)=>{const i=(m,b,S,A)=>{const O=t.shared.providers.translate(m.title);if(m.type==="separator")return D.some({type:"separator",text:O});if(m.type==="submenu"){const M=De(m.getStyleItems(),L=>c(L,b,A));return b===0&&M.length<=0?D.none():D.some({type:"nestedmenuitem",text:O,enabled:M.length>0,getSubmenuItems:()=>De(m.getStyleItems(),L=>c(L,b,A))})}else return D.some({type:"togglemenuitem",text:O,icon:m.icon,active:m.isSelected(A),enabled:!S,onAction:s.onAction(m),...m.getStylePreview().fold(()=>({}),M=>({meta:{style:M}}))})},c=(m,b,S)=>{const A=m.type==="formatter"&&s.isInvalid(m);return b===0?A?[]:i(m,b,!1,S).toArray():i(m,b,A,S).toArray()},u=m=>{const b=s.getCurrentValue(),S=s.shouldHide?0:1;return De(m,A=>c(A,S,b))};return{validateItems:u,getFetch:(m,b)=>(S,A)=>{const O=b(),M=u(O),L=xh(M,Cc.CLOSE_ON_EXECUTE,m,{isHorizontalMenu:!1,search:D.none()});A(L)}}},Fd=(t,s)=>{const i=s.dataset,c=i.type==="basic"?()=>We(i.data,u=>AB(u,s.isSelectedFor,s.getPreviewFor)):i.getData;return{items:Xz(t,s),getStyleItems:c}},Em=(t,s,i,c,u,f)=>{const{items:m,getStyleItems:b}=Fd(s,i),S=Pt(i.tooltip),A=M=>({getComponent:_(M),setTooltip:L=>{const z=s.shared.providers.translate(L);$t(M.element,"aria-label",z),S.set(L)}}),O=M=>{const L=z=>M.setTooltip(Oh(t,c(z.value),z.value));return t.on(u,L),Rx(cm(t,"NodeChange",z=>{const q=z.getComponent();i.updateText(q),Ut.set(z.getComponent(),!t.selection.isEditable())})(M),()=>t.off(u,L))};return l0({context:"mode:design",text:i.icon.isSome()?D.none():i.text,icon:i.icon,ariaLabel:D.some(i.tooltip),tooltip:D.none(),role:D.none(),fetch:m.getFetch(s,b),onSetup:O,getApi:A,columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Ko.config({...s.shared.providers.tooltips.getConfig({tooltipText:s.shared.providers.translate(i.tooltip),onShow:M=>{if(i.tooltip!==S.get()){const L=s.shared.providers.translate(S.get());Ko.setComponents(M,s.shared.providers.tooltips.getComponents({tooltipText:L}))}}})})]},"tox-tbtn",s.shared,f)},Jz=t=>We(t,s=>{let i=s,c=s;const u=s.split("=");return u.length>1&&(i=u[0],c=u[1]),{title:i,format:c}}),Zz=t=>({type:"basic",data:t});var Dh;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(Dh||(Dh={}));const Qz=(t,s)=>s===Dh.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),B_=(t,s,i)=>{const c=t.options.get(s);return{type:"basic",data:Jz(Qz(c,i))}},eV="Align",RF=_("Alignment {0}"),NF="left",F_=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],L_=t=>{const s=()=>en(F_,b=>t.formatter.match(b.format)),i=b=>()=>t.formatter.match(b),c=b=>D.none,u=b=>{const A=s().fold(_(NF),O=>O.title.toLowerCase());Et(b,Md,{icon:`align-${A}`}),AH(t,{value:A})},f=Zz(F_),m=b=>()=>en(F_,S=>S.format===b.format).each(S=>t.execCommand(S.command));return{tooltip:Oh(t,RF(),NF),text:D.none(),icon:D.some("align-left"),isSelectedFor:i,getCurrentValue:D.none,getPreviewFor:c,onAction:m,updateText:u,dataset:f,shouldHide:!1,isInvalid:b=>!t.formatter.canApply(b.format)}},W0=(t,s)=>Em(t,s,L_(t),RF,"AlignTextUpdate","align"),$_=(t,s)=>{const i=Fd(s,L_(t));t.ui.registry.addNestedMenuItem("align",{text:s.shared.providers.translate(eV),onSetup:Nr(t),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},j_=(t,s)=>{const i=s(),c=We(i,u=>u.format);return D.from(t.formatter.closest(c)).bind(u=>en(i,f=>f.format===u))},Ld="Blocks",H_=_("Block {0}"),U_="Paragraph",PF=t=>{const s=f=>()=>t.formatter.match(f),i=f=>()=>{const m=t.formatter.get(f);return m?D.some({tag:m.length>0&&(m[0].inline||m[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(f))}):D.none()},c=f=>{const b=j_(t,()=>u.data).fold(_(U_),S=>S.title);Et(f,Wa,{text:b}),DH(t,{value:b})},u=B_(t,"block_formats",Dh.SemiColon);return{tooltip:Oh(t,H_(),U_),text:D.some(U_),icon:D.none(),isSelectedFor:s,getCurrentValue:D.none,getPreviewFor:i,onAction:zP(t),updateText:c,dataset:u,shouldHide:!1,isInvalid:f=>!t.formatter.canApply(f.format)}},tV=(t,s)=>Em(t,s,PF(t),H_,"BlocksTextUpdate","blocks"),nV=(t,s)=>{const i=Fd(s,PF(t));t.ui.registry.addNestedMenuItem("blocks",{text:Ld,onSetup:Nr(t),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},oV="Fonts",MF=_("Font {0}"),z_="System Font",IF=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],BF=t=>{const s=t.split(/\s*,\s*/);return We(s,i=>i.replace(/^['"]+|['"]+$/g,""))},FF=(t,s)=>s.length>0&&qr(s,i=>t.indexOf(i.toLowerCase())>-1),V_=(t,s)=>{if(t.indexOf("-apple-system")===0||s.length>0){const i=BF(t.toLowerCase());return FF(i,IF)||FF(i,s)}else return!1},LF=t=>{const s=()=>{const S=q=>q?BF(q)[0]:"",A=t.queryCommandValue("FontName"),O=b.data,M=A?A.toLowerCase():"",L=pb(t);return{matchOpt:en(O,q=>{const X=q.format;return X.toLowerCase()===M||S(X).toLowerCase()===S(M).toLowerCase()}).orThunk(()=>Lt(V_(M,L),{title:z_,format:M})),font:A}},i=S=>A=>A.exists(O=>O.format===S),c=()=>{const{matchOpt:S}=s();return S},u=S=>()=>D.some({tag:"div",styles:S.indexOf("dings")===-1?{"font-family":S}:{}}),f=S=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,S.format)})},m=S=>{const{matchOpt:A,font:O}=s(),M=A.fold(_(O),L=>L.title);Et(S,Wa,{text:M}),yE(t,{value:M})},b=B_(t,"font_family_formats",Dh.SemiColon);return{tooltip:Oh(t,MF(),z_),text:D.some(z_),icon:D.none(),isSelectedFor:i,getCurrentValue:c,getPreviewFor:u,onAction:f,updateText:m,dataset:b,shouldHide:!1,isInvalid:ln}},sV=(t,s)=>Em(t,s,LF(t),MF,"FontFamilyTextUpdate","fontfamily"),rV=(t,s)=>{const i=Fd(s,LF(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:s.shared.providers.translate(oV),onSetup:Nr(t),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},iV={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},aV=(()=>{const t="[0-9]+",i="[eE]"+("[+-]?"+t),c="\\.",u=b=>`(?:${b})?`,m=`[+-]?(?:${["Infinity",t+c+u(t)+u(i),c+t+u(i),t+u(i)].join("|")})`;return new RegExp(`^(${m})(.*)$`)})(),cV=(t,s)=>Ms(s,i=>Ms(iV[i],c=>t===c)),_y=(t,s)=>D.from(aV.exec(t)).bind(c=>{const u=Number(c[1]),f=c[2];return cV(f,s)?D.some({value:u,unit:f}):D.none()}),$F=(t,s)=>_y(t,s).map(({value:i,unit:c})=>i+c),W_={tab:_(9),escape:_(27),enter:_(13),backspace:_(8),delete:_(46),left:_(37),up:_(38),right:_(39),down:_(40),space:_(32),home:_(36),end:_(35),pageUp:_(33),pageDown:_(34)},lV=(t,s,i,c)=>{let u=D.none();const f=de=>de.map(Ee=>ft.getValue(Ee)).getOr(""),m=cm(t,"NodeChange SwitchMode",de=>{const Ee=de.getComponent();u=D.some(Ee),i.updateInputValue(Ee),Ut.set(Ee,!t.selection.isEditable())}),b=de=>({getComponent:_(de)}),S=Pt(te),A=yt("custom-number-input-events"),O=(de,Ee,_e)=>{const Ze=f(u),pt=i.getNewValue(Ze,de),Re=Ze.length-`${pt}`.length,gt=u.map(xt=>xt.element.dom.selectionStart-Re),rt=u.map(xt=>xt.element.dom.selectionEnd-Re);i.onAction(pt,_e),u.each(xt=>{ft.setValue(xt,pt),Ee&&(gt.each(yn=>xt.element.dom.selectionStart=yn),rt.each(yn=>xt.element.dom.selectionEnd=yn))})},M=(de,Ee)=>O((_e,Ze)=>_e-Ze,de,Ee),L=(de,Ee)=>O((_e,Ze)=>_e+Ze,de,Ee),z=de=>Sa(de.element).fold(D.none,Ee=>(Ra(Ee),D.some(!0))),q=de=>Rp(de.element)?(Jm(de.element).each(Ee=>Ra(Ee)),D.some(!0)):D.none(),X=(de,Ee,_e,Ze)=>{const pt=Pt(te),Re=s.shared.providers.translate(_e),gt=yt("altExecuting"),rt=cm(t,"NodeChange SwitchMode",yn=>{Ut.set(yn.getComponent(),!t.selection.isEditable())}),xt=yn=>{Ut.isDisabled(yn)||de(!0)};return ws.sketch({dom:{tag:"button",attributes:{"aria-label":Re,"data-mce-name":Ee},classes:Ze.concat(Ee)},components:[wT(Ee,s.shared.providers.icons)],buttonBehaviours:qe([Ut.config({}),Ko.config(s.shared.providers.tooltips.getConfig({tooltipText:Re})),sn(gt,[_d({onSetup:rt,getApi:b},pt),Ad({getApi:b},pt),Me(ka(),(yn,ho)=>{(ho.event.raw.keyCode===W_.space()||ho.event.raw.keyCode===W_.enter())&&(Ut.isDisabled(yn)||de(!1))}),Me(df(),xt),Me(pp(),xt)])]),eventOrder:{[ka()]:[gt,"keying"],[df()]:[gt,"alloy.base.behaviour"],[pp()]:[gt,"alloy.base.behaviour"],[Oa()]:["alloy.base.behaviour",gt,"tooltipping"],[iu()]:[gt,"tooltipping"]}})},fe=Ln(X(de=>M(!1,de),"minus","Decrease font size",[])),Z=Ln(X(de=>L(!1,de),"plus","Increase font size",[])),ue=Ln({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[nl.sketch({inputBehaviours:qe([Ut.config({}),sn(A,[_d({onSetup:m,getApi:b},S),Ad({getApi:b},S)]),sn("input-update-display-text",[Me(Wa,(de,Ee)=>{ft.setValue(de,Ee.event.text)}),Me(xk(),de=>{i.onAction(ft.getValue(de))}),Me(ru(),de=>{i.onAction(ft.getValue(de))})]),Rt.config({mode:"special",onEnter:de=>(O(At,!0,!0),D.some(!0)),onEscape:z,onUp:de=>(L(!0,!1),D.some(!0)),onDown:de=>(M(!0,!1),D.some(!0)),onLeft:(de,Ee)=>(Ee.cut(),D.none()),onRight:(de,Ee)=>(Ee.cut(),D.none())})])})],behaviours:qe([zt.config({}),Rt.config({mode:"special",onEnter:q,onSpace:q,onEscape:z}),sn("input-wrapper-events",[Me(El(),de=>{ht([fe,Z],Ee=>{const _e=nt.fromDom(Ee.get(de).element.dom);Rp(_e)&&Dg(_e)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...ae(c)?{"data-mce-name":c}:{}}},components:[fe.asSpec(),ue.asSpec(),Z.asSpec()],behaviours:qe([zt.config({}),Rt.config({mode:"flow",focusInside:fd.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:de=>Rp(de.element)?D.none():(Ra(de.element),D.some(!0))})])}},jF="Font sizes",HF=_("Font size {0}"),UF="12pt",uV={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},zF={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},dV=(t,s)=>{const i=Math.pow(10,s);return Math.round(t*i)/i},VF=(t,s)=>/[0-9.]+px$/.test(t)?dV(parseInt(t,10)*72/96,s||0)+"pt":at(zF,t).getOr(t),fV=t=>at(uV,t).getOr(""),WF=t=>{const s=()=>{let S=D.none();const A=b.data,O=t.queryCommandValue("FontSize");if(O)for(let M=3;S.isNone()&&M>=0;M--){const L=VF(O,M),z=fV(L);S=en(A,q=>q.format===O||q.format===L||q.format===z)}return{matchOpt:S,size:O}},i=S=>A=>A.exists(O=>O.format===S),c=()=>{const{matchOpt:S}=s();return S},u=_(D.none),f=S=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,S.format)})},m=S=>{const{matchOpt:A,size:O}=s(),M=A.fold(_(O),L=>L.title);Et(S,Wa,{text:M}),kH(t,{value:M})},b=B_(t,"font_size_formats",Dh.Space);return{tooltip:Oh(t,HF(),UF),text:D.some(UF),icon:D.none(),isSelectedFor:i,getPreviewFor:u,getCurrentValue:c,onAction:f,updateText:m,dataset:b,shouldHide:!1,isInvalid:ln}},mV=(t,s)=>Em(t,s,WF(t),HF,"FontSizeTextUpdate","fontsize"),pV=t=>{var s;const i={step:1};return(s={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&s!==void 0?s:i},hV=16,gV=t=>t>=0,bV=t=>{const s=()=>t.queryCommandValue("FontSize");return{updateInputValue:c=>Et(c,Wa,{text:s()}),onAction:(c,u)=>t.execCommand("FontSize",!1,c,{skip_focus:!u}),getNewValue:(c,u)=>{_y(c,["unsupportedLength","empty"]);const f=s(),m=_y(c,["unsupportedLength","empty"]).or(_y(f,["unsupportedLength","empty"])),b=m.map(L=>L.value).getOr(hV),S=bN(t),A=m.map(L=>L.unit).filter(L=>L!=="").getOr(S),O=u(b,pV(A).step),M=`${gV(O)?O:b}${A}`;return M!==f&&OH(t,{value:M}),M}}},GF=(t,s)=>lV(t,s,bV(t),"fontsizeinput"),yV=(t,s)=>{const i=Fd(s,WF(t));t.ui.registry.addNestedMenuItem("fontsize",{text:jF,onSetup:Nr(t),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})},vV="Formats",qF=t=>oc(t)?"Formats":"Format {0}",KF=(t,s)=>{const i="Formats",c=m=>()=>t.formatter.match(m),u=m=>()=>{const b=t.formatter.get(m);return b!==void 0?D.some({tag:b.length>0&&(b[0].inline||b[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(m))}):D.none()},f=m=>{const b=M=>S0(M)?De(M.items,b):t_(M)?[{title:M.title,format:M.format}]:[],S=De(_B(t),b),O=j_(t,_(S)).fold(_({title:i,tooltipLabel:""}),M=>({title:M.title,tooltipLabel:M.title}));Et(m,Wa,{text:O.title}),_H(t,{value:O.tooltipLabel})};return{tooltip:Oh(t,qF(""),""),text:D.some(i),icon:D.none(),isSelectedFor:c,getCurrentValue:D.none,getPreviewFor:u,onAction:zP(t),updateText:f,shouldHide:dN(t),isInvalid:m=>!t.formatter.canApply(m.format),dataset:s}},xV=(t,s)=>{const i={type:"advanced",...s.styles};return Em(t,s,KF(t,i),qF,"StylesTextUpdate","styles")},CV=(t,s)=>{const i={type:"advanced",...s.styles},c=Fd(s,KF(t,i));t.ui.registry.addNestedMenuItem("styles",{text:vV,onSetup:Nr(t),getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})},SV=_([Ie("toggleClass"),Ie("fetch"),Tf("onExecute"),ge("getHotspot",D.some),ge("getAnchorOverrides",_({})),rd(),Tf("onItemExecute"),Hn("lazySink"),Ie("dom"),kn("onOpen"),tr("splitDropdownBehaviours",[es,Rt,zt]),ge("matchWidth",!1),ge("useMinWidth",!1),ge("eventOrder",{}),Hn("role"),Hn("listRole")].concat(Fx())),YF=Dr({factory:ws,schema:[Ie("dom")],name:"arrow",defaults:()=>({buttonBehaviours:qe([zt.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(Xu)},buttonBehaviours:qe([un.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),wV=Dr({factory:ws,schema:[Ie("dom")],name:"button",defaults:()=>({buttonBehaviours:qe([zt.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:s=>{s.getSystem().getByUid(t.uid).each(i=>{t.onExecute(i,s)})}})}),EV=_([YF,wV,na({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[Ie("text")],name:"aria-descriptor"}),Ia({schema:[Op()],name:"menu",defaults:t=>({onExecute:(s,i)=>{s.getSystem().getByUid(t.uid).each(c=>{t.onItemExecute(c,s,i)})}})}),gM()]),XF=(t,s,i,c)=>{const u=O=>{_n.getCurrent(O).each(M=>{zn.highlightFirst(M),Rt.focusIn(M)})},f=O=>{AE(t,At,O,c,u,Zr.HighlightMenuAndItem).get(te)},m=O=>(f(O),D.some(!0)),b=O=>{const M=dt(O,t,"button");return Xu(M),D.some(!0)},S={...no([ko((O,M)=>{fo(O,t,"aria-descriptor").each(z=>{const q=yt("aria");$t(z.element,"id",q),$t(O.element,"aria-describedby",q)})})]),...db(D.some(f))},A={repositionMenus:O=>{un.isOn(O)&&DE(O)}};return{uid:t.uid,dom:t.dom,components:s,apis:A,eventOrder:{...t.eventOrder,[pi()]:["disabling","toggling","alloy.base.behaviour"]},events:S,behaviours:nr(t.splitDropdownBehaviours,[es.config({others:{sandbox:O=>{const M=dt(O,t,"arrow");return OE(t,O,{onOpen:()=>{un.on(M),un.on(O)},onClose:()=>{un.off(M),un.off(O)}})}}}),Rt.config({mode:"special",onSpace:b,onEnter:b,onDown:m}),zt.config({}),un.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},G0=Rr({name:"SplitDropdown",configFields:SV(),partFields:EV(),factory:XF,apis:{repositionMenus:(t,s)=>t.repositionMenus(s)}}),G_=t=>({isEnabled:()=>!Ut.isDisabled(t),setEnabled:s=>Ut.set(t,!s),setText:s=>Et(t,Wa,{text:s}),setIcon:s=>Et(t,Md,{icon:s})}),JF=t=>({setActive:s=>{un.set(t,s)},isActive:()=>un.isOn(t),isEnabled:()=>!Ut.isDisabled(t),setEnabled:s=>Ut.set(t,!s),setText:s=>Et(t,Wa,{text:s}),setIcon:s=>Et(t,Md,{icon:s})}),ZF=(t,s)=>t.map(i=>({"aria-label":s.translate(i)})).getOr({}),QF=yt("focus-button"),q_=(t,s,i,c,u,f,m)=>{const b=s.map(A=>Ln(ET(A,"tox-tbtn",u))),S=t.map(A=>Ln(Su(A,u.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(s.isSome()?["tox-tbtn--select"]:[]),attributes:{...ZF(i,u),...ae(m)?{"data-mce-name":m}:{}}},components:kd([S.map(A=>A.asSpec()),b.map(A=>A.asSpec())]),eventOrder:{[Ji()]:["focusing","alloy.base.behaviour",vm],[Oa()]:[vm,"toolbar-group-button-events"]},buttonBehaviours:qe([ca.toolbarButton(()=>u.checkUiComponentContext(f).shouldDisable),os(()=>u.checkUiComponentContext(f)),sn(vm,[ko((A,O)=>c0(A)),Me(Wa,(A,O)=>{b.bind(M=>M.getOpt(A)).each(M=>{Xt.set(M,[Wo(u.translate(O.event.text))])})}),Me(Md,(A,O)=>{S.bind(M=>M.getOpt(A)).each(M=>{Xt.set(M,[Su(O.event.icon,u.icons)])})}),Me(Ji(),(A,O)=>{O.event.prevent(),Sn(A,QF)})])].concat(c.getOr([])))}},Rh=(t,s,i,c,u)=>{const f=s.shared,m=Pt(te),b={toolbarButtonBehaviours:[],getApi:G_,onSetup:t.onSetup},S=[sn("toolbar-group-button-events",[_d(b,m),Ad(b,m)])];return Bd.sketch({lazySink:f.getSink,fetch:()=>wr.nu(A=>{A(We(i(t.items),$0))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:q_(t.icon,t.text,t.tooltip,D.some(S),f.providers,t.context,u),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:c}}}})},eL=(t,s,i,c)=>{var u;const f=Pt(te),m=q_(t.icon,t.text,t.tooltip,D.none(),i,t.context,c);return ws.sketch({dom:m.dom,components:m.components,eventOrder:DI,buttonBehaviours:{...qe([sn("toolbar-button-events",[OI({onAction:t.onAction,getApi:s.getApi}),_d(s,f),Ad(s,f)]),...t.tooltip.map(b=>Ko.config(i.tooltips.getConfig({tooltipText:i.translate(b)+t.shortcut.map(S=>` (${rE(S)})`).getOr("")}))).toArray(),ca.toolbarButton(()=>!t.enabled||i.checkUiComponentContext(t.context).shouldDisable),os(()=>i.checkUiComponentContext(t.context))].concat(s.toolbarButtonBehaviours)),[vm]:(u=m.buttonBehaviours)===null||u===void 0?void 0:u[vm]}})},TV=(t,s,i)=>tL(t,s,[],i),tL=(t,s,i,c)=>eL(t,{toolbarButtonBehaviours:i.length>0?[sn("toolbarButtonWith",i)]:[],getApi:G_,onSetup:t.onSetup},s,c),_V=(t,s,i)=>nL(t,s,[],i),nL=(t,s,i,c)=>eL(t,{toolbarButtonBehaviours:[Xt.config({}),un.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[sn("toolbarToggleButtonWith",i)]:[]),getApi:JF,onSetup:t.onSetup},s,c),AV=(t,s,i)=>c=>wr.nu(u=>s.fetch(u)).map(u=>D.from(ch(Qo(wE(yt("menu-value"),u,f=>{s.onItemAction(t(c),f)},s.columns,s.presets,Cc.CLOSE_ON_EXECUTE,s.select.getOr(ln),i),{movement:Ix(s.columns,s.presets),menuBehaviours:rh.unnamedEvents(s.columns!=="auto"?[]:[ko((f,m)=>{oE(f,4,JN(s.presets)).each(({numRows:b,numColumns:S})=>{Rt.setGridSize(f,b,S)})})])})))),kV=(t,s,i)=>{const c=Pt(t.tooltip.getOr("")),u=b=>({isEnabled:()=>!Ut.isDisabled(b),setEnabled:S=>Ut.set(b,!S),setIconFill:(S,A)=>{Bo(b.element,`svg path[class="${S}"], rect[class="${S}"]`).each(O=>{$t(O,"fill",A)})},setActive:S=>{$t(b.element,"aria-pressed",S),Bo(b.element,"span").each(A=>{b.getSystem().getByDom(A).each(O=>un.set(O,S))})},isActive:()=>Bo(b.element,"span").exists(S=>b.getSystem().getByDom(S).exists(un.isOn)),setText:S=>Bo(b.element,"span").each(A=>b.getSystem().getByDom(A).each(O=>Et(O,Wa,{text:S}))),setIcon:S=>Bo(b.element,"span").each(A=>b.getSystem().getByDom(A).each(O=>Et(O,Md,{icon:S}))),setTooltip:S=>{const A=s.providers.translate(S);$t(b.element,"aria-label",A),c.set(S)}}),f=Pt(te),m={getApi:u,onSetup:t.onSetup};return G0.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...ZF(t.tooltip,s.providers),...ae(i)?{"data-mce-name":i}:{}}},onExecute:b=>{const S=u(b);S.isEnabled()&&t.onAction(S)},onItemExecute:(b,S,A)=>{},splitDropdownBehaviours:qe([sn("split-dropdown-events",[ko((b,S)=>c0(b)),Me(QF,zt.focus),_d(m,f),Ad(m,f)]),ca.splitButton(()=>s.providers.isDisabled()||s.providers.checkUiComponentContext(t.context).shouldDisable),os(()=>s.providers.checkUiComponentContext(t.context)),ph.config({}),...t.tooltip.map(b=>Ko.config({...s.providers.tooltips.getConfig({tooltipText:s.providers.translate(b),onShow:S=>{if(c.get()!==b){const A=s.providers.translate(c.get());Ko.setComponents(S,s.providers.tooltips.getComponents({tooltipText:A}))}}})})).toArray()]),eventOrder:{[Oa()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[iu()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:s.getSink,fetch:AV(u,t,s.providers),parts:{menu:Ob(!1,t.columns,t.presets)},components:[G0.parts.button(q_(t.icon,t.text,D.none(),D.some([un.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1}),ca.toolbarButton(ln),os(_({contextType:"any",shouldDisable:!1}))]),s.providers,t.context)),G0.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:M2("chevron-down",s.providers.icons)},buttonBehaviours:qe([ca.splitButton(ln),os(_({contextType:"any",shouldDisable:!1}))])}),G0.parts["aria-descriptor"]({text:s.providers.translate("To open the popup, press Shift+Enter")})]})},OV=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Tm=(t,s)=>(i,c,u,f)=>{const m=t(i).mapError(b=>cp(b)).getOrDie();return s(m,c,u,f)},DV={button:Tm(Nb,(t,s,i,c)=>TV(t,s.shared.providers,c)),togglebutton:Tm(Mb,(t,s,i,c)=>_V(t,s.shared.providers,c)),menubutton:Tm(KB,(t,s,i,c)=>Cm(t,"tox-tbtn",s,D.none(),!1,c)),splitbutton:Tm(QU,(t,s,i,c)=>kV(t,s.shared,c)),grouptoolbarbutton:Tm(JU,(t,s,i,c)=>{const u=i.ui.registry.getAll().buttons,f=b=>q0(i,{buttons:u,toolbar:b,allowToolbarGroups:!1},s,D.none()),m={[$S]:s.shared.header.isPositionedAtTop()?du.TopToBottom:du.BottomToTop};switch(yd(i)){case ra.floating:return Rh(t,s,f,m,c);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},RV=(t,s,i,c)=>at(DV,t.type).fold(()=>(console.error("skipping button defined by",t),D.none()),u=>D.some(u(t,s,i,c))),K_={styles:xV,fontsize:mV,fontsizeinput:GF,fontfamily:sV,blocks:tV,align:W0},oL=t=>{const s=We(OV,i=>{const c=eo(i.items,u=>jn(t,u)||jn(K_,u));return{name:i.name,items:c}});return eo(s,i=>i.items.length>0)},NV=t=>{const s=t.split("|");return We(s,i=>({items:i.trim().split(" ")}))},PV=t=>Qe(t,s=>jn(s,"name")&&jn(s,"items")),MV=t=>{const s=t.toolbar,i=t.buttons;return s===!1?[]:s===void 0||s===!0?oL(i):j(s)?NV(s):PV(s)?s:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},IV=(t,s,i,c,u,f)=>at(s,i.toLowerCase()).orThunk(()=>f.bind(m=>or(m,b=>at(s,b+i.toLowerCase())))).fold(()=>at(K_,i.toLowerCase()).map(m=>m(t,u)),m=>m.type==="grouptoolbarbutton"&&!c?(console.warn(`Ignoring the '${i}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),D.none()):RV(m,u,t,i.toLowerCase())),q0=(t,s,i,c)=>{const u=MV(s),f=We(u,m=>{const b=De(m.items,S=>S.trim().length===0?[]:IV(t,s.buttons,S,s.allowToolbarGroups,i,c).toArray());return{title:D.from(t.translate(m.name)),items:b}});return eo(f,m=>m.items.length>0)},sL=(t,s,i,c)=>{const u=s.mainUi.outerContainer,f=i.toolbar,m=i.buttons;if(Qe(f,j)){const b=f.map(S=>{const A={toolbar:S,buttons:m,allowToolbarGroups:i.allowToolbarGroups};return q0(t,A,c,D.none())});lo.setToolbars(u,b)}else lo.setToolbar(u,q0(t,i,c,D.none()))},Y_=Ne(),BV=Y_.os.isiOS()&&Y_.os.version.major<=12,FV=(t,s)=>{const{uiMotherships:i}=s,c=t.dom;let u=t.getWin();const f=t.getDoc().documentElement,m=Pt(Ht(u.innerWidth,u.innerHeight)),b=Pt(Ht(f.offsetWidth,f.offsetHeight)),S=()=>{const L=m.get();(L.left!==u.innerWidth||L.top!==u.innerHeight)&&(m.set(Ht(u.innerWidth,u.innerHeight)),bE(t))},A=()=>{const L=t.getDoc().documentElement,z=b.get();(z.left!==L.offsetWidth||z.top!==L.offsetHeight)&&(b.set(Ht(L.offsetWidth,L.offsetHeight)),bE(t))},O=L=>{EH(t,L)};c.bind(u,"resize",S),c.bind(u,"scroll",O);const M=BS(nt.fromDom(t.getBody()),"load",A);t.on("hide",()=>{ht(i,L=>{rn(L.element,"display","none")})}),t.on("show",()=>{ht(i,L=>{V(L.element,"display")})}),t.on("NodeChange",A),t.on("remove",()=>{M.unbind(),c.unbind(u,"resize",S),c.unbind(u,"scroll",O),u=null})},LV=(t,s,i)=>{gu(t)&&ow(i.mainUi.mothership.element,i.popupUi.mothership),Mi(s,i.dialogUi.mothership)};var K0=Object.freeze({__proto__:null,render:(t,s,i,c,u)=>{const{mainUi:f,uiMotherships:m}=s,b=Pt(0),S=f.outerContainer;DF(t);const A=nt.fromDom(u.targetNode),O=tu(gr(A));ow(A,f.mothership),LV(t,O,s),t.on("PostRender",()=>{lo.setSidebar(S,i.sidebar,p2(t))}),t.on("SkinLoaded",()=>{sL(t,s,i,c),b.set(t.getWin().innerWidth),lo.setMenubar(S,_F(t,i)),lo.setViews(S,i.views),FV(t,s)});const M=lo.getSocket(S).getOrDie("Could not find expected socket element");if(BV){Fu(M.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const X=K9(()=>{t.dispatch("ScrollContent")},20),fe=Xr(M.element,"scroll",X.throttle);t.on("remove",fe.unbind)}TP(t,s),t.addCommand("ToggleSidebar",(X,fe)=>{lo.toggleSidebar(S,fe),HP(t)}),t.addQueryValueHandler("ToggleSidebar",()=>{var X;return(X=lo.whichSidebar(S))!==null&&X!==void 0?X:""}),t.addCommand("ToggleView",(X,fe)=>{if(lo.toggleView(S,fe)){const Z=S.element;f.mothership.broadcastOn([cd()],{target:Z}),ht(m,ue=>{ue.broadcastOn([cd()],{target:Z})}),re(lo.whichView(S))&&(t.focus(),t.nodeChanged(),lo.refreshToolbar(S)),UP(t)}}),t.addQueryValueHandler("ToggleView",()=>{var X;return(X=lo.whichView(S))!==null&&X!==void 0?X:""});const L=yd(t),z=()=>{lo.refreshToolbar(s.mainUi.outerContainer)};(L===ra.sliding||L===ra.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const X=t.getWin().innerWidth;X!==b.get()&&(z(),b.set(X))});const q={setEnabled:X=>{$b(s,X?"setEnabled":"setDisabled")},isEnabled:()=>!Ut.isDisabled(S)};return{iframeContainer:M.element.dom,editorContainer:S.element.dom,api:q}}});const rL=t=>/^[0-9\.]+(|px)$/i.test(""+t)?D.some(parseInt(""+t,10)):D.none(),Nh=t=>Ae(t)?t+"px":t,_m=(t,s,i)=>{const c=s.filter(f=>t<f),u=i.filter(f=>t>f);return c.or(u).getOr(t)},iL=t=>{const s=s2(t),i=Yf(t),c=H1(t);return rL(s).map(u=>_m(u,i,c))},$V=t=>iL(t).getOr(s2(t)),aL=t=>{const s=mb(t),i=r2(t),c=Xf(t);return rL(s).map(u=>_m(u,i,c))},jV=t=>aL(t).getOr(mb(t)),{ToolbarLocation:X_,ToolbarMode:cL}=u6,Y0=40,lL=(t,s,i,c,u)=>{const{mainUi:f,uiMotherships:m}=i,b=bd.DOM,S=vc(t),A=vd(t),O=Xf(t).or(aL(t)),M=c.shared.header,L=M.isPositionedAtTop,z=150,q=yd(t),X=q===cL.sliding||q===cL.floating,fe=Pt(!1),Z=()=>fe.get()&&!t.removed,ue=St=>X?St.fold(_(0),ze=>ze.components().length>1?Be(ze.components()[1].element):0):0,de=St=>{switch(U1(t)){case X_.auto:const ze=lo.getToolbar(f.outerContainer),st=ue(ze),Gt=Be(St.element)-st,cn=is(s);if(cn.y>Gt)return"top";{const Qt=rc(s),ro=Math.max(Qt.dom.scrollHeight,Be(Qt));return cn.bottom<ro-Gt||Vs().bottom<cn.bottom-Gt?"bottom":"top"}case X_.bottom:return"bottom";case X_.top:default:return"top"}},Ee=St=>{u.on(ze=>{wo.setModes(ze,[St]),M.setDockingMode(St);const st=L()?du.TopToBottom:du.BottomToTop;$t(ze.element,$S,st)})},_e=()=>{u.on(St=>{const ze=O.getOrThunk(()=>ig().width-vs(s).left-10);rn(St.element,"max-width",ze+"px")})},Ze=(St,ze)=>{u.on(st=>{const Gt=lo.getToolbar(f.outerContainer),cn=ue(Gt),Dt=is(s),Qt=pt(t,f.outerContainer.element),ro=()=>Qt.fold(()=>Dt.x,_r=>{const ha=is(_r);return Yn(_r,Ea())?Dt.x:Dt.x-ha.x}),Jn=()=>Qt.fold(()=>L()?Math.max(Dt.y-Be(st.element)+cn,0):Dt.bottom,_r=>{var ha;const ga=is(_r),Oc=(ha=_r.dom.scrollTop)!==null&&ha!==void 0?ha:0,ql=Yn(_r,Ea())?Math.max(Dt.y-Be(st.element)+cn,0):Dt.y-ga.y+Oc-Be(st.element)+cn;return L()?ql:Dt.bottom}),Ci=ro(),$o=Lt(St,Math.ceil(f.outerContainer.element.dom.getBoundingClientRect().width)).filter(_r=>_r>z).map(_r=>{const ha=ze.getOr(Po()),ga=window.innerWidth-(Ci-ha.left),Oc=Math.max(Math.min(_r,ga),z);return ga<_r&&rn(f.outerContainer.element,"width",Oc+"px"),{width:Oc+"px"}}).getOr({width:"max-content"}),pa={position:"absolute",left:Math.round(Ci)+"px",top:Jn()+"px"};Fu(f.outerContainer.element,{...pa,...$o})})},pt=(St,ze)=>gu(St)?wp(ze):D.none(),Re=()=>{ht(m,St=>{St.broadcastOn([Ff()],{})})},gt=()=>!S&&(Do(f.outerContainer.element).left+gn(f.outerContainer.element)>=window.innerWidth-Y0||P(f.outerContainer.element,"width").isSome())?(rn(f.outerContainer.element,"position","absolute"),rn(f.outerContainer.element,"left","0px"),V(f.outerContainer.element,"width"),!0):!1,rt=St=>{if(!Z())return;S||_e();const ze=Po(),st=S?!1:gt();if(X&&lo.refreshToolbar(f.outerContainer),!S){const Gt=Po(),cn=Lt(ze.left!==Gt.left,ze);Ze(st,cn),cn.each(Dt=>{rg(Dt.left,Gt.top)})}A&&u.on(St),Re()},xt=()=>S||!A||!Z()?!1:u.get().exists(St=>{const ze=M.getDockingMode(),st=de(St);return st!==ze?(Ee(st),!0):!1});return{isVisible:Z,isPositionedAtTop:L,show:()=>{fe.set(!0),rn(f.outerContainer.element,"display","flex"),b.addClass(t.getBody(),"mce-edit-focus"),ht(m,St=>{V(St.element,"display")}),xt(),gu(t)?rt(St=>wo.isDocked(St)?wo.reset(St):wo.refresh(St)):rt(wo.refresh)},hide:()=>{fe.set(!1),rn(f.outerContainer.element,"display","none"),b.removeClass(t.getBody(),"mce-edit-focus"),ht(m,St=>{rn(St.element,"display","none")})},update:rt,updateMode:()=>{xt()&&rt(wo.reset)},repositionPopups:Re}},J_=(t,s)=>{const i=is(t);return{pos:s?i.y:i.bottom,bounds:i}},uL=(t,s,i,c)=>{const u=Pt(J_(s,i.isPositionedAtTop())),f=A=>{const{pos:O,bounds:M}=J_(s,i.isPositionedAtTop()),{pos:L,bounds:z}=u.get(),q=M.height!==z.height||M.width!==z.width;u.set({pos:O,bounds:M}),q&&bE(t,A),i.isVisible()&&(L!==O?i.update(wo.reset):q&&(i.updateMode(),i.repositionPopups()))};c||(t.on("activate",i.show),t.on("deactivate",i.hide)),t.on("SkinLoaded ResizeWindow",()=>i.update(wo.reset)),t.on("NodeChange keydown",A=>{requestAnimationFrame(()=>f(A))});let m=0;const b=o0(()=>i.update(wo.refresh),33);t.on("ScrollWindow",()=>{const A=Po().left;A!==m&&(m=A,b.throttle()),i.updateMode()}),gu(t)&&t.on("ElementScroll",A=>{i.update(wo.refresh)});const S=ac();S.set(BS(nt.fromDom(t.getBody()),"load",A=>f(A.raw))),t.on("remove",()=>{S.clear()})};var UV=Object.freeze({__proto__:null,render:(t,s,i,c,u)=>{const{mainUi:f}=s,m=So(),b=nt.fromDom(u.targetNode),S=lL(t,b,s,c,m),A=l2(t);Yz(t);const O=()=>{if(m.isSet()){S.show();return}m.set(lo.getHeader(f.outerContainer).getOrDie());const L=y2(t);gu(t)?(ow(b,f.mothership),ow(b,s.popupUi.mothership)):Mi(L,f.mothership),Mi(L,s.dialogUi.mothership);const z=()=>{sL(t,s,i,c),lo.setMenubar(f.outerContainer,_F(t,i)),S.show(),uL(t,b,S,A),t.nodeChanged()};A?t.once("SkinLoaded",z):z()};t.on("show",O),t.on("hide",S.hide),A||(t.on("focus",O),t.on("blur",S.hide)),t.on("init",()=>{(t.hasFocus()||A)&&O()}),TP(t,s);const M={show:O,hide:S.hide,setEnabled:L=>{$b(s,L?"setEnabled":"setDisabled")},isEnabled:()=>!Ut.isDisabled(f.outerContainer)};return{editorContainer:f.outerContainer.element.dom,api:M}}});const dL=()=>{const t=So(),s=So(),i=So();return{dialogUi:t,popupUi:s,mainUi:i,getUiMotherships:()=>{const f=t.get().map(b=>b.mothership),m=s.get().map(b=>b.mothership);return f.fold(()=>m.toArray(),b=>m.fold(()=>[b],S=>Yn(b.element,S.element)?[b]:[b,S]))},lazyGetInOuterOrDie:(f,m)=>()=>i.get().bind(b=>m(b.outerContainer)).getOrDie(`Could not find ${f} element in OuterContainer`)}},zV="contexttoolbar-show",fL="contexttoolbar-hide",VV=t=>({hide:()=>Sn(t,Xs()),getValue:()=>ft.getValue(t)}),mL=(t,s)=>Me(a0,(i,c)=>{const u=t.get(i),f=VV(u);s.onAction(f,c.event.buttonApi)}),WV=(t,s,i)=>{const{primary:c,...u}=s.original,f=Ve(Nb({...u,type:"button",onAction:te}));return tL(f,i,[mL(t,s)])},Ay=(t,s,i)=>{const{primary:c,...u}=s.original,f=Ve(Mb({...u,type:"togglebutton",onAction:te}));return nL(f,i,[mL(t,s)])},GV=t=>t.type==="contextformtogglebutton",qV=(t,s,i)=>GV(s)?Ay(t,s,i):WV(t,s,i),KV=(t,s,i)=>{const c=We(s,m=>Ln(qV(t,m,i)));return{asSpecs:()=>We(c,m=>m.asSpec()),findPrimary:m=>or(s,(b,S)=>b.primary?D.from(c[S]).bind(A=>A.getOpt(m)).filter(Je(Ut.isDisabled)):D.none())}},Z_=(t,s)=>{const i=t.label.fold(()=>({}),f=>({"aria-label":f})),c=Ln(nl.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:i,selectOnFocus:!0,inputBehaviours:qe([Ut.config({disabled:()=>s.checkUiComponentContext("mode:design").shouldDisable}),os(()=>s.checkUiComponentContext("mode:design")),Rt.config({mode:"special",onEnter:f=>u.findPrimary(f).map(m=>(Xu(m),!0)),onLeft:(f,m)=>(m.cut(),D.none()),onRight:(f,m)=>(m.cut(),D.none())})])})),u=KV(c,t.commands,s);return[{title:D.none(),items:[c.asSpec()]},{title:D.none(),items:u.asSpecs()}]},pL={renderContextForm:(t,s,i)=>j0({type:t,uid:yt("context-toolbar"),initGroups:Z_(s,i),onEscape:D.none,cyclicKeying:!0,providers:i}),buildInitGroups:Z_},hL=(t,s,i)=>s.bottom-t.y>=i&&t.bottom-s.y>=i,YV=t=>{const s=t.getBoundingClientRect();if(s.height<=0&&s.width<=0){const i=Qd(nt.fromDom(t.startContainer),t.startOffset).element;return(Ai(i)?Ca(i):D.some(i)).filter(ys).map(u=>u.dom.getBoundingClientRect()).getOr(s)}else return s},Q_=t=>{const s=t.selection.getRng(),i=YV(s);if(t.inline){const c=Po();return Zo(c.left+i.left,c.top+i.top,i.width,i.height)}else{const c=sf(nt.fromDom(t.getBody()));return Zo(c.x+i.left,c.y+i.top,i.width,i.height)}},XV=(t,s)=>s.filter(i=>ai(i)&&Qh(i)).map(sf).getOrThunk(()=>Q_(t)),JV=(t,s,i)=>{const c=Math.max(t.x+i,s.x),u=Math.min(t.right-i,s.right);return{x:c,width:u-c}},ky=(t,s,i,c,u,f)=>{const m=nt.fromDom(t.getContainer()),b=Bo(m,".tox-editor-header").getOr(m),S=is(b),A=S.y>=s.bottom,O=c&&!A;if(t.inline&&O)return{y:Math.max(S.bottom+f,i.y),bottom:i.bottom};if(t.inline&&!O)return{y:i.y,bottom:Math.min(S.y-f,i.bottom)};const M=u==="line"?is(m):s;return O?{y:Math.max(S.bottom+f,i.y),bottom:Math.min(M.bottom-f,i.bottom)}:{y:Math.max(M.y+f,i.y),bottom:Math.min(S.y-f,i.bottom)}},eA=(t,s,i,c=0)=>{const u=ig(window),f=is(nt.fromDom(t.getContentAreaContainer())),m=q1(t)||Y1(t)||hb(t),{x:b,width:S}=JV(f,u,c);if(t.inline&&!m)return Zo(b,u.y,S,u.height);{const A=s.header.isPositionedAtTop(),{y:O,bottom:M}=ky(t,f,u,A,i,c);return Zo(b,O,S,M-O)}},X0=12,gL={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},tA={maxHeightFunction:Np(),maxWidthFunction:ji()},nA=(t,s)=>{const i=t.selection.getRng(),c=Qd(nt.fromDom(i.startContainer),i.startOffset);return i.startContainer===i.endContainer&&i.startOffset===i.endOffset-1&&Yn(c.element,s)},bL=(t,s,i)=>{const c=P(t,"position");rn(t,"position",s);const u=i(t);return c.each(f=>rn(t,"position",f)),u},oA=t=>t==="node",ZV=(t,s,i,c,u)=>{const f=Q_(t),m=c.lastElement().exists(b=>Yn(i,b));if(nA(t,i))return m?QT:qa;if(m)return bL(s,c.getMode(),()=>hL(f,is(s),-20)&&!c.isReposition()?iU:QT);{const b=c.getMode()==="fixed"?u.y+Po().top:u.y,S=Be(s)+X0;return b+S<=f.y?qa:Id}},Ph=(t,s,i,c)=>{const u=S=>(A,O,M,L,z)=>{const q=ZV(t,L,S,i,z),X={...A,y:z.y,height:z.height};return{...q(X,O,M,L,z),alwaysFit:!0}},f=S=>oA(c)?[u(S)]:[];return s?{onLtr:S=>[Ss,ks,Os,cr,lr,Qs].concat(f(S)),onRtl:S=>[Ss,Os,ks,lr,cr,Qs].concat(f(S))}:{onLtr:S=>[Qs,Ss,cr,ks,lr,Os].concat(f(S)),onRtl:S=>[Qs,Ss,lr,Os,cr,ks].concat(f(S))}},J0=(t,s,i,c)=>s==="line"?{bubble:gc(X0,0,gL),layouts:{onLtr:()=>[DS],onRtl:()=>[RS]},overrides:tA}:{bubble:gc(0,X0,gL,1/X0),layouts:Ph(t,i,c,s),overrides:tA},Mh=(t,s)=>{const i=eo(s,f=>f.predicate(t.dom)),{pass:c,fail:u}=Kd(i,f=>f.type==="contexttoolbar");return{contextToolbars:c,contextForms:u}},sA=t=>{if(t.length<=1)return t;{const s=f=>Ms(t,m=>m.position===f),i=f=>eo(t,m=>m.position===f),c=s("selection"),u=s("node");if(c||u)if(u&&c){const f=i("node"),m=We(i("selection"),b=>({...b,position:"node"}));return f.concat(m)}else return i(c?"selection":"node");else return i("line")}},rA=t=>{if(t.length<=1)return t;{const s=c=>en(t,u=>u.position===c);return s("selection").orThunk(()=>s("node")).orThunk(()=>s("line")).map(c=>c.position).fold(()=>[],c=>eo(t,u=>u.position===c))}},yL=(t,s,i)=>{const c=Mh(t,s);if(c.contextForms.length>0)return D.some({elem:t,toolbars:[c.contextForms[0]]});{const u=Mh(t,i);if(u.contextForms.length>0)return D.some({elem:t,toolbars:[u.contextForms[0]]});if(c.contextToolbars.length>0||u.contextToolbars.length>0){const f=sA(c.contextToolbars.concat(u.contextToolbars));return D.some({elem:t,toolbars:f})}else return D.none()}},Z0=(t,s,i)=>t(s)?D.none():cv(s,c=>{if(ys(c)){const{contextToolbars:u,contextForms:f}=Mh(c,i.inNodeScope),m=f.length>0?f:rA(u);return m.length>0?D.some({elem:c,toolbars:m}):D.none()}else return D.none()},t),vL=(t,s)=>{const i=nt.fromDom(s.getBody()),c=m=>Yn(m,i),u=m=>!c(m)&&!Zd(i,m),f=nt.fromDom(s.selection.getNode());return u(f)?D.none():yL(f,t.inNodeScope,t.inEditorScope).orThunk(()=>Z0(c,f,t))},xL=(t,s)=>{const i={},c=[],u=[],f={},m={},b=(O,M)=>{const L=Ve(Bb(M));i[O]=L,L.launch.map(z=>{f["form:"+O]={...M.launch,type:z.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{s(L)}}}),L.scope==="editor"?u.push(L):c.push(L),m[O]=L},S=(O,M)=>{Z6(M).each(L=>{M.scope==="editor"?u.push(L):c.push(L),m[O]=L})},A=Jo(t);return ht(A,O=>{const M=t[O];M.type==="contextform"?b(O,M):M.type==="contexttoolbar"&&S(O,M)}),{forms:i,inNodeScope:c,inEditorScope:u,lookupTable:m,formNavigators:f}},Q0=yt("forward-slide"),CL=yt("backward-slide"),eC=yt("change-slide-event"),iA="tox-pop--resizing",QV=t=>{const s=Pt([]);return Fo.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:i=>{s.set([]),Fo.getContent(i).each(c=>{V(c.element,"visibility")}),Io(i.element,iA),V(i.element,"width")},inlineBehaviours:qe([sn("context-toolbar-events",[Ju(hg(),(i,c)=>{c.event.raw.propertyName==="width"&&(Io(i.element,iA),V(i.element,"width"))}),Me(eC,(i,c)=>{const u=i.element;V(u,"width");const f=Tn(u);Fo.setContent(i,c.event.contents),ps(u,iA);const m=Tn(u);rn(u,"width",f+"px"),Fo.getContent(i).each(b=>{c.event.focus.bind(S=>(Ra(S),zr(u))).orThunk(()=>(Rt.focusIn(b),Pl(gr(u))))}),setTimeout(()=>{rn(i.element,"width",m+"px")},0)}),Me(Q0,(i,c)=>{Fo.getContent(i).each(u=>{s.set(s.get().concat([{bar:u,focus:Pl(gr(i.element))}]))}),Et(i,eC,{contents:c.event.forwardContents,focus:D.none()})}),Me(CL,(i,c)=>{Ar(s.get()).each(u=>{s.set(s.get().slice(0,s.get().length-1)),Et(i,eC,{contents:ea(u.bar),focus:u.focus})})})]),Rt.config({mode:"special",onEscape:i=>Ar(s.get()).fold(()=>t.onEscape(),c=>(Sn(i,CL),D.some(!0)))})]),lazySink:()=>bn.value(t.sink)})},Ih="tox-pop--transition",SL=(t,s,i,c)=>{const u=c.backstage,f=u.shared,m=Ne().deviceType.isTouch,b=So(),S=So(),A=So(),O=yr(QV({sink:i,onEscape:()=>(t.focus(),D.some(!0))})),M=()=>{const rt=A.get().getOr("node"),xt=oA(rt)?1:0;return eA(t,f,rt,xt)},L=()=>!t.removed&&!(m()&&u.isContextMenuOpen()),z=rt=>ri(Jl(rt,b.get(),Yn),!0),q=()=>{if(L()){const rt=M(),xt=ri(A.get(),"node")?XV(t,b.get()):Q_(t);return rt.height<=0||!hL(xt,rt,.01)}else return!0},X=()=>{b.clear(),S.clear(),A.clear(),Fo.hide(O)},fe=()=>{if(Fo.isOpen(O)){const rt=O.element;V(rt,"display"),q()?rn(rt,"display","none"):(S.set(0),Fo.reposition(O))}},Z=rt=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[rt],behaviours:qe([Rt.config({mode:"acyclic"}),sn("pop-dialog-wrap-events",[ko(xt=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>Rt.focusIn(xt))}),Al(xt=>{t.shortcuts.remove("ctrl+F9")})])])}),ue=Ao(()=>xL(s,rt=>{const xt=_e([rt]);Et(O,Q0,{forwardContents:Z(xt)})})),de=(rt,xt)=>q0(t,{buttons:rt,toolbar:xt.items,allowToolbarGroups:!1},c.backstage,D.some(["form:"])),Ee=(rt,xt)=>pL.buildInitGroups(rt,xt),_e=rt=>{const{buttons:xt}=t.ui.registry.getAll(),yn=ue(),ho={...xt,...yn.formNavigators},Fn=yd(t)===ra.scrolling?ra.scrolling:ra.default,St=on(We(rt,ze=>ze.type==="contexttoolbar"?de(ho,ze):Ee(ze,f.providers)));return j0({type:Fn,uid:yt("context-toolbar"),initGroups:St,onEscape:D.none,cyclicKeying:!0,providers:f.providers})},Ze=(rt,xt)=>{const yn=rt==="node"?f.anchors.node(xt):f.anchors.cursor(),ho=J0(t,rt,m(),{lastElement:b.get,isReposition:()=>ri(S.get(),0),getMode:()=>Sr.getMode(i)});return Qo(yn,ho)},pt=(rt,xt)=>{if(gt.cancel(),!L())return;const yn=_e(rt),ho=rt[0].position,Fn=Ze(ho,xt);A.set(ho),S.set(1);const St=O.element;V(St,"display"),z(xt)||(Io(St,Ih),Sr.reset(i,O)),Fo.showWithinBounds(O,Z(yn),{anchor:Fn,transition:{classes:[Ih],mode:"placement"}},()=>D.some(M())),xt.fold(b.clear,b.set),q()&&rn(St,"display","none")};let Re=!1;const gt=o0(()=>{if(!(!t.hasFocus()||t.removed||Re))if(Yr(O.element,Ih))gt.throttle();else{const rt=ue();vL(rt,t).fold(X,xt=>{pt(xt.toolbars,D.some(xt.elem))})}},17);t.on("init",()=>{t.on("remove",X),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",fe),t.on("click keyup focus SetContent",gt.throttle),t.on(fL,X),t.on(zV,rt=>{const xt=ue();at(xt.lookupTable,rt.toolbarKey).each(yn=>{pt([yn],Lt(rt.target!==t,rt.target)),Fo.getContent(O).each(Rt.focusIn)})}),t.on("focusout",rt=>{qf.setEditorTimeout(t,()=>{zr(i.element).isNone()&&zr(O.element).isNone()&&X()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&X()}),t.on("ExecCommand",({command:rt})=>{rt.toLowerCase()==="toggleview"&&X()}),t.on("AfterProgressState",rt=>{rt.state?X():t.hasFocus()&&gt.throttle()}),t.on("dragstart",()=>{Re=!0}),t.on("dragend drop",()=>{Re=!1}),t.on("NodeChange",rt=>{zr(O.element).fold(gt.throttle,te)})})},eW=t=>{ht([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],i=>{t.ui.registry.addToggleButton(i.name,{tooltip:i.text,icon:i.icon,onAction:$i(t,i.cmd),onSetup:Nx(t,i.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Nr(t),onAction:$i(t,"JustifyNone")})},wL=(t,s)=>{const i=()=>{const c=s.getOptions(t),u=s.getCurrent(t).map(s.hash),f=So();return We(c,m=>({type:"togglemenuitem",text:s.display(m),onSetup:b=>{const S=O=>{O&&(f.on(M=>M.setActive(!1)),f.set(b)),b.setActive(O)};S(ri(u,s.hash(m)));const A=s.watcher(t,m,S);return()=>{f.clear(),A()}},onAction:()=>s.setCurrent(t,m)}))};t.ui.registry.addMenuButton(s.name,{tooltip:s.text,icon:s.icon,fetch:c=>c(i()),onSetup:s.onToolbarSetup}),t.ui.registry.addNestedMenuItem(s.name,{type:"nestedmenuitem",text:s.text,getSubmenuItems:i,onSetup:s.onMenuSetup})},tW=t=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:EN,hash:s=>$F(s,["fixed","relative","empty"]).getOr(s),display:At,watcher:(s,i,c)=>s.formatter.formatChanged("lineheight",c,!1,{value:i}).unbind,getCurrent:s=>D.from(s.queryCommandValue("LineHeight")),setCurrent:(s,i)=>s.execCommand("LineHeight",!1,i),onToolbarSetup:Nr(t),onMenuSetup:Nr(t)}),nW=t=>D.from(fN(t)).map(i=>({name:"language",text:"Language",icon:"language",getOptions:_(i),hash:c=>Le(c.customCode)?c.code:`${c.code}/${c.customCode}`,display:c=>c.title,watcher:(c,u,f)=>{var m;return c.formatter.formatChanged("lang",f,!1,{value:u.code,customValue:(m=u.customCode)!==null&&m!==void 0?m:null}).unbind},getCurrent:c=>{const u=nt.fromDom(c.selection.getNode());return dp(u,f=>D.some(f).filter(ys).bind(m=>Us(m,"lang").map(S=>{const A=Us(m,"data-mce-lang").getOrUndefined();return{code:S,customCode:A,title:""}})))},setCurrent:(c,u)=>c.execCommand("Lang",!1,u),onToolbarSetup:c=>{const u=ac();return c.setActive(t.formatter.match("lang",{},void 0,!0)),u.set(t.formatter.formatChanged("lang",c.setActive,!0)),Rx(u.clear,Nr(t)(c))},onMenuSetup:Nr(t)})),oW=t=>{wL(t,tW(t)),nW(t).each(s=>wL(t,s))},EL=(t,s)=>{$_(t,s),rV(t,s),CV(t,s),nV(t,s),yV(t,s)},TL=t=>{t.ui.registry.addContext("editable",()=>t.selection.isEditable()),t.ui.registry.addContext("mode",s=>t.mode.get()===s),t.ui.registry.addContext("any",Ot),t.ui.registry.addContext("formatting",s=>t.formatter.canApply(s)),t.ui.registry.addContext("insert",s=>t.schema.isValidChild(t.selection.getNode().tagName,s))},_L=t=>cm(t,"NodeChange",s=>{s.setEnabled(t.queryCommandState("outdent")&&t.selection.isEditable())}),AL=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:_L(t),onAction:$i(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Nr(t),onAction:$i(t,"indent")})},sW=t=>{AL(t)},aA=(t,s)=>i=>{i.setActive(s.get());const c=u=>{s.set(u.state),i.setActive(u.state)};return t.on("PastePlainTextToggle",c),Rx(()=>t.off("PastePlainTextToggle",c),Nr(t)(i))},kL=t=>{const s=Pt(SN(t)),i=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:i,onSetup:aA(t,s)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:i,onSetup:aA(t,s)})},cA=(t,s)=>()=>{t.execCommand("mceToggleFormat",!1,s)},QK=t=>{Cu.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(s,i)=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:Nx(t,s.name),onAction:cA(t,s.name),shortcut:s.shortcut})});for(let s=1;s<=6;s++){const i="h"+s,c=`Access+${s}`;t.ui.registry.addToggleButton(i,{text:i.toUpperCase(),tooltip:"Heading "+s,onSetup:Nx(t,i),onAction:cA(t,i),shortcut:c})}},rW=t=>{Cu.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onAction:$i(t,s.action),shortcut:s.shortcut,context:s.context})}),Cu.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:Nr(t),onAction:$i(t,s.action)})})},iW=t=>{Cu.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],s=>{t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onAction:$i(t,s.action),onSetup:Nx(t,s.name)})})},aW=t=>{QK(t),rW(t),iW(t)},cW=t=>{Cu.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:$i(t,s.action),context:s.context})}),Cu.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{t.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:Nr(t),onAction:$i(t,s.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Nr(t),onAction:cA(t,"code")})},lW=t=>{aW(t),cW(t)},tC=(t,s)=>cm(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i=>{i.setEnabled(!t.mode.isReadOnly()&&t.undoManager[s]())}),uW=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:tC(t,"hasUndo"),onAction:$i(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:tC(t,"hasRedo"),onAction:$i(t,"redo")})},dW=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:tC(t,"hasUndo"),onAction:$i(t,"undo"),shortcut:"Meta+Z"}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:tC(t,"hasRedo"),onAction:$i(t,"redo"),shortcut:"Meta+Y"})},fW=t=>{uW(t),dW(t)},mW=t=>cm(t,"VisualAid",s=>{s.setActive(t.hasVisual)}),pW=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:mW(t),onAction:$i(t,"mceToggleVisualAid"),context:"any"})},hW=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:$i(t,"mceToggleVisualAid"),context:"any"})},gW=t=>{hW(t),pW(t)},OL=(t,s)=>{eW(t),lW(t),EL(t,s),fW(t),UH(t),gW(t),sW(t),oW(t),kL(t),TL(t)},bW=t=>j(t)?t.split(/[ ,]/):t,DL=t=>s=>s.options.get(t),yW=t=>{const s=t.options.register;s("contextmenu_avoid_overlap",{processor:"string",default:""}),s("contextmenu_never_use_native",{processor:"boolean",default:!1}),s("contextmenu",{processor:i=>i===!1?{value:[],valid:!0}:j(i)||Qe(i,j)?{value:bW(i),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},RL=DL("contextmenu_never_use_native"),vW=DL("contextmenu_avoid_overlap"),xW=t=>NL(t).length===0,NL=t=>{const s=t.ui.registry.getAll().contextMenus,i=t.options.get("contextmenu");return t.options.isSet("contextmenu")?i:eo(i,c=>jn(s,c))},Oy=(t,s)=>({type:"makeshift",x:t,y:s}),CW=(t,s,i)=>Oy(t.x+s,t.y+i),nC=t=>t.type==="longpress"||t.type.indexOf("touch")===0,SW=t=>{if(nC(t)){const s=t.touches[0];return Oy(s.pageX,s.pageY)}else return Oy(t.pageX,t.pageY)},wW=t=>{if(nC(t)){const s=t.touches[0];return Oy(s.clientX,s.clientY)}else return Oy(t.clientX,t.clientY)},lA=(t,s)=>{const i=bd.DOM.getPos(t);return CW(s,i.x,i.y)},PL=(t,s)=>s.type==="contextmenu"||s.type==="longpress"?t.inline?SW(s):lA(t.getContentAreaContainer(),wW(s)):uA(t),uA=t=>({type:"selection",root:nt.fromDom(t.selection.getNode())}),EW=t=>({type:"node",node:D.some(nt.fromDom(t.selection.getNode())),root:nt.fromDom(t.getBody())}),ML=(t,s,i)=>{switch(i){case"node":return EW(t);case"point":return PL(t,s);case"selection":return uA(t)}},TW=(t,s,i,c,u,f)=>{const m=i(),b=ML(t,s,f);xh(m,Cc.CLOSE_ON_EXECUTE,c,{isHorizontalMenu:!1,search:D.none()}).map(S=>{s.preventDefault(),Fo.showMenuAt(u,{anchor:b},{menu:{markers:wd("normal")},data:S})})},_W={onLtr:()=>[Ss,ks,Os,cr,lr,Qs,qa,Id,hy,C0,py,x0],onRtl:()=>[Ss,Os,ks,lr,cr,Qs,qa,Id,py,x0,hy,C0]},AW=12,dA={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},kW=(t,s)=>{const i=t.selection;if(i.isCollapsed()||s.touches.length<1)return!1;{const c=s.touches[0],u=i.getRng();return $g(t.getWin(),Mg.domRange(u)).exists(m=>m.left<=c.clientX&&m.right>=c.clientX&&m.top<=c.clientY&&m.bottom>=c.clientY)}},IL=t=>{const s=t.selection.getRng(),i=()=>{qf.setEditorTimeout(t,()=>{t.selection.setRng(s)},10),f()};t.once("touchend",i);const c=m=>{m.preventDefault(),m.stopImmediatePropagation()};t.on("mousedown",c,!0);const u=()=>f();t.once("longpresscancel",u);const f=()=>{t.off("touchend",i),t.off("longpresscancel",u),t.off("mousedown",c)}},OW=(t,s,i)=>{const c=ML(t,s,i);return{bubble:gc(0,i==="point"?AW:0,dA),layouts:_W,overrides:{maxWidthFunction:ji(),maxHeightFunction:Np()},...c}},DW=(t,s,i,c,u,f,m)=>{const b=OW(t,s,f);xh(i,Cc.CLOSE_ON_EXECUTE,c,{isHorizontalMenu:!0,search:D.none()}).map(S=>{s.preventDefault();const A=m?Zr.HighlightMenuAndItem:Zr.HighlightNone;Fo.showMenuWithinBounds(u,{anchor:b},{menu:{markers:wd("normal"),highlightOnOpen:A},data:S,type:"horizontal"},()=>D.some(eA(t,c.shared,f==="node"?"node":"selection"))),t.dispatch(fL)})},fA=(t,s,i,c,u,f)=>{const m=Ne(),b=m.os.isiOS(),S=m.os.isMacOS(),A=m.os.isAndroid(),O=m.deviceType.isTouch(),M=()=>!(A||b||S&&O),L=()=>{const z=i();DW(t,s,z,c,u,f,M())};if((S||b)&&f!=="node"){const z=()=>{IL(t),L()};kW(t,s)?z():(t.once("selectionchange",z),t.once("touchend",()=>t.off("selectionchange",z)))}else L()},BL=t=>j(t)?t==="|":t.type==="separator",oC={type:"separator"},FL=t=>{const s=i=>({text:i.text,icon:i.icon,enabled:i.enabled,shortcut:i.shortcut});if(j(t))return t;switch(t.type){case"separator":return oC;case"submenu":return{type:"nestedmenuitem",...s(t),getSubmenuItems:()=>{const c=t.getSubmenuItems();return j(c)?c:We(c,FL)}};default:const i=t;return{type:"menuitem",...s(i),onAction:It(i.onAction)}}},LL=(t,s)=>{if(s.length===0)return t;const c=Ar(t).filter(u=>!BL(u)).fold(()=>[],u=>[oC]);return t.concat(c).concat(s).concat([oC])},mA=(t,s,i)=>{const c=rs(s,(u,f)=>at(t,f.toLowerCase()).map(m=>{const b=m.update(i);if(j(b)&&Zl(zm(b)))return LL(u,b.split(" "));if(oe(b)&&b.length>0){const S=We(b,FL);return LL(u,S)}else return u}).getOrThunk(()=>u.concat([f])),[]);return c.length>0&&BL(c[c.length-1])&&c.pop(),c},RW=(t,s)=>s.ctrlKey&&!RL(t),NW=t=>t.type==="longpress"||jn(t,"touches"),$L=(t,s)=>!NW(s)&&(s.button!==2||s.target===t.getBody()&&s.pointerType===""),jL=(t,s)=>$L(t,s)?t.selection.getStart(!0):s.target,PW=(t,s)=>{const i=vW(t),c=$L(t,s)?"selection":"point";if(Zl(i)){const u=jL(t,s);return Kb(nt.fromDom(u),i)?"node":c}else return c},HL=(t,s,i)=>{const u=Ne().deviceType.isTouch,f=yr(Fo.sketch({dom:{tag:"div"},lazySink:s,onEscape:()=>t.focus(),onShow:()=>i.setContextMenuState(!0),onHide:()=>i.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:qe([sn("dismissContextMenu",[Me(Yu(),(S,A)=>{Dn.close(S),t.focus()})])])})),m=()=>Fo.hide(f),b=S=>{if(RL(t)&&S.preventDefault(),RW(t,S)||xW(t))return;const A=PW(t,S),O=()=>{const L=jL(t,S),z=t.ui.registry.getAll(),q=NL(t);return mA(z.contextMenus,q,L)};(u()?fA:TW)(t,S,O,i,f,A)};t.on("init",()=>{const S="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(u()?"":" ResizeWindow");t.on(S,m),t.on("longpress contextmenu",b)})},pA=Ri.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),sC=t=>s=>s.translate(-t.left,-t.top),rC=t=>s=>s.translate(t.left,t.top),Eu=t=>(s,i)=>rs(t,(c,u)=>u(c),Ht(s,i)),iC=(t,s,i)=>t.fold(Eu([rC(i),sC(s)]),Eu([sC(s)]),Eu([])),Bh=(t,s,i)=>t.fold(Eu([rC(i)]),Eu([]),Eu([rC(s)])),UL=(t,s,i)=>t.fold(Eu([]),Eu([sC(i)]),Eu([rC(s),sC(i)])),MW=(t,s,i,c,u,f)=>{const m=Bh(t,u,f),b=Bh(s,u,f);return Math.abs(m.left-b.left)<=i&&Math.abs(m.top-b.top)<=c},zL=(t,s,i,c,u,f)=>{const m=Bh(t,u,f),b=Bh(s,u,f),S=Math.abs(m.left-b.left),A=Math.abs(m.top-b.top);return Ht(S,A)},VL=(t,s,i)=>{const c=t.fold((u,f)=>({position:D.some("absolute"),left:D.some(u+"px"),top:D.some(f+"px")}),(u,f)=>({position:D.some("absolute"),left:D.some(u-i.left+"px"),top:D.some(f-i.top+"px")}),(u,f)=>({position:D.some("fixed"),left:D.some(u+"px"),top:D.some(f+"px")}));return{right:D.none(),bottom:D.none(),...c}},WL=(t,s,i)=>t.fold((c,u)=>aC(c+s,u+i),(c,u)=>$d(c+s,u+i),(c,u)=>Ya(c+s,u+i)),hA=(t,s,i,c)=>{const u=(f,m)=>(b,S)=>{const A=f(s,i,c);return m(b.getOr(A.left),S.getOr(A.top))};return t.fold(u(UL,aC),u(Bh,$d),u(iC,Ya))},aC=pA.offset,$d=pA.absolute,Ya=pA.fixed,gA=(t,s)=>{const i=an(t,s);return Le(i)?NaN:parseInt(i,10)},IW=(t,s)=>{const i=t.element,c=gA(i,s.leftAttr),u=gA(i,s.topAttr);return isNaN(c)||isNaN(u)?D.none():D.some(Ht(c,u))},BW=(t,s,i)=>{const c=t.element;$t(c,s.leftAttr,i.left+"px"),$t(c,s.topAttr,i.top+"px")},FW=(t,s)=>{const i=t.element;_o(i,s.leftAttr),_o(i,s.topAttr)},LW=(t,s,i,c)=>IW(t,s).fold(()=>i,u=>Ya(u.left+c.left,u.top+c.top)),GL=(t,s,i,c,u,f)=>{const m=LW(t,s,i,c),b=s.mustSnap?jW(t,s,m,u,f):HW(t,s,m,u,f),S=iC(m,u,f);return BW(t,s,S),b.fold(()=>({coord:Ya(S.left,S.top),extra:D.none()}),A=>({coord:A.output,extra:A.extra}))},$W=(t,s)=>{FW(t,s)},qL=(t,s,i,c)=>or(t,u=>{const f=u.sensor;return MW(s,f,u.range.left,u.range.top,i,c)?D.some({output:hA(u.output,s,i,c),extra:u.extra}):D.none()}),jW=(t,s,i,c,u)=>{const f=s.getSnapPoints(t);return qL(f,i,c,u).orThunk(()=>rs(f,(S,A)=>{const O=A.sensor,M=zL(i,O,A.range.left,A.range.top,c,u);return S.deltas.fold(()=>({deltas:D.some(M),snap:D.some(A)}),L=>{const z=(M.left+M.top)/2,q=(L.left+L.top)/2;return z<=q?{deltas:D.some(M),snap:D.some(A)}:S})},{deltas:D.none(),snap:D.none()}).snap.map(S=>({output:hA(S.output,i,c,u),extra:S.extra})))},HW=(t,s,i,c,u)=>{const f=s.getSnapPoints(t);return qL(f,i,c,u)},UW=(t,s,i)=>({coord:hA(t.output,t.output,s,i),extra:t.extra});var zW=Object.freeze({__proto__:null,snapTo:(t,s,i,c)=>{const u=s.getTarget(t.element);if(s.repositionTarget){const f=Wi(t.element),m=Po(f),b=_v(u),S=UW(c,m,b),A=VL(S.coord,m,b);g(u,A)}}});const bA="data-initial-z-index",VW=t=>{Ca(t.element).filter(ys).each(s=>{Us(s,bA).fold(()=>V(s,"z-index"),i=>rn(s,"z-index",i)),_o(s,bA)})},WW=t=>{Ca(t.element).filter(ys).each(s=>{P(s,"z-index").each(i=>{$t(s,bA,i)}),rn(s,"z-index",C(t.element,"z-index"))})},yA=(t,s)=>{t.getSystem().addToGui(s),WW(s)},KL=t=>{VW(t),t.getSystem().removeFromGui(t)},YL=(t,s,i)=>t.getSystem().build(il.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[s]},events:i}));var Dy=Ys("snaps",[Ie("getSnapPoints"),kn("onSensor"),Ie("leftAttr"),Ie("topAttr"),ge("lazyViewport",Vs),ge("mustSnap",!1)]);const vA=[ge("useFixed",ln),Ie("blockerClass"),ge("getTarget",At),ge("onDrag",te),ge("repositionTarget",!0),ge("onDrop",te),Mo("getBounds",Vs),Dy],GW=t=>Hm(P(t,"left"),P(t,"top"),P(t,"position"),(s,i,c)=>(c==="fixed"?Ya:aC)(parseInt(s,10),parseInt(i,10))).getOrThunk(()=>{const s=Do(t);return $d(s.left,s.top)}),xA=(t,s,i,c,u)=>{const f=u.bounds,m=Bh(s,i,c),b=dc(m.left,f.x,f.x+f.width-u.width),S=dc(m.top,f.y,f.y+f.height-u.height),A=$d(b,S);return s.fold(()=>{const O=UL(A,i,c);return aC(O.left,O.top)},_(A),()=>{const O=iC(A,i,c);return Ya(O.left,O.top)})},qW=(t,s,i,c,u,f,m)=>{const b=s.fold(()=>{const S=WL(i,f.left,f.top),A=iC(S,c,u);return Ya(A.left,A.top)},S=>{const A=GL(t,S,i,f,c,u);return A.extra.each(O=>{S.onSensor(t,O)}),A.coord});return xA(t,b,c,u,m)},KW=(t,s,i,c)=>{const u=s.getTarget(t.element);if(s.repositionTarget){const f=Wi(t.element),m=Po(f),b=_v(u),S=GW(u),A=qW(t,s.snaps,S,m,b,c,i),O=VL(A,m,b);g(u,O)}s.onDrag(t,u,c)},XL=(t,s)=>({bounds:t.getBounds(),height:Xe(s.element),width:gn(s.element)}),CA=(t,s,i,c,u)=>{const f=i.update(c,u),m=i.getStartData().getOrThunk(()=>XL(s,t));f.each(b=>{KW(t,s,m,b)})},JL=(t,s,i,c)=>{s.each(KL),i.snaps.each(f=>{$W(t,f)});const u=i.getTarget(t.element);c.reset(),i.onDrop(t,u)},SA=t=>(s,i)=>{const c=u=>{i.setStartData(XL(s,u))};return no([Me(gv(),u=>{i.getStartData().each(()=>c(u))}),...t(s,i,c)])},YW=t=>no([Me(Ji(),t.forceDrop),Me(dv(),t.drop),Me(pg(),(s,i)=>{t.move(i.event)}),Me(uv(),t.delayDrop)]);var XW=Object.freeze({__proto__:null,getData:t=>D.from(Ht(t.x,t.y)),getDelta:(t,s)=>Ht(s.left-t.left,s.top-t.top)});const ZL=(t,s,i)=>[Me(Ji(),(c,u)=>{if(u.event.raw.button!==0)return;u.stop();const m=()=>JL(c,D.some(A),t,s),b=CM(m,200),S={drop:m,delayDrop:b.schedule,forceDrop:m,move:M=>{b.cancel(),CA(c,t,s,XW,M)}},A=YL(c,t.blockerClass,YW(S));(()=>{i(c),yA(c,A)})()})],JW=[...vA,Oo("dragger",{handlers:SA(ZL)})],ZW=t=>no([Me(su(),t.forceDrop),Me(pp(),t.drop),Me(nS(),t.drop),Me(mp(),(s,i)=>{t.move(i.event)})]),QW=t=>{const s=t[0];return D.some(Ht(s.clientX,s.clientY))};var QL=Object.freeze({__proto__:null,getData:t=>{const i=t.raw.touches;return i.length===1?QW(i):D.none()},getDelta:(t,s)=>Ht(s.left-t.left,s.top-t.top)});const Ry=(t,s,i)=>{const c=So(),u=f=>{JL(f,c.get(),t,s),c.clear()};return[Me(su(),(f,m)=>{m.stop();const b=()=>u(f),S={drop:b,delayDrop:te,forceDrop:b,move:M=>{CA(f,t,s,QL,M)}},A=YL(f,t.blockerClass,ZW(S));c.set(A),(()=>{i(f),yA(f,A)})()}),Me(mp(),(f,m)=>{m.stop(),CA(f,t,s,QL,m.event)}),Me(pp(),(f,m)=>{m.stop(),u(f)}),Me(nS(),u)]},eG=[...vA,Oo("dragger",{handlers:SA(Ry)})],tG=(t,s,i)=>[...ZL(t,s,i),...Ry(t,s,i)],nG=[...vA,Oo("dragger",{handlers:SA(tG)})];var e$=Object.freeze({__proto__:null,mouse:JW,touch:eG,mouseOrTouch:nG}),oG=Object.freeze({__proto__:null,init:()=>{let t=D.none(),s=D.none();const i=()=>{t=D.none(),s=D.none()},c=(S,A)=>{const O=t.map(M=>S.getDelta(M,A));return t=D.some(A),O},u=(S,A)=>S.getData(A).bind(O=>c(S,O)),f=S=>{s=D.some(S)},m=()=>s,b=_({});return jr({readState:b,reset:i,update:u,getStartData:m,setStartData:f})}});const Am=cS({branchKey:"mode",branches:e$,name:"dragging",active:{events:(t,s)=>t.dragger.handlers(t,s)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:D.from(t.extra)})},state:oG,apis:zW}),wA=40,cC=wA/2,lC=(t,s,i,c,u,f)=>t.fold(()=>Am.snap({sensor:$d(i-cC,c-cC),range:Ht(u,f),output:$d(D.some(i),D.some(c)),extra:{td:s}}),m=>{const b=i-cC,S=c-cC,A=wA,O=wA,M=m.element.dom.getBoundingClientRect();return Am.snap({sensor:$d(b,S),range:Ht(A,O),output:$d(D.some(i-M.width/2),D.some(c-M.height/2)),extra:{td:s}})}),EA=(t,s,i)=>{const c=(u,f)=>u.exists(m=>Yn(m,f));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(u,f)=>{const m=f.td;c(s.get(),m)||(s.set(m),i(m))},mustSnap:!0}},t$=t=>Ln(ws.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:qe([Am.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),ph.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),sG=(t,s)=>{const i=Pt([]),c=Pt([]),u=Pt(!1),f=So(),m=So(),b=pt=>{const Re=sf(pt);return lC(z.getOpt(s),pt,Re.x,Re.y,Re.width,Re.height)},S=()=>We(i.get(),pt=>b(pt)),A=pt=>{const Re=sf(pt);return lC(q.getOpt(s),pt,Re.right,Re.bottom,Re.width,Re.height)},O=()=>We(c.get(),pt=>A(pt)),M=EA(S,f,pt=>{m.get().each(Re=>{t.dispatch("TableSelectorChange",{start:pt,finish:Re})})}),L=EA(O,m,pt=>{f.get().each(Re=>{t.dispatch("TableSelectorChange",{start:Re,finish:pt})})}),z=t$(M),q=t$(L),X=yr(z.asSpec()),fe=yr(q.asSpec()),Z=(pt,Re,gt,rt)=>{const xt=Re.dom.getBoundingClientRect();V(pt.element,"display");const yn=bl(nt.fromDom(t.getBody())).dom.innerHeight,ho=gt(xt),Fn=rt(xt,yn);(ho||Fn)&&rn(pt.element,"display","none")},ue=(pt,Re,gt,rt)=>{const xt=gt(Re);Am.snapTo(pt,xt),Z(pt,Re,Fn=>Fn[rt]<0,(Fn,St)=>Fn[rt]>St)},de=pt=>ue(X,pt,b,"top"),Ee=()=>f.get().each(de),_e=pt=>ue(fe,pt,A,"bottom"),Ze=()=>m.get().each(_e);if(Ne().deviceType.isTouch()){const pt=Re=>We(Re,nt.fromDom);t.on("TableSelectionChange",Re=>{u.get()||(If(s,X),If(s,fe),u.set(!0));const gt=nt.fromDom(Re.start),rt=nt.fromDom(Re.finish);f.set(gt),m.set(rt),D.from(Re.otherCells).each(xt=>{i.set(pt(xt.upOrLeftCells)),c.set(pt(xt.downOrRightCells)),de(gt),_e(rt)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{Ee(),Ze()}),t.on("TableSelectionClear",()=>{u.get()&&(fu(X),fu(fe),u.set(!1)),f.clear(),m.clear()})}};var rG=`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`;const iG=(t,s)=>{const i=D.from(an(t,"id")).getOrThunk(()=>{const c=yt("aria");return $t(s,"id",c),c});$t(t,"aria-describedby",i)},aG=t=>{_o(t,"aria-describedby")},cG=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",lG=(t,s,i)=>{var c;const u=(c=s.delimiter)!==null&&c!==void 0?c:"âº",f=(A,O,M)=>ws.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":M}},components:[Wo(A)],action:L=>{t.focus(),t.selection.select(O),t.nodeChanged()},buttonBehaviours:qe([Ko.config({...i.tooltips.getConfig({tooltipText:i.translate(["Select the {0} element",O.nodeName.toLowerCase()]),onShow:(L,z)=>{iG(L.element,z.element)},onHide:L=>{aG(L.element)}})}),ca.button(i.isDisabled),os(()=>i.checkUiComponentContext("any"))])}),m=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Wo(` ${u} `)]}),b=A=>rs(A,(O,M,L)=>{const z=f(M.name,M.element,L);return L===0?O.concat([z]):O.concat([m(),z])},[]),S=A=>{const O=[];let M=A.length;for(;M-- >0;){const L=A[M];if(L.nodeType===1&&!cG(L)){const z=jP(t,L);if(z.isDefaultPrevented()||O.push({name:z.name,element:L}),z.isPropagationStopped())break}}return O};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:qe([Rt.config({mode:"flow",selector:"div[role=button]"}),Ut.config({disabled:i.isDisabled}),os(()=>i.checkUiComponentContext("any")),Eo.config({}),Xt.config({}),sn("elementPathEvents",[ko((A,O)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Rt.focusIn(A)),t.on("NodeChange",M=>{const L=S(M.parents),z=L.length>0?b(L):[];Xt.set(A,z)})})])]),components:[]}};var jd;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(jd||(jd={}));const uG=(t,s,i,c,u)=>{const f={height:_m(c+s.top,Yf(t),H1(t))};return i===jd.Both&&(f.width=_m(u+s.left,r2(t),Xf(t))),f},n$=(t,s,i)=>{const c=nt.fromDom(t.getContainer()),u=uG(t,s,i,Be(c),Tn(c));Is(u,(f,m)=>{Ae(f)&&rn(c,m,Nh(f))}),wH(t)},dG=t=>{const s=CN(t);return s===!1?jd.None:s==="both"?jd.Both:jd.Vertical},uC=(t,s,i,c)=>{const f=Ht(i*20,c*20);return n$(t,f,s),D.some(!0)},fG=(t,s)=>{const i=dG(t);if(i===jd.None)return D.none();const c=i===jd.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return D.some(ia("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":s.translate(c),"data-mce-name":"resize-handle"},behaviours:[Am.config({mode:"mouse",repositionTarget:!1,onDrag:(u,f,m)=>n$(t,m,i),blockerClass:"tox-blocker"}),Rt.config({mode:"special",onLeft:()=>uC(t,i,-1,0),onRight:()=>uC(t,i,1,0),onUp:()=>uC(t,i,0,-1),onDown:()=>uC(t,i,0,1)}),Eo.config({}),zt.config({}),Ko.config(s.tooltips.getConfig({tooltipText:s.translate("Resize")}))]},s.icons))},mG=(t,s)=>{const i=(c,u,f)=>Xt.set(c,[Wo(s.translate(["{0} "+f,u[f]]))]);return ws.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:qe([ca.button(s.isDisabled),os(()=>s.checkUiComponentContext("any")),Eo.config({}),Xt.config({}),ft.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),sn("wordcount-events",[au(c=>{const u=ft.getValue(c),f=u.mode==="words"?"characters":"words";ft.setValue(c,{mode:f,count:u.count}),i(c,u.count,f)}),ko(c=>{t.on("wordCountUpdate",u=>{const{mode:f}=ft.getValue(c);ft.setValue(c,{mode:f,count:u.wordCount}),i(c,u.wordCount,f)})})])]),eventOrder:{[pi()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},o$=(t,s)=>{const i=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":t.translate(["Build with {0}","TinyMCE"])},innerHtml:t.translate(["Build with {0}",rG.trim()])},behaviours:qe([zt.config({})])}]}),c=()=>{const b=rE("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Wo($a.translate(["Press {0} for help",b]))]}},u=()=>{const b=[];return t.hasPlugin("wordcount")&&b.push(mG(t,s)),m2(t)&&b.push(i()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:b}},f=()=>{const b=[],S=wN(t),A=xN(t),O=m2(t)||t.hasPlugin("wordcount"),M=()=>{const L="tox-statusbar__text-container--flex-start",z="tox-statusbar__text-container--flex-end",q="tox-statusbar__text-container--space-around";if(S){const X="tox-statusbar__text-container-3-cols";return!O&&!A?[X,q]:O&&!A?[X,z]:[X,L]}return[O&&!A?z:L]};return A&&b.push(lG(t,{},s)),S&&b.push(c()),O&&b.push(u()),b.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...M()]},components:b}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const b=f(),S=fG(t,s);return b.concat(S.toArray())})()}},s$=(t,s)=>s.get().getOrDie(`UI for ${t} has not been rendered`),pG=(t,s)=>{const i=t.inline,c=i?UV:K0,u=vd(t)?YU:Sm,f=dL(),m=So(),b=So(),S=So(),L=Ne().deviceType.isTouch()?["tox-platform-touch"]:[],z=b2(t),q=yd(t),X=Ln({dom:{tag:"div",classes:["tox-anchorbar"]}}),fe=Ln({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),Z=()=>f.mainUi.get().map(Dt=>Dt.outerContainer).bind(lo.getHeader),ue=()=>bn.fromOption(f.dialogUi.get().map(Dt=>Dt.sink),"UI has not been rendered"),de=()=>bn.fromOption(f.popupUi.get().map(Dt=>Dt.sink),"(popup) UI has not been rendered"),Ee=f.lazyGetInOuterOrDie("anchor bar",X.getOpt),_e=f.lazyGetInOuterOrDie("bottom anchor bar",fe.getOpt),Ze=f.lazyGetInOuterOrDie("toolbar",lo.getToolbar),pt=f.lazyGetInOuterOrDie("throbber",lo.getThrobber),Re=FU({popup:de,dialog:ue},t,Ee,_e),gt=()=>{const Dt={attributes:{[$S]:z?du.BottomToTop:du.TopToBottom}},Qt=lo.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Re.popup,onEscape:()=>{t.focus()}}),ro=lo.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Re.popup.shared.getSink,providers:Re.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:ql=>{TH(t,ql)},type:q,lazyToolbar:Ze,lazyHeader:()=>Z().getOrDie("Could not find header element"),...Dt}),Jn=lo.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Re.popup.shared.providers,onEscape:()=>{t.focus()},type:q}),Ci=hb(t),$o=Y1(t),pa=q1(t),_r=G1(t),ha=rt(),ga=Ci||$o||pa,Oc=()=>Ci?[Jn]:$o?[ro]:[],By=_r?[ha,Qt]:[Qt];return lo.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(ga?[]:["tox-editor-header--empty"]),...Dt},components:on([pa?By:[],Oc(),vc(t)?[]:[X.asSpec()]]),sticky:vd(t),editor:t,sharedBackstage:Re.popup.shared})},rt=()=>lo.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),xt=()=>{const Dt=lo.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Qt=lo.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Dt,Qt]}},yn=()=>{const Dt=y2(t),Qt=Yn(Ea(),Dt)&&C(Dt,"display")==="grid",ro={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(L),attributes:{...$a.isRtl()?{dir:"rtl"}:{}}},behaviours:qe([Sr.config({useFixed:()=>u.isDocked(Z)})])},Jn={dom:{styles:{width:document.body.clientWidth+"px"}},events:no([Me(gp(),pa=>{rn(pa.element,"width",document.body.clientWidth+"px")})])},Ci=yr(Qo(ro,Qt?Jn:{})),$o=NE(Ci);return b.set($o),{sink:Ci,mothership:$o}},ho=()=>{const Dt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(L),attributes:{...$a.isRtl()?{dir:"rtl"}:{}}},behaviours:qe([Sr.config({useFixed:()=>u.isDocked(Z),getBounds:()=>s.getPopupSinkBounds()})])},Qt=yr(Dt),ro=NE(Qt);return S.set(ro),{sink:Qt,mothership:ro}},Fn=()=>{const Dt=gt(),Qt=xt(),ro=lo.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Re.popup}),Jn=lo.parts.viewWrapper({backstage:Re.popup}),Ci=vN(t)&&!i?D.some(o$(t,Re.popup.shared.providers)):D.none(),$o=on([z?[]:[Dt],i?[]:[Qt],z?[Dt]:[]]),pa=lo.parts.editorContainer({components:on([$o,i?[]:[fe.asSpec()]])}),_r=v2(t),ha={role:"application",...$a.isRtl()?{dir:"rtl"}:{},..._r?{"aria-hidden":"true"}:{}},ga=yr(lo.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(z?["tox-tinymce--toolbar-bottom"]:[]).concat(L),styles:{visibility:"hidden",..._r?{opacity:"0",border:"0"}:{}},attributes:ha},components:[pa,...i?[]:[Jn,...Ci.toArray()],ro],behaviours:qe([os(()=>Re.popup.shared.providers.checkUiComponentContext("any")),Ut.config({disableClass:"tox-tinymce--disabled"}),Rt.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Oc=NE(ga);return m.set(Oc),{mothership:Oc,outerContainer:ga}},St=Dt=>{const Qt=Nh($V(t)),ro=Nh(jV(t));return t.inline||(U("div","width",ro)&&rn(Dt.element,"width",ro),U("div","height",Qt)?rn(Dt.element,"height",Qt):rn(Dt.element,"height","400px")),Qt},ze=Dt=>{t.addShortcut("alt+F9","focus menubar",()=>{lo.focusMenubar(Dt)}),t.addShortcut("alt+F10","focus toolbar",()=>{lo.focusToolbar(Dt)}),t.addCommand("ToggleToolbarDrawer",(Qt,ro)=>{ro!=null&&ro.skipFocus?lo.toggleToolbarDrawerWithoutFocusing(Dt):lo.toggleToolbarDrawer(Dt)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>lo.isToolbarDrawerToggled(Dt))},st=Dt=>{const{mainUi:Qt,popupUi:ro,uiMotherships:Jn}=Dt;To(a2(t),(Im,jA)=>{t.ui.registry.addGroupToolbarButton(jA,Im)});const{buttons:Ci,menuItems:$o,contextToolbars:pa,sidebars:_r,views:ha}=t.ui.registry.getAll(),ga=X1(t),Oc={menuItems:$o,menus:TN(t),menubar:hN(t),toolbar:ga.getOrThunk(()=>z1(t)),allowToolbarGroups:q===ra.floating,buttons:Ci,sidebar:_r,views:ha};ze(Qt.outerContainer),$B(t,Qt.mothership,Jn),u.setup(t,Re.popup.shared,Z),OL(t,Re.popup),HL(t,Re.popup.shared.getSink,Re.popup),m_(t),QB(t,pt,Re.popup.shared),SL(t,pa,ro.sink,{backstage:Re.popup}),sG(t,ro.sink);const By=t.getElement(),ql=St(Qt.outerContainer),$A={targetNode:By,height:ql};return c.render(t,Dt,Oc,Re.popup,$A)},Gt=Dt=>(S.set(Dt.mothership),Dt),cn=()=>{const Dt=Fn(),Qt=yn(),ro=gu(t)?ho():Gt(Qt);f.dialogUi.set(Qt),f.popupUi.set(ro),f.mainUi.set(Dt);const Jn={popupUi:ro,dialogUi:Qt,mainUi:Dt,uiMotherships:f.getUiMotherships()};return st(Jn)};return{popups:{backstage:Re.popup,getMothership:()=>s$("popups",S)},dialogs:{backstage:Re.dialog,getMothership:()=>s$("dialogs",b)},renderUI:cn}},hG=t=>t.dom.textContent,gG=(t,s)=>{const i=Us(t,"id").fold(()=>{const c=yt("dialog-label");return $t(s,"id",c),c},At);$t(t,"aria-labelledby",i)},bG=_([Ie("lazySink"),Hn("dragBlockClass"),Mo("getBounds",Vs),ge("useTabstopAt",Ot),ge("firstTabstop",0),ge("eventOrder",{}),tr("modalBehaviours",[Rt]),Ur("onExecute"),Sg("onEscape")]),TA={sketch:At},yG=_([na({name:"draghandle",overrides:(t,s)=>({behaviours:qe([Am.config({mode:"mouse",getTarget:i=>$s(i,'[role="dialog"]').getOr(i),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(s,null,2)).message),getBounds:t.getDragBounds})])})}),Dr({schema:[Ie("dom")],name:"title"}),Dr({factory:TA,schema:[Ie("dom")],name:"close"}),Dr({factory:TA,schema:[Ie("dom")],name:"body"}),na({factory:TA,schema:[Ie("dom")],name:"footer"}),Ia({factory:{sketch:(t,s)=>({...t,dom:s.dom,components:s.components})},schema:[ge("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),ge("components",[])],name:"blocker"})]),vG=(t,s,i,c)=>{const u=So(),f=q=>{u.set(q);const X=t.lazySink(q).getOrDie(),fe=c.blocker(),Z=X.getSystem().build({...fe,components:fe.components.concat([ea(q)]),behaviours:qe([zt.config({}),sn("dialog-blocker-events",[Ju(zc(),()=>{ul.isBlocked(q)?te():Rt.focusIn(q)})])])});If(X,Z),Rt.focusIn(q)},m=q=>{u.clear(),Ca(q.element).each(X=>{q.getSystem().getByDom(X).each(fe=>{fu(fe)})})},b=q=>dt(q,t,"body"),S=q=>fo(q,t,"footer"),A=(q,X)=>{ul.block(q,X)},O=q=>{ul.unblock(q)},M=yt("modal-events"),L={...t.eventOrder,[Oa()]:[M].concat(t.eventOrder["alloy.system.attached"]||[])},z=Ne();return{uid:t.uid,dom:t.dom,components:s,apis:{show:f,hide:m,getBody:b,getFooter:S,setIdle:O,setBusy:A},eventOrder:L,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:nr(t.modalBehaviours,[Xt.config({}),Rt.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),ul.config({getRoot:u.get}),sn(M,[ko(q=>{const X=dt(q,t,"title").element,fe=hG(X);z.os.isMacOS()&&ae(fe)?$t(q.element,"aria-label",fe):gG(q.element,X)})])])}},Ts=Rr({name:"ModalDialog",configFields:bG(),partFields:yG(),factory:vG,apis:{show:(t,s)=>{t.show(s)},hide:(t,s)=>{t.hide(s)},getBody:(t,s)=>t.getBody(s),getFooter:(t,s)=>t.getFooter(s),setBusy:(t,s,i)=>{t.setBusy(s,i)},setIdle:(t,s)=>{t.setIdle(s)}}}),r$=Wt([as,W2].concat(Td)),xG=lc,Ny=[xx("button"),aa,$r("align","end",["start","end"]),vx,Sc,pk("buttonType",["primary","secondary"]),fs("context","mode:design")],_A=[...Ny,bu],AA=[Fr("type",["submit","cancel","custom"]),..._A],CG=[Fr("type",["menu"]),yu,Rb,aa,Xi("items",r$),...Ny],SG=[...Ny,Fr("type",["togglebutton"]),Rb,aa,yu,br("active",!1)],wG=qs("type",{submit:AA,cancel:AA,custom:AA,menu:CG,togglebutton:SG}),EG=[as,bu,Fr("level",["info","warn","error","success"]),dP,ge("url","")],TG=Wt(EG),Fh=t=>[as,t],_G=[as,bu,Sc,xx("button"),aa,q6,pk("buttonType",["primary","secondary","toolbar"]),vx,fs("context","mode:design")],AG=Wt(_G),Lh=[as,W2],dl=Lh.concat([q2]),kG=Lh.concat([G2,Sc,fs("context","mode:design")]),OG=Wt(kG),DG=lc,kA=dl.concat([gP("auto"),fs("context","mode:design")]),Py=Wt(kA),OA=GC([em,bu,dP]),dC=dl.concat([fs("storageKey","default"),fs("context","mode:design")]),km=Wt(dC),fC=lt,i$=Wt(dl),a$=lt,c$=Lh.concat([fs("tag","textarea"),Fs("scriptId"),Fs("scriptUrl"),Gu("onFocus"),JC("settings",void 0)]),RG=Lh.concat([fs("tag","textarea"),uc("init")]),NG=fg(t=>qo("customeditor.old",Yi(RG),t).orThunk(()=>qo("customeditor.new",Yi(c$),t))),PG=lt,l$=dl.concat([fs("context","mode:design")]),u$=Wt(l$),DA=cf(),MG=t=>[as,iv("columns"),t],IG=[as,Fs("html"),$r("presets","presentation",["presentation","document"]),Mo("onInit",te),br("stretched",!1)],BG=Wt(IG),d$=dl.concat([br("border",!1),br("sandboxed",!0),br("streamContent",!1),br("transparent",!0)]),FG=Wt(d$),LG=lt,$G=Wt(Lh.concat([Ls("height")])),RA=Wt([Fs("url"),mg("zoom"),mg("cachedWidth"),mg("cachedHeight")]),NA=dl.concat([Ls("inputMode"),Ls("placeholder"),br("maximized",!1),Sc,fs("context","mode:design")]),jG=Wt(NA),f$=lt,HG=t=>[as,G2,t,$r("align","start",["start","center","end"]),Ls("for")],UG=[bu,em],m$=[bu,Xi("items",lp("items",()=>p$))],p$=WC([Wt(UG),Wt(m$)]),zG=dl.concat([Xi("items",p$),Sc,fs("context","mode:design")]),Om=Wt(zG),h$=lt,VG=dl.concat([YC("items",[bu,em]),XC("size",1),Sc,fs("context","mode:design")]),mC=Wt(VG),$h=lt,pC=dl.concat([br("constrain",!0),Sc,fs("context","mode:design")]),g$=Wt(pC),My=Wt([Fs("width"),Fs("height")]),yi=Lh.concat([G2,XC("min",0),XC("max",0)]),hC=Wt(yi),b$=af,y$=[as,Xi("header",lt),Xi("cells",Aa(lt))],WG=Wt(y$),GG=dl.concat([Ls("placeholder"),br("maximized",!1),Sc,fs("context","mode:design")]),Hd=Wt(GG),uY=lt,v$=[Fr("type",["directory","leaf"]),uP,Fs("id"),wl("menu",d_),Ls("customStateIcon"),Ls("customStateIconTooltip")],Dm=Wt(v$),gC=v$.concat([Xi("children",lp("children",()=>ap("type",{directory:PA,leaf:Dm})))]),PA=Wt(gC),KG=ap("type",{directory:PA,leaf:Dm}),YG=[as,Xi("items",KG),Gu("onLeafAction"),Gu("onToggleExpand"),qu("defaultExpandedIds",[],lt),Ls("defaultSelectedId")],XG=Wt(YG),JG=dl.concat([$r("filetype","file",["image","media","file"]),Sc,Ls("picker_text"),fs("context","mode:design")]),jh=Wt(JG),dY=Wt([em,Y2]),MA=t=>Ks("items","items",jc(),Aa(fg(s=>qo(`Checking item of ${t}`,IA,s).fold(i=>bn.error(cp(i)),i=>bn.value(i))))),IA=Bs(()=>ap("type",{alertbanner:TG,bar:Wt(Fh(MA("bar"))),button:AG,checkbox:OG,colorinput:km,colorpicker:i$,dropzone:u$,grid:Wt(MG(MA("grid"))),iframe:FG,input:jG,listbox:Om,selectbox:mC,sizeinput:g$,slider:hC,textarea:Hd,urlinput:jh,customeditor:NG,htmlpanel:BG,imagepreview:$G,collection:Py,label:Wt(HG(MA("label"))),table:WG,tree:XG,panel:x$})),fY=[as,ge("classes",[]),Xi("items",IA)],x$=Wt(fY),ZG=[xx("tab"),uP,Xi("items",IA)],Iy=[as,YC("tabs",ZG)],QG=Wt(Iy),eq=_A,C$=wG,tq=Wt([Fs("title"),qn("body",ap("type",{panel:x$,tabpanel:QG})),fs("size","normal"),qu("buttons",[],C$),ge("initialData",{}),Mo("onAction",te),Mo("onChange",te),Mo("onSubmit",te),Mo("onClose",te),Mo("onCancel",te),Mo("onTabChange",te)]),mY=t=>qo("dialog",tq,t),e=Wt([Fr("type",["cancel","custom"]),...eq]),n=Wt([Fs("title"),Fs("url"),mg("height"),mg("width"),av("buttons",e),Mo("onAction",te),Mo("onCancel",te),Mo("onClose",te),Mo("onMessage",te)]),o=t=>qo("dialog",n,t),r=t=>J(t)?[t].concat(De(Wh(t),r)):oe(t)?De(t,r):[],a=t=>j(t.type)&&j(t.name),l={checkbox:DG,colorinput:fC,colorpicker:a$,dropzone:DA,input:f$,iframe:LG,imagepreview:RA,selectbox:$h,sizeinput:My,slider:b$,listbox:h$,size:My,textarea:uY,urlinput:dY,customeditor:PG,collection:OA,togglemenuitem:xG},d=t=>D.from(l[t.type]),p=t=>eo(r(t),a),y=t=>{const s=p(t),i=De(s,c=>d(c).fold(()=>[],u=>[qn(c.name,u)]));return Wt(i)},T=t=>{var s;const i=Ve(mY(t)),c=y(t),u=(s=t.initialData)!==null&&s!==void 0?s:{};return{internalDialog:i,dataValidator:c,initialData:u}},N={open:(t,s)=>{const i=T(s);return t(i.internalDialog,i.initialData,i.dataValidator)},openUrl:(t,s)=>{const i=Ve(o(s));return t(i)},redial:t=>T(t)};var F=Object.freeze({__proto__:null,events:(t,s)=>{const i=(c,u)=>{t.updateState.each(f=>{const m=f(c,u);s.set(m)}),t.renderComponents.each(f=>{const m=f(u,s.get());(t.reuseDom?Jp:$R)(c,m)})};return no([Me(Ku(),(c,u)=>{const f=u;if(!f.universal){const m=t.channel;uo(f.channels,m)&&i(c,f.data)}}),ko((c,u)=>{t.initialData.each(f=>{i(c,f)})})])}}),K=Object.freeze({__proto__:null,getState:(t,s,i)=>i}),G=[Ie("channel"),Hn("renderComponents"),Hn("updateState"),Hn("initialData"),br("reuseDom",!0)],se=Object.freeze({__proto__:null,init:()=>{const t=Pt(D.none()),s=()=>t.set(D.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:s}}});const le=Js({fields:G,name:"reflecting",active:F,apis:K,state:se}),pe=t=>{const s=[],i={};return Is(t,(c,u)=>{c.fold(()=>{s.push(u)},f=>{i[u]=f})}),s.length>0?bn.error(s):bn.value(i)},he=(t,s,i,c)=>{const u=Ln(bm.sketch(f=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:We(t.items,m=>oU(f,m,s,i,c))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[u.asSpec()]}],behaviours:qe([Rt.config({mode:"acyclic",useTabstopAt:Je(cy)}),Va.memento(u),j9(u,{postprocess:f=>pe(f).fold(m=>(console.error(m),{}),At)}),sn("dialog-body-panel",[Me(zc(),(f,m)=>{f.getSystem().broadcastOn([r0],{newFocus:D.some(m.event.target)})})])])}},$e=(t,s)=>({uid:t.uid,dom:t.dom,components:t.components,events:db(t.action),behaviours:nr(t.tabButtonBehaviours,[zt.config({}),Rt.config({mode:"execution",useSpace:!0,useEnter:!0}),ft.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),Ge=Ba({name:"TabButton",configFields:[ge("uid",void 0),Ie("value"),Ks("dom","dom",LC(()=>({attributes:{role:"tab",id:yt("aria"),"aria-selected":"false"}})),cc()),Hn("action"),ge("domModification",{}),tr("tabButtonBehaviours",[zt,Rt,ft]),Ie("view")],factory:$e}),ut=_([Ie("tabs"),Ie("dom"),ge("clickToDismiss",!1),tr("tabbarBehaviours",[zn,Rt]),lu(["tabClass","selectedClass"])]),Oe=Jg({factory:Ge,name:"tabs",unit:"tab",overrides:t=>{const s=(c,u)=>{zn.dehighlight(c,u),Et(c,Tk(),{tabbar:c,button:u})},i=(c,u)=>{zn.highlight(c,u),Et(c,Ek(),{tabbar:c,button:u})};return{action:c=>{const u=c.getSystem().getByUid(t.uid).getOrDie(),f=zn.isHighlighted(u,c);(f&&t.clickToDismiss?s:f?te:i)(u,c)},domModification:{classes:[t.markers.tabClass]}}}}),Se=_([Oe]),He=(t,s,i,c)=>({uid:t.uid,dom:t.dom,components:s,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:nr(t.tabbarBehaviours,[zn.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(u,f)=>{$t(f.element,"aria-selected","true")},onDehighlight:(u,f)=>{$t(f.element,"aria-selected","false")}}),Rt.config({mode:"flow",getInitial:u=>zn.getHighlighted(u).map(f=>f.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),mt=Rr({name:"Tabbar",configFields:ut(),partFields:Se(),factory:He}),kt=(t,s)=>({uid:t.uid,dom:t.dom,behaviours:nr(t.tabviewBehaviours,[Xt.config({})]),domModification:{attributes:{role:"tabpanel"}}}),mn=Ba({name:"Tabview",configFields:[tr("tabviewBehaviours",[Xt])],factory:kt}),pn=_([ge("selectFirst",!0),kn("onChangeTab"),kn("onDismissTab"),ge("tabs",[]),tr("tabSectionBehaviours",[])]),Vn=Dr({factory:mt,schema:[Ie("dom"),Wu("markers",[Ie("tabClass"),Ie("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),to=Dr({factory:mn,name:"tabview"}),ts=_([Vn,to]),mr=(t,s,i,c)=>{const u=m=>{const b=ft.getValue(m);fo(m,t,"tabview").each(S=>{en(t.tabs,O=>O.value===b).each(O=>{const M=O.view();Us(m.element,"id").each(L=>{$t(S.element,"aria-labelledby",L)}),Xt.set(S,M),t.onChangeTab(S,m,M)})})},f=(m,b)=>{fo(m,t,"tabbar").each(S=>{b(S).each(Xu)})};return{uid:t.uid,dom:t.dom,components:s,behaviours:l1(t.tabSectionBehaviours),events:no(on([t.selectFirst?[ko((m,b)=>{f(m,zn.getFirst)})]:[],[Me(Ek(),(m,b)=>{const S=b.event.button;u(S)}),Me(Tk(),(m,b)=>{const S=b.event.button;t.onDismissTab(m,S)})]])),apis:{getViewItems:m=>fo(m,t,"tabview").map(b=>Xt.contents(b)).getOr([]),showTab:(m,b)=>{f(m,A=>{const O=zn.getCandidates(A);return en(O,L=>ft.getValue(L)===b).filter(L=>!zn.isHighlighted(A,L))})}}}},ss=Rr({name:"TabSection",configFields:pn(),partFields:ts(),factory:mr,apis:{getViewItems:(t,s)=>t.getViewItems(s),showTab:(t,s,i)=>{t.showTab(s,i)}}}),et=(t,s,i)=>We(t,(c,u)=>{Xt.set(i,t[u].view());const f=s.dom.getBoundingClientRect();return Xt.set(i,[]),f.height}),_t=t=>Yt(Yl(t,(s,i)=>s>i?-1:s<i?1:0)),In=(t,s,i)=>{const c=rc(t).dom,u=$s(t,".tox-dialog-wrap").getOr(t),f=C(u,"position")==="fixed";let m;f?m=Math.max(c.clientHeight,window.innerHeight):m=Math.max(c.offsetHeight,c.scrollHeight);const b=Be(s),A=s.dom.offsetLeft>=i.dom.offsetLeft+Tn(i)?Math.max(Be(i),b):b,O=parseInt(C(t,"margin-top"),10)||0,M=parseInt(C(t,"margin-bottom"),10)||0,z=Be(t)+O+M-A;return m-z},ct=(t,s)=>{Yt(t).each(i=>ss.showTab(s,i.value))},Ft=(t,s)=>{rn(t,"height",s+"px"),rn(t,"flex-basis",s+"px")},jt=(t,s,i)=>{$s(t,'[role="dialog"]').each(c=>{Bo(c,'[role="tablist"]').each(u=>{i.get().map(f=>(rn(s,"height","0"),rn(s,"flex-basis","0"),Math.min(f,In(c,s,u)))).each(f=>{Ft(s,f)})})})},ot=t=>Bo(t,'[role="tabpanel"]'),hn=t=>{const s=So();return{extraEvents:[ko(u=>{const f=u.element;ot(f).each(m=>{rn(m,"visibility","hidden"),u.getSystem().getByDom(m).toOptional().each(b=>{const S=et(t,m,b);_t(S).fold(s.clear,s.set)}),jt(f,m,s),V(m,"visibility"),ct(t,u),requestAnimationFrame(()=>{jt(f,m,s)})})}),Me(gp(),u=>{const f=u.element;ot(f).each(m=>{jt(f,m,s)})}),Me(OM,(u,f)=>{const m=u.element;ot(m).each(b=>{const S=Pl(gr(b));rn(b,"visibility","hidden");const A=P(b,"height").map(L=>parseInt(L,10));V(b,"height"),V(b,"flex-basis");const O=b.dom.getBoundingClientRect().height;A.forall(L=>O>L)?(s.set(O),jt(m,b,s)):A.each(L=>{Ft(b,L)}),V(b,"visibility"),S.each(Ra)})})],selectFirst:!1}},xn="send-data-to-section",hs="send-data-to-view",ao=(t,s,i,c)=>{const u=Pt({}),f=O=>{const M=ft.getValue(O),L=pe(M).getOr({}),z=u.get(),q=Qo(z,L);u.set(q)},m=O=>{const M=u.get();ft.setValue(O,M)},b=Pt(null),S=We(t.tabs,O=>({value:O.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Wo(i.shared.providers.translate(O.title))],view:()=>[bm.sketch(M=>({dom:{tag:"div",classes:["tox-form"]},components:We(O.items,L=>oU(M,L,s,i,c)),formBehaviours:qe([Rt.config({mode:"acyclic",useTabstopAt:Je(cy)}),sn("TabView.form.events",[ko(m),Al(f)]),Ni.config({channels:up([{key:xn,value:{onReceive:f}},{key:hs,value:{onReceive:m}}])})])}))]})),A=hn(S);return ss.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(O,M,L)=>{const z=ft.getValue(M);Et(O,kM,{name:z,oldName:b.get()}),b.set(z)},tabs:S,components:[ss.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[mt.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:qe([Eo.config({})])}),ss.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:A.selectFirst,tabSectionBehaviours:qe([sn("tabpanel",A.extraEvents),Rt.config({mode:"acyclic"}),_n.config({find:O=>Yt(ss.getViewItems(O))}),ym(D.none(),O=>(O.getSystem().broadcastOn([xn],{}),u.get()),(O,M)=>{u.set(M),O.getSystem().broadcastOn([hs],{})})])})},pr=(t,s,i,c,u,f)=>{const m=A=>{const O=A.body;switch(O.type){case"tabpanel":return[ao(O,A.initialData,c,f)];default:return[he(O,A.initialData,c,f)]}},b=(A,O)=>D.some({isTabPanel:()=>O.body.type==="tabpanel"}),S={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...i.map(A=>({id:A})).getOr({}),...u?S:{}}},components:[],behaviours:qe([Va.childAt(0),le.config({channel:`${bT}-${s}`,updateState:b,renderComponents:m,initialData:t})])}},vi=(t,s,i,c,u,f)=>pr(t,s,D.some(i),c,u,f),fl=(t,s,i,c)=>{const u=pr(t,s,D.none(),i,!1,c);return Ts.parts.body(u)},Mr=t=>{const s={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[hT(D.none(),{dom:{tag:"iframe",attributes:{src:t.url}},behaviours:qe([Eo.config({}),zt.config({})])})]}],behaviours:qe([Rt.config({mode:"acyclic",useTabstopAt:Je(cy)})])};return Ts.parts.body(s)},ma=Kf.deviceType.isTouch(),Xa=(t,s)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,s]}),Er=(t,s)=>Ts.parts.close(ws.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":s.translate("Close")}},action:t,buttonBehaviours:qe([Eo.config({})])})),xi=()=>Ts.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),Tt=(t,s)=>Ts.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Qc(`<p>${FN(s.translate(t))}</p>`)}]}]}),On=t=>Ts.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),Yo=(t,s)=>[il.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),il.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:s})],gs=t=>{const s="tox-dialog",i=s+"-wrap",c=i+"__backdrop",u=s+"__disable-scroll";return Ts.sketch({lazySink:t.lazySink,onEscape:f=>(t.onEscape(f),D.some(!0)),useTabstopAt:f=>!cy(f),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[s].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:Qc(`<div class="${i}"></div>`),components:[{dom:{tag:"div",classes:ma?[c,c+"--opaque"]:[c]}}]}},dragBlockClass:i,modalBehaviours:qe([zt.config({}),sn("dialog-events",t.dialogEvents.concat([Ju(zc(),(f,m)=>{ul.isBlocked(f)?te():Rt.focusIn(f)}),Me(bv(),(f,m)=>{f.getSystem().broadcastOn([r0],{newFocus:m.event.newFocus})})])),sn("scroll-lock",[ko(()=>{ps(Ea(),u)}),Al(()=>{Io(Ea(),u)})]),...t.extraBehaviours]),eventOrder:{[pi()]:["dialog-events"],[Oa()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[iu()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},Ns=t=>ws.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:qe([Eo.config({}),Ko.config(t.tooltips.getConfig({tooltipText:t.translate("Close")}))]),components:[ia("close",{tag:"span",classes:["tox-icon"]},t.icons)],action:s=>{Sn(s,Dd)}}),bs=(t,s,i,c)=>{const u=f=>[Wo(c.translate(f.title))];return{dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...i.map(f=>({id:f})).getOr({})}},components:[],behaviours:qe([le.config({channel:`${TI}-${s}`,initialData:t,renderComponents:u})])}},Lo=()=>({dom:Qc('<div class="tox-dialog__draghandle"></div>')}),Go=(t,s,i,c)=>il.sketch({dom:Qc('<div class="tox-dialog__header"></div>'),components:[bs(t,s,D.some(i),c),Lo(),Ns(c)],containerBehaviours:qe([Am.config({mode:"mouse",blockerClass:"blocker",getTarget:u=>Rl(u,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),ti=(t,s,i)=>{const c=Ts.parts.title(bs(t,s,D.none(),i)),u=Ts.parts.draghandle(Lo()),f=Ts.parts.close(Ns(i)),m=[c].concat(t.draggable?[u]:[]).concat([f]);return il.sketch({dom:Qc('<div class="tox-dialog__header"></div>'),components:m})},Ja=(t,s,i)=>ti({title:i.shared.providers.translate(t),draggable:i.dialog.isDraggableModal()},s,i.shared.providers),ml=(t,s,i,c)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${c.getOr(0)}px`,position:"absolute"}},behaviours:s,components:[{dom:Qc('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),kc=(t,s,i)=>({onClose:()=>i.closeWindow(),onBlock:c=>{const u=Bo(t().element,".tox-dialog__header").map(f=>Be(f));Ts.setBusy(t(),(f,m)=>ml(c.message,m,s,u))},onUnblock:()=>{Ts.setIdle(t())}}),Rm="tox-dialog--fullscreen",Ud="tox-dialog--width-lg",Tu="tox-dialog--width-md",Hi=t=>{switch(t){case"large":return D.some(Ud);case"medium":return D.some(Tu);default:return D.none()}},_u=(t,s)=>{const i=nt.fromDom(s.element.dom);Yr(i,Rm)||(Wc(i,[Ud,Tu]),Hi(t).each(c=>ps(i,c)))},Hh=(t,s)=>{const i=nt.fromDom(t.element.dom),c=A3(i),u=en(c,f=>f===Ud||f===Tu).or(Hi(s));Uq(i,[Rm,...u.toArray()])},Nm=(t,s,i)=>yr(gs({...t,firstTabstop:1,lazySink:i.shared.getSink,extraBehaviours:[iy({}),...t.extraBehaviours],onEscape:c=>{Sn(c,Dd)},dialogEvents:s,eventOrder:{[Ku()]:[le.name(),Ni.name()],[Oa()]:["scroll-lock",le.name(),"messages","dialog-events","alloy.base.behaviour"],[iu()]:["alloy.base.behaviour","dialog-events","messages",le.name(),"scroll-lock"]}})),bC=(t,s={})=>{const i=c=>{const u=We(c.items,f=>{const m=at(s,f.name).getOr(Pt(!1));return{...f,storage:m}});return{...c,items:u}};return We(t,c=>c.type==="menu"?i(c):c)},Pm=t=>rs(t,(s,i)=>i.type==="menu"?rs(i.items,(u,f)=>(u[f.name]=f.storage,u),s):s,{}),BA=(t,s)=>[wv(zc(),Y9),t(Xb,(i,c,u,f)=>{Rp(f.element)&&Pl(gr(f.element)).each(Dg),s.onClose(),c.onClose()}),t(Dd,(i,c,u,f)=>{c.onCancel(i),Sn(f,Xb)}),Me(IE,(i,c)=>s.onUnblock()),Me(Ux,(i,c)=>s.onBlock(c.event))],S$=(t,s)=>{const i=(u,f)=>Me(u,(m,b)=>{c(m,(S,A)=>{f(t(),S,b.event,m)})}),c=(u,f)=>{le.getState(u).get().each(m=>{f(m,u)})};return[...BA(i,s),i(Hl,(u,f,m)=>{f.onAction(u,{name:m.name})})]},Tr=(t,s,i)=>{const c=(f,m)=>Me(f,(b,S)=>{u(b,(A,O)=>{m(t(),A,S.event,b)})}),u=(f,m)=>{le.getState(f).get().each(b=>{m(b.internalDialog,f)})};return[...BA(c,s),c(mh,(f,m)=>m.onSubmit(f)),c(gi,(f,m,b)=>{m.onChange(f,{name:b.name})}),c(Hl,(f,m,b,S)=>{const A=()=>S.getSystem().isConnected()?Rt.focusIn(S):void 0,O=z=>sg(z,"disabled")||Us(z,"aria-disabled").exists(q=>q==="true"),M=gr(S.element),L=Pl(M);m.onAction(f,{name:b.name,value:b.value}),Pl(M).fold(A,z=>{O(z)||L.exists(q=>Zd(z,q)&&O(q))?A():i().toOptional().filter(q=>!Zd(q.element,z)).each(A)})}),c(kM,(f,m,b)=>{m.onTabChange(f,{newTabName:b.name,oldTabName:b.oldName})}),Al(f=>{const m=t();ft.setValue(f,m.getData())})]},Za=(t,s)=>Sh(t,t.type,s),yC=(t,s,i)=>en(s,c=>c.name===i).bind(c=>c.memento.getOpt(t)),xe=(t,s)=>{const i=s.map(b=>b.footerButtons).getOr([]),c=Kd(i,b=>b.align==="start"),u=(b,S)=>il.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${b}`]},components:We(S,A=>A.memento.asSpec())}),f=u("start",c.pass),m=u("end",c.fail);return[f,m]},ve=(t,s,i)=>{const c=(u,f)=>{const m=We(f.buttons,S=>{const A=Ln(Za(S,i));return{name:S.name,align:S.align,memento:A}}),b=S=>yC(u,m,S);return D.some({lookupByName:b,footerButtons:m})};return{dom:Qc('<div class="tox-dialog__footer"></div>'),components:[],behaviours:qe([le.config({channel:`${_I}-${s}`,initialData:t,updateState:c,renderComponents:xe})])}},tt=(t,s,i)=>ve(t,s,i),Ke=(t,s,i)=>Ts.parts.footer(ve(t,s,i)),Bt=(t,s)=>{if(t.getRoot().getSystem().isConnected()){const c=_n.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return bm.getField(c,s).orThunk(()=>t.getFooter().bind(m=>le.getState(m).get()).bind(m=>m.lookupByName(s)))}else return D.none()},Bn=(t,s)=>{const i=t.getRoot();return le.getState(i).get().map(c=>Ve(qo("data",c.dataValidator,s))).getOr(s)},Xo=(t,s,i)=>{const c=q=>{const X=t.getRoot();X.getSystem().isConnected()&&q(X)},z={getData:()=>{const q=t.getRoot(),X=q.getSystem().isConnected()?t.getFormWrapper():q,fe=ft.getValue(X),Z=To(i,ue=>ue.get());return{...fe,...Z}},setData:q=>{c(X=>{const fe=z.getData(),Z=Qo(fe,q),ue=Bn(t,Z),de=t.getFormWrapper();ft.setValue(de,ue),Is(i,(Ee,_e)=>{jn(Z,_e)&&Ee.set(Z[_e])})})},setEnabled:(q,X)=>{Bt(t,q).each(X?Ut.enable:Ut.disable)},focus:q=>{Bt(t,q).each(zt.focus)},block:q=>{if(!j(q))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");c(X=>{Et(X,Ux,{message:q})})},unblock:()=>{c(q=>{Sn(q,IE)})},showTab:q=>{c(X=>{const fe=t.getBody();le.getState(fe).get().exists(ue=>ue.isTabPanel())&&_n.getCurrent(fe).each(ue=>{ss.showTab(ue,q)})})},redial:q=>{c(X=>{const fe=t.getId(),Z=s(q),ue=bC(Z.internalDialog.buttons,i);X.getSystem().broadcastOn([`${s0}-${fe}`],Z),X.getSystem().broadcastOn([`${TI}-${fe}`],Z.internalDialog),X.getSystem().broadcastOn([`${bT}-${fe}`],Z.internalDialog),X.getSystem().broadcastOn([`${_I}-${fe}`],{...Z.internalDialog,buttons:ue}),z.setData(Z.initialData)})},close:()=>{c(q=>{Sn(q,Xb)})},toggleFullscreen:t.toggleFullscreen};return z},pl=(t,s,i)=>{const c=yt("dialog"),u=t.internalDialog,f=Ja(u.title,c,i),m=Pt(u.size),b=de=>Bt(Z,de),S=Hi(m.get()).toArray(),A=(de,Ee)=>(m.set(Ee.internalDialog.size),_u(Ee.internalDialog.size,de),D.some(Ee)),O=fl({body:u.body,initialData:u.initialData},c,i,b),M=bC(u.buttons),L=Pm(M),z=Lt(M.length!==0,Ke({buttons:M},c,i)),q=Tr(()=>ue,kc(()=>fe,i.shared.providers,s),i.shared.getSink),X={id:c,header:f,body:O,footer:z,extraClasses:S,extraBehaviours:[le.config({channel:`${s0}-${c}`,updateState:A,initialData:t})],extraStyles:{}},fe=Nm(X,q,i),Z=(()=>{const de=()=>{const _e=Ts.getBody(fe);return _n.getCurrent(_e).getOr(_e)},Ee=()=>{Hh(fe,m.get())};return{getId:_(c),getRoot:_(fe),getBody:()=>Ts.getBody(fe),getFooter:()=>Ts.getFooter(fe),getFormWrapper:de,toggleFullscreen:Ee}})(),ue=Xo(Z,s.redial,L);return{dialog:fe,instanceApi:ue}},Qa=(t,s,i,c=!1,u)=>{const f=yt("dialog"),m=yt("dialog-label"),b=yt("dialog-content"),S=t.internalDialog,A=gt=>Bt(pt,gt),O=Pt(S.size),M=Hi(O.get()).toArray(),L=(gt,rt)=>(O.set(rt.internalDialog.size),_u(rt.internalDialog.size,gt),u(),D.some(rt)),z=Ln(Go({title:S.title,draggable:!0},f,m,i.shared.providers)),q=Ln(vi({body:S.body,initialData:S.initialData},f,b,i,c,A)),X=bC(S.buttons),fe=Pm(X),Z=Lt(X.length!==0,Ln(tt({buttons:X},f,i))),ue=Tr(()=>Re,{onBlock:gt=>{ul.block(_e,(rt,xt)=>{const yn=z.getOpt(_e).map(ho=>Be(ho.element));return ml(gt.message,xt,i.shared.providers,yn)})},onUnblock:()=>{ul.unblock(_e)},onClose:()=>s.closeWindow()},i.shared.getSink),de="tox-dialog-inline",Ee=Ne().os,_e=yr({dom:{tag:"div",classes:["tox-dialog",de,...M],attributes:{role:"dialog",...Ee.isMacOS()?{"aria-label":S.title}:{"aria-labelledby":m}}},eventOrder:{[Ku()]:[le.name(),Ni.name()],[pi()]:["execute-on-form"],[Oa()]:["reflecting","execute-on-form"]},behaviours:qe([Rt.config({mode:"cyclic",onEscape:gt=>(Sn(gt,Xb),D.some(!0)),useTabstopAt:gt=>!cy(gt)&&(ds(gt)!=="button"||an(gt,"disabled")!=="disabled"),firstTabstop:1}),le.config({channel:`${s0}-${f}`,updateState:L,initialData:t}),zt.config({}),sn("execute-on-form",ue.concat([Ju(zc(),(gt,rt)=>{Rt.focusIn(gt)}),Me(bv(),(gt,rt)=>{gt.getSystem().broadcastOn([r0],{newFocus:rt.event.newFocus})})])),ul.config({getRoot:()=>D.some(_e)}),Xt.config({}),iy({})]),components:[z.asSpec(),q.asSpec(),...Z.map(gt=>gt.asSpec()).toArray()]}),Ze=()=>{Hh(_e,O.get())},pt={getId:_(f),getRoot:_(_e),getFooter:()=>Z.map(gt=>gt.get(_e)),getBody:()=>q.get(_e),getFormWrapper:()=>{const gt=q.get(_e);return _n.getCurrent(gt).getOr(gt)},toggleFullscreen:Ze},Re=Xo(pt,s.redial,fe);return{dialog:_e,instanceApi:Re}};var Mm=tinymce.util.Tools.resolve("tinymce.util.URI");const w$=t=>{const s=m=>{t.getSystem().isConnected()&&m(t)};return{block:m=>{if(!j(m))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(b=>{Et(b,Ux,{message:m})})},unblock:()=>{s(m=>{Sn(m,IE)})},close:()=>{s(m=>{Sn(m,Xb)})},sendMessage:m=>{s(b=>{b.getSystem().broadcastOn([yT],m)})}}},E$=["insertContent","setContent","execCommand","close","block","unblock"],FA=t=>J(t)&&E$.indexOf(t.mceAction)!==-1,T$=t=>!FA(t)&&J(t)&&jn(t,"mceAction"),Au=(t,s,i)=>{switch(i.mceAction){case"insertContent":t.insertContent(i.content);break;case"setContent":t.setContent(i.content);break;case"execCommand":const c=Ce(i.ui)?i.ui:!1;t.execCommand(i.cmd,c,i.value);break;case"close":s.close();break;case"block":s.block(i.message);break;case"unblock":s.unblock();break}},_$=(t,s,i,c)=>{const u=yt("dialog"),f=Ja(t.title,u,c),m=Mr(t),b=t.buttons.bind(de=>de.length===0?D.none():D.some(Ke({buttons:de},u,c))),S=S$(()=>ue,kc(()=>Z,c.shared.providers,s)),A={...t.height.fold(()=>({}),de=>({height:de+"px","max-height":de+"px"})),...t.width.fold(()=>({}),de=>({width:de+"px","max-width":de+"px"}))},O=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],M=new Mm(t.url,{base_uri:new Mm(window.location.href)}),L=`${M.protocol}://${M.host}${M.port?":"+M.port:""}`,z=ac(),q=(de,Ee)=>D.some(Ee),X=[le.config({channel:`${s0}-${u}`,updateState:q,initialData:t}),sn("messages",[ko(()=>{const de=Xr(nt.fromDom(window),"message",Ee=>{if(M.isSameOrigin(new Mm(Ee.raw.origin))){const _e=Ee.raw.data;FA(_e)?Au(i,ue,_e):T$(_e)&&t.onMessage(ue,_e)}});z.set(de)}),Al(z.clear)]),Ni.config({channels:{[yT]:{onReceive:(de,Ee)=>{Bo(de.element,"iframe").each(_e=>{const Ze=_e.dom.contentWindow;ae(Ze)&&Ze.postMessage(Ee,L)})}}}})],Z=Nm({id:u,header:f,body:m,footer:b,extraClasses:O,extraBehaviours:X,extraStyles:A},S,c),ue=w$(Z);return{dialog:Z,instanceApi:ue}},A$=t=>{const s=t.shared;return{open:(c,u)=>{const f=()=>{Ts.hide(A),u()},m=Ln(Sh({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:D.some("primary"),align:"end",enabled:!0,icon:D.none()},"cancel",t)),b=xi(),S=Er(f,s.providers),A=yr(gs({lazySink:()=>s.getSink(),header:Xa(b,S),body:Tt(c,s.providers),footer:D.some(On(Yo([],[m.asSpec()]))),onEscape:f,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Me(Dd,f)],eventOrder:{}}));Ts.show(A);const O=m.get(A);zt.focus(O)}}},k$=t=>{const s=t.shared;return{open:(c,u)=>{const f=L=>{Ts.hide(O),u(L)},m=Ln(Sh({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:D.some("primary"),align:"end",enabled:!0,icon:D.none()},"submit",t)),b=Sh({context:"any",name:"no",text:"No",primary:!1,buttonType:D.some("secondary"),align:"end",enabled:!0,icon:D.none()},"cancel",t),S=xi(),A=Er(()=>f(!1),s.providers),O=yr(gs({lazySink:()=>s.getSink(),header:Xa(S,A),body:Tt(c,s.providers),footer:D.some(On(Yo([],[b,m.asSpec()]))),onEscape:()=>f(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Me(Dd,()=>f(!1)),Me(mh,()=>f(!0))],eventOrder:{}}));Ts.show(O);const M=m.get(O);zt.focus(M)}}},LA=(t,s)=>Ve(qo("data",s,t)),O$=t=>Kb(t,".tox-alert-dialog")||Kb(t,".tox-confirm-dialog"),Cn=(t,s,i)=>s&&i?[]:[wo.config({contextual:{lazyContext:()=>D.some(is(nt.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:c=>xd(t,c.element).map(f=>({bounds:Cd(f),optScrollEnv:D.some({currentScrollTop:f.element.dom.scrollTop,scrollElmTop:Do(f.element).top})})).getOrThunk(()=>({bounds:Vs(),optScrollEnv:D.none()}))})],we=t=>{const s=t.editor,i=vd(s),c=A$(t.backstages.dialog),u=k$(t.backstages.dialog),f=(q,X,fe)=>{if(!Le(X)){if(X.inline==="toolbar")return A(q,t.backstages.popup.shared.anchors.inlineDialog(),fe,X);if(X.inline==="bottom")return O(q,t.backstages.popup.shared.anchors.inlineBottomDialog(),fe,X);if(X.inline==="cursor")return A(q,t.backstages.popup.shared.anchors.cursor(),fe,X)}return S(q,fe)},m=(q,X)=>b(q,X),b=(q,X)=>{const fe=Z=>{const ue=_$(Z,{closeWindow:()=>{Ts.hide(ue.dialog),X(ue.instanceApi)}},s,t.backstages.dialog);return Ts.show(ue.dialog),ue.instanceApi};return N.openUrl(fe,q)},S=(q,X)=>{const fe=(Z,ue,de)=>{const Ee=ue,Ze=pl({dataValidator:de,initialData:Ee,internalDialog:Z},{redial:N.redial,closeWindow:()=>{Ts.hide(Ze.dialog),X(Ze.instanceApi)}},t.backstages.dialog);return Ts.show(Ze.dialog),Ze.instanceApi.setData(Ee),Ze.instanceApi};return N.open(fe,q)},A=(q,X,fe,Z)=>{const ue=(de,Ee,_e)=>{const Ze=LA(Ee,_e),pt=So(),Re=t.backstages.popup.shared.header.isPositionedAtTop(),gt={dataValidator:_e,initialData:Ze,internalDialog:de},rt=()=>pt.on(Fn=>{Fo.reposition(Fn),(!i||!Re)&&wo.refresh(Fn)}),xt=Qa(gt,{redial:N.redial,closeWindow:()=>{pt.on(Fo.hide),s.off("ResizeEditor",rt),pt.clear(),fe(xt.instanceApi)}},t.backstages.popup,Z.ariaAttrs,rt),yn=yr(Fo.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Z.persistent?{event:"doNotDismissYet"}:{},...Re?{}:{fireRepositionEventInstead:{}},inlineBehaviours:qe([sn("window-manager-inline-events",[Me(Yu(),(Fn,St)=>{Sn(xt.dialog,Dd)})]),...Cn(s,i,Re)]),isExtraPart:(Fn,St)=>O$(St)}));pt.set(yn);const ho=()=>{const Fn=s.inline?Ea():nt.fromDom(s.getContainer()),St=is(Fn);return D.some(St)};return Fo.showWithinBounds(yn,ea(xt.dialog),{anchor:X},ho),(!i||!Re)&&(wo.refresh(yn),s.on("ResizeEditor",rt)),xt.instanceApi.setData(Ze),Rt.focusIn(xt.dialog),xt.instanceApi};return N.open(ue,q)},O=(q,X,fe,Z)=>{const ue=(de,Ee,_e)=>{const Ze=LA(Ee,_e),pt=So(),Re=t.backstages.popup.shared.header.isPositionedAtTop(),gt={dataValidator:_e,initialData:Ze,internalDialog:de},rt=()=>pt.on(Fn=>{Fo.reposition(Fn),wo.refresh(Fn)}),xt=Qa(gt,{redial:N.redial,closeWindow:()=>{pt.on(Fo.hide),s.off("ResizeEditor ScrollWindow ElementScroll",rt),pt.clear(),fe(xt.instanceApi)}},t.backstages.popup,Z.ariaAttrs,rt),yn=yr(Fo.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:Z.persistent?{event:"doNotDismissYet"}:{},...Re?{}:{fireRepositionEventInstead:{}},inlineBehaviours:qe([sn("window-manager-inline-events",[Me(Yu(),(Fn,St)=>{Sn(xt.dialog,Dd)})]),wo.config({contextual:{lazyContext:()=>D.some(is(nt.fromDom(s.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:Fn=>xd(s,Fn.element).map(ze=>({bounds:Cd(ze),optScrollEnv:D.some({currentScrollTop:ze.element.dom.scrollTop,scrollElmTop:Do(ze.element).top})})).getOrThunk(()=>({bounds:Vs(),optScrollEnv:D.none()}))})]),isExtraPart:(Fn,St)=>O$(St)}));pt.set(yn);const ho=()=>t.backstages.popup.shared.getSink().toOptional().bind(Fn=>{const St=xd(s,Fn.element),ze=15,st=St.map(Dt=>Cd(Dt)).getOr(Vs()),Gt=is(nt.fromDom(s.getContentAreaContainer())),cn=PC(Gt,st);return D.some(Zo(cn.x,cn.y,cn.width,cn.height-ze))});return Fo.showWithinBounds(yn,ea(xt.dialog),{anchor:X},ho),wo.refresh(yn),s.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",rt),xt.instanceApi.setData(Ze),Rt.focusIn(xt.dialog),xt.instanceApi};return N.open(ue,q)};return{open:f,openUrl:m,alert:(q,X)=>{c.open(q,X)},close:q=>{q.close()},confirm:(q,X)=>{u.open(q,X)}}},Nt=t=>{cN(t),IH(t),yW(t)};var fn=()=>{ag.add("silver",t=>{Nt(t);let s=()=>Vs();const{dialogs:i,popups:c,renderUI:u}=pG(t,{getPopupSinkBounds:()=>s()}),f=()=>{const A=u();return xd(t,c.getMothership().element).each(M=>{s=()=>Cd(M)}),A};k8.register(t,c.backstage.shared);const m=we({editor:t,backstages:{popup:c.backstage,dialog:i.backstage}}),b=So(),S=()=>zN(t,{backstage:c.backstage},c.getMothership(),b);return{renderUI:f,getWindowManagerImpl:_(m),getNotificationManagerImpl:S}})};fn()})();/*! choices.js v11.0.2 | Â© 2024 Josh Johnson | https://github.com/jshjohnson/Choices#readme */var Sq=function(x,h){return Sq=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,w){v.__proto__=w}||function(v,w){for(var E in w)Object.prototype.hasOwnProperty.call(w,E)&&(v[E]=w[E])},Sq(x,h)};function HX(x,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");Sq(x,h);function v(){this.constructor=x}x.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}var Nc=function(){return Nc=Object.assign||function(h){for(var v,w=1,E=arguments.length;w<E;w++){v=arguments[w];for(var R in v)Object.prototype.hasOwnProperty.call(v,R)&&(h[R]=v[R])}return h},Nc.apply(this,arguments)};function qZ(x,h,v){for(var w=0,E=h.length,R;w<E;w++)(R||!(w in h))&&(R||(R=Array.prototype.slice.call(h,0,w)),R[w]=h[w]);return x.concat(R||Array.prototype.slice.call(h))}var Ir={ADD_CHOICE:"ADD_CHOICE",REMOVE_CHOICE:"REMOVE_CHOICE",FILTER_CHOICES:"FILTER_CHOICES",ACTIVATE_CHOICES:"ACTIVATE_CHOICES",CLEAR_CHOICES:"CLEAR_CHOICES",ADD_GROUP:"ADD_GROUP",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",HIGHLIGHT_ITEM:"HIGHLIGHT_ITEM"},Rc={showDropdown:"showDropdown",hideDropdown:"hideDropdown",change:"change",choice:"choice",search:"search",addItem:"addItem",removeItem:"removeItem",highlightItem:"highlightItem",highlightChoice:"highlightChoice",unhighlightItem:"unhighlightItem"},KZ=["fuseOptions","classNames"],zh={Text:"text",SelectOne:"select-one",SelectMultiple:"select-multiple"},YZ=function(x){return{type:Ir.ADD_CHOICE,choice:x}},YY=function(x){return{type:Ir.REMOVE_CHOICE,choice:x}},XZ=function(x){return{type:Ir.FILTER_CHOICES,results:x}},JZ=function(x){return{type:Ir.ACTIVATE_CHOICES,active:x}},ZZ=function(x){return{type:Ir.ADD_GROUP,group:x}},QZ=function(x){return{type:Ir.ADD_ITEM,item:x}},XY=function(x){return{type:Ir.REMOVE_ITEM,item:x}},M$=function(x,h){return{type:Ir.HIGHLIGHT_ITEM,item:x,highlighted:h}},eQ=function(x,h){return Math.floor(Math.random()*(h-x)+x)},JY=function(x){return Array.from({length:x},function(){return eQ(0,36).toString(36)}).join("")},tQ=function(x,h){var v=x.id||x.name&&"".concat(x.name,"-").concat(JY(2))||JY(4);return v=v.replace(/(:|\.|\[|\]|,)/g,""),v="".concat(h,"-").concat(v),v},nQ=function(x,h,v){v===void 0&&(v=1);for(var w="".concat(v>0?"next":"previous","ElementSibling"),E=x[w];E;){if(E.matches(h))return E;E=E[w]}return null},oQ=function(x,h,v){v===void 0&&(v=1);var w;return v>0?w=h.scrollTop+h.offsetHeight>=x.offsetTop+x.offsetHeight:w=x.offsetTop>=h.scrollTop,w},K$=function(x){if(typeof x!="string"){if(x==null)return"";if(typeof x=="object"){if("raw"in x)return K$(x.raw);if("trusted"in x)return x.trusted}return x}return x.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;")},sQ=function(){var x=document.createElement("div");return function(h){x.innerHTML=h.trim();for(var v=x.children[0];x.firstChild;)x.removeChild(x.firstChild);return v}}(),YA=function(x,h){return typeof x=="function"?x(K$(h),h):x},ZY=function(x){return typeof x=="function"?x():x},$y=function(x){if(typeof x=="string")return x;if(typeof x=="object"){if("trusted"in x)return x.trusted;if("raw"in x)return x.raw}return""},rQ=function(x){if(typeof x=="string")return x;if(typeof x=="object"){if("escaped"in x)return x.escaped;if("trusted"in x)return x.trusted}return""},Bq=function(x,h){return x?rQ(h):K$(h)},Lm=function(x,h,v){x.innerHTML=Bq(h,v)},iQ=function(x,h){var v=x.value,w=x.label,E=w===void 0?v:w,R=h.value,I=h.label,j=I===void 0?R:I;return $y(E).localeCompare($y(j),[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})},aQ=function(x,h){return x.rank-h.rank},cQ=function(x,h,v){v===void 0&&(v=null);var w=new CustomEvent(h,{detail:v,bubbles:!0,cancelable:!0});return x.dispatchEvent(w)},lQ=function(x,h){var v=Object.keys(x).sort(),w=Object.keys(h).sort();return v.filter(function(E){return w.indexOf(E)<0})},Y$=function(x){return Array.isArray(x)?x:[x]},GA=function(x){return x&&Array.isArray(x)?x.map(function(h){return".".concat(h)}).join(""):".".concat(x)},co=function(x,h){var v;(v=x.classList).add.apply(v,Y$(h))},Gd=function(x,h){var v;(v=x.classList).remove.apply(v,Y$(h))},uQ=function(x){if(typeof x<"u")try{return JSON.parse(x)}catch{return x}return{}},dQ=function(x,h,v){var w=x.itemEl;w&&(Gd(w,v),co(w,h))},fQ=function(){function x(h){var v=h.element,w=h.type,E=h.classNames;this.element=v,this.classNames=E,this.type=w,this.isActive=!1}return x.prototype.show=function(){return co(this.element,this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},x.prototype.hide=function(){return Gd(this.element,this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},x}(),QY=function(){function x(h){var v=h.element,w=h.type,E=h.classNames,R=h.position;this.element=v,this.classNames=E,this.type=w,this.position=R,this.isOpen=!1,this.isFlipped=!1,this.isDisabled=!1,this.isLoading=!1}return x.prototype.shouldFlip=function(h,v){var w=!1;return this.position==="auto"?w=this.element.getBoundingClientRect().top-v>=0&&!window.matchMedia("(min-height: ".concat(h+1,"px)")).matches:this.position==="top"&&(w=!0),w},x.prototype.setActiveDescendant=function(h){this.element.setAttribute("aria-activedescendant",h)},x.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},x.prototype.open=function(h,v){co(this.element,this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(h,v)&&(co(this.element,this.classNames.flippedState),this.isFlipped=!0)},x.prototype.close=function(){Gd(this.element,this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(Gd(this.element,this.classNames.flippedState),this.isFlipped=!1)},x.prototype.addFocusState=function(){co(this.element,this.classNames.focusState)},x.prototype.removeFocusState=function(){Gd(this.element,this.classNames.focusState)},x.prototype.enable=function(){Gd(this.element,this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===zh.SelectOne&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},x.prototype.disable=function(){co(this.element,this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===zh.SelectOne&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},x.prototype.wrap=function(h){var v=this.element,w=h.parentNode;w&&(h.nextSibling?w.insertBefore(v,h.nextSibling):w.appendChild(v)),v.appendChild(h)},x.prototype.unwrap=function(h){var v=this.element,w=v.parentNode;w&&(w.insertBefore(h,v),w.removeChild(v))},x.prototype.addLoadingState=function(){co(this.element,this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},x.prototype.removeLoadingState=function(){Gd(this.element,this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},x}(),mQ=function(){function x(h){var v=h.element,w=h.type,E=h.classNames,R=h.preventPaste;this.element=v,this.type=w,this.classNames=E,this.preventPaste=R,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=v.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return Object.defineProperty(x.prototype,"placeholder",{set:function(h){this.element.placeholder=h},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"value",{get:function(){return this.element.value},set:function(h){this.element.value=h},enumerable:!1,configurable:!0}),x.prototype.addEventListeners=function(){var h=this.element;h.addEventListener("paste",this._onPaste),h.addEventListener("input",this._onInput,{passive:!0}),h.addEventListener("focus",this._onFocus,{passive:!0}),h.addEventListener("blur",this._onBlur,{passive:!0})},x.prototype.removeEventListeners=function(){var h=this.element;h.removeEventListener("input",this._onInput),h.removeEventListener("paste",this._onPaste),h.removeEventListener("focus",this._onFocus),h.removeEventListener("blur",this._onBlur)},x.prototype.enable=function(){var h=this.element;h.removeAttribute("disabled"),this.isDisabled=!1},x.prototype.disable=function(){var h=this.element;h.setAttribute("disabled",""),this.isDisabled=!0},x.prototype.focus=function(){this.isFocussed||this.element.focus()},x.prototype.blur=function(){this.isFocussed&&this.element.blur()},x.prototype.clear=function(h){return h===void 0&&(h=!0),this.element.value="",h&&this.setWidth(),this},x.prototype.setWidth=function(){var h=this.element;h.style.minWidth="".concat(h.placeholder.length+1,"ch"),h.style.width="".concat(h.value.length+1,"ch")},x.prototype.setActiveDescendant=function(h){this.element.setAttribute("aria-activedescendant",h)},x.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},x.prototype._onInput=function(){this.type!==zh.SelectOne&&this.setWidth()},x.prototype._onPaste=function(h){this.preventPaste&&h.preventDefault()},x.prototype._onFocus=function(){this.isFocussed=!0},x.prototype._onBlur=function(){this.isFocussed=!1},x}(),pQ=4,eX=function(){function x(h){var v=h.element;this.element=v,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}return x.prototype.prepend=function(h){var v=this.element.firstElementChild;v?this.element.insertBefore(h,v):this.element.append(h)},x.prototype.scrollToTop=function(){this.element.scrollTop=0},x.prototype.scrollToChildElement=function(h,v){var w=this;if(h){var E=this.element.offsetHeight,R=this.element.scrollTop+E,I=h.offsetHeight,j=h.offsetTop+I,J=v>0?this.element.scrollTop+j-R:h.offsetTop;requestAnimationFrame(function(){w._animateScroll(J,v)})}},x.prototype._scrollDown=function(h,v,w){var E=(w-h)/v,R=E>1?E:1;this.element.scrollTop=h+R},x.prototype._scrollUp=function(h,v,w){var E=(h-w)/v,R=E>1?E:1;this.element.scrollTop=h-R},x.prototype._animateScroll=function(h,v){var w=this,E=pQ,R=this.element.scrollTop,I=!1;v>0?(this._scrollDown(R,E,h),R<h&&(I=!0)):(this._scrollUp(R,E,h),R>h&&(I=!0)),I&&requestAnimationFrame(function(){w._animateScroll(h,v)})},x}(),UX=function(){function x(h){var v=h.element,w=h.classNames;this.element=v,this.classNames=w,this.isDisabled=!1}return Object.defineProperty(x.prototype,"isActive",{get:function(){return this.element.dataset.choice==="active"},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"dir",{get:function(){return this.element.dir},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"value",{get:function(){return this.element.value},set:function(h){this.element.setAttribute("value",h),this.element.value=h},enumerable:!1,configurable:!0}),x.prototype.conceal=function(){var h=this.element;co(h,this.classNames.input),h.hidden=!0,h.tabIndex=-1;var v=h.getAttribute("style");v&&h.setAttribute("data-choice-orig-style",v),h.setAttribute("data-choice","active")},x.prototype.reveal=function(){var h=this.element;Gd(h,this.classNames.input),h.hidden=!1,h.removeAttribute("tabindex");var v=h.getAttribute("data-choice-orig-style");v?(h.removeAttribute("data-choice-orig-style"),h.setAttribute("style",v)):h.removeAttribute("style"),h.removeAttribute("data-choice")},x.prototype.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},x.prototype.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},x.prototype.triggerEvent=function(h,v){cQ(this.element,h,v||{})},x}(),hQ=function(x){HX(h,x);function h(){return x!==null&&x.apply(this,arguments)||this}return h}(UX),KA=function(x,h){return h===void 0&&(h=!0),typeof x>"u"?h:!!x},zX=function(x){if(typeof x=="string"&&(x=x.split(" ").filter(function(h){return h.length})),Array.isArray(x)&&x.length)return x},Wd=function(x,h){if(typeof x=="string"){var v=Wd({value:x,label:x},!1);return v}var w=x;if("choices"in w){if(!h)throw new TypeError("optGroup is not allowed");var E=w,R=E.choices.map(function(Q){return Wd(Q,!1)}),I={id:0,label:$y(E.label)||E.value,active:!!R.length,disabled:!!E.disabled,choices:R};return I}var j=w,J={id:0,group:null,score:0,rank:0,value:j.value,label:j.label||j.value,active:KA(j.active),selected:KA(j.selected,!1),disabled:KA(j.disabled,!1),placeholder:KA(j.placeholder,!1),highlighted:!1,labelClass:zX(j.labelClass),labelDescription:j.labelDescription,customProperties:j.customProperties};return J},gQ=function(x){return x.tagName==="INPUT"},VX=function(x){return x.tagName==="SELECT"},bQ=function(x){return x.tagName==="OPTION"},yQ=function(x){return x.tagName==="OPTGROUP"},vQ=function(x){HX(h,x);function h(v){var w=v.element,E=v.classNames,R=v.template,I=v.extractPlaceholder,j=x.call(this,{element:w,classNames:E})||this;return j.template=R,j.extractPlaceholder=I,j}return Object.defineProperty(h.prototype,"placeholderOption",{get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")},enumerable:!1,configurable:!0}),h.prototype.addOptions=function(v){var w=this,E=document.createDocumentFragment();v.forEach(function(R){var I=R;if(!I.element){var j=w.template(I);E.appendChild(j),I.element=j}}),this.element.appendChild(E)},h.prototype.optionsAsChoices=function(){var v=this,w=[];return this.element.querySelectorAll(":scope > option, :scope > optgroup").forEach(function(E){bQ(E)?w.push(v._optionToChoice(E)):yQ(E)&&w.push(v._optgroupToChoice(E))}),w},h.prototype._optionToChoice=function(v){return!v.hasAttribute("value")&&v.hasAttribute("placeholder")&&(v.setAttribute("value",""),v.value=""),{id:0,group:null,score:0,rank:0,value:v.value,label:v.innerHTML,element:v,active:!0,selected:this.extractPlaceholder?v.selected:v.hasAttribute("selected"),disabled:v.disabled,highlighted:!1,placeholder:this.extractPlaceholder&&(!v.value||v.hasAttribute("placeholder")),labelClass:typeof v.dataset.labelClass<"u"?zX(v.dataset.labelClass):void 0,labelDescription:typeof v.dataset.labelDescription<"u"?v.dataset.labelDescription:void 0,customProperties:uQ(v.dataset.customProperties)}},h.prototype._optgroupToChoice=function(v){var w=this,E=v.querySelectorAll("option"),R=Array.from(E).map(function(I){return w._optionToChoice(I)});return{id:0,label:v.label||"",element:v,active:!!R.length,disabled:v.disabled,choices:R}},h}(UX),xQ={containerOuter:["choices"],containerInner:["choices__inner"],input:["choices__input"],inputCloned:["choices__input--cloned"],list:["choices__list"],listItems:["choices__list--multiple"],listSingle:["choices__list--single"],listDropdown:["choices__list--dropdown"],item:["choices__item"],itemSelectable:["choices__item--selectable"],itemDisabled:["choices__item--disabled"],itemChoice:["choices__item--choice"],description:["choices__description"],placeholder:["choices__placeholder"],group:["choices__group"],groupHeading:["choices__heading"],button:["choices__button"],activeState:["is-active"],focusState:["is-focused"],openState:["is-open"],disabledState:["is-disabled"],highlightedState:["is-highlighted"],selectedState:["is-selected"],flippedState:["is-flipped"],loadingState:["is-loading"],notice:["choices__notice"],addChoice:["choices__item--selectable","add-choice"],noResults:["has-no-results"],noChoices:["has-no-choices"]},tX={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,closeDropdownOnSelect:"auto",singleModeForMultiSelect:!1,addChoices:!1,addItems:!0,addItemFilter:function(x){return!!x&&x!==""},removeItems:!0,removeItemButton:!1,removeItemButtonAlignLeft:!1,editItems:!1,allowHTML:!1,allowHtmlUserInput:!1,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:iQ,shadowRoot:null,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(x){return'Press Enter to add <b>"'.concat(x,'"</b>')},removeItemIconText:function(){return"Remove item"},removeItemLabelText:function(x){return"Remove item: ".concat(x)},maxItemText:function(x){return"Only ".concat(x," values can be added")},valueComparer:function(x,h){return x===h},fuseOptions:{includeScore:!0},labelId:"",callbackOnInit:null,callbackOnCreateTemplates:null,classNames:xQ,appendGroupInSearch:!1},nX=function(x){var h=x.itemEl;h&&(h.remove(),x.itemEl=void 0)};function CQ(x,h,v){var w=x,E=!0;switch(h.type){case Ir.ADD_ITEM:{h.item.selected=!0;var R=h.item.element;R&&(R.selected=!0,R.setAttribute("selected","")),w.push(h.item);break}case Ir.REMOVE_ITEM:{h.item.selected=!1;var R=h.item.element;if(R){R.selected=!1,R.removeAttribute("selected");var I=R.parentElement;I&&VX(I)&&I.type===zh.SelectOne&&(I.value="")}nX(h.item),w=w.filter(function(oe){return oe.id!==h.item.id});break}case Ir.REMOVE_CHOICE:{nX(h.choice),w=w.filter(function(Q){return Q.id!==h.choice.id});break}case Ir.HIGHLIGHT_ITEM:{var j=h.highlighted,J=w.find(function(Q){return Q.id===h.item.id});J&&J.highlighted!==j&&(J.highlighted=j,v&&dQ(J,j?v.classNames.highlightedState:v.classNames.selectedState,j?v.classNames.selectedState:v.classNames.highlightedState));break}default:{E=!1;break}}return{state:w,update:E}}function SQ(x,h){var v=x,w=!0;switch(h.type){case Ir.ADD_GROUP:{v.push(h.group);break}case Ir.CLEAR_CHOICES:{v=[];break}default:{w=!1;break}}return{state:v,update:w}}function wQ(x,h,v){var w=x,E=!0;switch(h.type){case Ir.ADD_CHOICE:{w.push(h.choice);break}case Ir.REMOVE_CHOICE:{h.choice.choiceEl=void 0,h.choice.group&&(h.choice.group.choices=h.choice.group.choices.filter(function(I){return I.id!==h.choice.id})),w=w.filter(function(I){return I.id!==h.choice.id});break}case Ir.ADD_ITEM:case Ir.REMOVE_ITEM:{h.item.choiceEl=void 0;break}case Ir.FILTER_CHOICES:{var R=[];h.results.forEach(function(I){R[I.item.id]=I}),w.forEach(function(I){var j=R[I.id];j!==void 0?(I.score=j.score,I.rank=j.rank,I.active=!0):(I.score=0,I.rank=0,I.active=!1),v&&v.appendGroupInSearch&&(I.choiceEl=void 0)});break}case Ir.ACTIVATE_CHOICES:{w.forEach(function(I){I.active=h.active,v&&v.appendGroupInSearch&&(I.choiceEl=void 0)});break}case Ir.CLEAR_CHOICES:{w=[];break}default:{E=!1;break}}return{state:w,update:E}}var oX={groups:SQ,items:CQ,choices:wQ},EQ=function(){function x(h){this._state=this.defaultState,this._listeners=[],this._txn=0,this._context=h}return Object.defineProperty(x.prototype,"defaultState",{get:function(){return{groups:[],items:[],choices:[]}},enumerable:!1,configurable:!0}),x.prototype.changeSet=function(h){return{groups:h,items:h,choices:h}},x.prototype.reset=function(){this._state=this.defaultState;var h=this.changeSet(!0);this._txn?this._changeSet=h:this._listeners.forEach(function(v){return v(h)})},x.prototype.subscribe=function(h){return this._listeners.push(h),this},x.prototype.dispatch=function(h){var v=this,w=this._state,E=!1,R=this._changeSet||this.changeSet(!1);Object.keys(oX).forEach(function(I){var j=oX[I](w[I],h,v._context);j.update&&(E=!0,R[I]=!0,w[I]=j.state)}),E&&(this._txn?this._changeSet=R:this._listeners.forEach(function(I){return I(R)}))},x.prototype.withTxn=function(h){this._txn++;try{h()}finally{if(this._txn=Math.max(0,this._txn-1),!this._txn){var v=this._changeSet;v&&(this._changeSet=void 0,this._listeners.forEach(function(w){return w(v)}))}}},Object.defineProperty(x.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"items",{get:function(){return this.state.items},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"highlightedActiveItems",{get:function(){return this.items.filter(function(h){return!h.disabled&&h.active&&h.highlighted})},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"choices",{get:function(){return this.state.choices},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"activeChoices",{get:function(){return this.choices.filter(function(h){return h.active})},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"searchableChoices",{get:function(){return this.choices.filter(function(h){return!h.disabled&&!h.placeholder})},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"groups",{get:function(){return this.state.groups},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"activeGroups",{get:function(){var h=this;return this.state.groups.filter(function(v){var w=v.active&&!v.disabled,E=h.state.choices.some(function(R){return R.active&&!R.disabled});return w&&E},[])},enumerable:!1,configurable:!0}),x.prototype.inTxn=function(){return this._txn>0},x.prototype.getChoiceById=function(h){return this.activeChoices.find(function(v){return v.id===h})},x.prototype.getGroupById=function(h){return this.groups.find(function(v){return v.id===h})},x}(),ec={noChoices:"no-choices",noResults:"no-results",addChoice:"add-choice",generic:""};function TQ(x,h,v){return(h=AQ(h))in x?Object.defineProperty(x,h,{value:v,enumerable:!0,configurable:!0,writable:!0}):x[h]=v,x}function sX(x,h){var v=Object.keys(x);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(x);h&&(w=w.filter(function(E){return Object.getOwnPropertyDescriptor(x,E).enumerable})),v.push.apply(v,w)}return v}function EC(x){for(var h=1;h<arguments.length;h++){var v=arguments[h]!=null?arguments[h]:{};h%2?sX(Object(v),!0).forEach(function(w){TQ(x,w,v[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(v)):sX(Object(v)).forEach(function(w){Object.defineProperty(x,w,Object.getOwnPropertyDescriptor(v,w))})}return x}function _Q(x,h){if(typeof x!="object"||!x)return x;var v=x[Symbol.toPrimitive];if(v!==void 0){var w=v.call(x,h||"default");if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(x)}function AQ(x){var h=_Q(x,"string");return typeof h=="symbol"?h:h+""}function $m(x){return Array.isArray?Array.isArray(x):qX(x)==="[object Array]"}const kQ=1/0;function OQ(x){if(typeof x=="string")return x;let h=x+"";return h=="0"&&1/x==-kQ?"-0":h}function DQ(x){return x==null?"":OQ(x)}function qd(x){return typeof x=="string"}function WX(x){return typeof x=="number"}function RQ(x){return x===!0||x===!1||NQ(x)&&qX(x)=="[object Boolean]"}function GX(x){return typeof x=="object"}function NQ(x){return GX(x)&&x!==null}function hl(x){return x!=null}function fq(x){return!x.trim().length}function qX(x){return x==null?x===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(x)}const PQ="Incorrect 'index' type",MQ=x=>`Invalid value for key ${x}`,IQ=x=>`Pattern length exceeds max of ${x}.`,BQ=x=>`Missing ${x} property in key`,FQ=x=>`Property 'weight' in key '${x}' must be a positive integer`,rX=Object.prototype.hasOwnProperty;class LQ{constructor(h){this._keys=[],this._keyMap={};let v=0;h.forEach(w=>{let E=KX(w);this._keys.push(E),this._keyMap[E.id]=E,v+=E.weight}),this._keys.forEach(w=>{w.weight/=v})}get(h){return this._keyMap[h]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function KX(x){let h=null,v=null,w=null,E=1,R=null;if(qd(x)||$m(x))w=x,h=iX(x),v=wq(x);else{if(!rX.call(x,"name"))throw new Error(BQ("name"));const I=x.name;if(w=I,rX.call(x,"weight")&&(E=x.weight,E<=0))throw new Error(FQ(I));h=iX(I),v=wq(I),R=x.getFn}return{path:h,id:v,weight:E,src:w,getFn:R}}function iX(x){return $m(x)?x:x.split(".")}function wq(x){return $m(x)?x.join("."):x}function $Q(x,h){let v=[],w=!1;const E=(R,I,j)=>{if(hl(R))if(!I[j])v.push(R);else{let J=I[j];const Q=R[J];if(!hl(Q))return;if(j===I.length-1&&(qd(Q)||WX(Q)||RQ(Q)))v.push(DQ(Q));else if($m(Q)){w=!0;for(let oe=0,re=Q.length;oe<re;oe+=1)E(Q[oe],I,j+1)}else I.length&&E(Q,I,j+1)}};return E(x,qd(h)?h.split("."):h,0),w?v:v[0]}const jQ={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},HQ={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(x,h)=>x.score===h.score?x.idx<h.idx?-1:1:x.score<h.score?-1:1},UQ={location:0,threshold:.6,distance:100},zQ={useExtendedSearch:!1,getFn:$Q,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Zn=EC(EC(EC(EC({},HQ),jQ),UQ),zQ);const VQ=/[^ ]+/g;function WQ(x=1,h=3){const v=new Map,w=Math.pow(10,h);return{get(E){const R=E.match(VQ).length;if(v.has(R))return v.get(R);const I=1/Math.pow(R,.5*x),j=parseFloat(Math.round(I*w)/w);return v.set(R,j),j},clear(){v.clear()}}}class Fq{constructor({getFn:h=Zn.getFn,fieldNormWeight:v=Zn.fieldNormWeight}={}){this.norm=WQ(v,3),this.getFn=h,this.isCreated=!1,this.setIndexRecords()}setSources(h=[]){this.docs=h}setIndexRecords(h=[]){this.records=h}setKeys(h=[]){this.keys=h,this._keysMap={},h.forEach((v,w)=>{this._keysMap[v.id]=w})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,qd(this.docs[0])?this.docs.forEach((h,v)=>{this._addString(h,v)}):this.docs.forEach((h,v)=>{this._addObject(h,v)}),this.norm.clear())}add(h){const v=this.size();qd(h)?this._addString(h,v):this._addObject(h,v)}removeAt(h){this.records.splice(h,1);for(let v=h,w=this.size();v<w;v+=1)this.records[v].i-=1}getValueForItemAtKeyId(h,v){return h[this._keysMap[v]]}size(){return this.records.length}_addString(h,v){if(!hl(h)||fq(h))return;let w={v:h,i:v,n:this.norm.get(h)};this.records.push(w)}_addObject(h,v){let w={i:v,$:{}};this.keys.forEach((E,R)=>{let I=E.getFn?E.getFn(h):this.getFn(h,E.path);if(hl(I)){if($m(I)){let j=[];const J=[{nestedArrIndex:-1,value:I}];for(;J.length;){const{nestedArrIndex:Q,value:oe}=J.pop();if(hl(oe))if(qd(oe)&&!fq(oe)){let re={v:oe,i:Q,n:this.norm.get(oe)};j.push(re)}else $m(oe)&&oe.forEach((re,Ce)=>{J.push({nestedArrIndex:Ce,value:re})})}w.$[R]=j}else if(qd(I)&&!fq(I)){let j={v:I,n:this.norm.get(I)};w.$[R]=j}}}),this.records.push(w)}toJSON(){return{keys:this.keys,records:this.records}}}function YX(x,h,{getFn:v=Zn.getFn,fieldNormWeight:w=Zn.fieldNormWeight}={}){const E=new Fq({getFn:v,fieldNormWeight:w});return E.setKeys(x.map(KX)),E.setSources(h),E.create(),E}function GQ(x,{getFn:h=Zn.getFn,fieldNormWeight:v=Zn.fieldNormWeight}={}){const{keys:w,records:E}=x,R=new Fq({getFn:h,fieldNormWeight:v});return R.setKeys(w),R.setIndexRecords(E),R}function I$(x,{errors:h=0,currentLocation:v=0,expectedLocation:w=0,distance:E=Zn.distance,ignoreLocation:R=Zn.ignoreLocation}={}){const I=h/x.length;if(R)return I;const j=Math.abs(w-v);return E?I+j/E:j?1:I}function qQ(x=[],h=Zn.minMatchCharLength){let v=[],w=-1,E=-1,R=0;for(let I=x.length;R<I;R+=1){let j=x[R];j&&w===-1?w=R:!j&&w!==-1&&(E=R-1,E-w+1>=h&&v.push([w,E]),w=-1)}return x[R-1]&&R-w>=h&&v.push([w,R-1]),v}const Fy=32;function KQ(x,h,v,{location:w=Zn.location,distance:E=Zn.distance,threshold:R=Zn.threshold,findAllMatches:I=Zn.findAllMatches,minMatchCharLength:j=Zn.minMatchCharLength,includeMatches:J=Zn.includeMatches,ignoreLocation:Q=Zn.ignoreLocation}={}){if(h.length>Fy)throw new Error(IQ(Fy));const oe=h.length,re=x.length,Ce=Math.max(0,Math.min(w,re));let Le=R,ie=Ce;const ae=j>1||J,Pe=ae?Array(re):[];let Ae;for(;(Ae=x.indexOf(h,ie))>-1;){let _=I$(h,{currentLocation:Ae,expectedLocation:Ce,distance:E,ignoreLocation:Q});if(Le=Math.min(_,Le),ie=Ae+oe,ae){let At=0;for(;At<oe;)Pe[Ae+At]=1,At+=1}}ie=-1;let Qe=[],te=1,It=oe+re;const An=1<<oe-1;for(let _=0;_<oe;_+=1){let At=0,nn=It;for(;At<nn;)I$(h,{errors:_,currentLocation:Ce+nn,expectedLocation:Ce,distance:E,ignoreLocation:Q})<=Le?At=nn:It=nn,nn=Math.floor((It-At)/2+At);It=nn;let Qn=Math.max(1,Ce-nn+1),Je=I?re:Math.min(Ce+nn,re)+oe,Rn=Array(Je+2);Rn[Je+1]=(1<<_)-1;for(let ln=Je;ln>=Qn;ln-=1){let Ot=ln-1,D=v[x.charAt(Ot)];if(ae&&(Pe[Ot]=+!!D),Rn[ln]=(Rn[ln+1]<<1|1)&D,_&&(Rn[ln]|=(Qe[ln+1]|Qe[ln])<<1|1|Qe[ln+1]),Rn[ln]&An&&(te=I$(h,{errors:_,currentLocation:Ot,expectedLocation:Ce,distance:E,ignoreLocation:Q}),te<=Le)){if(Le=te,ie=Ot,ie<=Ce)break;Qn=Math.max(1,2*Ce-ie)}}if(I$(h,{errors:_+1,currentLocation:Ce,expectedLocation:Ce,distance:E,ignoreLocation:Q})>Le)break;Qe=Rn}const Zt={isMatch:ie>=0,score:Math.max(.001,te)};if(ae){const _=qQ(Pe,j);_.length?J&&(Zt.indices=_):Zt.isMatch=!1}return Zt}function YQ(x){let h={};for(let v=0,w=x.length;v<w;v+=1){const E=x.charAt(v);h[E]=(h[E]||0)|1<<w-v-1}return h}class XX{constructor(h,{location:v=Zn.location,threshold:w=Zn.threshold,distance:E=Zn.distance,includeMatches:R=Zn.includeMatches,findAllMatches:I=Zn.findAllMatches,minMatchCharLength:j=Zn.minMatchCharLength,isCaseSensitive:J=Zn.isCaseSensitive,ignoreLocation:Q=Zn.ignoreLocation}={}){if(this.options={location:v,threshold:w,distance:E,includeMatches:R,findAllMatches:I,minMatchCharLength:j,isCaseSensitive:J,ignoreLocation:Q},this.pattern=J?h:h.toLowerCase(),this.chunks=[],!this.pattern.length)return;const oe=(Ce,Le)=>{this.chunks.push({pattern:Ce,alphabet:YQ(Ce),startIndex:Le})},re=this.pattern.length;if(re>Fy){let Ce=0;const Le=re%Fy,ie=re-Le;for(;Ce<ie;)oe(this.pattern.substr(Ce,Fy),Ce),Ce+=Fy;if(Le){const ae=re-Fy;oe(this.pattern.substr(ae),ae)}}else oe(this.pattern,0)}searchIn(h){const{isCaseSensitive:v,includeMatches:w}=this.options;if(v||(h=h.toLowerCase()),this.pattern===h){let ie={isMatch:!0,score:0};return w&&(ie.indices=[[0,h.length-1]]),ie}const{location:E,distance:R,threshold:I,findAllMatches:j,minMatchCharLength:J,ignoreLocation:Q}=this.options;let oe=[],re=0,Ce=!1;this.chunks.forEach(({pattern:ie,alphabet:ae,startIndex:Pe})=>{const{isMatch:Ae,score:Qe,indices:te}=KQ(h,ie,ae,{location:E+Pe,distance:R,threshold:I,findAllMatches:j,minMatchCharLength:J,includeMatches:w,ignoreLocation:Q});Ae&&(Ce=!0),re+=Qe,Ae&&te&&(oe=[...oe,...te])});let Le={isMatch:Ce,score:Ce?re/this.chunks.length:1};return Ce&&w&&(Le.indices=oe),Le}}class Vh{constructor(h){this.pattern=h}static isMultiMatch(h){return aX(h,this.multiRegex)}static isSingleMatch(h){return aX(h,this.singleRegex)}search(){}}function aX(x,h){const v=x.match(h);return v?v[1]:null}class XQ extends Vh{constructor(h){super(h)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(h){const v=h===this.pattern;return{isMatch:v,score:v?0:1,indices:[0,this.pattern.length-1]}}}class JQ extends Vh{constructor(h){super(h)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(h){const w=h.indexOf(this.pattern)===-1;return{isMatch:w,score:w?0:1,indices:[0,h.length-1]}}}class ZQ extends Vh{constructor(h){super(h)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(h){const v=h.startsWith(this.pattern);return{isMatch:v,score:v?0:1,indices:[0,this.pattern.length-1]}}}class QQ extends Vh{constructor(h){super(h)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(h){const v=!h.startsWith(this.pattern);return{isMatch:v,score:v?0:1,indices:[0,h.length-1]}}}class eee extends Vh{constructor(h){super(h)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(h){const v=h.endsWith(this.pattern);return{isMatch:v,score:v?0:1,indices:[h.length-this.pattern.length,h.length-1]}}}class tee extends Vh{constructor(h){super(h)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(h){const v=!h.endsWith(this.pattern);return{isMatch:v,score:v?0:1,indices:[0,h.length-1]}}}class JX extends Vh{constructor(h,{location:v=Zn.location,threshold:w=Zn.threshold,distance:E=Zn.distance,includeMatches:R=Zn.includeMatches,findAllMatches:I=Zn.findAllMatches,minMatchCharLength:j=Zn.minMatchCharLength,isCaseSensitive:J=Zn.isCaseSensitive,ignoreLocation:Q=Zn.ignoreLocation}={}){super(h),this._bitapSearch=new XX(h,{location:v,threshold:w,distance:E,includeMatches:R,findAllMatches:I,minMatchCharLength:j,isCaseSensitive:J,ignoreLocation:Q})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(h){return this._bitapSearch.searchIn(h)}}class ZX extends Vh{constructor(h){super(h)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(h){let v=0,w;const E=[],R=this.pattern.length;for(;(w=h.indexOf(this.pattern,v))>-1;)v=w+R,E.push([w,v-1]);const I=!!E.length;return{isMatch:I,score:I?0:1,indices:E}}}const Eq=[XQ,ZX,ZQ,QQ,tee,eee,JQ,JX],cX=Eq.length,nee=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,oee="|";function see(x,h={}){return x.split(oee).map(v=>{let w=v.trim().split(nee).filter(R=>R&&!!R.trim()),E=[];for(let R=0,I=w.length;R<I;R+=1){const j=w[R];let J=!1,Q=-1;for(;!J&&++Q<cX;){const oe=Eq[Q];let re=oe.isMultiMatch(j);re&&(E.push(new oe(re,h)),J=!0)}if(!J)for(Q=-1;++Q<cX;){const oe=Eq[Q];let re=oe.isSingleMatch(j);if(re){E.push(new oe(re,h));break}}}return E})}const ree=new Set([JX.type,ZX.type]);class iee{constructor(h,{isCaseSensitive:v=Zn.isCaseSensitive,includeMatches:w=Zn.includeMatches,minMatchCharLength:E=Zn.minMatchCharLength,ignoreLocation:R=Zn.ignoreLocation,findAllMatches:I=Zn.findAllMatches,location:j=Zn.location,threshold:J=Zn.threshold,distance:Q=Zn.distance}={}){this.query=null,this.options={isCaseSensitive:v,includeMatches:w,minMatchCharLength:E,findAllMatches:I,ignoreLocation:R,location:j,threshold:J,distance:Q},this.pattern=v?h:h.toLowerCase(),this.query=see(this.pattern,this.options)}static condition(h,v){return v.useExtendedSearch}searchIn(h){const v=this.query;if(!v)return{isMatch:!1,score:1};const{includeMatches:w,isCaseSensitive:E}=this.options;h=E?h:h.toLowerCase();let R=0,I=[],j=0;for(let J=0,Q=v.length;J<Q;J+=1){const oe=v[J];I.length=0,R=0;for(let re=0,Ce=oe.length;re<Ce;re+=1){const Le=oe[re],{isMatch:ie,indices:ae,score:Pe}=Le.search(h);if(ie){if(R+=1,j+=Pe,w){const Ae=Le.constructor.type;ree.has(Ae)?I=[...I,...ae]:I.push(ae)}}else{j=0,R=0,I.length=0;break}}if(R){let re={isMatch:!0,score:j/R};return w&&(re.indices=I),re}}return{isMatch:!1,score:1}}}const Tq=[];function aee(...x){Tq.push(...x)}function _q(x,h){for(let v=0,w=Tq.length;v<w;v+=1){let E=Tq[v];if(E.condition(x,h))return new E(x,h)}return new XX(x,h)}const H$={AND:"$and",OR:"$or"},Aq={PATH:"$path",PATTERN:"$val"},kq=x=>!!(x[H$.AND]||x[H$.OR]),cee=x=>!!x[Aq.PATH],lee=x=>!$m(x)&&GX(x)&&!kq(x),lX=x=>({[H$.AND]:Object.keys(x).map(h=>({[h]:x[h]}))});function QX(x,h,{auto:v=!0}={}){const w=E=>{let R=Object.keys(E);const I=cee(E);if(!I&&R.length>1&&!kq(E))return w(lX(E));if(lee(E)){const J=I?E[Aq.PATH]:R[0],Q=I?E[Aq.PATTERN]:E[J];if(!qd(Q))throw new Error(MQ(J));const oe={keyId:wq(J),pattern:Q};return v&&(oe.searcher=_q(Q,h)),oe}let j={children:[],operator:R[0]};return R.forEach(J=>{const Q=E[J];$m(Q)&&Q.forEach(oe=>{j.children.push(w(oe))})}),j};return kq(x)||(x=lX(x)),w(x)}function uee(x,{ignoreFieldNorm:h=Zn.ignoreFieldNorm}){x.forEach(v=>{let w=1;v.matches.forEach(({key:E,norm:R,score:I})=>{const j=E?E.weight:null;w*=Math.pow(I===0&&j?Number.EPSILON:I,(j||1)*(h?1:R))}),v.score=w})}function dee(x,h){const v=x.matches;h.matches=[],hl(v)&&v.forEach(w=>{if(!hl(w.indices)||!w.indices.length)return;const{indices:E,value:R}=w;let I={indices:E,value:R};w.key&&(I.key=w.key.src),w.idx>-1&&(I.refIndex=w.idx),h.matches.push(I)})}function fee(x,h){h.score=x.score}function mee(x,h,{includeMatches:v=Zn.includeMatches,includeScore:w=Zn.includeScore}={}){const E=[];return v&&E.push(dee),w&&E.push(fee),x.map(R=>{const{idx:I}=R,j={item:h[I],refIndex:I};return E.length&&E.forEach(J=>{J(R,j)}),j})}class AC{constructor(h,v={},w){this.options=EC(EC({},Zn),v),this.options.useExtendedSearch,this._keyStore=new LQ(this.options.keys),this.setCollection(h,w)}setCollection(h,v){if(this._docs=h,v&&!(v instanceof Fq))throw new Error(PQ);this._myIndex=v||YX(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(h){hl(h)&&(this._docs.push(h),this._myIndex.add(h))}remove(h=()=>!1){const v=[];for(let w=0,E=this._docs.length;w<E;w+=1){const R=this._docs[w];h(R,w)&&(this.removeAt(w),w-=1,E-=1,v.push(R))}return v}removeAt(h){this._docs.splice(h,1),this._myIndex.removeAt(h)}getIndex(){return this._myIndex}search(h,{limit:v=-1}={}){const{includeMatches:w,includeScore:E,shouldSort:R,sortFn:I,ignoreFieldNorm:j}=this.options;let J=qd(h)?qd(this._docs[0])?this._searchStringList(h):this._searchObjectList(h):this._searchLogical(h);return uee(J,{ignoreFieldNorm:j}),R&&J.sort(I),WX(v)&&v>-1&&(J=J.slice(0,v)),mee(J,this._docs,{includeMatches:w,includeScore:E})}_searchStringList(h){const v=_q(h,this.options),{records:w}=this._myIndex,E=[];return w.forEach(({v:R,i:I,n:j})=>{if(!hl(R))return;const{isMatch:J,score:Q,indices:oe}=v.searchIn(R);J&&E.push({item:R,idx:I,matches:[{score:Q,value:R,norm:j,indices:oe}]})}),E}_searchLogical(h){const v=QX(h,this.options),w=(j,J,Q)=>{if(!j.children){const{keyId:re,searcher:Ce}=j,Le=this._findMatches({key:this._keyStore.get(re),value:this._myIndex.getValueForItemAtKeyId(J,re),searcher:Ce});return Le&&Le.length?[{idx:Q,item:J,matches:Le}]:[]}const oe=[];for(let re=0,Ce=j.children.length;re<Ce;re+=1){const Le=j.children[re],ie=w(Le,J,Q);if(ie.length)oe.push(...ie);else if(j.operator===H$.AND)return[]}return oe},E=this._myIndex.records,R={},I=[];return E.forEach(({$:j,i:J})=>{if(hl(j)){let Q=w(v,j,J);Q.length&&(R[J]||(R[J]={idx:J,item:j,matches:[]},I.push(R[J])),Q.forEach(({matches:oe})=>{R[J].matches.push(...oe)}))}}),I}_searchObjectList(h){const v=_q(h,this.options),{keys:w,records:E}=this._myIndex,R=[];return E.forEach(({$:I,i:j})=>{if(!hl(I))return;let J=[];w.forEach((Q,oe)=>{J.push(...this._findMatches({key:Q,value:I[oe],searcher:v}))}),J.length&&R.push({idx:j,item:I,matches:J})}),R}_findMatches({key:h,value:v,searcher:w}){if(!hl(v))return[];let E=[];if($m(v))v.forEach(({v:R,i:I,n:j})=>{if(!hl(R))return;const{isMatch:J,score:Q,indices:oe}=w.searchIn(R);J&&E.push({score:Q,key:h,value:R,idx:I,norm:j,indices:oe})});else{const{v:R,n:I}=v,{isMatch:j,score:J,indices:Q}=w.searchIn(R);j&&E.push({score:J,key:h,value:R,norm:I,indices:Q})}return E}}AC.version="7.0.0";AC.createIndex=YX;AC.parseIndex=GQ;AC.config=Zn;AC.parseQuery=QX;aee(iee);var pee=function(){function x(h){this._haystack=[],this._fuseOptions=Nc(Nc({},h.fuseOptions),{keys:qZ([],h.searchFields),includeMatches:!0})}return x.prototype.index=function(h){this._haystack=h,this._fuse&&this._fuse.setCollection(h)},x.prototype.reset=function(){this._haystack=[],this._fuse=void 0},x.prototype.isEmptyIndex=function(){return!this._haystack.length},x.prototype.search=function(h){this._fuse||(this._fuse=new AC(this._haystack,this._fuseOptions));var v=this._fuse.search(h);return v.map(function(w,E){return{item:w.item,score:w.score||0,rank:E+1}})},x}();function hee(x){return new pee(x)}var gee=function(x){for(var h in x)if(Object.prototype.hasOwnProperty.call(x,h))return!1;return!0},mq=function(x,h,v){var w=x.dataset,E=h.customProperties,R=h.labelClass,I=h.labelDescription;R&&(w.labelClass=Y$(R).join(" ")),I&&(w.labelDescription=I),v&&E&&(typeof E=="string"?w.customProperties=E:typeof E=="object"&&!gee(E)&&(w.customProperties=JSON.stringify(E)))},uX=function(x,h,v){var w=h&&x.querySelector("label[for='".concat(h,"']")),E=w&&w.innerText;E&&v.setAttribute("aria-label",E)},bee={containerOuter:function(x,h,v,w,E,R,I){var j=x.classNames.containerOuter,J=document.createElement("div");return co(J,j),J.dataset.type=R,h&&(J.dir=h),w&&(J.tabIndex=0),v&&(J.setAttribute("role",E?"combobox":"listbox"),E?J.setAttribute("aria-autocomplete","list"):I||uX(this._docRoot,this.passedElement.element.id,J),J.setAttribute("aria-haspopup","true"),J.setAttribute("aria-expanded","false")),I&&J.setAttribute("aria-labelledby",I),J},containerInner:function(x){var h=x.classNames.containerInner,v=document.createElement("div");return co(v,h),v},itemList:function(x,h){var v=x.searchEnabled,w=x.classNames,E=w.list,R=w.listSingle,I=w.listItems,j=document.createElement("div");return co(j,E),co(j,h?R:I),this._isSelectElement&&v&&j.setAttribute("role","listbox"),j},placeholder:function(x,h){var v=x.allowHTML,w=x.classNames.placeholder,E=document.createElement("div");return co(E,w),Lm(E,v,h),E},item:function(x,h,v){var w=x.allowHTML,E=x.removeItemButtonAlignLeft,R=x.removeItemIconText,I=x.removeItemLabelText,j=x.classNames,J=j.item,Q=j.button,oe=j.highlightedState,re=j.itemSelectable,Ce=j.placeholder,Le=$y(h.value),ie=document.createElement("div");if(co(ie,J),h.labelClass){var ae=document.createElement("span");Lm(ae,w,h.label),co(ae,h.labelClass),ie.appendChild(ae)}else Lm(ie,w,h.label);if(ie.dataset.item="",ie.dataset.id=h.id,ie.dataset.value=Le,mq(ie,h,!0),(h.disabled||this.containerOuter.isDisabled)&&ie.setAttribute("aria-disabled","true"),this._isSelectElement&&(ie.setAttribute("aria-selected","true"),ie.setAttribute("role","option")),h.placeholder&&(co(ie,Ce),ie.dataset.placeholder=""),co(ie,h.highlighted?oe:re),v){h.disabled&&Gd(ie,re),ie.dataset.deletable="";var Pe=document.createElement("button");Pe.type="button",co(Pe,Q),Lm(Pe,!0,YA(R,h.value));var Ae=YA(I,h.value);Ae&&Pe.setAttribute("aria-label",Ae),Pe.dataset.button="",E?ie.insertAdjacentElement("afterbegin",Pe):ie.appendChild(Pe)}return ie},choiceList:function(x,h){var v=x.classNames.list,w=document.createElement("div");return co(w,v),h||w.setAttribute("aria-multiselectable","true"),w.setAttribute("role","listbox"),w},choiceGroup:function(x,h){var v=x.allowHTML,w=x.classNames,E=w.group,R=w.groupHeading,I=w.itemDisabled,j=h.id,J=h.label,Q=h.disabled,oe=$y(J),re=document.createElement("div");co(re,E),Q&&co(re,I),re.setAttribute("role","group"),re.dataset.group="",re.dataset.id=j,re.dataset.value=oe,Q&&re.setAttribute("aria-disabled","true");var Ce=document.createElement("div");return co(Ce,R),Lm(Ce,v,J||""),re.appendChild(Ce),re},choice:function(x,h,v,w){var E=x.allowHTML,R=x.classNames,I=R.item,j=R.itemChoice,J=R.itemSelectable,Q=R.selectedState,oe=R.itemDisabled,re=R.description,Ce=R.placeholder,Le=h.label,ie=$y(h.value),ae=document.createElement("div");ae.id=h.elementId,co(ae,I),co(ae,j),w&&typeof Le=="string"&&(Le=Bq(E,Le),Le+=" (".concat(w,")"),Le={trusted:Le});var Pe=ae;if(h.labelClass){var Ae=document.createElement("span");Lm(Ae,E,Le),co(Ae,h.labelClass),Pe=Ae,ae.appendChild(Ae)}else Lm(ae,E,Le);if(h.labelDescription){var Qe="".concat(h.elementId,"-description");Pe.setAttribute("aria-describedby",Qe);var te=document.createElement("span");Lm(te,E,h.labelDescription),te.id=Qe,co(te,re),ae.appendChild(te)}return h.selected&&co(ae,Q),h.placeholder&&co(ae,Ce),ae.setAttribute("role",h.group?"treeitem":"option"),ae.dataset.choice="",ae.dataset.id=h.id,ae.dataset.value=ie,v&&(ae.dataset.selectText=v),h.group&&(ae.dataset.groupId="".concat(h.group.id)),mq(ae,h,!1),h.disabled?(co(ae,oe),ae.dataset.choiceDisabled="",ae.setAttribute("aria-disabled","true")):(co(ae,J),ae.dataset.choiceSelectable=""),ae},input:function(x,h){var v=x.classNames,w=v.input,E=v.inputCloned,R=x.labelId,I=document.createElement("input");return I.type="search",co(I,w),co(I,E),I.autocomplete="off",I.autocapitalize="off",I.spellcheck=!1,I.setAttribute("role","textbox"),I.setAttribute("aria-autocomplete","list"),h?I.setAttribute("aria-label",h):R||uX(this._docRoot,this.passedElement.element.id,I),I},dropdown:function(x){var h=x.classNames,v=h.list,w=h.listDropdown,E=document.createElement("div");return co(E,v),co(E,w),E.setAttribute("aria-expanded","false"),E},notice:function(x,h,v){var w=x.classNames,E=w.item,R=w.itemChoice,I=w.addChoice,j=w.noResults,J=w.noChoices,Q=w.notice;v===void 0&&(v=ec.generic);var oe=document.createElement("div");switch(Lm(oe,!0,h),co(oe,E),co(oe,R),co(oe,Q),v){case ec.addChoice:co(oe,I);break;case ec.noResults:co(oe,j);break;case ec.noChoices:co(oe,J);break}return v===ec.addChoice&&(oe.dataset.choiceSelectable="",oe.dataset.choice=""),oe},option:function(x){var h=$y(x.label),v=new Option(h,x.value,!1,x.selected);return mq(v,x,!0),v.disabled=x.disabled,x.selected&&v.setAttribute("selected",""),v}},yee="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,vee={},pq=function(x){if(x)return x.dataset.id?parseInt(x.dataset.id,10):void 0},qA="[data-choice-selectable]",eJ=function(){function x(h,v){h===void 0&&(h="[data-choice]"),v===void 0&&(v={});var w=this;this.initialisedOK=void 0,this._hasNonChoicePlaceholder=!1,this._lastAddedChoiceId=0,this._lastAddedGroupId=0;var E=x.defaults;this.config=Nc(Nc(Nc({},E.allOptions),E.options),v),KZ.forEach(function(Ae){w.config[Ae]=Nc(Nc(Nc({},E.allOptions[Ae]),E.options[Ae]),v[Ae])});var R=this.config;R.silent||this._validateConfig();var I=R.shadowRoot||document.documentElement;this._docRoot=I;var j=typeof h=="string"?I.querySelector(h):h;if(!j||typeof j!="object"||!(gQ(j)||VX(j)))throw TypeError(!j&&typeof h=="string"?"Selector ".concat(h," failed to find an element"):"Expected one of the following types text|select-one|select-multiple");var J=j.type,Q=J===zh.Text;(Q||R.maxItemCount!==1)&&(R.singleModeForMultiSelect=!1),R.singleModeForMultiSelect&&(J=zh.SelectMultiple);var oe=J===zh.SelectOne,re=J===zh.SelectMultiple,Ce=oe||re;if(this._elementType=J,this._isTextElement=Q,this._isSelectOneElement=oe,this._isSelectMultipleElement=re,this._isSelectElement=oe||re,this._canAddUserChoices=Q&&R.addItems||Ce&&R.addChoices,typeof R.renderSelectedChoices!="boolean"&&(R.renderSelectedChoices=R.renderSelectedChoices==="always"||oe),R.closeDropdownOnSelect==="auto"?R.closeDropdownOnSelect=Q||oe||R.singleModeForMultiSelect:R.closeDropdownOnSelect=KA(R.closeDropdownOnSelect),R.placeholder&&(R.placeholderValue?this._hasNonChoicePlaceholder=!0:j.dataset.placeholder&&(this._hasNonChoicePlaceholder=!0,R.placeholderValue=j.dataset.placeholder)),v.addItemFilter&&typeof v.addItemFilter!="function"){var Le=v.addItemFilter instanceof RegExp?v.addItemFilter:new RegExp(v.addItemFilter);R.addItemFilter=Le.test.bind(Le)}if(this._isTextElement)this.passedElement=new hQ({element:j,classNames:R.classNames});else{var ie=j;this.passedElement=new vQ({element:ie,classNames:R.classNames,template:function(Ae){return w._templates.option(Ae)},extractPlaceholder:R.placeholder&&!this._hasNonChoicePlaceholder})}if(this.initialised=!1,this._store=new EQ(R),this._currentValue="",R.searchEnabled=!Q&&R.searchEnabled||re,this._canSearch=R.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=tQ(j,"choices-"),this._direction=j.dir,!this._direction){var ae=window.getComputedStyle(j).direction,Pe=window.getComputedStyle(document.documentElement).direction;ae!==Pe&&(this._direction=ae)}if(this._idNames={itemChoice:"item-choice"},this._templates=E.templates,this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onInput=this._onInput.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive){R.silent||console.warn("Trying to initialise Choices on element already initialised",{element:h}),this.initialised=!0,this.initialisedOK=!1;return}this.init(),this._initialItems=this._store.items.map(function(Ae){return Ae.value})}return Object.defineProperty(x,"defaults",{get:function(){return Object.preventExtensions({get options(){return vee},get allOptions(){return tX},get templates(){return bee}})},enumerable:!1,configurable:!0}),x.prototype.init=function(){if(!(this.initialised||this.initialisedOK!==void 0)){this._searcher=hee(this.config),this._loadChoices(),this._createTemplates(),this._createElements(),this._createStructure(),this._isTextElement&&!this.config.addItems||this.passedElement.element.hasAttribute("disabled")||this.passedElement.element.closest("fieldset:disabled")?this.disable():(this.enable(),this._addEventListeners()),this._initStore(),this.initialised=!0,this.initialisedOK=!0;var h=this.config.callbackOnInit;typeof h=="function"&&h.call(this)}},x.prototype.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this._store._listeners=[],this.clearStore(!1),this._stopSearch(),this._templates=x.defaults.templates,this.initialised=!1,this.initialisedOK=void 0)},x.prototype.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},x.prototype.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},x.prototype.highlightItem=function(h,v){if(v===void 0&&(v=!0),!h||!h.id)return this;var w=this._store.items.find(function(E){return E.id===h.id});return!w||w.highlighted?this:(this._store.dispatch(M$(w,!0)),v&&this.passedElement.triggerEvent(Rc.highlightItem,this._getChoiceForOutput(w)),this)},x.prototype.unhighlightItem=function(h,v){if(v===void 0&&(v=!0),!h||!h.id)return this;var w=this._store.items.find(function(E){return E.id===h.id});return!w||!w.highlighted?this:(this._store.dispatch(M$(w,!1)),v&&this.passedElement.triggerEvent(Rc.unhighlightItem,this._getChoiceForOutput(w)),this)},x.prototype.highlightAll=function(){var h=this;return this._store.withTxn(function(){h._store.items.forEach(function(v){v.highlighted||(h._store.dispatch(M$(v,!0)),h.passedElement.triggerEvent(Rc.highlightItem,h._getChoiceForOutput(v)))})}),this},x.prototype.unhighlightAll=function(){var h=this;return this._store.withTxn(function(){h._store.items.forEach(function(v){v.highlighted&&(h._store.dispatch(M$(v,!1)),h.passedElement.triggerEvent(Rc.highlightItem,h._getChoiceForOutput(v)))})}),this},x.prototype.removeActiveItemsByValue=function(h){var v=this;return this._store.withTxn(function(){v._store.items.filter(function(w){return w.value===h}).forEach(function(w){return v._removeItem(w)})}),this},x.prototype.removeActiveItems=function(h){var v=this;return this._store.withTxn(function(){v._store.items.filter(function(w){var E=w.id;return E!==h}).forEach(function(w){return v._removeItem(w)})}),this},x.prototype.removeHighlightedItems=function(h){var v=this;return h===void 0&&(h=!1),this._store.withTxn(function(){v._store.highlightedActiveItems.forEach(function(w){v._removeItem(w),h&&v._triggerChange(w.value)})}),this},x.prototype.showDropdown=function(h){var v=this;return this.dropdown.isActive?this:(requestAnimationFrame(function(){v.dropdown.show();var w=v.dropdown.element.getBoundingClientRect();v.containerOuter.open(w.bottom,w.height),!h&&v._canSearch&&v.input.focus(),v.passedElement.triggerEvent(Rc.showDropdown)}),this)},x.prototype.hideDropdown=function(h){var v=this;return this.dropdown.isActive?(requestAnimationFrame(function(){v.dropdown.hide(),v.containerOuter.close(),!h&&v._canSearch&&(v.input.removeActiveDescendant(),v.input.blur()),v.passedElement.triggerEvent(Rc.hideDropdown)}),this):this},x.prototype.getValue=function(h){var v=this,w=this._store.items.map(function(E){return h?E.value:v._getChoiceForOutput(E)});return this._isSelectOneElement||this.config.singleModeForMultiSelect?w[0]:w},x.prototype.setValue=function(h){var v=this;return this.initialisedOK?(this._store.withTxn(function(){h.forEach(function(w){w&&v._addChoice(Wd(w,!1))})}),this._searcher.reset(),this):(this._warnChoicesInitFailed("setValue"),this)},x.prototype.setChoiceByValue=function(h){var v=this;return this.initialisedOK?this._isTextElement?this:(this._store.withTxn(function(){var w=Array.isArray(h)?h:[h];w.forEach(function(E){return v._findAndSelectChoiceByValue(E)}),v.unhighlightAll()}),this._searcher.reset(),this):(this._warnChoicesInitFailed("setChoiceByValue"),this)},x.prototype.setChoices=function(h,v,w,E,R){var I=this;if(h===void 0&&(h=[]),v===void 0&&(v="value"),w===void 0&&(w="label"),E===void 0&&(E=!1),R===void 0&&(R=!0),!this.initialisedOK)return this._warnChoicesInitFailed("setChoices"),this;if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if(typeof v!="string"||!v)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(E&&this.clearChoices(),typeof h=="function"){var j=h(this);if(typeof Promise=="function"&&j instanceof Promise)return new Promise(function(J){return requestAnimationFrame(J)}).then(function(){return I._handleLoadingState(!0)}).then(function(){return j}).then(function(J){return I.setChoices(J,v,w,E)}).catch(function(J){I.config.silent||console.error(J)}).then(function(){return I._handleLoadingState(!1)}).then(function(){return I});if(!Array.isArray(j))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: ".concat(typeof j));return this.setChoices(j,v,w,!1)}if(!Array.isArray(h))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._store.withTxn(function(){R&&(I._isSearching=!1);var J=v==="value",Q=w==="label";h.forEach(function(oe){if("choices"in oe){var re=oe;Q||(re=Nc(Nc({},re),{label:re[w]})),I._addGroup(Wd(re,!0))}else{var Ce=oe;(!Q||!J)&&(Ce=Nc(Nc({},Ce),{value:Ce[v],label:Ce[w]})),I._addChoice(Wd(Ce,!1))}}),I.unhighlightAll()}),this._searcher.reset(),this},x.prototype.refresh=function(h,v,w){var E=this;return h===void 0&&(h=!1),v===void 0&&(v=!1),w===void 0&&(w=!1),this._isSelectElement?(this._store.withTxn(function(){var R=E.passedElement.optionsAsChoices(),I={};w||E._store.items.forEach(function(J){J.id&&J.active&&J.selected&&!J.disabled&&(I[J.value]=!0)}),E.clearStore(!1);var j=function(J){w?E._store.dispatch(XY(J)):I[J.value]&&(J.selected=!0)};R.forEach(function(J){if("choices"in J){J.choices.forEach(j);return}j(J)}),E._addPredefinedChoices(R,v,h),E._isSearching&&E._searchChoices(E.input.value)}),this):(this.config.silent||console.warn("refresh method can only be used on choices backed by a <select> element"),this)},x.prototype.removeChoice=function(h){var v=this._store.choices.find(function(w){return w.value===h});return v?(this._clearNotice(),this._store.dispatch(YY(v)),this._searcher.reset(),v.selected&&this.passedElement.triggerEvent(Rc.removeItem,this._getChoiceForOutput(v)),this):this},x.prototype.clearChoices=function(){var h=this;return this._store.withTxn(function(){h._store.choices.forEach(function(v){v.selected||h._store.dispatch(YY(v))})}),this._searcher.reset(),this},x.prototype.clearStore=function(h){return h===void 0&&(h=!0),this._stopSearch(),h&&this.passedElement.element.replaceChildren(""),this.itemList.element.replaceChildren(""),this.choiceList.element.replaceChildren(""),this._store.reset(),this._lastAddedChoiceId=0,this._lastAddedGroupId=0,this._searcher.reset(),this},x.prototype.clearInput=function(){var h=!this._isSelectOneElement;return this.input.clear(h),this._stopSearch(),this},x.prototype._validateConfig=function(){var h=this.config,v=lQ(h,tX);v.length&&console.warn("Unknown config option(s) passed",v.join(", ")),h.allowHTML&&h.allowHtmlUserInput&&(h.addItems&&console.warn("Warning: allowHTML/allowHtmlUserInput/addItems all being true is strongly not recommended and may lead to XSS attacks"),h.addChoices&&console.warn("Warning: allowHTML/allowHtmlUserInput/addChoices all being true is strongly not recommended and may lead to XSS attacks"))},x.prototype._render=function(h){h===void 0&&(h={choices:!0,groups:!0,items:!0}),!this._store.inTxn()&&(this._isSelectElement&&(h.choices||h.groups)&&this._renderChoices(),h.items&&this._renderItems())},x.prototype._renderChoices=function(){var h=this;if(this._canAddItems()){var v=this,w=v.config,E=v._isSearching,R=this._store,I=R.activeGroups,j=R.activeChoices,J=0;if(E&&w.searchResultLimit>0?J=w.searchResultLimit:w.renderChoiceLimit>0&&(J=w.renderChoiceLimit),this._isSelectElement){var Q=j.filter(function(ie){return!ie.element});Q.length&&this.passedElement.addOptions(Q)}var oe=document.createDocumentFragment(),re=function(ie){return ie.filter(function(ae){return!ae.placeholder&&(E?!!ae.rank:w.renderSelectedChoices||!ae.selected)})},Ce=!1,Le=function(ie,ae,Pe){E?ie.sort(aQ):w.shouldSort&&ie.sort(w.sorter);var Ae=ie.length;Ae=!ae&&J&&Ae>J?J:Ae,Ae--,ie.every(function(Qe,te){var It=Qe.choiceEl||h._templates.choice(w,Qe,w.itemSelectText,Pe);return Qe.choiceEl=It,oe.appendChild(It),!Qe.disabled&&(E||!Qe.selected)&&(Ce=!0),te<Ae})};j.length&&(w.resetScrollPosition&&requestAnimationFrame(function(){return h.choiceList.scrollToTop()}),!this._hasNonChoicePlaceholder&&!E&&this._isSelectOneElement&&Le(j.filter(function(ie){return ie.placeholder&&!ie.group}),!1,void 0),I.length&&!E?(w.shouldSort&&I.sort(w.sorter),Le(j.filter(function(ie){return!ie.placeholder&&!ie.group}),!1,void 0),I.forEach(function(ie){var ae=re(ie.choices);if(ae.length){if(ie.label){var Pe=ie.groupEl||h._templates.choiceGroup(h.config,ie);ie.groupEl=Pe,Pe.remove(),oe.appendChild(Pe)}Le(ae,!0,w.appendGroupInSearch&&E?ie.label:void 0)}})):Le(re(j),!1,void 0)),Ce||(this._notice||(this._notice={text:ZY(E?w.noResultsText:w.noChoicesText),type:E?ec.noResults:ec.noChoices}),oe.replaceChildren("")),this._renderNotice(oe),this.choiceList.element.replaceChildren(oe),Ce&&this._highlightChoice()}},x.prototype._renderItems=function(){var h=this,v=this._store.items||[],w=this.itemList.element,E=this.config,R=document.createDocumentFragment(),I=function(re){return w.querySelector('[data-item][data-id="'.concat(re.id,'"]'))},j=function(re){var Ce=re.itemEl;Ce&&Ce.parentElement||(Ce=I(re)||h._templates.item(E,re,E.removeItemButton),re.itemEl=Ce,R.appendChild(Ce))};v.forEach(j);var J=!!R.childNodes.length;if(this._isSelectOneElement&&this._hasNonChoicePlaceholder){var Q=w.children.length;if(J||Q>1){var oe=w.querySelector(GA(E.classNames.placeholder));oe&&oe.remove()}else Q||(J=!0,j(Wd({selected:!0,value:"",label:E.placeholderValue||"",placeholder:!0},!1)))}J&&(w.append(R),E.shouldSortItems&&!this._isSelectOneElement&&(v.sort(E.sorter),v.forEach(function(re){var Ce=I(re);Ce&&(Ce.remove(),R.append(Ce))}),w.append(R))),this._isTextElement&&(this.passedElement.value=v.map(function(re){var Ce=re.value;return Ce}).join(E.delimiter))},x.prototype._displayNotice=function(h,v,w){w===void 0&&(w=!0);var E=this._notice;if(E&&(E.type===v&&E.text===h||E.type===ec.addChoice&&(v===ec.noResults||v===ec.noChoices))){w&&this.showDropdown(!0);return}this._clearNotice(),this._notice=h?{text:h,type:v}:void 0,this._renderNotice(),w&&h&&this.showDropdown(!0)},x.prototype._clearNotice=function(){if(this._notice){var h=this.choiceList.element.querySelector(GA(this.config.classNames.notice));h&&h.remove(),this._notice=void 0}},x.prototype._renderNotice=function(h){var v=this._notice;if(v){var w=this._templates.notice(this.config,v.text,v.type);h?h.append(w):this.choiceList.prepend(w)}},x.prototype._getChoiceForOutput=function(h,v){return{id:h.id,highlighted:h.highlighted,labelClass:h.labelClass,labelDescription:h.labelDescription,customProperties:h.customProperties,disabled:h.disabled,active:h.active,label:h.label,placeholder:h.placeholder,value:h.value,groupValue:h.group?h.group.label:void 0,element:h.element,keyCode:v}},x.prototype._triggerChange=function(h){h!=null&&this.passedElement.triggerEvent(Rc.change,{value:h})},x.prototype._handleButtonAction=function(h){var v=this,w=this._store.items;if(!(!w.length||!this.config.removeItems||!this.config.removeItemButton)){var E=h&&pq(h.parentElement),R=E&&w.find(function(I){return I.id===E});R&&this._store.withTxn(function(){if(v._removeItem(R),v._triggerChange(R.value),v._isSelectOneElement&&!v._hasNonChoicePlaceholder){var I=v._store.choices.reverse().find(function(j){return!j.disabled&&j.placeholder});I&&(v._addItem(I),v.unhighlightAll(),I.value&&v._triggerChange(I.value))}})}},x.prototype._handleItemAction=function(h,v){var w=this;v===void 0&&(v=!1);var E=this._store.items;if(!(!E.length||!this.config.removeItems||this._isSelectOneElement)){var R=pq(h);R&&(E.forEach(function(I){I.id===R&&!I.highlighted?w.highlightItem(I):!v&&I.highlighted&&w.unhighlightItem(I)}),this.input.focus())}},x.prototype._handleChoiceAction=function(h){var v=this,w=pq(h),E=w&&this._store.getChoiceById(w);if(!E||E.disabled)return!1;var R=this.dropdown.isActive;if(!E.selected){if(!this._canAddItems())return!0;this._store.withTxn(function(){v._addItem(E,!0,!0),v.clearInput(),v.unhighlightAll()}),this._triggerChange(E.value)}return R&&this.config.closeDropdownOnSelect&&(this.hideDropdown(!0),this.containerOuter.element.focus()),!0},x.prototype._handleBackspace=function(h){var v=this.config;if(!(!v.removeItems||!h.length)){var w=h[h.length-1],E=h.some(function(R){return R.highlighted});v.editItems&&!E&&w?(this.input.value=w.value,this.input.setWidth(),this._removeItem(w),this._triggerChange(w.value)):(E||this.highlightItem(w,!1),this.removeHighlightedItems(!0))}},x.prototype._loadChoices=function(){var h,v=this.config;if(this._isTextElement){if(this._presetChoices=v.items.map(function(R){return Wd(R,!1)}),this.passedElement.value){var w=this.passedElement.value.split(v.delimiter).map(function(R){return Wd(R,!1)});this._presetChoices=this._presetChoices.concat(w)}this._presetChoices.forEach(function(R){R.selected=!0})}else if(this._isSelectElement){this._presetChoices=v.choices.map(function(R){return Wd(R,!0)});var E=this.passedElement.optionsAsChoices();E&&(h=this._presetChoices).push.apply(h,E)}},x.prototype._handleLoadingState=function(h){h===void 0&&(h=!0);var v=this.itemList.element;h?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?v.replaceChildren(this._templates.placeholder(this.config,this.config.loadingText)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?(v.replaceChildren(""),this._render()):this.input.placeholder=this._placeholderValue||"")},x.prototype._handleSearch=function(h){if(this.input.isFocussed)if(h!==null&&typeof h<"u"&&h.length>=this.config.searchFloor){var v=this.config.searchChoices?this._searchChoices(h):0;v!==null&&this.passedElement.triggerEvent(Rc.search,{value:h,resultCount:v})}else this._store.choices.some(function(w){return!w.active})&&this._stopSearch()},x.prototype._canAddItems=function(){var h=this.config,v=h.maxItemCount,w=h.maxItemText;return!h.singleModeForMultiSelect&&v>0&&v<=this._store.items.length?(this.choiceList.element.replaceChildren(""),this._displayNotice(typeof w=="function"?w(v):w,ec.addChoice),!1):!0},x.prototype._canCreateItem=function(h){var v=this.config,w=!0,E="";if(w&&typeof v.addItemFilter=="function"&&!v.addItemFilter(h)&&(w=!1,E=YA(v.customAddItemText,h)),w){var R=this._store.choices.find(function(I){return v.valueComparer(I.value,h)});if(this._isSelectElement){if(R)return this._displayNotice("",ec.addChoice),!1}else this._isTextElement&&!v.duplicateItemsAllowed&&R&&(w=!1,E=YA(v.uniqueItemText,h))}return w&&(E=YA(v.addItemText,h)),E&&this._displayNotice(E,ec.addChoice),w},x.prototype._searchChoices=function(h){var v=h.trim().replace(/\s{2,}/," ");if(!v.length||v===this._currentValue)return null;var w=this._searcher;w.isEmptyIndex()&&w.index(this._store.searchableChoices);var E=w.search(v);this._currentValue=v,this._highlightPosition=0,this._isSearching=!0;var R=this._notice,I=R&&R.type;return I!==ec.addChoice&&(E.length?this._clearNotice():this._displayNotice(ZY(this.config.noResultsText),ec.noResults)),this._store.dispatch(XZ(E)),E.length},x.prototype._stopSearch=function(){this._isSearching&&(this._currentValue="",this._isSearching=!1,this._clearNotice(),this._store.dispatch(JZ(!0)),this.passedElement.triggerEvent(Rc.search,{value:"",resultCount:0}))},x.prototype._addEventListeners=function(){var h=this._docRoot,v=this.containerOuter.element,w=this.input.element;h.addEventListener("touchend",this._onTouchEnd,!0),v.addEventListener("keydown",this._onKeyDown,!0),v.addEventListener("mousedown",this._onMouseDown,!0),h.addEventListener("click",this._onClick,{passive:!0}),h.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(v.addEventListener("focus",this._onFocus,{passive:!0}),v.addEventListener("blur",this._onBlur,{passive:!0})),w.addEventListener("keyup",this._onKeyUp,{passive:!0}),w.addEventListener("input",this._onInput,{passive:!0}),w.addEventListener("focus",this._onFocus,{passive:!0}),w.addEventListener("blur",this._onBlur,{passive:!0}),w.form&&w.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},x.prototype._removeEventListeners=function(){var h=this._docRoot,v=this.containerOuter.element,w=this.input.element;h.removeEventListener("touchend",this._onTouchEnd,!0),v.removeEventListener("keydown",this._onKeyDown,!0),v.removeEventListener("mousedown",this._onMouseDown,!0),h.removeEventListener("click",this._onClick),h.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(v.removeEventListener("focus",this._onFocus),v.removeEventListener("blur",this._onBlur)),w.removeEventListener("keyup",this._onKeyUp),w.removeEventListener("input",this._onInput),w.removeEventListener("focus",this._onFocus),w.removeEventListener("blur",this._onBlur),w.form&&w.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},x.prototype._onKeyDown=function(h){var v=h.keyCode,w=this.dropdown.isActive,E=h.key.length===1||h.key.length===2&&h.key.charCodeAt(0)>=55296||h.key==="Unidentified";switch(!this._isTextElement&&!w&&(this.showDropdown(),!this.input.isFocussed&&E&&(this.input.value+=h.key,h.key===" "&&h.preventDefault())),v){case 65:return this._onSelectKey(h,this.itemList.element.hasChildNodes());case 13:return this._onEnterKey(h,w);case 27:return this._onEscapeKey(h,w);case 38:case 33:case 40:case 34:return this._onDirectionKey(h,w);case 8:case 46:return this._onDeleteKey(h,this._store.items,this.input.isFocussed)}},x.prototype._onKeyUp=function(){this._canSearch=this.config.searchEnabled},x.prototype._onInput=function(){var h=this.input.value;if(!h){this._isTextElement?this.hideDropdown(!0):this._stopSearch();return}this._canAddItems()&&(this._canSearch&&this._handleSearch(h),this._canAddUserChoices&&(this._canCreateItem(h),this._isSelectElement&&(this._highlightPosition=0,this._highlightChoice())))},x.prototype._onSelectKey=function(h,v){if((h.ctrlKey||h.metaKey)&&v){this._canSearch=!1;var w=this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement;w&&this.highlightAll()}},x.prototype._onEnterKey=function(h,v){var w=this,E=this.input.value,R=h.target;if(h.preventDefault(),R&&R.hasAttribute("data-button")){this._handleButtonAction(R);return}if(!v){(this._isSelectElement||this._notice)&&this.showDropdown();return}var I=this.dropdown.element.querySelector(GA(this.config.classNames.highlightedState));if(!(I&&this._handleChoiceAction(I))){if(!R||!E){this.hideDropdown(!0);return}if(this._canAddItems()){var j=!1;this._store.withTxn(function(){if(j=w._findAndSelectChoiceByValue(E,!0),!j){if(!w._canAddUserChoices||!w._canCreateItem(E))return;var J=K$(E),Q=w.config.allowHtmlUserInput||J===E?E:{escaped:J,raw:E};w._addChoice(Wd({value:Q,label:Q,selected:!0},!1),!0,!0),j=!0}w.clearInput(),w.unhighlightAll()}),j&&(this._triggerChange(E),this.config.closeDropdownOnSelect&&this.hideDropdown(!0))}}},x.prototype._onEscapeKey=function(h,v){v&&(h.stopPropagation(),this.hideDropdown(!0),this.containerOuter.element.focus())},x.prototype._onDirectionKey=function(h,v){var w=h.keyCode;if(v||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var E=w===40||w===34?1:-1,R=h.metaKey||w===34||w===33,I=void 0;if(R)E>0?I=this.dropdown.element.querySelector("".concat(qA,":last-of-type")):I=this.dropdown.element.querySelector(qA);else{var j=this.dropdown.element.querySelector(GA(this.config.classNames.highlightedState));j?I=nQ(j,qA,E):I=this.dropdown.element.querySelector(qA)}I&&(oQ(I,this.choiceList.element,E)||this.choiceList.scrollToChildElement(I,E),this._highlightChoice(I)),h.preventDefault()}},x.prototype._onDeleteKey=function(h,v,w){!this._isSelectOneElement&&!h.target.value&&w&&(this._handleBackspace(v),h.preventDefault())},x.prototype._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},x.prototype._onTouchEnd=function(h){var v=(h||h.touches[0]).target,w=this._wasTap&&this.containerOuter.element.contains(v);if(w){var E=v===this.containerOuter.element||v===this.containerInner.element;E&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),h.stopPropagation()}this._wasTap=!0},x.prototype._onMouseDown=function(h){var v=h.target;if(v instanceof HTMLElement){if(yee&&this.choiceList.element.contains(v)){var w=this.choiceList.element.firstElementChild;this._isScrollingOnIe=this._direction==="ltr"?h.offsetX>=w.offsetWidth:h.offsetX<w.offsetLeft}if(v!==this.input.element){var E=v.closest("[data-button],[data-item],[data-choice]");E instanceof HTMLElement&&("button"in E.dataset?this._handleButtonAction(E):"item"in E.dataset?this._handleItemAction(E,h.shiftKey):"choice"in E.dataset&&this._handleChoiceAction(E)),h.preventDefault()}}},x.prototype._onMouseOver=function(h){var v=h.target;v instanceof HTMLElement&&"choice"in v.dataset&&this._highlightChoice(v)},x.prototype._onClick=function(h){var v=h.target,w=this.containerOuter,E=w.element.contains(v);E?!this.dropdown.isActive&&!w.isDisabled?this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),w.element.focus()):this._isSelectOneElement&&v!==this.input.element&&!this.dropdown.element.contains(v)&&this.hideDropdown():(w.removeFocusState(),this.hideDropdown(!0),this.unhighlightAll())},x.prototype._onFocus=function(h){var v=h.target,w=this.containerOuter,E=v&&w.element.contains(v);if(E){var R=v===this.input.element;this._isTextElement?R&&w.addFocusState():this._isSelectMultipleElement?R&&(this.showDropdown(!0),w.addFocusState()):(w.addFocusState(),R&&this.showDropdown(!0))}},x.prototype._onBlur=function(h){var v=h.target,w=this.containerOuter,E=v&&w.element.contains(v);if(E&&!this._isScrollingOnIe){var R=v===this.input.element;this._isTextElement||this._isSelectMultipleElement?R&&(w.removeFocusState(),this.hideDropdown(!0),this.unhighlightAll()):(w.removeFocusState(),(R||v===w.element&&!this._canSearch)&&this.hideDropdown(!0))}else this._isScrollingOnIe=!1,this.input.element.focus()},x.prototype._onFormReset=function(){var h=this;this._store.withTxn(function(){h.clearInput(),h.hideDropdown(),h.refresh(!1,!1,!0),h._initialItems.length&&h.setChoiceByValue(h._initialItems)})},x.prototype._highlightChoice=function(h){h===void 0&&(h=null);var v=Array.from(this.dropdown.element.querySelectorAll(qA));if(v.length){var w=h,E=this.config.classNames.highlightedState,R=Array.from(this.dropdown.element.querySelectorAll(GA(E)));R.forEach(function(I){Gd(I,E),I.setAttribute("aria-selected","false")}),w?this._highlightPosition=v.indexOf(w):(v.length>this._highlightPosition?w=v[this._highlightPosition]:w=v[v.length-1],w||(w=v[0])),co(w,E),w.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(Rc.highlightChoice,{el:w}),this.dropdown.isActive&&(this.input.setActiveDescendant(w.id),this.containerOuter.setActiveDescendant(w.id))}},x.prototype._addItem=function(h,v,w){if(v===void 0&&(v=!0),w===void 0&&(w=!1),!h.id)throw new TypeError("item.id must be set before _addItem is called for a choice/item");(this.config.singleModeForMultiSelect||this._isSelectOneElement)&&this.removeActiveItems(h.id),this._store.dispatch(QZ(h)),v&&(this.passedElement.triggerEvent(Rc.addItem,this._getChoiceForOutput(h)),w&&this.passedElement.triggerEvent(Rc.choice,this._getChoiceForOutput(h)))},x.prototype._removeItem=function(h){h.id&&(this._store.dispatch(XY(h)),this.passedElement.triggerEvent(Rc.removeItem,this._getChoiceForOutput(h)))},x.prototype._addChoice=function(h,v,w){if(v===void 0&&(v=!0),w===void 0&&(w=!1),h.id)throw new TypeError("Can not re-add a choice which has already been added");var E=this.config;if(!((this._isSelectElement||!E.duplicateItemsAllowed)&&this._store.choices.find(function(j){return E.valueComparer(j.value,h.value)}))){this._lastAddedChoiceId++,h.id=this._lastAddedChoiceId,h.elementId="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(h.id);var R=E.prependValue,I=E.appendValue;R&&(h.value=R+h.value),I&&(h.value+=I.toString()),(R||I)&&h.element&&(h.element.value=h.value),this._clearNotice(),this._store.dispatch(YZ(h)),h.selected&&this._addItem(h,v,w)}},x.prototype._addGroup=function(h,v){var w=this;if(v===void 0&&(v=!0),h.id)throw new TypeError("Can not re-add a group which has already been added");this._store.dispatch(ZZ(h)),h.choices&&(this._lastAddedGroupId++,h.id=this._lastAddedGroupId,h.choices.forEach(function(E){E.group=h,h.disabled&&(E.disabled=!0),w._addChoice(E,v)}))},x.prototype._createTemplates=function(){var h=this,v=this.config.callbackOnCreateTemplates,w={};typeof v=="function"&&(w=v.call(this,sQ,Bq,Y$));var E={};Object.keys(this._templates).forEach(function(R){R in w?E[R]=w[R].bind(h):E[R]=h._templates[R].bind(h)}),this._templates=E},x.prototype._createElements=function(){var h=this._templates,v=this,w=v.config,E=v._isSelectOneElement,R=w.position,I=w.classNames,j=this._elementType;this.containerOuter=new QY({element:h.containerOuter(w,this._direction,this._isSelectElement,E,w.searchEnabled,j,w.labelId),classNames:I,type:j,position:R}),this.containerInner=new QY({element:h.containerInner(w),classNames:I,type:j,position:R}),this.input=new mQ({element:h.input(w,this._placeholderValue),classNames:I,type:j,preventPaste:!w.paste}),this.choiceList=new eX({element:h.choiceList(w,E)}),this.itemList=new eX({element:h.itemList(w,E)}),this.dropdown=new fQ({element:h.dropdown(w),classNames:I,type:j})},x.prototype._createStructure=function(){var h=this,v=h.containerInner,w=h.containerOuter,E=h.passedElement,R=this.dropdown.element;E.conceal(),v.wrap(E.element),w.wrap(v.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":(this._placeholderValue&&(this.input.placeholder=this._placeholderValue),this.input.setWidth()),w.element.appendChild(v.element),w.element.appendChild(R),v.element.appendChild(this.itemList.element),R.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&R.insertBefore(this.input.element,R.firstChild):v.element.appendChild(this.input.element),this._highlightPosition=0,this._isSearching=!1},x.prototype._initStore=function(){var h=this;this._store.subscribe(this._render).withTxn(function(){h._addPredefinedChoices(h._presetChoices,h._isSelectOneElement&&!h._hasNonChoicePlaceholder,!1)}),(!this._store.choices.length||this._isSelectOneElement&&this._hasNonChoicePlaceholder)&&this._render()},x.prototype._addPredefinedChoices=function(h,v,w){var E=this;if(v===void 0&&(v=!1),w===void 0&&(w=!0),v){var R=h.findIndex(function(I){return I.selected})===-1;R&&h.some(function(I){return I.disabled||"choices"in I?!1:(I.selected=!0,!0)})}h.forEach(function(I){"choices"in I?E._isSelectElement&&E._addGroup(I,w):E._addChoice(I,w)})},x.prototype._findAndSelectChoiceByValue=function(h,v){var w=this;v===void 0&&(v=!1);var E=this._store.choices.find(function(R){return w.config.valueComparer(R.value,h)});return E&&!E.disabled&&!E.selected?(this._addItem(E,!0,v),!0):!1},x.prototype._generatePlaceholderValue=function(){var h=this.config;if(!h.placeholder)return null;if(this._hasNonChoicePlaceholder)return h.placeholderValue;if(this._isSelectElement){var v=this.passedElement.placeholderOption;return v?v.text:null}return null},x.prototype._warnChoicesInitFailed=function(h){if(!this.config.silent)if(this.initialised){if(!this.initialisedOK)throw new TypeError("".concat(h," called for an element which has multiple instances of Choices initialised on it"))}else throw new TypeError("".concat(h," called on a non-initialised instance of Choices"))},x.version="11.0.2",x}();const U$=localStorage.getItem("theme");U$==="dark"||!U$&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");window.$=oo;window.feather=$X;function xee(x){oo("#preloader").toggleClass("disabled"),setTimeout(function(){oo("#preloader").toggleClass("disabled")},x)}window.preload=xee;setTimeout(function(){oo("#preloader").toggleClass("disabled")},1e3);oo(document).ready(function(){Oq(),$X.replace({"stroke-width":1}),oo(".tab-links button").click(function(){let x=oo(this).closest(".tab-links");x.find("button").removeClass("active"),oo(this).addClass("active"),oo(this).closest(".dropdown").toggleClass("active"),oo(".current-selected").text(oo(this).text()),window.location.pathname!=="/"&&setTimeout(function(){window.location.href="/"},2e3),oo(`.tab-view[data-tabs=${x.data("tabs")}] .tab-content`).addClass("hidden");let h=oo(this).data("tab");oo(`.tab-content#${h}`).removeClass("hidden"),Oq()}),oo(document).on("click","button.dropdown-toggle",function(){oo(this).closest(".has-dropdown").find(".dropdown").toggleClass("active")}),oo(document).on("click","button.modal-toggler",function(){let x=oo(this).data("modal");oo(`#${x}`).toggleClass("hidden")}),GZ.init({selector:"textarea",plugins:"link lists",toolbar:"undo redo | bold italic | bullist numlist | link",menubar:!1,height:300,branding:!1,base_url:"/tinymce",suffix:".min",skin:U$=="dark"?"oxide-dark":"oxide",content_css:U$=="dark"?"dark":null})});const Uy=document.getElementById("drop-zone"),tJ=document.getElementById("file-upload"),dX=document.getElementById("file-list");Uy.addEventListener("dragover",x=>{x.preventDefault(),Uy.classList.add("bg-gray-200","dark:bg-gray-700")});Uy.addEventListener("dragleave",()=>{Uy.classList.remove("bg-gray-200","dark:bg-gray-700")});Uy.addEventListener("drop",x=>{x.preventDefault(),Uy.classList.remove("bg-gray-200","dark:bg-gray-700");const h=x.dataTransfer.files;nJ(h)});tJ.addEventListener("change",x=>{nJ(x.target.files)});Uy.addEventListener("click",()=>{tJ.click()});function nJ(x){dX.innerHTML="",Array.from(x).forEach(h=>{const v=document.createElement("li");v.textContent=`${h.name} (${(h.size/1024).toFixed(2)} KB)`,dX.appendChild(v)})}function Oq(){switch(oo(".tab-links button").removeClass("active"),oo(".tab-content").hasClass("hidden")||oo(".tab-content").addClass("hidden"),localStorage.getItem("project_tool")){case"documents":oo(".current-selected").html("Documents"),oo(".tab-content#documents").removeClass("hidden"),oo("[data-tab='documents']").addClass("active");try{get_packages()}catch(x){console.log(x)}break;case"correspondence":oo(".current-selected").html("Correspondence"),oo(".tab-content#correspondence").removeClass("hidden"),oo("[data-tab='correspondence']").addClass("active");try{get_correspondences()}catch(x){console.log(x)}break;case"meeting_planing":oo(".current-selected").html("Meeting Minutes"),oo(".tab-content#meetings").removeClass("hidden"),oo("[data-tab='meetings']").addClass("active");try{get_meeting_planing()}catch(x){console.log(x)}break;case"punch_list":oo(".current-selected").html("Punch List"),oo(".tab-content#punch-list").removeClass("hidden"),oo("[data-tab='punch-list']").addClass("active");try{get_punch_list(),getAllStatusPeriority()}catch(x){console.log(x)}break;case"stakeholders":oo(".current-selected").html("Project Team"),oo(".tab-content#stakeholders").removeClass("hidden"),oo("[data-tab='stakeholders']").addClass("active");try{get_stakeholders()}catch(x){console.log(x)}break;case"task_planner":oo(".current-selected").html("Task Planner"),oo(".tab-content#task-planner").removeClass("hidden"),oo("[data-tab='task-planner']").addClass("active");try{get_groups(),get_tasks()}catch(x){console.log(x)}break;case"activities":oo(".current-selected").html("Activities"),oo(".tab-content#activities").removeClass("hidden"),oo("[data-tab='activities']").addClass("active");try{get_correspondences(),get_punch_list(),get_meeting_planing(),get_documents()}catch(x){console.log(x)}break}}function Cee(x,h){const v=document.getElementById(x);if(!v){console.error(`Modal with id "${x}" not found!`);return}h==="open"?v.classList.remove("hidden"):h==="close"?v.classList.add("hidden"):console.error(`Invalid action "${h}" for toggleModal. Use "open" or "close".`)}window.toggleModal=Cee;function See(){var x="MARINA";alert(x.toLowerCase())}window.convertToLowerCase=See;const wee=(x,h,v=!1,w=null)=>{let E=document.getElementById(x);h.forEach(R=>{let I=document.createElement("option");I.value=R.value,I.textContent=R.label,E.appendChild(I)}),new eJ(`#${x}`,{searchEnabled:!0,itemSelectText:"",removeItemButton:v,placeholderValue:w||`Select ${x.replace("-"," ")}`})};let L$={};const Eee=(x,h,v=!1,w=null)=>(L$=new eJ(`#${x}`,{searchEnabled:!0,itemSelectText:"",removeItemButton:v,placeholderValue:w||"Select Option"}),L$.setChoices(h),L$);window.populateChoices=wee;window.populateChoices2=Eee;window.received_obj=L$;window.getLocalStorage=Oq;
